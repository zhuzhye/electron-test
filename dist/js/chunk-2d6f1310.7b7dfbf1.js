(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d6f1310"],{"000e":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},i(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var a=function(){return a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},a.apply(this,arguments)}},"00f9":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var i=n("73ec");function r(t,e){var n=t.cfg.el,i=t.attr(),r={dx:i.shadowOffsetX,dy:i.shadowOffsetY,blur:i.shadowBlur,color:i.shadowColor};if(r.dx||r.dy||r.blur||r.color){var a=e.find("filter",r);a||(a=e.addShadow(r)),n.setAttribute("filter","url(#"+a+")")}else n.removeAttribute("filter")}function a(t){var e=t.attr().matrix;if(e){for(var n=t.cfg.el,i=[],r=0;r<9;r+=3)i.push(e[r]+","+e[r+1]);i=i.join(","),-1===i.indexOf("NaN")&&n.setAttribute("transform","matrix("+i+")")}}function o(t,e){var n=t.getClip(),r=t.get("el");if(n){if(n&&!r.hasAttribute("clip-path")){Object(i["a"])(n),n.createPath(e);var a=e.addClip(n);r.setAttribute("clip-path","url(#"+a+")")}}else r.removeAttribute("clip-path")}},"020a":function(t,e,n){"use strict";n("5b3a")},"02e2":function(t,e,n){"use strict";n("d306")},"0366":function(t,e,n){var i=n("4625"),r=n("59ed"),a=n("40d5"),o=i(i.bind);t.exports=function(t,e){return r(t),void 0===e?t:a?o(t,e):function(){return t.apply(e,arguments)}}},"03fe":function(t,e,n){},"060b":function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return f}));var i=n("8937"),r="…";function a(t){for(var e=0,n=0;n<t.length;n++)e+=o(t,n);return e}function o(t,e){return t.charCodeAt(e)>0&&t.charCodeAt(e)<128?1:2}function s(t,e,n){void 0===n&&(n="tail");var i=t.length,a="";if("tail"===n){for(var s=0,l=0;s<e;){var c=o(t,l);if(!(s+c<=e))break;a+=t[l],s+=o(t,l),l++}a+=r}else if("head"===n){for(s=0,l=i-1;s<e;){c=o(t,l);if(!(s+c<=e))break;a+=t[l],s+=o(t,l),l--}a=r+a}else{for(var u="",h="",d=(s=0,0),p=i-1;s<e;){var f=o(t,d),g=!1;f+s<=e&&(u+=t[d],d++,s+=f,g=!0);var m=o(t,p);if(m+s<=e&&(h=t[p]+h,s+=m,p--,g=!0),!g)break}a=u+r+h}return a}var l="…",c=2,u=400;function h(t){for(var e=t.map((function(t){var e=t.attr("text");return Object(i["isNil"])(e)?"":""+e})),n=0,r=0,a=0;a<e.length;a+=1){for(var o=0,s=0;s<=e[a].length;s+=1){var l=e[a].charCodeAt(s);o+=l>=19968&&l<=40869?2:1}o>n&&(n=o,r=a)}return t[r].getBBox().width}function d(t){if(t.length>u)return h(t);var e=0;return Object(i["each"])(t,(function(t){var n=t.getBBox(),i=n.width;e<i&&(e=i)})),e}function p(t,e){var n=e.getCanvasBBox();return t?n.width:n.height}function f(t,e,n,r){var o;void 0===r&&(r="tail");var u=null!==(o=e.attr("text"))&&void 0!==o?o:"";if("tail"===r){var h=Object(i["pick"])(e.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),d=Object(i["getEllipsisText"])(u,n,h,"…");return u!==d?(e.attr("text",d),e.set("tip",u),!0):(e.set("tip",null),!1)}var f=p(t,e),g=a(u),m=!1;if(n<f){var v=Math.floor(n/f*g)-c,y=void 0;y=v>=0?s(u,v,r):l,y&&(e.attr("text",y),m=!0)}return m?e.set("tip",u):e.set("tip",null),m}},"0610":function(t,e,n){"use strict";n("6368")},"0a1f":function(t,e,n){"use strict";n.r(e),n.d(e,"Html",(function(){return y}));var i,r=n("9ab4"),a=n("e945"),o=n("7c8a"),s=n("8937"),l=n("75ed"),c=n("e546"),u=n("bbad"),h=n("2f5e"),d=(i={},i[""+u["CONTAINER_CLASS"]]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:h["a"].fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},i[""+u["TITLE_CLASS"]]={marginBottom:"4px"},i[""+u["LIST_CLASS"]]={margin:"0px",listStyleType:"none",padding:"0px"},i[""+u["LIST_ITEM_CLASS"]]={listStyleType:"none",marginBottom:"4px"},i[""+u["MARKER_CLASS"]]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},i[""+u["VALUE_CLASS"]]={display:"inline-block",float:"right",marginLeft:"30px"},i[""+u["CROSSHAIR_X"]]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},i[""+u["CROSSHAIR_Y"]]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},i);function p(t,e,n,i,r){var a={left:t<r.x,right:t+n>r.x+r.width,top:e<r.y,bottom:e+i>r.y+r.height};return a}function f(t,e,n,i,r,a){var o=t,s=e;switch(a){case"left":o=t-i-n,s=e-r/2;break;case"right":o=t+n,s=e-r/2;break;case"top":o=t-i/2,s=e-r-n;break;case"bottom":o=t-i/2,s=e+n;break;default:o=t+n,s=e-r-n;break}return{x:o,y:s}}function g(t,e,n,i,r,a,o){var s=f(t,e,n,i,r,a);if(o){var l=p(s.x,s.y,i,r,o);"auto"===a?(l.right&&(s.x=Math.max(0,t-i-n)),l.top&&(s.y=Math.max(0,e-r-n))):"top"===a||"bottom"===a?(l.left&&(s.x=o.x),l.right&&(s.x=o.x+o.width-i),"top"===a&&l.top&&(s.y=e+n),"bottom"===a&&l.bottom&&(s.y=e-r-n)):(l.top&&(s.y=o.y),l.bottom&&(s.y=o.y+o.height-r),"left"===a&&l.left&&(s.x=t+n),"right"===a&&l.right&&(s.x=t-i-n))}return s}function m(t,e){var n=!1;return Object(s["each"])(e,(function(e){if(Object(s["hasKey"])(t,e))return n=!0,!1})),n}var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r["__assign"])(Object(r["__assign"])({},e),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+u["CONTAINER_CLASS"]+'"><div class="'+u["TITLE_CLASS"]+'"></div><ul class="'+u["LIST_CLASS"]+'"></ul></div>',itemTpl:'<li class="'+u["LIST_ITEM_CLASS"]+'" data-index={index}>\n          <span class="'+u["MARKER_CLASS"]+'" style="background:{color}"></span>\n          <span class="'+u["NAME_CLASS"]+'">{name}</span>:\n          <span class="'+u["VALUE_CLASS"]+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+u["CROSSHAIR_X"]+'"></div>',yCrosshairTpl:'<div class="'+u["CROSSHAIR_Y"]+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:u["CONTAINER_CLASS"],crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:d})},e.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},e.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},e.prototype.show=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!0),Object(o["e"])(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},e.prototype.hide=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!1),Object(o["e"])(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},e.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},e.prototype.setCrossHairsVisible=function(t){var e=t?"":"none",n=this.get("xCrosshairDom"),i=this.get("yCrosshairDom");n&&Object(o["e"])(n,{display:e}),i&&Object(o["e"])(i,{display:e})},e.prototype.initContainer=function(){if(t.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var e=this.getHtmlContentNode();this.get("parent").appendChild(e),this.set("container",e),this.resetStyles(),this.applyStyles()}},e.prototype.updateInner=function(e){this.get("customContent")?this.renderCustomContent():(m(e,["title","showTitle"])&&this.resetTitle(),Object(s["hasKey"])(e,"items")&&this.renderItems()),t.prototype.updateInner.call(this,e)},e.prototype.initDom=function(){this.cacheDoms()},e.prototype.removeDom=function(){t.prototype.removeDom.call(this),this.clearCrosshairs()},e.prototype.resetPosition=function(){var t,e=this.get("x"),n=this.get("y"),i=this.get("offset"),r=this.getOffset(),a=r.offsetX,s=r.offsetY,l=this.get("position"),u=this.get("region"),h=this.getContainer(),d=this.getBBox(),p=d.width,f=d.height;u&&(t=Object(c["k"])(u));var m=g(e,n,i,p,f,l,t);Object(o["e"])(h,{left:Object(c["l"])(m.x+a),top:Object(c["l"])(m.y+s)}),this.resetCrosshairs()},e.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),e=this.get("parent"),n=this.get("container");n&&n.parentNode===e?e.replaceChild(t,n):e.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},e.prototype.getHtmlContentNode=function(){var t,e=this.get("customContent");if(e){var n=e(this.get("title"),this.get("items"));t=Object(s["isElement"])(n)?n:Object(o["b"])(n)}return t},e.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(u["TITLE_CLASS"])[0],n=t.getElementsByClassName(u["LIST_CLASS"])[0];this.set("titleDom",e),this.set("listDom",n)},e.prototype.resetTitle=function(){var t=this.get("title"),e=this.get("showTitle");e&&t?this.setTitle(t):this.setTitle("")},e.prototype.setTitle=function(t){var e=this.get("titleDom");e&&(e.innerText=t)},e.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),e=this.get("crosshairs");if(t&&e){var n=Object(c["k"])(t),i=this.get("xCrosshairDom"),r=this.get("yCrosshairDom");"x"===e?(this.resetCrosshair("x",n),r&&(r.remove(),this.set("yCrosshairDom",null))):"y"===e?(this.resetCrosshair("y",n),i&&(i.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",n),this.resetCrosshair("y",n)),this.setCrossHairsVisible(this.get("visible"))}else this.clearCrosshairs()},e.prototype.resetCrosshair=function(t,e){var n=this.checkCrosshair(t),i=this.get(t);"x"===t?Object(o["e"])(n,{left:Object(c["l"])(i),top:Object(c["l"])(e.y),height:Object(c["l"])(e.height)}):Object(o["e"])(n,{top:Object(c["l"])(i),left:Object(c["l"])(e.x),width:Object(c["l"])(e.width)})},e.prototype.checkCrosshair=function(t){var e=t+"CrosshairDom",n=t+"CrosshairTpl",i="CROSSHAIR_"+t.toUpperCase(),r=u[i],a=this.get(e),s=this.get("parent");return a||(a=Object(o["b"])(this.get(n)),this.applyStyle(r,a),s.appendChild(a),this.set(e,a)),a},e.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),e=this.get("itemTpl"),n=this.get("listDom");n&&(Object(s["each"])(t,(function(t){var i=a["a"].toCSSGradient(t.color),l=Object(r["__assign"])(Object(r["__assign"])({},t),{color:i}),c=Object(s["substitute"])(e,l),u=Object(o["b"])(c);n.appendChild(u)})),this.applyChildrenStyles(n,this.get("domStyles")))},e.prototype.clearItemDoms=function(){this.get("listDom")&&Object(c["a"])(this.get("listDom"))},e.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),e=this.get("yCrosshairDom");t&&t.remove(),e&&e.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},e}(l["a"]),y=v},"0e25":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAICAYAAAAvOAWIAAAAQklEQVQYlX2OQQ4AIAzCYPH/TxYvMy46JNmtZVCScEKYkERcgPJmJ4QrKuID2/dVcs3dJ4xiW2hnNKCdtGcood92LGU+DhG19HZpAAAAAElFTkSuQmCC"},"0ed3":function(t,e,n){var i={"./LandLayer.png":"3977","./SateLayer.png":"d4ac","./SeaLayer.png":"56aa","./weixingtu.png":"2cd1"};function r(t){var e=a(t);return n(e)}function a(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=a,t.exports=r,r.id="0ed3"},1058:function(t,e,n){"use strict";n("b8a9")},1183:function(t,e,n){"use strict";n.d(e,"e",(function(){return x})),n.d(e,"b",(function(){return A})),n.d(e,"a",(function(){return N})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return H})),n.d(e,"f",(function(){return i}));var i={};n.r(i),n.d(i,"distance",(function(){return a})),n.d(i,"isNumberEqual",(function(){return o})),n.d(i,"getBBoxByArray",(function(){return s})),n.d(i,"getBBoxRange",(function(){return l})),n.d(i,"piMod",(function(){return c}));var r=n("8937");function a(t,e,n,i){var r=t-n,a=e-i;return Math.sqrt(r*r+a*a)}function o(t,e){return Math.abs(t-e)<.001}function s(t,e){var n=Object(r["min"])(t),i=Object(r["min"])(e),a=Object(r["max"])(t),o=Object(r["max"])(e);return{x:n,y:i,width:a-n,height:o-i}}function l(t,e,n,i){return{minX:Object(r["min"])([t,n]),maxX:Object(r["max"])([t,n]),minY:Object(r["min"])([e,i]),maxY:Object(r["max"])([e,i])}}function c(t){return(t+2*Math.PI)%(2*Math.PI)}var u=n("6711"),h={box:function(t,e,n,i){return s([t,n],[e,i])},length:function(t,e,n,i){return a(t,e,n,i)},pointAt:function(t,e,n,i,r){return{x:(1-r)*t+r*n,y:(1-r)*e+r*i}},pointDistance:function(t,e,n,i,r,o){var s=(n-t)*(r-t)+(i-e)*(o-e);if(s<0)return a(t,e,r,o);var l=(n-t)*(n-t)+(i-e)*(i-e);return s>l?a(n,i,r,o):this.pointToLine(t,e,n,i,r,o)},pointToLine:function(t,e,n,i,r,a){var o=[n-t,i-e];if(u["exactEquals"](o,[0,0]))return Math.sqrt((r-t)*(r-t)+(a-e)*(a-e));var s=[-o[1],o[0]];u["normalize"](s,s);var l=[r-t,a-e];return Math.abs(u["dot"](l,s))},tangentAngle:function(t,e,n,i){return Math.atan2(i-e,n-t)}},d=1e-4;function p(t,e,n,i,r,o){var s,l=1/0,c=[n,i],u=20;o&&o>200&&(u=o/10);for(var h=1/u,p=h/10,f=0;f<=u;f++){var g=f*h,m=[r.apply(null,t.concat([g])),r.apply(null,e.concat([g]))],v=a(c[0],c[1],m[0],m[1]);v<l&&(s=g,l=v)}if(0===s)return{x:t[0],y:e[0]};if(1===s){var y=t.length;return{x:t[y-1],y:e[y-1]}}l=1/0;for(f=0;f<32;f++){if(p<d)break;var b=s-p,x=s+p;m=[r.apply(null,t.concat([b])),r.apply(null,e.concat([b]))],v=a(c[0],c[1],m[0],m[1]);if(b>=0&&v<l)s=b,l=v;else{var _=[r.apply(null,t.concat([x])),r.apply(null,e.concat([x]))],w=a(c[0],c[1],_[0],_[1]);x<=1&&w<l?(s=x,l=w):p*=.5}}return{x:r.apply(null,t.concat([s])),y:r.apply(null,e.concat([s]))}}function f(t,e){for(var n=0,i=t.length,r=0;r<i;r++){var o=t[r],s=e[r],l=t[(r+1)%i],c=e[(r+1)%i];n+=a(o,s,l,c)}return n/2}function g(t,e,n,i){var r=1-i;return r*r*t+2*i*r*e+i*i*n}function m(t,e,n){var i=t+n-2*e;if(o(i,0))return[.5];var r=(t-e)/i;return r<=1&&r>=0?[r]:[]}function v(t,e,n,i){return 2*(1-i)*(e-t)+2*i*(n-e)}function y(t,e,n,i,r,a,o){var s=g(t,n,r,o),l=g(e,i,a,o),c=h.pointAt(t,e,n,i,o),u=h.pointAt(n,i,r,a,o);return[[t,e,c.x,c.y,s,l],[s,l,u.x,u.y,r,a]]}function b(t,e,n,i,r,o,s){if(0===s)return(a(t,e,n,i)+a(n,i,r,o)+a(t,e,r,o))/2;var l=y(t,e,n,i,r,o,.5),c=l[0],u=l[1];return c.push(s-1),u.push(s-1),b.apply(null,c)+b.apply(null,u)}var x={box:function(t,e,n,i,r,a){var o=m(t,n,r)[0],l=m(e,i,a)[0],c=[t,r],u=[e,a];return void 0!==o&&c.push(g(t,n,r,o)),void 0!==l&&u.push(g(e,i,a,l)),s(c,u)},length:function(t,e,n,i,r,a){return b(t,e,n,i,r,a,3)},nearestPoint:function(t,e,n,i,r,a,o,s){return p([t,n,r],[e,i,a],o,s,g)},pointDistance:function(t,e,n,i,r,o,s,l){var c=this.nearestPoint(t,e,n,i,r,o,s,l);return a(c.x,c.y,s,l)},interpolationAt:g,pointAt:function(t,e,n,i,r,a,o){return{x:g(t,n,r,o),y:g(e,i,a,o)}},divide:function(t,e,n,i,r,a,o){return y(t,e,n,i,r,a,o)},tangentAngle:function(t,e,n,i,r,a,o){var s=v(t,n,r,o),l=v(e,i,a,o),u=Math.atan2(l,s);return c(u)}};function _(t,e,n,i,r){var a=1-r;return a*a*a*t+3*e*r*a*a+3*n*r*r*a+i*r*r*r}function w(t,e,n,i,r){var a=1-r;return 3*(a*a*(e-t)+2*a*r*(n-e)+r*r*(i-n))}function S(t,e,n,i){var r,a,s,l=-3*t+9*e-9*n+3*i,c=6*t-12*e+6*n,u=3*e-3*t,h=[];if(o(l,0))o(c,0)||(r=-u/c,r>=0&&r<=1&&h.push(r));else{var d=c*c-4*l*u;o(d,0)?h.push(-c/(2*l)):d>0&&(s=Math.sqrt(d),r=(-c+s)/(2*l),a=(-c-s)/(2*l),r>=0&&r<=1&&h.push(r),a>=0&&a<=1&&h.push(a))}return h}function O(t,e,n,i,r,a,o,s,l){var c=_(t,n,r,o,l),u=_(e,i,a,s,l),d=h.pointAt(t,e,n,i,l),p=h.pointAt(n,i,r,a,l),f=h.pointAt(r,a,o,s,l),g=h.pointAt(d.x,d.y,p.x,p.y,l),m=h.pointAt(p.x,p.y,f.x,f.y,l);return[[t,e,d.x,d.y,g.x,g.y,c,u],[c,u,m.x,m.y,f.x,f.y,o,s]]}function C(t,e,n,i,r,a,o,s,l){if(0===l)return f([t,n,r,o],[e,i,a,s]);var c=O(t,e,n,i,r,a,o,s,.5),u=c[0],h=c[1];return u.push(l-1),h.push(l-1),C.apply(null,u)+C.apply(null,h)}var A={extrema:S,box:function(t,e,n,i,r,a,o,l){for(var c=[t,o],u=[e,l],h=S(t,n,r,o),d=S(e,i,a,l),p=0;p<h.length;p++)c.push(_(t,n,r,o,h[p]));for(p=0;p<d.length;p++)u.push(_(e,i,a,l,d[p]));return s(c,u)},length:function(t,e,n,i,r,a,o,s){return C(t,e,n,i,r,a,o,s,3)},nearestPoint:function(t,e,n,i,r,a,o,s,l,c,u){return p([t,n,r,o],[e,i,a,s],l,c,_,u)},pointDistance:function(t,e,n,i,r,o,s,l,c,u,h){var d=this.nearestPoint(t,e,n,i,r,o,s,l,c,u,h);return a(d.x,d.y,c,u)},interpolationAt:_,pointAt:function(t,e,n,i,r,a,o,s,l){return{x:_(t,n,r,o,l),y:_(e,i,a,s,l)}},divide:function(t,e,n,i,r,a,o,s,l){return O(t,e,n,i,r,a,o,s,l)},tangentAngle:function(t,e,n,i,r,a,o,s,l){var u=w(t,n,r,o,l),h=w(e,i,a,s,l);return c(Math.atan2(h,u))}};function M(t,e){var n=Math.abs(t);return e>0?n:-1*n}var T={box:function(t,e,n,i){return{x:t-n,y:e-i,width:2*n,height:2*i}},length:function(t,e,n,i){return Math.PI*(3*(n+i)-Math.sqrt((3*n+i)*(n+3*i)))},nearestPoint:function(t,e,n,i,r,a){var o=n,s=i;if(0===o||0===s)return{x:t,y:e};for(var l,c,u=r-t,h=a-e,d=Math.abs(u),p=Math.abs(h),f=o*o,g=s*s,m=Math.PI/4,v=0;v<4;v++){l=o*Math.cos(m),c=s*Math.sin(m);var y=(f-g)*Math.pow(Math.cos(m),3)/o,b=(g-f)*Math.pow(Math.sin(m),3)/s,x=l-y,_=c-b,w=d-y,S=p-b,O=Math.hypot(_,x),C=Math.hypot(S,w),A=O*Math.asin((x*S-_*w)/(O*C)),T=A/Math.sqrt(f+g-l*l-c*c);m+=T,m=Math.min(Math.PI/2,Math.max(0,m))}return{x:t+M(l,u),y:e+M(c,h)}},pointDistance:function(t,e,n,i,r,o){var s=this.nearestPoint(t,e,n,i,r,o);return a(s.x,s.y,r,o)},pointAt:function(t,e,n,i,r){var a=2*Math.PI*r;return{x:t+n*Math.cos(a),y:e+i*Math.sin(a)}},tangentAngle:function(t,e,n,i,r){var a=2*Math.PI*r,o=Math.atan2(i*Math.cos(a),-n*Math.sin(a));return c(o)}};function k(t,e,n,i,r,a,o,s){return-1*n*Math.cos(r)*Math.sin(s)-i*Math.sin(r)*Math.cos(s)}function L(t,e,n,i,r,a,o,s){return-1*n*Math.sin(r)*Math.sin(s)+i*Math.cos(r)*Math.cos(s)}function j(t,e,n){return Math.atan(-e/t*Math.tan(n))}function I(t,e,n){return Math.atan(e/(t*Math.tan(n)))}function E(t,e,n,i,r,a){return n*Math.cos(r)*Math.cos(a)-i*Math.sin(r)*Math.sin(a)+t}function P(t,e,n,i,r,a){return n*Math.sin(r)*Math.cos(a)+i*Math.cos(r)*Math.sin(a)+e}function R(t,e,n,i){var r=Math.atan2(i*t,n*e);return(r+2*Math.PI)%(2*Math.PI)}function D(t,e,n){return{x:t*Math.cos(n),y:e*Math.sin(n)}}function F(t,e,n){var i=Math.cos(n),r=Math.sin(n);return[t*i-e*r,t*r+e*i]}var N={box:function(t,e,n,i,r,a,o){for(var s=j(n,i,r),l=1/0,c=-1/0,u=[a,o],h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var d=s+h;a<o?a<d&&d<o&&u.push(d):o<d&&d<a&&u.push(d)}for(h=0;h<u.length;h++){var p=E(t,e,n,i,r,u[h]);p<l&&(l=p),p>c&&(c=p)}var f=I(n,i,r),g=1/0,m=-1/0,v=[a,o];for(h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var y=f+h;a<o?a<y&&y<o&&v.push(y):o<y&&y<a&&v.push(y)}for(h=0;h<v.length;h++){var b=P(t,e,n,i,r,v[h]);b<g&&(g=b),b>m&&(m=b)}return{x:l,y:g,width:c-l,height:m-g}},length:function(t,e,n,i,r,a,o){},nearestPoint:function(t,e,n,i,r,a,o,s,l){var c=F(s-t,l-e,-r),u=c[0],h=c[1],d=T.nearestPoint(0,0,n,i,u,h),p=R(n,i,d.x,d.y);p<a?d=D(n,i,a):p>o&&(d=D(n,i,o));var f=F(d.x,d.y,r);return{x:f[0]+t,y:f[1]+e}},pointDistance:function(t,e,n,i,r,o,s,l,c){var u=this.nearestPoint(t,e,n,i,l,c);return a(u.x,u.y,l,c)},pointAt:function(t,e,n,i,r,a,o,s){var l=(o-a)*s+a;return{x:E(t,e,n,i,r,l),y:P(t,e,n,i,r,l)}},tangentAngle:function(t,e,n,i,r,a,o,s){var l=(o-a)*s+a,u=k(t,e,n,i,r,a,o,l),h=L(t,e,n,i,r,a,o,l);return c(Math.atan2(h,u))}};function B(t){for(var e=0,n=[],i=0;i<t.length-1;i++){var r=t[i],o=t[i+1],s=a(r[0],r[1],o[0],o[1]),l={from:r,to:o,length:s};n.push(l),e+=s}return{segments:n,totalLength:e}}function V(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var i=t[n],r=t[n+1];e+=a(i[0],i[1],r[0],r[1])}return e}function G(t,e){if(e>1||e<0||t.length<2)return null;var n=B(t),i=n.segments,r=n.totalLength;if(0===r)return{x:t[0][0],y:t[0][1]};for(var a=0,o=null,s=0;s<i.length;s++){var l=i[s],c=l.from,u=l.to,d=l.length/r;if(e>=a&&e<=a+d){var p=(e-a)/d;o=h.pointAt(c[0],c[1],u[0],u[1],p);break}a+=d}return o}function z(t,e){if(e>1||e<0||t.length<2)return 0;for(var n=B(t),i=n.segments,r=n.totalLength,a=0,o=0,s=0;s<i.length;s++){var l=i[s],c=l.from,u=l.to,h=l.length/r;if(e>=a&&e<=a+h){o=Math.atan2(u[1]-c[1],u[0]-c[0]);break}a+=h}return o}function U(t,e,n){for(var i=1/0,r=0;r<t.length-1;r++){var a=t[r],o=t[r+1],s=h.pointDistance(a[0],a[1],o[0],o[1],e,n);s<i&&(i=s)}return i}var H={box:function(t){for(var e=[],n=[],i=0;i<t.length;i++){var r=t[i];e.push(r[0]),n.push(r[1])}return s(e,n)},length:function(t){return V(t)},pointAt:function(t,e){return G(t,e)},pointDistance:function(t,e,n){return U(t,e,n)},tangentAngle:function(t,e){return z(t,e)}}},1243:function(t,e,n){"use strict";var i,r,a=n("9ab4"),o=n("7b46"),s=n("330d"),l=n("b2cb"),c=n("8937"),u=0,h=0,d=0,p=1e3,f=0,g=0,m=0,v="object"===typeof performance&&performance.now?performance:Date,y="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function b(){return g||(y(x),g=v.now()+m)}function x(){g=0}function _(){this._call=this._time=this._next=null}function w(t,e,n){var i=new _;return i.restart(t,e,n),i}function S(){b(),++u;var t,e=i;while(e)(t=g-e._time)>=0&&e._call.call(null,t),e=e._next;--u}function O(){g=(f=v.now())+m,u=h=0;try{S()}finally{u=0,A(),g=0}}function C(){var t=v.now(),e=t-f;e>p&&(m-=e,f=t)}function A(){var t,e,n=i,a=1/0;while(n)n._call?(a>n._time&&(a=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:i=e);r=t,M(a)}function M(t){if(!u){h&&(h=clearTimeout(h));var e=t-g;e>24?(t<1/0&&(h=setTimeout(O,t-v.now()-m)),d&&(d=clearInterval(d))):(d||(f=v.now(),d=setInterval(C,p)),u=1,y(O))}}_.prototype=w.prototype={constructor:_,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?b():+n)+(null==e?0:+e),this._next||r===this||(r?r._next=this:i=this,r=this),this._call=t,this._time=n,M()},stop:function(){this._call&&(this._call=null,this._time=1/0,M())}};var T=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function k(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function L(){}var j=.7,I=1/j,E="\\s*([+-]?\\d+)\\s*",P="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",R="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",D=/^#([0-9a-f]{3,8})$/,F=new RegExp(`^rgb\\(${E},${E},${E}\\)$`),N=new RegExp(`^rgb\\(${R},${R},${R}\\)$`),B=new RegExp(`^rgba\\(${E},${E},${E},${P}\\)$`),V=new RegExp(`^rgba\\(${R},${R},${R},${P}\\)$`),G=new RegExp(`^hsl\\(${P},${R},${R}\\)$`),z=new RegExp(`^hsla\\(${P},${R},${R},${P}\\)$`),U={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function H(){return this.rgb().formatHex()}function W(){return this.rgb().formatHex8()}function Y(){return st(this).formatHsl()}function X(){return this.rgb().formatRgb()}function q(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=D.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Z(e):3===n?new $(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Q(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Q(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=F.exec(t))?new $(e[1],e[2],e[3],1):(e=N.exec(t))?new $(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=B.exec(t))?Q(e[1],e[2],e[3],e[4]):(e=V.exec(t))?Q(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=G.exec(t))?ot(e[1],e[2]/100,e[3]/100,1):(e=z.exec(t))?ot(e[1],e[2]/100,e[3]/100,e[4]):U.hasOwnProperty(t)?Z(U[t]):"transparent"===t?new $(NaN,NaN,NaN,0):null}function Z(t){return new $(t>>16&255,t>>8&255,255&t,1)}function Q(t,e,n,i){return i<=0&&(t=e=n=NaN),new $(t,e,n,i)}function J(t){return t instanceof L||(t=q(t)),t?(t=t.rgb(),new $(t.r,t.g,t.b,t.opacity)):new $}function K(t,e,n,i){return 1===arguments.length?J(t):new $(t,e,n,null==i?1:i)}function $(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function tt(){return`#${at(this.r)}${at(this.g)}${at(this.b)}`}function et(){return`#${at(this.r)}${at(this.g)}${at(this.b)}${at(255*(isNaN(this.opacity)?1:this.opacity))}`}function nt(){const t=it(this.opacity);return`${1===t?"rgb(":"rgba("}${rt(this.r)}, ${rt(this.g)}, ${rt(this.b)}${1===t?")":`, ${t})`}`}function it(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function rt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function at(t){return t=rt(t),(t<16?"0":"")+t.toString(16)}function ot(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ct(t,e,n,i)}function st(t){if(t instanceof ct)return new ct(t.h,t.s,t.l,t.opacity);if(t instanceof L||(t=q(t)),!t)return new ct;if(t instanceof ct)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),a=Math.max(e,n,i),o=NaN,s=a-r,l=(a+r)/2;return s?(o=e===a?(n-i)/s+6*(n<i):n===a?(i-e)/s+2:(e-n)/s+4,s/=l<.5?a+r:2-a-r,o*=60):s=l>0&&l<1?0:o,new ct(o,s,l,t.opacity)}function lt(t,e,n,i){return 1===arguments.length?st(t):new ct(t,e,n,null==i?1:i)}function ct(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function ut(t){return t=(t||0)%360,t<0?t+360:t}function ht(t){return Math.max(0,Math.min(1,t||0))}function dt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function pt(t,e,n,i,r){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*i+o*r)/6}T(L,q,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:H,formatHex:H,formatHex8:W,formatHsl:Y,formatRgb:X,toString:X}),T($,K,k(L,{brighter(t){return t=null==t?I:Math.pow(I,t),new $(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?j:Math.pow(j,t),new $(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new $(rt(this.r),rt(this.g),rt(this.b),it(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tt,formatHex:tt,formatHex8:et,formatRgb:nt,toString:nt})),T(ct,lt,k(L,{brighter(t){return t=null==t?I:Math.pow(I,t),new ct(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?j:Math.pow(j,t),new ct(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new $(dt(t>=240?t-240:t+120,r,i),dt(t,r,i),dt(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new ct(ut(this.h),ht(this.s),ht(this.l),it(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=it(this.opacity);return`${1===t?"hsl(":"hsla("}${ut(this.h)}, ${100*ht(this.s)}%, ${100*ht(this.l)}%${1===t?")":`, ${t})`}`}}));var ft=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],a=t[i+1],o=i>0?t[i-1]:2*r-a,s=i<e-1?t[i+2]:2*a-r;return pt((n-i/e)*e,o,r,a,s)}},gt=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],a=t[i%e],o=t[(i+1)%e],s=t[(i+2)%e];return pt((n-i/e)*e,r,a,o,s)}},mt=t=>()=>t;function vt(t,e){return function(n){return t+n*e}}function yt(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function bt(t){return 1===(t=+t)?xt:function(e,n){return n-e?yt(e,n,t):mt(isNaN(e)?n:e)}}function xt(t,e){var n=e-t;return n?vt(t,n):mt(isNaN(t)?e:t)}var _t=function t(e){var n=bt(e);function i(t,e){var i=n((t=K(t)).r,(e=K(e)).r),r=n(t.g,e.g),a=n(t.b,e.b),o=xt(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=a(e),t.opacity=o(e),t+""}}return i.gamma=t,i}(1);function wt(t){return function(e){var n,i,r=e.length,a=new Array(r),o=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=K(e[n]),a[n]=i.r||0,o[n]=i.g||0,s[n]=i.b||0;return a=t(a),o=t(o),s=t(s),i.opacity=1,function(t){return i.r=a(t),i.g=o(t),i.b=s(t),i+""}}}wt(ft),wt(gt);var St=function(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(a){for(n=0;n<i;++n)r[n]=t[n]*(1-a)+e[n]*a;return r}};function Ot(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}var Ct=function(t,e){return(Ot(e)?St:At)(t,e)};function At(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,a=new Array(r),o=new Array(i);for(n=0;n<r;++n)a[n]=Rt(t[n],e[n]);for(;n<i;++n)o[n]=e[n];return function(t){for(n=0;n<r;++n)o[n]=a[n](t);return o}}var Mt=function(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}},Tt=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},kt=function(t,e){var n,i={},r={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?i[n]=Rt(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},Lt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jt=new RegExp(Lt.source,"g");function It(t){return function(){return t}}function Et(t){return function(e){return t(e)+""}}var Pt=function(t,e){var n,i,r,a=Lt.lastIndex=jt.lastIndex=0,o=-1,s=[],l=[];t+="",e+="";while((n=Lt.exec(t))&&(i=jt.exec(e)))(r=i.index)>a&&(r=e.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Tt(n,i)})),a=jt.lastIndex;return a<e.length&&(r=e.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?l[0]?Et(l[0].x):It(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)s[(n=l[i]).i]=n.x(t);return s.join("")})},Rt=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?mt(e):("number"===i?Tt:"string"===i?(n=q(e))?(e=n,_t):Pt:e instanceof q?_t:e instanceof Date?Mt:Ot(e)?St:Array.isArray(e)?At:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?kt:Tt)(t,e)},Dt=n("54ca"),Ft=n("b6fb"),Nt=function(t){return["fill","stroke","fillStyle","strokeStyle"].includes(t)},Bt=function(t){return/^[r,R,L,l]{1}[\s]*\(/.test(t)},Vt=[1,0,0,0,1,0,0,0,1];function Gt(t,e,n){var i={},r=e.fromAttrs,a=e.toAttrs;if(!t.destroyed){var o;for(var s in a)if(!Object(c["isEqual"])(r[s],a[s]))if("path"===s){var l=a[s],u=r[s];l.length>u.length?(l=Ft["parsePathString"](a[s]),u=Ft["parsePathString"](r[s]),u=Ft["fillPathByDiff"](u,l),u=Ft["formatPath"](u,l),e.fromAttrs.path=u,e.toAttrs.path=l):e.pathFormatted||(l=Ft["parsePathString"](a[s]),u=Ft["parsePathString"](r[s]),u=Ft["formatPath"](u,l),e.fromAttrs.path=u,e.toAttrs.path=l,e.pathFormatted=!0),i[s]=[];for(var h=0;h<l.length;h++){for(var d=l[h],p=u[h],f=[],g=0;g<d.length;g++)Object(c["isNumber"])(d[g])&&p&&Object(c["isNumber"])(p[g])?(o=Rt(p[g],d[g]),f.push(o(n))):f.push(d[g]);i[s].push(f)}}else if("matrix"===s){var m=Ct(r[s]||Vt,a[s]||Vt),v=m(n);i[s]=v}else Nt(s)&&Bt(a[s])?i[s]=a[s]:Object(c["isFunction"])(a[s])||(o=Rt(r[s],a[s]),i[s]=o(n));t.attr(i)}}function zt(t,e,n){var i,r=e.startTime,a=e.delay;if(n<r+a||e._paused)return!1;var o=e.duration,s=e.easing,l=Object(Dt["a"])(s);if(n=n-r-e.delay,e.repeat)i=n%o/o,i=l(i);else{if(i=n/o,!(i<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;i=l(i)}if(e.onFrame){var c=e.onFrame(i);t.attr(c)}else Gt(t,e,i);return!1}var Ut=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,n,i=this,r=!1;this.timer=w((function(a){if(i.current=a,i.animators.length>0){for(var o=i.animators.length-1;o>=0;o--)if(t=i.animators[o],t.destroyed)i.removeAnimator(o);else{if(!t.isAnimatePaused()){e=t.get("animations");for(var s=e.length-1;s>=0;s--)n=e[s],r=zt(t,n,a),r&&(e.splice(s,1),r=!1,n.callback&&n.callback())}0===e.length&&i.removeAnimator(o)}var l=i.canvas.get("autoDraw");l||i.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),Ht=Ut,Wt=n("e5e2"),Yt=40,Xt=0,qt=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Zt(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function Qt(t,e,n){if(n.bubbles){var i=void 0,r=!1;if("mouseenter"===e?(i=n.fromShape,r=!0):"mouseleave"===e&&(r=!0,i=n.toShape),t.isCanvas()&&r)return;if(i&&Object(l["g"])(t,i))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var Jt=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){var n=e.canvas,i=n.get("el");if(i!==t.target&&(e.dragging||e.currentShape)){var r=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,r,e.draggingShape)}},this._onDocumentMouseUp=function(t){var n=e.canvas,i=n.get("el");if(i!==t.target&&e.dragging){var r=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,r,null),e._emitEvent("dragend",t,r,e.draggingShape),e._afterDrag(e.draggingShape,r,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");Object(l["a"])(qt,(function(n){e.addEventListener(n,t._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");Object(l["a"])(qt,(function(n){e.removeEventListener(n,t._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,i,r,a){var o=new Wt["a"](t,e);return o.fromShape=r,o.toShape=a,o.x=n.x,o.y=n.y,o.clientX=n.clientX,o.clientY=n.clientY,o.propagationPath.push(i),o},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),i=e.getPointByEvent(t);return{x:i.x,y:i.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),i=this._getShape(n,e),r=this["_on"+t],a=!1;if(r)r.call(this,n,i,e);else{var o=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,i),i&&this._emitEvent(t,e,n,i,null,i),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(a=!0,o&&this._emitEvent(t,e,n,o,o,null),this._emitEvent(t,e,n,null,o,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,i,null,null)}if(a||(this.currentShape=i),i&&!i.get("destroyed")){var s=this.canvas,l=s.get("el");l.style.cursor=i.attr("cursor")||s.get("cursor")}},t.prototype._onmousedown=function(t,e,n){n.button===Xt&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,i){var r=this.canvas.get("el");n!==i&&(n&&(this._emitEvent("mouseout",t,e,n,n,i),this._emitEvent("mouseleave",t,e,n,n,i),i&&!i.get("destroyed")||(r.style.cursor=this.canvas.get("cursor"))),i&&(this._emitEvent("mouseover",t,e,i,n,i),this._emitEvent("mouseenter",t,e,i,n,i)))},t.prototype._emitDragoverEvents=function(t,e,n,i,r){i?(i!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,i),this._emitEvent("dragenter",t,e,i,n,i)),r||this._emitEvent("dragover",t,e,i)):n&&this._emitEvent("dragleave",t,e,n,n,i),r&&this._emitEvent("dragover",t,e,i)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var i=this._getShape(e,n);i!==t&&this._emitMouseoverEvents(n,e,t,i),this.currentShape=i},t.prototype._onmouseup=function(t,e,n){if(n.button===Xt){var i=this.draggingShape;this.dragging?(i&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,i),this._afterDrag(i,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var i=this.currentShape;this._emitDragoverEvents(n,t,i,e,!0)},t.prototype._onmousemove=function(t,e,n){var i=this.canvas,r=this.currentShape,a=this.draggingShape;if(this.dragging)a&&this._emitDragoverEvents(n,t,r,e,!1),this._emitEvent("drag",n,t,a);else{var o=this.mousedownPoint;if(o){var s=this.mousedownShape,l=n.timeStamp,c=l-this.mousedownTimeStamp,u=o.clientX-t.clientX,h=o.clientY-t.clientY,d=u*u+h*h;c>120||d>Yt?s&&s.get("draggable")?(a=this.mousedownShape,a.set("capture",!1),this.draggingShape=a,this.dragging=!0,this._emitEvent("dragstart",n,t,a),this.mousedownShape=null,this.mousedownPoint=null):!s&&i.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,r,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,r,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,r,e),this._emitEvent("mousemove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,i,r,a){var o=this._getEventObj(t,e,n,i,r,a);if(i){o.shape=i,Zt(i,t,o);var s=i.getParent();while(s)s.emitDelegation(t,o),o.propagationStopped||Qt(s,t,o),o.propagationPath.push(s),s=s.getParent()}else{var l=this.canvas;Zt(l,t,o)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}(),Kt=Jt,$t="px",te=Object(o["a"])(),ee=te&&"firefox"===te.name,ne=function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return Object(a["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e["cursor"]="default",e["supportCSSTransform"]=!1,e},e.prototype.initContainer=function(){var t=this.get("container");Object(l["h"])(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t);var e=this.get("container");e.appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new Kt({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new Ht(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var n=this.get("el");l["c"]&&(n.style.width=t+$t,n.style.height=e+$t)},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");l["c"]&&e&&(e.style.cursor=t)},e.prototype.getPointByEvent=function(t){var e=this.get("supportCSSTransform");if(e){if(ee&&!Object(l["e"])(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!Object(l["e"])(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var n=this.getClientByEvent(t),i=n.x,r=n.y;return this.getPointByClient(i,r)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var n=this.get("el"),i=n.getBoundingClientRect();return{x:t-i.left,y:e-i.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get("el"),i=n.getBoundingClientRect();return{x:t+i.left,y:e+i.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){var t=this.get("eventController");t.destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},e}(s["a"]);e["a"]=ne},1295:function(t,e,n){"use strict";n("a636")},"12a1":function(t,e,n){"use strict";n("6042e")},"12c4":function(t,e,n){},"12d8":function(t,e,n){"use strict";n("fa77")},"147d":function(t,e,n){"use strict";n.d(e,"getAdjust",(function(){return r})),n.d(e,"registerAdjust",(function(){return a}));n("41c8"),n("59b0");var i={},r=function(t){return i[t.toLowerCase()]},a=function(t,e){if(r(t))throw new Error("Adjust type '"+t+"' existed.");i[t.toLowerCase()]=e}},1547:function(t,e,n){"use strict";n("fdb4")},"17da":function(t,e,n){},"182d":function(t,e,n){var i=n("f8cd"),r=RangeError;t.exports=function(t,e){var n=i(t);if(n%e)throw r("Wrong offset");return n}},"188f":function(t,e,n){},1973:function(t,e,n){"use strict";n("32e6")},"19aa":function(t,e,n){var i=n("3a9bc"),r=TypeError;t.exports=function(t,e){if(i(e,t))return t;throw r("Incorrect invocation")}},"19de":function(t,e,n){},"19ec":function(t,e,n){},"1a17":function(t,e,n){"use strict";n("7fdd")},"1b3b":function(t,e,n){n("6ce5")},"1bb1d":function(t,e,n){},"1d02":function(t,e,n){"use strict";var i=n("ebb5"),r=n("a258").findLastIndex,a=i.aTypedArray,o=i.exportTypedArrayMethod;o("findLastIndex",(function(t){return r(a(this),t,arguments.length>1?arguments[1]:void 0)}))},"1fb0":function(t,e,n){},2:function(t,e){},"227e":function(t,e,n){},"22d7":function(t,e,n){"use strict";n("17da")},"22f9":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}));var i={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},r={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"}},"25e8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAShJREFUOE/tlD1KBEEQhd/rQDDyAB5gA80UBDNTczcxNTCQrt7MNdFENpyaATEyM9IDeAQRFAMTBTMx8gbiTMng9DrLzsLATrgV9c/rr6teF010HOyYhwXw31ER2SI5NLMeyVUABuADwLuZjdI0fWjyv9HDEMIZgCGApRmP9g1gpKqlbiKmgCJySfIwqoqi2Myy7Kmci8geyZu4R/IqSZKDOnECKCLnJE+iwMz6JL8A7AP4JHmd5/mKc+6xBrlQ1aPxJXHgvV93zr3Ub1NVDgaD49Kzav1OVXdDCK8AejXttqrel/NxhrOAlZ+n1eFbVe23AlYeTZXsnHs2swzAsqrueO83WpUc0+/0USK0oW3eAPwAWKs07dumlml3jT3PD7T4beZx7+/sL6xogxW09RfPAAAAAElFTkSuQmCC"},2613:function(t,e,n){"use strict";n("fdad")},2639:function(t,e,n){t.exports=function(){return new Worker(n.p+"5287c6d4fafda020b377.worker.js")}},27699:function(t,e,n){"use strict";n("4b71")},2834:function(t,e,n){"use strict";var i=n("ebb5"),r=n("e330"),a=n("59ed"),o=n("dfb9"),s=i.aTypedArray,l=i.getTypedArrayConstructor,c=i.exportTypedArrayMethod,u=r(i.TypedArrayPrototype.sort);c("toSorted",(function(t){void 0!==t&&a(t);var e=s(this),n=o(l(e),e);return u(n,t)}))},"28fe":function(t,e,n){},2986:function(t,e,n){"use strict";n("9c46")},"299a":function(t,e,n){"use strict";n("6c7c")},"29ab":function(t,e,n){"use strict";var i=n("000e"),r=n("8937"),a=n("d177"),o=n("41c8");function s(t,e){return(e-t)*Math.random()+t}var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["b"])(e,t),e.prototype.process=function(t){var e=r["clone"](t),n=r["flatten"](e);return this.adjustData(e,n),e},e.prototype.adjustDim=function(t,e,n){var i=this,a=this.groupData(n,t);return r["each"](a,(function(n,r){return i.adjustGroup(n,t,parseFloat(r),e)}))},e.prototype.getAdjustOffset=function(t){var e=t.pre,n=t.next,i=(n-e)*a["c"];return s(e+i,n-i)},e.prototype.adjustGroup=function(t,e,n,i){var a=this,o=this.getAdjustRange(e,n,i);return r["each"](t,(function(t){t[e]=a.getAdjustOffset(o)})),t},e}(o["a"]);e["a"]=l},"2cd1":function(t,e,n){t.exports=n.p+"img/weixingtu.a2616712.png"},"2d22":function(t,e,n){},"2e60":function(t,e,n){"use strict";var i=n("9ab4"),r=n("7fa2"),a=n("b2cb"),o=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var i=n.getDefaultCfg();return n.cfg=Object(a["i"])(i,e),n}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(r["a"]);e["a"]=o},"2f5e":function(t,e,n){"use strict";e["a"]={fontFamily:'\n  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4,descriptionIconStroke:"#fff",descriptionIconFill:"rgba(58, 73, 101, .25)"}},3:function(t,e){},"31a1":function(t,e,n){"use strict";var i=n("9ab4"),r=n("ccaf"),a=n("6928"),o=function(t){function e(e){return t.call(this,e)||this}return Object(i["__extends"])(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,i=t.minY,r=t.maxX,o=t.maxY;if(e){var s=Object(a["c"])(e,[t.minX,t.minY]),l=Object(a["c"])(e,[t.maxX,t.minY]),c=Object(a["c"])(e,[t.minX,t.maxY]),u=Object(a["c"])(e,[t.maxX,t.maxY]);n=Math.min(s[0],l[0],c[0],u[0]),r=Math.max(s[0],l[0],c[0],u[0]),i=Math.min(s[1],l[1],c[1],u[1]),o=Math.max(s[1],l[1],c[1],u[1])}var h=this.attrs;if(h.shadowColor){var d=h.shadowBlur,p=void 0===d?0:d,f=h.shadowOffsetX,g=void 0===f?0:f,m=h.shadowOffsetY,v=void 0===m?0:m,y=n-p+g,b=r+p+g,x=i-p+v,_=o+p+v;n=Math.min(n,y),r=Math.max(r,b),i=Math.min(i,x),o=Math.max(o,_)}return{x:n,y:i,minX:n,minY:i,maxX:r,maxY:o,width:r-n,height:o-i}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),i=this.get("endArrowShape"),r=[t,e,1];r=this.invertFromMatrix(r);var a=r[0],o=r[1],s=this._isInBBox(a,o);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(a,o)){if(this.isInShape(a,o))return!0;if(n&&n.isHit(a,o))return!0;if(i&&i.isHit(a,o))return!0}return!1},e}(r["a"]);e["a"]=o},"31d6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAfCAYAAADnTu3OAAAByklEQVRIie3WPW/TQADG8X/RDY0nlHjPRmFq5YyA5I/AQPdUqKo6AQK2ijcBQkLlRW1qdcMNMBbxCRjStSlsdTfihcF2iYQvGS6YIXbktlcSpdnos9l3/t3jk3zyVJIkCRPMhVEmhWEwOdD3fR6urHQ3HSc6MyilpLa+FiilppvN3eJOo9EZG5RS8uzpk+gwikzgC9Cub7mFYagWzLAwDIspdgOwAYahWrDuuhn2Haimt78BCwCfPn5IfN8fDdx0nKjZ3M0wG/iVG34PLPR6PePli+cdHXoEzGE/NFgevauUKujQAbjTaHRSrE1/z3RYlreAq5Qq1NbXAinlSbC+5RZSzKa/X8NSBdzDKDI/b297J8DcyqNgeZQ4/v3zNPDMOQfPwf8avAPMTQKco/9tvwH2gMfjghfTh/eA2VKpFAkhOsCjdAH7NFBo7tn0D9GyEKJ7a3Hxj2VVilJKnI1acOB5s8BX4J2u8fGG1XRy+dLMTPBq9fW0ZVUMAMMwuHf/gbm0vCyFEF3gNpqj7njDfCtT90qWVTEur17J2pb/CV69dj24OT9vGoahswbJ2h54Hs5GrX1kMEnj7e8n4ySO46TVag2upyb99/UXdM8VCirKNw0AAAAASUVORK5CYII="},"31e6":function(t,e,n){"use strict";var i=n("9ab4"),r=n("8937"),a=n("d7ff"),o=n("8ea8"),s=n("e546"),l=n("3665"),c="update_status",u=["visible","tip","delegateObject"],h=["container","group","shapesMap","isRegister","isUpdating","destroyed"],d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},e.prototype.remove=function(){this.clear();var t=this.get("group");t.remove()},e.prototype.clear=function(){var t=this.get("group");t.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},e.prototype.getChildComponentById=function(t){var e=this.getElementById(t),n=e&&e.get("component");return n},e.prototype.getElementById=function(t){return this.get("shapesMap")[t]},e.prototype.getElementByLocalId=function(t){var e=this.getElementId(t);return this.getElementById(e)},e.prototype.getElementsByName=function(t){var e=[];return Object(r["each"])(this.get("shapesMap"),(function(n){n.get("name")===t&&e.push(n)})),e},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},e.prototype.render=function(){var t=this.get("offScreenGroup");t||(t=this.offScreenRender());var e=this.get("group");this.updateElements(t,e),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},e.prototype.show=function(){var t=this.get("group");t.show(),this.set("visible",!0)},e.prototype.hide=function(){var t=this.get("group");t.hide(),this.set("visible",!1)},e.prototype.setCapture=function(t){var e=this.get("group");e.set("capture",t),this.set("capture",t)},e.prototype.destroy=function(){this.removeEvent(),this.remove(),t.prototype.destroy.call(this)},e.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},e.prototype.getLayoutBBox=function(){var t=this.get("group"),e=this.getInnerLayoutBBox(),n=t.getTotalMatrix();return n&&(e=Object(o["a"])(n,e)),e},e.prototype.on=function(t,e,n){var i=this.get("group");return i.on(t,e,n),this},e.prototype.off=function(t,e){var n=this.get("group");return n&&n.off(t,e),this},e.prototype.emit=function(t,e){var n=this.get("group");n.emit(t,e)},e.prototype.init=function(){t.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},e.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},e.prototype.delegateEmit=function(t,e){var n=this.get("group");e.target=n,n.emit(t,e),Object(a["a"])(n,t,e)},e.prototype.createOffScreenGroup=function(){var t=this.get("group"),e=t.getGroupBase(),n=new e({delegateObject:this.getDelegateObject()});return n},e.prototype.applyOffset=function(){var t=this.get("offsetX"),e=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:e})},e.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},e.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",Object(s["d"])(t)),t},e.prototype.addGroup=function(t,e){this.appendDelegateObject(t,e);var n=t.addGroup(e);return this.get("isRegister")&&this.registerElement(n),n},e.prototype.addShape=function(t,e){this.appendDelegateObject(t,e);var n=t.addShape(e);return this.get("isRegister")&&this.registerElement(n),n},e.prototype.addComponent=function(t,e){var n=e.id,r=e.component,a=Object(i["__rest"])(e,["id","component"]),o=new r(Object(i["__assign"])(Object(i["__assign"])({},a),{id:n,container:t,updateAutoRender:this.get("updateAutoRender")}));return o.init(),o.render(),this.get("isRegister")&&this.registerElement(o.get("group")),o},e.prototype.initEvent=function(){},e.prototype.removeEvent=function(){var t=this.get("group");t.off()},e.prototype.getElementId=function(t){var e=this.get("id"),n=this.get("name");return e+"-"+n+"-"+t},e.prototype.registerElement=function(t){var e=t.get("id");this.get("shapesMap")[e]=t},e.prototype.unregisterElement=function(t){var e=t.get("id");delete this.get("shapesMap")[e]},e.prototype.moveElementTo=function(t,e){var n=Object(o["f"])(e);t.attr("matrix",n)},e.prototype.addAnimation=function(t,e,n){var i=e.attr("opacity");Object(r["isNil"])(i)&&(i=1),e.attr("opacity",0),e.animate({opacity:i},n)},e.prototype.removeAnimation=function(t,e,n){e.animate({opacity:0},n)},e.prototype.updateAnimation=function(t,e,n,i){e.animate(n,i)},e.prototype.updateElements=function(t,e){var n,i=this,a=this.get("animate"),o=this.get("animateOption"),l=t.getChildren().slice(0);Object(r["each"])(l,(function(t){var l=t.get("id"),d=i.getElementById(l),p=t.get("name");if(d)if(t.get("isComponent")){var f=t.get("component"),g=d.get("component"),m=Object(r["pick"])(f.cfg,Object(r["difference"])(Object(r["keys"])(f.cfg),h));g.update(m),d.set(c,"update")}else{var v=i.getReplaceAttrs(d,t);a&&o.update?i.updateAnimation(p,d,v,o.update):d.attr(v),t.isGroup()&&i.updateElements(t,d),Object(r["each"])(u,(function(e){d.set(e,t.get(e))})),Object(s["m"])(d,t),n=d,d.set(c,"update")}else{e.add(t);var y=e.getChildren();if(y.splice(y.length-1,1),n){var b=y.indexOf(n);y.splice(b+1,0,t)}else y.unshift(t);if(i.registerElement(t),t.set(c,"add"),t.get("isComponent")){f=t.get("component");f.set("container",e)}else t.isGroup()&&i.registerNewGroup(t);if(n=t,a){var x=i.get("isInit")?o.appear:o.enter;x&&i.addAnimation(p,t,x)}}}))},e.prototype.clearUpdateStatus=function(t){var e=t.getChildren();Object(r["each"])(e,(function(t){t.set(c,null)}))},e.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},e.prototype.getDelegateObject=function(){var t,e=this.get("name"),n=(t={},t[e]=this,t.component=this,t);return n},e.prototype.appendDelegateObject=function(t,e){var n=t.get("delegateObject");e.delegateObject||(e.delegateObject={}),Object(r["mix"])(e.delegateObject,n)},e.prototype.getReplaceAttrs=function(t,e){var n=t.attr(),i=e.attr();return Object(r["each"])(n,(function(t,e){void 0===i[e]&&(i[e]=void 0)})),i},e.prototype.registerNewGroup=function(t){var e=this,n=t.getChildren();Object(r["each"])(n,(function(t){e.registerElement(t),t.set(c,"add"),t.isGroup()&&e.registerNewGroup(t)}))},e.prototype.deleteElements=function(){var t=this,e=this.get("shapesMap"),n=[];Object(r["each"])(e,(function(t,e){!t.get(c)||t.destroyed?n.push([e,t]):t.set(c,null)}));var i=this.get("animate"),a=this.get("animateOption");Object(r["each"])(n,(function(n){var o=n[0],s=n[1];if(!s.destroyed){var l=s.get("name");if(i&&a.leave){var c=Object(r["mix"])({callback:function(){t.removeElement(s)}},a.leave);t.removeAnimation(l,s,c)}else t.removeElement(s)}delete e[o]}))},e.prototype.removeElement=function(t){if(t.get("isGroup")){var e=t.get("component");e&&e.destroy()}t.remove()},e}(l["a"]);e["a"]=d},"328c":function(t,e,n){"use strict";n("fdcf")},"32e6":function(t,e,n){},"330d":function(t,e,n){"use strict";var i=n("9ab4"),r=n("8937"),a=n("ccaf"),o=n("b2cb"),s={},l="_INDEX";function c(t,e){if(t.set("canvas",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){c(t,e)}))}}function u(t,e){if(t.set("timeline",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){u(t,e)}))}}function h(t,e,n){void 0===n&&(n=!0),n?e.destroy():(e.set("parent",null),e.set("canvas",null)),Object(o["j"])(t.getChildren(),e)}function d(t){return function(e,n){var i=t(e,n);return 0===i?e[l]-n[l]:i}}var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,i=-1/0,a=[],s=[],l=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));l.length>0?(Object(o["a"])(l,(function(t){var e=t.getBBox();a.push(e.minX,e.maxX),s.push(e.minY,e.maxY)})),t=Object(r["min"])(a),e=Object(r["max"])(a),n=Object(r["min"])(s),i=Object(r["max"])(s)):(t=0,e=0,n=0,i=0);var c={x:t,y:n,minX:t,minY:n,maxX:e,maxY:i,width:e-t,height:i-n};return c},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,i=-1/0,a=[],s=[],l=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));l.length>0?(Object(o["a"])(l,(function(t){var e=t.getCanvasBBox();a.push(e.minX,e.maxX),s.push(e.minY,e.maxY)})),t=Object(r["min"])(a),e=Object(r["max"])(a),n=Object(r["min"])(s),i=Object(r["max"])(s)):(t=0,e=0,n=0,i=0);var c={x:t,y:n,minX:t,minY:n,maxX:e,maxY:i,width:e-t,height:i-n};return c},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e["children"]=[],e},e.prototype.onAttrChange=function(e,n,i){if(t.prototype.onAttrChange.call(this,e,n,i),"matrix"===e){var r=this.getTotalMatrix();this._applyChildrenMarix(r)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var i=this.getTotalMatrix();i!==n&&this._applyChildrenMarix(i)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();Object(o["a"])(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],i=t[1];Object(o["f"])(n)?i=n:i["type"]=n;var r=s[i.type];r||(r=Object(o["k"])(i.type),s[i.type]=r);var a=this.getShapeBase(),l=new a[r](i);return this.add(l),l},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,i=t[0],r=t[1];if(Object(o["d"])(i))n=new i(r||{parent:this});else{var a=i||{},s=this.getGroupBase();n=new s(a)}return this.add(n),n},e.prototype.getCanvas=function(){var t;return t=this.isCanvas()?this:this.get("canvas"),t},e.prototype.getShape=function(t,e,n){if(!Object(o["b"])(this))return null;var i,r=this.getChildren();if(this.isCanvas())i=this._findShape(r,t,e,n);else{var a=[t,e,1];a=this.invertFromMatrix(a),this.isClipped(a[0],a[1])||(i=this._findShape(r,a[0],a[1],n))}return i},e.prototype._findShape=function(t,e,n,i){for(var r=null,a=t.length-1;a>=0;a--){var s=t[a];if(Object(o["b"])(s)&&(s.isGroup()?r=s.getShape(e,n,i):s.isHit(e,n)&&(r=s)),r)break}return r},e.prototype.add=function(t){var e=this.getCanvas(),n=this.getChildren(),i=this.get("timeline"),r=t.getParent();r&&h(r,t,!1),t.set("parent",this),e&&c(t,e),i&&u(t,i),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t=this.getChildren();Object(o["a"])(t,(function(t,e){return t[l]=e,t})),t.sort(d((function(t,e){return t.get("zIndex")-e.get("zIndex")}))),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){var e=this.getChildren();return e[t]},e.prototype.getCount=function(){var t=this.getChildren();return t.length},e.prototype.contain=function(t){var e=this.getChildren();return e.indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],n=this.getChildren();return Object(o["a"])(n,(function(n){t(n)&&e.push(n),n.isGroup()&&(e=e.concat(n.findAll(t)))})),e},e.prototype.find=function(t){var e=null,n=this.getChildren();return Object(o["a"])(n,(function(n){if(t(n)?e=n:n.isGroup()&&(e=n.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(e){return e.get("id")===t}))},e.prototype.findByClassName=function(t){return this.find((function(e){return e.get("className")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(e){return e.get("name")===t}))},e}(a["a"]);e["a"]=p},3436:function(t,e,n){},3665:function(t,e,n){"use strict";var i=n("9ab4"),r=n("6855"),a=n("8937"),o={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},s=function(t){function e(e){var n=t.call(this,e)||this;return n.initCfg(),n}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},e.prototype.clear=function(){},e.prototype.update=function(t){var e=this,n=this.get("defaultCfg")||{};Object(a["each"])(t,(function(t,i){var r=e.get(i),o=t;r!==t&&(Object(a["isObject"])(t)&&n[i]&&(o=Object(a["deepMix"])({},n[i],t)),e.set(i,o))})),this.updateInner(t),this.afterUpdate(t)},e.prototype.updateInner=function(t){},e.prototype.afterUpdate=function(t){Object(a["hasKey"])(t,"visible")&&(t.visible?this.show():this.hide()),Object(a["hasKey"])(t,"capture")&&this.setCapture(t.capture)},e.prototype.getLayoutBBox=function(){return this.getBBox()},e.prototype.getLocationType=function(){return this.get("locationType")},e.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},e.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},e.prototype.setLocation=function(t){var e=Object(i["__assign"])({},t);this.update(e)},e.prototype.getLocation=function(){var t=this,e={},n=this.get("locationType"),i=o[n];return Object(a["each"])(i,(function(n){e[n]=t.get(n)})),e},e.prototype.isList=function(){return!1},e.prototype.isSlider=function(){return!1},e.prototype.init=function(){},e.prototype.initCfg=function(){var t=this,e=this.get("defaultCfg");Object(a["each"])(e,(function(e,n){var i=t.get(n);if(Object(a["isObject"])(i)){var r=Object(a["deepMix"])({},e,i);t.set(n,r)}}))},e}(r["Base"]);e["a"]=s},3747:function(t,e,n){},3775:function(t,e,n){"use strict";n("af69")},"37a3":function(t,e,n){"use strict";n("b9bc")},3804:function(t,e,n){},"381d":function(t,e,n){"use strict";n("62d9")},3820:function(t,e,n){t.exports=n.p+"img/ship.5b2f577e.png"},3977:function(t,e,n){t.exports=n.p+"img/LandLayer.66b68b7f.png"},"39cf":function(t,e,n){"use strict";var i=n("137e"),r=n("869f"),a=n("496f"),o=n("a896"),s=n("0af5"),l=n("256f");class c extends i["b"]{constructor(t){super(t),this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(t){const e=t.layerStatesArray[t.layerIndex],n=t.pixelRatio,i=t.viewState,o=i.resolution,c=this.getLayer().getSource(),u=t.viewHints;let h=t.extent;if(void 0!==e.extent&&(h=Object(s["B"])(h,Object(l["g"])(e.extent,i.projection))),!u[a["a"].ANIMATING]&&!u[a["a"].INTERACTING]&&!Object(s["I"])(h))if(c){const t=i.projection,e=c.getImage(h,o,n,t);e&&(this.loadImage(e)?this.image_=e:e.getState()===r["a"].EMPTY&&(this.image_=null))}else this.image_=null;return!!this.image_}getData(t){const e=this.frameState;if(!e)return null;const n=this.getLayer(),i=Object(o["a"])(e.pixelToCoordinateTransform,t.slice()),r=n.getExtent();if(r&&!Object(s["g"])(r,i))return null;const a=this.image_.getExtent(),l=this.getImage(),c=Object(s["F"])(a),u=Math.floor(l.width*((i[0]-a[0])/c));if(u<0||u>=l.width)return null;const h=Object(s["A"])(a),d=Math.floor(l.height*((a[3]-i[1])/h));return d<0||d>=l.height?null:this.getImageData(l,u,d)}renderFrame(t,e){const n=this.image_,i=n.getExtent(),r=n.getResolution(),a=n.getPixelRatio(),c=t.layerStatesArray[t.layerIndex],u=t.pixelRatio,h=t.viewState,d=h.center,p=h.resolution,f=u*r/(p*a),g=t.extent,m=h.resolution,v=h.rotation,y=Math.round(Object(s["F"])(g)/m*u),b=Math.round(Object(s["A"])(g)/m*u);Object(o["b"])(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/u,1/u,v,-y/2,-b/2),Object(o["d"])(this.inversePixelTransform,this.pixelTransform);const x=Object(o["k"])(this.pixelTransform);this.useContainer(e,x,this.getBackground(t));const _=this.context,w=_.canvas;w.width!=y||w.height!=b?(w.width=y,w.height=b):this.containerReused||_.clearRect(0,0,y,b);let S=!1,O=!0;if(c.extent){const e=Object(l["g"])(c.extent,h.projection);O=Object(s["G"])(e,t.extent),S=O&&!Object(s["h"])(e,t.extent),S&&this.clipUnrotated(_,t,e)}const C=this.getImage(),A=Object(o["b"])(this.tempTransform,y/2,b/2,f,f,0,a*(i[0]-d[0])/r,a*(d[1]-i[3])/r);this.renderedResolution=r*u/a;const M=C.width*A[0],T=C.height*A[3];if(this.getLayer().getSource().getInterpolate()||(_.imageSmoothingEnabled=!1),this.preRender(_,t),O&&M>=.5&&T>=.5){const t=A[4],e=A[5],n=c.opacity;let i;1!==n&&(i=_.globalAlpha,_.globalAlpha=n),_.drawImage(C,0,0,+C.width,+C.height,t,e,M,T),1!==n&&(_.globalAlpha=i)}return this.postRender(_,t),S&&_.restore(),_.imageSmoothingEnabled=!0,x!==w.style.transform&&(w.style.transform=x),this.container}}e["a"]=c},"3ad1":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAADwdJREFUeF7tnXusXVMex79rn9u5qJmr6kaKjpYQFY+WxHSMliaM4I9BJdN7KhKJeI5B0VEjSEvcUEobr4am9bgXCRmCBKEerUG9KzReTRu0xajWI9Xes9dknesm1d5z9m/tfc7ae531XcnNCf2ttX6/7+/3Ofu11j4KKdqWqVP/Gmk9TgPjARwDYJcUw7CLLwp0dEB3ds4ZMnPmNF9cbpSfynagvnL5IQB/t+1He48V6OiAOuRgxGvWBgeJGJBfpk49uKT1+x6nma6nVeBXQEz30CARA9JXLq8C8Me0GrOfxwpsBUhokIgAqZTL/9JAt8cpputZFNgGkJAgSQRET5kyshJFq7Poy76eKzAIIKFAkghIX7k8BUCv5ymm+1kUqAFICJBIAJkH4B9Z9GVfzxWoA0irQ5IMSFfXYihlnnWwhapAAiCtDAkBCbXobeIWANKqkBAQm0IJ1VYISCtCQkBCLXqbuC0AaTVICIhNoYRqawlIK0FCQEItepu4UwDSKpAQEJtCCdU2JSCtAAkBCbXobeLOAIjvkBAQm0IJ1TYjID5DQkBCLXqbuBsAiK+QEBCbQgnVtkGA+AgJAQm16G3ibiAgvkFCQGwKJVTbBgPiEyQEJNSit4m7CYD4AgkBsSmUUG2bBIgPkBCQUIveJu4mAlJ0SAiITaGEattkQIoMCQEJteht4nYASFEhISA2hRKqrSNAiggJAQm16G3idghI0SAhIDaFEqqtY0CKBAkBCbXobeLOAZCiQEJAbAolVNucACkCJAQk1KK3iTtHQPKGhIDYFEqotjkDkickBCTUoreJuwCA5AUJAbEplFBtCwJIHpAQkFCL3ibuAgHiGhICYlMoodoWDBCXkBCQUIveJu4CAuIKEgJiUyih2hYUEBeQEJBQi94m7gID0mxICIhNoYRqW3BAmgkJAQm16G3i9gCQZkFCQGwKJVRbTwBpBiQEJNSit4nbI0AaDQkBsSmUUG09A6SRkBCQUIveJm4PAWkUJATEplBCtY0iqL8c6WX08Zq1c4bMnDktrfMEJK1ygfVThxwMdHR4GXUWSAiIlyl377QaPRrYa0/3EzdoxrSQEJAGJaDlh9lpR6hx44Ao8jbUNJAQEG/TnYPjI/eCGjUqh4kbN6UtJASkcdoHMZIaMwbYbbjXsdpAQkC8TnVOzpvbvuaa5Pc75+RA9mmlkBCQ7FqHOUKpBHR2QnX8of/uVnu7dzpIICEg3qWVDjdMAa1fbOvtnVRvPALSMLU5kHcKEBDvUkaHXSpAQFyqzbm8U4CAeJcyOuxSAQLiUm3O5Z0CBMS7lNFhlwoQEJdqcy7vFCAg3qWMDrtUgIC4VJtzeacAAfEuZXTYpQIExKXanMs7BQiIdymjwy4VICAu1eZc3ilAQLxLGR12qQABcak25/JOAQLiXcrosEsFCIhLtTmXdwoQEO9SRoddKkBAXKrNubxTgIB4lzI67FIBAuJSbc7lnQIExLuU0WGXChAQl2pzLu8UICDepYwOu1SAgLhUm3N5pwAB8S5ldNilAgTEpdqcyzsFCIh3KaPDLhUgIC7V5lzeKUBAvEsZHXapAAFxqTbn8k4BAuJdyuiwSwUIiEu1OZd3ChAQ71JGh10qQEBcqs25vFOAgHiXMjrsUgEC4lJtzuWdAgTEu5TRYZcKtBogau+9gZ12spNw82boH38EzN9PP9n1tbRWI0cCO+9s2QtAHAO//AK9aVP1EwOf5v87aqm0TeGb/v57YM2aFD2b0KWVAImuugpqzJhsKpmC+xUWA41+7z1g2TLoL7/MNi6AaNYsqH32yTzO1gPoTz+FfucdYMUK6I8/7gepCa0h2lr4pT/6CPF111n0aJJpywAyYgRKs2c3SSVAf/YZ9FtvAcuXQ3/+ufU8auJEROecY93PqsP69dDvvw+9ZAn0hx9ada1r3GRta80dX3kl9KpVjYsjzUitAog5cphvORdNL16M+IEH+k9zhC069VSoyZOF1tnNzJFPL11a/cvaXGq7ta/mCGKOJLk2ApJOfr16NfR994kT6BqQgajMkUQvXJjpFJGA9E6qVyUqqYT6uroWQ6ljkuya+e+5JfHBB6GffjoxtLwAqTq2ZQviO++Efv31RD8HM8hNWx5BUuVr0E55JdE4E8+aBb1iRd1gcgXkV8/0o48ifuwxa9Hz0panWNapqt0hryQaj/SbbyKeM6fwgFRhnj7d+nQrD231ypWIHV1T1k1caNcg5lv0Nxd+5pmJ+dtxx+qnOuwwqH33tUY3njcP+rXXavaTHkFq3tocNgzYZRco87nrrsDuu0ONHm3tp3m+UJk+3ep2sBQQo20jmv72W+iXX27EUNnHCBGQpNMMdcABUBMmQB0jv6wyzyPia65pCCDSOzfqqKOgjj4a6sADrQpBP/ss4kWLxH1sAEnSVjxpUQwJSO1MRKefDnXCCeJUVS65BPj660HtbY4gUkAGJlKHH46oqwsYMULsazx7dv8DRkEjIAHdxbK9UI0uuADqyCMFZQTE3d3Qy5c7B8RMaJ7QR5deWj0NkzT99tuIb75ZYlpdnSB5xmSrrWjyvI14BKmfATVpEqKzzhKlKV6wAPr553MBpArJQQchmjYNaG+X+Ss8ihAQHkFqFpTabz9E114rKjj91FOIe3pyA6QKyRFHILroIpm/wqMIASEgtQuqvR2lBQtkBbdsGeJbb80VEDN51N2N6qphQatcfjnw1Vd1LQkIAaldIJ2dKNUo+m076VdfRXz77fkDctppUKecIsADiO+6C/qVVwhILQV4DZJwDTJ2LCLzLStocZ1lJ828i7Wda8OHozR3rsBjQD/3HOKFCwkIAelXwPZOizr+eERnnCEqtnpLI5wCYk6zLrsMaty4RL/NMv746qsJCAFJAUh7O6IrroDaf//EQkNfHypmv0eNJfCuAVEnnYSoXE72G0Bl6lQCQkDsAYnOPrv6pFrS9CefIK5zt8s5IBMmIDr3XInrqJx/PrBhQ01bm4t00YR1jKrbCMxmr59/zjpUY/rzGmR7HdMsNYnvvRf6hRdqJsU5IIceisisuRK0eMYMmMKs1aSACKYSmRRmu231nFy/2NYb0l2sgR1q33wDmL9t29ix1osVJStPnQMyahSi668XFWS9FQBmANeAmDkLsdQ9REBEFWNplHT0MMO5BsSs+C3NmyeKpLqZasmSwhxBCIgobXZGeXzLVb9ghPsWnAPS1oaScMWuefpvVgEU5RSLgNjVvsg6D0CqS9zNg8EaK3i3dtw5IEOHojR/vki7+JFHoB9/nIAMpkBo1yCiihEYmdfrxHfcAfzwg8A6h1OsPfZA6aabRL7F5uUTzzxTKEAqF188+DWiKKIGGhEQSzE3baqer8f33w/z7EPaXB9BbI6o8fz50C+9VBhAzG7C+O67pdI2146ACPVdt64fDHMxKzil2nZU54CMH4/owgtFwcVz59Z944kUtu22M4tm/62RNgsn6zyTSTFkti4EpIZ+a9dCr1sHmP3Rq1b13+Ux78RN2ZwDYrNE5sYb+1+xWqPZAMItt4OI6NN7sZK+5fT69f3nvpVKShQG7+YakOjMM6GOPVYUQ9IrPglISA8KU74bSlRpdYxcA1IyNxA6OpLd3rgRlfPOq2tHQAhIciFltHAJiFnFa1bzSpp+4w3Et91GQGopENo1iO1yd0mRSWxcAmJ1erVoEcxrgOo1HkF4BJHUeCYbl4CUbrml+mI5SUtaqGjGICAERFJLmWxcAWJ+g8T8Fomk6Q8+QHzDDYmmBISAJBZJVgMXgJidj2YHpLRJ9qPzCBLacvdWvIsVRYgmT4Y6+WQpG8AXX6AyY4boHb08gvAIIi+slJZNOYIMHdr/bt6JE8Wv+RlwP374YegnnhBFQ0AIiKhQshhlBmTgze7m1aLDhkGZ/zbbgXfbzdot83pU825e6VoyAkJArIvMtoMUENtx09jXe8n2YOMREAKSps6s+hQFEMmvYW0bGAEhIFbFnsa4CIDEvb3QTz5p7T4BISDWRWPbIVdANm6s7q/Q775r63bVnoAQkFSFY9MpL0Cqv59oftN9sDe4CAMgIAREWCrpzZwCsnlzdf+KXro08dd3JRERkBYAxCS6ZG5dJvwMWdJrNiUFk8bG5ndG0oyP776Dec8uVq9GvHQpYDZ7NartsANK3d1AZ2fdEfPStlFhDjpOq6zmrQbX2Vl9/9SgiVy/HvE992TaFZg1Eeb3DqMTT+z/lVrbZva/b9gAbbajbvVX3e24cmWqbcA2Lqjjjqv+ghWGDt2+WwG0tYnFyralALGKnMZUQKAAARGIRJNwFSAg4eaekQsUICACkWgSrgIEJNzcM3KBAgREIBJNwlWAgISbe0YuUICACESiSbgKEJBwc8/IBQoQEIFINAlXAQISbu4ZuUABAiIQiSbhKkBAws09IxcoQEAEItEkXAUISLi5Z+QCBQiIQCSahKsAAQk394xcoAABEYhEk3AVICDh5p6RCxQgIAKRaBKuAgQk3NwzcoECBEQgEk3CVYCAhJt7Ri5QgIAIRKJJuAoQkHBzz8gFChAQgUg0CVcBAhJu7hm5QAECIhCJJuEqQEDCzT0jFyhAQAQi0SRcBQhIuLln5AIFCIhAJJqEqwABCTf3jFygAAERiESTcBUgIOHmnpELFCAgApFoEq4CBCTc3DNygQIERCASTcJVgICEm3tGLlCAgAhEokm4ChCQcHPPyAUKEBCBSDQJVwECEm7uGblAAQIiEIkm4SpAQMLNPSMXKEBABCLRJFwFCEi4uWfkAgUIiEAkmoSrAAEJN/eMXKAAARGIRJNwFSAg4eaekQsUICACkWgSrgKNAGRLuXyTAi4LV0VG3qoKaGD2kJ6ey+vFp5KC7yuX/wbgP0l2/Hcq4KECJ7f19DyeCRA9ZcoelSj60sPg6TIVqKtAKY73VA899FUmQEznvq6uuVDqQupNBVpGAa3ntfX2/jMpnsRTrIEB+srl/wHYNWlA/jsV8ECB79p6eoZL/BQDsrlcPiICXpcMShsqUGQFYuBPv+vpeUPioxiQgcG2dHVdp5T6t2Rw2lCBIimgtb5+SG/vVTY+WQNiBt9SLh8P4M8KGG8+AfzBZlLaUgFHCmwE8F8NvGY+h/T0PGM77/8BSH1/XzeM1vIAAAAASUVORK5CYII="},"3c50":function(t,e,n){},"3c5d":function(t,e,n){"use strict";var i=n("da84"),r=n("c65b"),a=n("ebb5"),o=n("07fa"),s=n("182d"),l=n("7b0b"),c=n("d039"),u=i.RangeError,h=i.Int8Array,d=h&&h.prototype,p=d&&d.set,f=a.aTypedArray,g=a.exportTypedArrayMethod,m=!c((function(){var t=new Uint8ClampedArray(2);return r(p,t,{length:1,0:3},1),3!==t[1]})),v=m&&a.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var t=new h(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));g("set",(function(t){f(this);var e=s(arguments.length>1?arguments[1]:void 0,1),n=l(t);if(m)return r(p,this,n,e);var i=this.length,a=o(n),c=0;if(a+e>i)throw u("Wrong length");while(c<a)this[e+c]=n[c++]}),!m||v)},"3d71":function(t,e,n){n("2834")},"3fec":function(t,e,n){},4:function(t,e){},4181:function(t,e,n){},"41c8":function(t,e,n){"use strict";var i=n("8937"),r=n("d177"),a=function(){function t(t){var e=t.xField,n=t.yField,i=t.adjustNames,r=void 0===i?["x","y"]:i,a=t.dimValuesMap;this.adjustNames=r,this.xField=e,this.yField=n,this.dimValuesMap=a}return t.prototype.isAdjust=function(t){return this.adjustNames.indexOf(t)>=0},t.prototype.getAdjustRange=function(t,e,n){var i,r,a=this.yField,o=n.indexOf(e),s=n.length;return!a&&this.isAdjust("y")?(i=0,r=1):s>1?(i=n[0===o?0:o-1],r=n[o===s-1?s-1:o+1],0!==o?i+=(e-i)/2:i-=(r-e)/2,o!==s-1?r-=(r-e)/2:r+=(e-n[s-2])/2):(i=0===e?0:e-.5,r=0===e?1:e+.5),{pre:i,next:r}},t.prototype.adjustData=function(t,e){var n=this,r=this.getDimValues(e);i["each"](t,(function(t,e){i["each"](r,(function(i,r){n.adjustDim(r,i,t,e)}))}))},t.prototype.groupData=function(t,e){return i["each"](t,(function(t){void 0===t[e]&&(t[e]=r["a"])})),i["groupBy"](t,e)},t.prototype.adjustDim=function(t,e,n,i){},t.prototype.getDimValues=function(t){var e=this,n=e.xField,a=e.yField,o=i["assign"]({},this.dimValuesMap),s=[];if(n&&this.isAdjust("x")&&s.push(n),a&&this.isAdjust("y")&&s.push(a),s.forEach((function(e){o&&o[e]||(o[e]=i["valuesOfKey"](t,e).sort((function(t,e){return t-e})))})),!a&&this.isAdjust("y")){var l="y";o[l]=[r["a"],1]}return o},t}();e["a"]=a},"42c9":function(t,e,n){t.exports=n.p+"img/video_icon_one.8e746fcb.svg"},4383:function(module,exports,__webpack_require__){(function(Buffer,process,global){(function(t,e){module.exports=e()})(0,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"addLinkAttributes",{enumerable:!0,get:function(){return i.addLinkAttributes}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(e,"LinkTarget",{enumerable:!0,get:function(){return i.LinkTarget}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(e,"LoopbackPort",{enumerable:!0,get:function(){return r.LoopbackPort}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return r.version}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return a.CMapCompressionType}}),Object.defineProperty(e,"createObjectURL",{enumerable:!0,get:function(){return a.createObjectURL}}),Object.defineProperty(e,"createPromiseCapability",{enumerable:!0,get:function(){return a.createPromiseCapability}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return a.createValidAbsoluteUrl}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return a.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return a.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return a.OPS}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return a.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return a.PermissionFlag}}),Object.defineProperty(e,"removeNullCharacters",{enumerable:!0,get:function(){return a.removeNullCharacters}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return a.shadow}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return a.UnexpectedResponseException}}),Object.defineProperty(e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return a.UNSUPPORTED_FEATURES}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return a.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return a.VerbosityLevel}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return o.AnnotationLayer}}),Object.defineProperty(e,"apiCompatibilityParams",{enumerable:!0,get:function(){return s.apiCompatibilityParams}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return l.GlobalWorkerOptions}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return u.SVGGraphics}});var i=n(1),r=n(202),a=n(5),o=n(216),s=n(206),l=n(209),c=n(217),u=n(218),h=n(7),d=h.isNodeJS;if(d){var p=n(219).PDFNodeStream;(0,r.setPDFNetworkStreamFactory)((function(t){return new p(t)}))}else{var f,g=n(222).PDFNetworkStream;(0,i.isFetchSupported)()&&(f=n(223).PDFFetchStream),(0,r.setPDFNetworkStreamFactory)((function(t){return f&&(0,i.isValidFetchUrl)(t.url)?new f(t):new g(t)}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addLinkAttributes=I,e.getFilenameFromUrl=E,e.isFetchSupported=D,e.isValidFetchUrl=F,e.loadScript=N,e.deprecated=B,e.PDFDateString=e.StatTimer=e.DOMSVGFactory=e.DOMCMapReaderFactory=e.BaseCMapReaderFactory=e.DOMCanvasFactory=e.BaseCanvasFactory=e.DEFAULT_LINK_REL=e.LinkTarget=e.RenderingCancelledException=e.PageViewport=void 0;var i=a(n(2)),r=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){l=!0,a=t},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(l)throw a}}}}function s(t,e){if(t){if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function c(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(i,r)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(t){c(a,i,r,o,s,"next",t)}function s(t){c(a,i,r,o,s,"throw",t)}o(void 0)}))}}function h(t){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function f(t){var e=v();return function(){var n,i=y(t);if(e){var r=y(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return g(this,n)}}function g(t,e){return!e||"object"!==h(e)&&"function"!==typeof e?m(t):e}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _(t,e,n){return e&&x(t.prototype,e),n&&x(t,n),t}var w="noopener noreferrer nofollow";e.DEFAULT_LINK_REL=w;var S="http://www.w3.org/2000/svg",O=function(){function t(){b(this,t),this.constructor===t&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}return _(t,[{key:"create",value:function(t,e){(0,r.unreachable)("Abstract method `create` called.")}},{key:"reset",value:function(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}},{key:"destroy",value:function(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}}]),t}();e.BaseCanvasFactory=O;var C=function(t){d(n,t);var e=f(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.ownerDocument,a=void 0===r?globalThis.document:r;return b(this,n),t=e.call(this),t._document=a,t}return _(n,[{key:"create",value:function(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");var n=this._document.createElement("canvas"),i=n.getContext("2d");return n.width=t,n.height=e,{canvas:n,context:i}}}]),n}(O);e.DOMCanvasFactory=C;var A=function(){function t(e){var n=e.baseUrl,i=void 0===n?null:n,a=e.isCompressed,o=void 0!==a&&a;b(this,t),this.constructor===t&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=i,this.isCompressed=o}return _(t,[{key:"fetch",value:function(){var t=u(i["default"].mark((function t(e){var n,a,o,s=this;return i["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.name,this.baseUrl){t.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(n){t.next=5;break}throw new Error("CMap name must be specified.");case 5:return a=this.baseUrl+n+(this.isCompressed?".bcmap":""),o=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE,t.abrupt("return",this._fetchData(a,o)["catch"]((function(t){throw new Error("Unable to load ".concat(s.isCompressed?"binary ":"","CMap at: ").concat(a))})));case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"_fetchData",value:function(t,e){(0,r.unreachable)("Abstract method `_fetchData` called.")}}]),t}();e.BaseCMapReaderFactory=A;var M=function(t){d(n,t);var e=f(n);function n(){return b(this,n),e.apply(this,arguments)}return _(n,[{key:"_fetchData",value:function(t,e){var n=this;return D()&&F(t,document.baseURI)?fetch(t).then(function(){var t=u(i["default"].mark((function t(a){var o;return i["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a.ok){t.next=2;break}throw new Error(a.statusText);case 2:if(!n.isCompressed){t.next=10;break}return t.t0=Uint8Array,t.next=6,a.arrayBuffer();case 6:t.t1=t.sent,o=new t.t0(t.t1),t.next=15;break;case 10:return t.t2=r.stringToBytes,t.next=13,a.text();case 13:t.t3=t.sent,o=(0,t.t2)(t.t3);case 15:return t.abrupt("return",{cMapData:o,compressionType:e});case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):new Promise((function(i,a){var o=new XMLHttpRequest;o.open("GET",t,!0),n.isCompressed&&(o.responseType="arraybuffer"),o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE){var t;if(200===o.status||0===o.status)if(n.isCompressed&&o.response?t=new Uint8Array(o.response):!n.isCompressed&&o.responseText&&(t=(0,r.stringToBytes)(o.responseText)),t)return void i({cMapData:t,compressionType:e});a(new Error(o.statusText))}},o.send(null)}))}}]),n}(A);e.DOMCMapReaderFactory=M;var T=function(){function t(){b(this,t)}return _(t,[{key:"create",value:function(t,e){(0,r.assert)(t>0&&e>0,"Invalid SVG dimensions");var n=document.createElementNS(S,"svg:svg");return n.setAttribute("version","1.1"),n.setAttribute("width",t+"px"),n.setAttribute("height",e+"px"),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox","0 0 "+t+" "+e),n}},{key:"createElement",value:function(t){return(0,r.assert)("string"===typeof t,"Invalid SVG element type"),document.createElementNS(S,t)}}]),t}();e.DOMSVGFactory=T;var k=function(){function t(e){var n=e.viewBox,i=e.scale,r=e.rotation,a=e.offsetX,o=void 0===a?0:a,s=e.offsetY,l=void 0===s?0:s,c=e.dontFlip,u=void 0!==c&&c;b(this,t),this.viewBox=n,this.scale=i,this.rotation=r,this.offsetX=o,this.offsetY=l;var h,d,p,f,g,m,v,y,x=(n[2]+n[0])/2,_=(n[3]+n[1])/2;switch(r%=360,r=r<0?r+360:r,r){case 180:h=-1,d=0,p=0,f=1;break;case 90:h=0,d=1,p=1,f=0;break;case 270:h=0,d=-1,p=-1,f=0;break;case 0:h=1,d=0,p=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(p=-p,f=-f),0===h?(g=Math.abs(_-n[1])*i+o,m=Math.abs(x-n[0])*i+l,v=Math.abs(n[3]-n[1])*i,y=Math.abs(n[2]-n[0])*i):(g=Math.abs(x-n[0])*i+o,m=Math.abs(_-n[1])*i+l,v=Math.abs(n[2]-n[0])*i,y=Math.abs(n[3]-n[1])*i),this.transform=[h*i,d*i,p*i,f*i,g-h*i*x-p*i*_,m-d*i*x-f*i*_],this.width=v,this.height=y}return _(t,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.scale,i=void 0===n?this.scale:n,r=e.rotation,a=void 0===r?this.rotation:r,o=e.offsetX,s=void 0===o?this.offsetX:o,l=e.offsetY,c=void 0===l?this.offsetY:l,u=e.dontFlip,h=void 0!==u&&u;return new t({viewBox:this.viewBox.slice(),scale:i,rotation:a,offsetX:s,offsetY:c,dontFlip:h})}},{key:"convertToViewportPoint",value:function(t,e){return r.Util.applyTransform([t,e],this.transform)}},{key:"convertToViewportRectangle",value:function(t){var e=r.Util.applyTransform([t[0],t[1]],this.transform),n=r.Util.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}},{key:"convertToPdfPoint",value:function(t,e){return r.Util.applyInverseTransform([t,e],this.transform)}}]),t}();e.PageViewport=k;var L=function(t){d(n,t);var e=f(n);function n(t,i){var r;return b(this,n),r=e.call(this,t),r.type=i,r}return n}(r.BaseException);e.RenderingCancelledException=L;var j={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.url,i=e.target,a=e.rel,o=e.enabled,s=void 0===o||o;(0,r.assert)(n&&"string"===typeof n,'addLinkAttributes: A valid "url" parameter must provided.');var l=(0,r.removeNullCharacters)(n);s?t.href=t.title=l:(t.href="",t.title="Disabled: ".concat(l),t.onclick=function(){return!1});var c="";switch(i){case j.NONE:break;case j.SELF:c="_self";break;case j.BLANK:c="_blank";break;case j.PARENT:c="_parent";break;case j.TOP:c="_top";break}t.target=c,t.rel="string"===typeof a?a:w}function E(t){var e=t.indexOf("#"),n=t.indexOf("?"),i=Math.min(e>0?e:t.length,n>0?n:t.length);return t.substring(t.lastIndexOf("/",i)+1,i)}e.LinkTarget=j;var P,R=function(){function t(){b(this,t),this.started=Object.create(null),this.times=[]}return _(t,[{key:"time",value:function(t){t in this.started&&(0,r.warn)("Timer is already running for ".concat(t)),this.started[t]=Date.now()}},{key:"timeEnd",value:function(t){t in this.started||(0,r.warn)("Timer has not been started for ".concat(t)),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}},{key:"toString",value:function(){var t,e=[],n=0,i=o(this.times);try{for(i.s();!(t=i.n()).done;){var r=t.value,a=r.name;a.length>n&&(n=a.length)}}catch(h){i.e(h)}finally{i.f()}var s,l=o(this.times);try{for(l.s();!(s=l.n()).done;){var c=s.value,u=c.end-c.start;e.push("".concat(c.name.padEnd(n)," ").concat(u,"ms\n"))}}catch(h){l.e(h)}finally{l.f()}return e.join("")}}]),t}();function D(){return"undefined"!==typeof fetch&&"undefined"!==typeof Response&&"body"in Response.prototype&&"undefined"!==typeof ReadableStream}function F(t,e){try{var n=e?new URL(t,e):new URL(t),i=n.protocol;return"http:"===i||"https:"===i}catch(r){return!1}}function N(t){return new Promise((function(e,n){var i=document.createElement("script");i.src=t,i.onload=e,i.onerror=function(){n(new Error("Cannot load script at: ".concat(i.src)))},(document.head||document.documentElement).appendChild(i)}))}function B(t){}e.StatTimer=R;var V=function(){function t(){b(this,t)}return _(t,null,[{key:"toDateObject",value:function(t){if(!t||!(0,r.isString)(t))return null;P||(P=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var e=P.exec(t);if(!e)return null;var n=parseInt(e[1],10),i=parseInt(e[2],10);i=i>=1&&i<=12?i-1:0;var a=parseInt(e[3],10);a=a>=1&&a<=31?a:1;var o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;var s=parseInt(e[5],10);s=s>=0&&s<=59?s:0;var l=parseInt(e[6],10);l=l>=0&&l<=59?l:0;var c=e[7]||"Z",u=parseInt(e[8],10);u=u>=0&&u<=23?u:0;var h=parseInt(e[9],10)||0;return h=h>=0&&h<=59?h:0,"-"===c?(o+=u,s+=h):"+"===c&&(o-=u,s-=h),new Date(Date.UTC(n,i,a,o,s,l))}}]),t}();e.PDFDateString=V},function(t,e,n){"use strict";t.exports=n(3)},function(t,e,n){"use strict";(function(t){function e(t){return e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}var n=function(t){var n,i=Object.prototype,r=i.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(E){c=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var r=e&&e.prototype instanceof v?e:v,a=Object.create(r.prototype),o=new L(i||[]);return a._invoke=A(t,n,o),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(E){return{type:"throw",arg:E}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",g="completed",m={};function v(){}function y(){}function b(){}var x={};x[o]=function(){return this};var _=Object.getPrototypeOf,w=_&&_(_(j([])));w&&w!==i&&r.call(w,o)&&(x=w);var S=b.prototype=v.prototype=Object.create(x);function O(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,n){function i(a,o,s,l){var c=h(t[a],t,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"===e(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(t){i("next",t,s,l)}),(function(t){i("throw",t,s,l)})):n.resolve(d).then((function(t){u.value=t,s(u)}),(function(t){return i("throw",t,s,l)}))}l(c.arg)}var a;function o(t,e){function r(){return new n((function(n,r){i(t,e,n,r)}))}return a=a?a.then(r,r):r()}this._invoke=o}function A(t,e,n){var i=d;return function(r,a){if(i===f)throw new Error("Generator is already running");if(i===g){if("throw"===r)throw a;return I()}n.method=r,n.arg=a;while(1){var o=n.delegate;if(o){var s=M(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var l=h(t,e,n);if("normal"===l.type){if(i=n.done?g:p,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=g,n.method="throw",n.arg=l.arg)}}}function M(t,e){var i=t.iterator[e.method];if(i===n){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=n,M(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=h(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,m;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,m):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function e(){while(++i<t.length)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return a.next=a}}return{next:I}}function I(){return{value:n,done:!0}}return y.prototype=S.constructor=b,b.constructor=y,y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},O(C.prototype),C.prototype[s]=function(){return this},t.AsyncIterator=C,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new C(u(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},O(S),c(S,l,"Generator"),S[o]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=j,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,r){return s.type="throw",s.arg=t,e.next=i,r&&(e.method="next",e.arg=n),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:j(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=n),m}},t}("object"===e(t)?t.exports:{});try{regeneratorRuntime=n}catch(i){Function("r","regeneratorRuntime = r")(n)}}).call(this,n(4)(t))},function(t,e,n){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function a(t){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function c(t){var e=d();return function(){var n,i=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==a(e)&&"function"!==typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.arrayByteLength=it,e.arraysToBytes=rt,e.assert=V,e.bytesToString=et,e.createPromiseCapability=St,e.escapeString=ft,e.getModificationDate=wt,e.getVerbosityLevel=D,e.info=F,e.isArrayBuffer=xt,e.isArrayEqual=_t,e.isBool=vt,e.isNum=yt,e.isString=bt,e.isSameOrigin=G,e.createValidAbsoluteUrl=U,e.removeNullCharacters=tt,e.setVerbosityLevel=R,e.shadow=H,e.string32=at,e.stringToBytes=nt,e.stringToPDFString=pt,e.stringToUTF8String=gt,e.utf8StringToString=mt,e.warn=N,e.unreachable=B,e.IsEvalSupportedCached=e.IsLittleEndianCached=e.createObjectURL=e.FormatError=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.StreamType=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.MissingPDFException=e.InvalidPDFException=e.AbortException=e.CMapCompressionType=e.ImageKind=e.FontType=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationBorderStyleType=e.UNSUPPORTED_FEATURES=e.VerbosityLevel=e.OPS=e.IDENTITY_MATRIX=e.FONT_IDENTITY_MATRIX=e.BaseException=void 0,n(6);var f=[1,0,0,1,0,0];e.IDENTITY_MATRIX=f;var g=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=g;var m={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=m;var v={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=v;var y={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=y;var b={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=b;var x={MARKED:"Marked",REVIEW:"Review"};e.AnnotationStateModelType=x;var _={MARKED:"Marked",UNMARKED:"Unmarked"};e.AnnotationMarkedState=_;var w={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};e.AnnotationReviewState=w;var S={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=S;var O={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=O;var C={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=C;var A={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=A;var M={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};e.StreamType=M;var T={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};e.FontType=T;var k={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=k;var L={NONE:0,BINARY:1,STREAM:2};e.CMapCompressionType=L;var j={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=j;var I={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent"};e.UNSUPPORTED_FEATURES=I;var E={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=E;var P=k.WARNINGS;function R(t){Number.isInteger(t)&&(P=t)}function D(){return P}function F(t){k.INFOS}function N(t){k.WARNINGS}function B(t){throw new Error(t)}function V(t,e){t||B(e)}function G(t,e){var n;try{if(n=new URL(t),!n.origin||"null"===n.origin)return!1}catch(r){return!1}var i=new URL(e,n);return n.origin===i.origin}function z(t){if(!t)return!1;switch(t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function U(t,e){if(!t)return null;try{var n=e?new URL(t,e):new URL(t);if(z(n))return n}catch(i){}return null}function H(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}var W=function(){function t(e){this.constructor===t&&B("Cannot initialize BaseException."),this.message=e,this.name=this.constructor.name}return t.prototype=new Error,t.constructor=t,t}();e.BaseException=W;var Y=function(t){s(n,t);var e=c(n);function n(t,i){var r;return o(this,n),r=e.call(this,t),r.code=i,r}return n}(W);e.PasswordException=Y;var X=function(t){s(n,t);var e=c(n);function n(t,i){var r;return o(this,n),r=e.call(this,t),r.details=i,r}return n}(W);e.UnknownErrorException=X;var q=function(t){s(n,t);var e=c(n);function n(){return o(this,n),e.apply(this,arguments)}return n}(W);e.InvalidPDFException=q;var Z=function(t){s(n,t);var e=c(n);function n(){return o(this,n),e.apply(this,arguments)}return n}(W);e.MissingPDFException=Z;var Q=function(t){s(n,t);var e=c(n);function n(t,i){var r;return o(this,n),r=e.call(this,t),r.status=i,r}return n}(W);e.UnexpectedResponseException=Q;var J=function(t){s(n,t);var e=c(n);function n(){return o(this,n),e.apply(this,arguments)}return n}(W);e.FormatError=J;var K=function(t){s(n,t);var e=c(n);function n(){return o(this,n),e.apply(this,arguments)}return n}(W);e.AbortException=K;var $=/\x00/g;function tt(t){return"string"!==typeof t?(N("The argument for removeNullCharacters must be a string."),t):t.replace($,"")}function et(t){V(null!==t&&"object"===a(t)&&void 0!==t.length,"Invalid argument for bytesToString");var e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);for(var i=[],r=0;r<e;r+=n){var o=Math.min(r+n,e),s=t.subarray(r,o);i.push(String.fromCharCode.apply(null,s))}return i.join("")}function nt(t){V("string"===typeof t,"Invalid argument for stringToBytes");for(var e=t.length,n=new Uint8Array(e),i=0;i<e;++i)n[i]=255&t.charCodeAt(i);return n}function it(t){return void 0!==t.length?t.length:(V(void 0!==t.byteLength,"arrayByteLength - invalid argument."),t.byteLength)}function rt(t){var e=t.length;if(1===e&&t[0]instanceof Uint8Array)return t[0];for(var n=0,i=0;i<e;i++)n+=it(t[i]);for(var r=0,a=new Uint8Array(n),o=0;o<e;o++){var s=t[o];s instanceof Uint8Array||(s="string"===typeof s?nt(s):new Uint8Array(s));var l=s.byteLength;a.set(s,r),r+=l}return a}function at(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function ot(){var t=new Uint8Array(4);t[0]=1;var e=new Uint32Array(t.buffer,0,1);return 1===e[0]}var st={get value(){return H(this,"value",ot())}};function lt(){try{return new Function(""),!0}catch(t){return!1}}e.IsLittleEndianCached=st;var ct={get value(){return H(this,"value",lt())}};e.IsEvalSupportedCached=ct;var ut=["rgb(",0,",",0,",",0,")"],ht=function(){function t(){o(this,t)}return r(t,null,[{key:"makeCssRgb",value:function(t,e,n){return ut[1]=t,ut[3]=e,ut[5]=n,ut.join("")}},{key:"transform",value:function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}},{key:"applyTransform",value:function(t,e){var n=t[0]*e[0]+t[1]*e[2]+e[4],i=t[0]*e[1]+t[1]*e[3]+e[5];return[n,i]}},{key:"applyInverseTransform",value:function(t,e){var n=e[0]*e[3]-e[1]*e[2],i=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,r=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[i,r]}},{key:"getAxialAlignedBoundingBox",value:function(e,n){var i=t.applyTransform(e,n),r=t.applyTransform(e.slice(2,4),n),a=t.applyTransform([e[0],e[3]],n),o=t.applyTransform([e[2],e[1]],n);return[Math.min(i[0],r[0],a[0],o[0]),Math.min(i[1],r[1],a[1],o[1]),Math.max(i[0],r[0],a[0],o[0]),Math.max(i[1],r[1],a[1],o[1])]}},{key:"inverseTransform",value:function(t){var e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}},{key:"apply3dTransform",value:function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]}},{key:"singularValueDecompose2dScale",value:function(t){var e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],i=t[0]*e[1]+t[1]*e[3],r=t[2]*e[0]+t[3]*e[2],a=t[2]*e[1]+t[3]*e[3],o=(n+a)/2,s=Math.sqrt((n+a)*(n+a)-4*(n*a-r*i))/2,l=o+s||1,c=o-s||1;return[Math.sqrt(l),Math.sqrt(c)]}},{key:"normalizeRect",value:function(t){var e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}},{key:"intersect",value:function(e,n){function i(t,e){return t-e}var r=[e[0],e[2],n[0],n[2]].sort(i),a=[e[1],e[3],n[1],n[3]].sort(i),o=[];return e=t.normalizeRect(e),n=t.normalizeRect(n),r[0]===e[0]&&r[1]===n[0]||r[0]===n[0]&&r[1]===e[0]?(o[0]=r[1],o[2]=r[2],a[0]===e[1]&&a[1]===n[1]||a[0]===n[1]&&a[1]===e[1]?(o[1]=a[1],o[3]=a[2],o):null):null}}]),t}();e.Util=ht;var dt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function pt(t){var e=t.length,n=[];if("þ"===t[0]&&"ÿ"===t[1])for(var i=2;i<e;i+=2)n.push(String.fromCharCode(t.charCodeAt(i)<<8|t.charCodeAt(i+1)));else if("ÿ"===t[0]&&"þ"===t[1])for(var r=2;r<e;r+=2)n.push(String.fromCharCode(t.charCodeAt(r+1)<<8|t.charCodeAt(r)));else for(var a=0;a<e;++a){var o=dt[t.charCodeAt(a)];n.push(o?String.fromCharCode(o):t.charAt(a))}return n.join("")}function ft(t){return t.replace(/([\(\)\\])/g,"\\$1")}function gt(t){return decodeURIComponent(escape(t))}function mt(t){return unescape(encodeURIComponent(t))}function vt(t){return"boolean"===typeof t}function yt(t){return"number"===typeof t}function bt(t){return"string"===typeof t}function xt(t){return"object"===a(t)&&null!==t&&void 0!==t.byteLength}function _t(t,e){return t.length===e.length&&t.every((function(t,n){return t===e[n]}))}function wt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date(Date.now()),e=[t.getUTCFullYear().toString(),(t.getUTCMonth()+1).toString().padStart(2,"0"),(t.getUTCDate()+1).toString().padStart(2,"0"),t.getUTCHours().toString().padStart(2,"0"),t.getUTCMinutes().toString().padStart(2,"0"),t.getUTCSeconds().toString().padStart(2,"0")];return e.join("")}function St(){var t=Object.create(null),e=!1;return Object.defineProperty(t,"settled",{get:function(){return e}}),t.promise=new Promise((function(n,i){t.resolve=function(t){e=!0,n(t)},t.reject=function(t){e=!0,i(t)}})),t}var Ot=function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!i&&URL.createObjectURL){var r=new Blob([e],{type:n});return URL.createObjectURL(r)}for(var a="data:".concat(n,";base64,"),o=0,s=e.length;o<s;o+=3){var l=255&e[o],c=255&e[o+1],u=255&e[o+2],h=l>>2,d=(3&l)<<4|c>>4,p=o+1<s?(15&c)<<2|u>>6:64,f=o+2<s?63&u:64;a+=t[h]+t[d]+t[p]+t[f]}return a}}();e.createObjectURL=Ot},function(t,e,n){"use strict";var i=n(7);function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}if("undefined"===typeof globalThis||!globalThis._pdfjsCompatibilityChecked){"undefined"!==typeof globalThis&&globalThis.Math===Math||(globalThis=n(8)),globalThis._pdfjsCompatibilityChecked=!0;var a="object"===("undefined"===typeof window?"undefined":r(window))&&"object"===("undefined"===typeof document?"undefined":r(document)),o="undefined"!==typeof navigator&&navigator.userAgent||"",s=/Trident/.test(o);(function(){!globalThis.btoa&&i.isNodeJS&&(globalThis.btoa=function(t){return Buffer.from(t,"binary").toString("base64")})})(),function(){!globalThis.atob&&i.isNodeJS&&(globalThis.atob=function(t){return Buffer.from(t,"base64").toString("binary")})}(),function(){a&&"undefined"===typeof Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}(),function(){if(a&&!i.isNodeJS){var t=document.createElement("div");if(t.classList.add("testOne","testTwo"),!0!==t.classList.contains("testOne")||!0!==t.classList.contains("testTwo")){var e=DOMTokenList.prototype.add,n=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var r=0,a=n;r<a.length;r++){var o=a[r];e.call(this,o)}},DOMTokenList.prototype.remove=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var r=0,a=e;r<a.length;r++){var o=a[r];n.call(this,o)}}}}}(),function(){if(a&&!i.isNodeJS){var t=document.createElement("div");!1!==t.classList.toggle("test",0)&&(DOMTokenList.prototype.toggle=function(t){var e=arguments.length>1?!!arguments[1]:!this.contains(t);return this[e?"add":"remove"](t),e})}}(),function(){if(a&&s){var t=window.history.pushState,e=window.history.replaceState;window.history.pushState=function(e,n,i){var r=void 0===i?[e,n]:[e,n,i];t.apply(this,r)},window.history.replaceState=function(t,n,i){var r=void 0===i?[t,n]:[t,n,i];e.apply(this,r)}}}(),function(){String.prototype.startsWith||n(53)}(),function(){String.prototype.endsWith||n(64)}(),function(){String.prototype.includes||n(66)}(),function(){Array.prototype.includes||n(68)}(),function(){Array.from||n(76)}(),function(){Object.assign||n(98)}(),function(){Object.fromEntries||n(101)}(),function(){Math.log2||(Math.log2=n(105))}(),function(){Number.isNaN||(Number.isNaN=n(107))}(),function(){Number.isInteger||(Number.isInteger=n(109))}(),function(){Uint8Array.prototype.slice||n(112)}(),function(){globalThis.Promise&&globalThis.Promise.allSettled||(globalThis.Promise=n(117))}(),function(){globalThis.URL=n(138)}(),function(){var t=!1;if("undefined"!==typeof ReadableStream)try{new ReadableStream({start:function(t){t.close()}}),t=!0}catch(e){}t||(globalThis.ReadableStream=n(145).ReadableStream)}(),function(){globalThis.Map&&globalThis.Map.prototype.entries||(globalThis.Map=n(146))}(),function(){globalThis.Set&&globalThis.Set.prototype.entries||(globalThis.Set=n(153))}(),function(){globalThis.WeakMap||(globalThis.WeakMap=n(155))}(),function(){globalThis.WeakSet||(globalThis.WeakSet=n(161))}(),function(){String.prototype.codePointAt||n(163)}(),function(){String.fromCodePoint||(String.fromCodePoint=n(165))}(),function(){globalThis.Symbol||n(167)}(),function(){String.prototype.padStart||n(190)}(),function(){String.prototype.padEnd||n(195)}(),function(){Object.values||(Object.values=n(197))}(),function(){Object.entries||(Object.entries=n(200))}()}},function(t,e,n){"use strict";function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;var r="object"===("undefined"===typeof process?"undefined":i(process))&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type);e.isNodeJS=r},function(t,e,n){n(9),t.exports=n(11)},function(t,e,n){var i=n(10),r=n(11);i({global:!0},{globalThis:r})},function(t,e,n){var i=n(11),r=n(12).f,a=n(26),o=n(29),s=n(30),l=n(40),c=n(52);t.exports=function(t,e){var n,u,h,d,p,f,g=t.target,m=t.global,v=t.stat;if(u=m?i:v?i[g]||s(g,{}):(i[g]||{}).prototype,u)for(h in e){if(p=e[h],t.noTargetGet?(f=r(u,h),d=f&&f.value):d=u[h],n=c(m?h:g+(v?".":"#")+h,t.forced),!n&&void 0!==d){if(typeof p===typeof d)continue;l(p,d)}(t.sham||d&&d.sham)&&a(p,"sham",!0),o(u,h,p,t)}}},function(t,e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof global&&global)||Function("return this")()},function(t,e,n){var i=n(13),r=n(15),a=n(16),o=n(17),s=n(21),l=n(23),c=n(24),u=Object.getOwnPropertyDescriptor;e.f=i?u:function(t,e){if(t=o(t),e=s(e,!0),c)try{return u(t,e)}catch(n){}if(l(t,e))return a(!r.f.call(t,e),t[e])}},function(t,e,n){var i=n(14);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,a=r&&!i.call({1:2},1);e.f=a?function(t){var e=r(this,t);return!!e&&e.enumerable}:i},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(18),r=n(20);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(14),r=n(19),a="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?a.call(t,""):Object(t)}:Object},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var i=n(22);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(13),r=n(14),a=n(25);t.exports=!i&&!r((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(11),r=n(22),a=i.document,o=r(a)&&r(a.createElement);t.exports=function(t){return o?a.createElement(t):{}}},function(t,e,n){var i=n(13),r=n(27),a=n(16);t.exports=i?function(t,e,n){return r.f(t,e,a(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(13),r=n(24),a=n(28),o=n(21),s=Object.defineProperty;e.f=i?s:function(t,e,n){if(a(t),e=o(e,!0),a(n),r)try{return s(t,e,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(22);t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var i=n(11),r=n(26),a=n(23),o=n(30),s=n(31),l=n(33),c=l.get,u=l.enforce,h=String(String).split("String");(t.exports=function(t,e,n,s){var l=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||a(n,"name")||r(n,"name",e),u(n).source=h.join("string"==typeof e?e:"")),t!==i?(l?!d&&t[e]&&(c=!0):delete t[e],c?t[e]=n:r(t,e,n)):c?t[e]=n:o(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},function(t,e,n){var i=n(11),r=n(26);t.exports=function(t,e){try{r(i,t,e)}catch(n){i[t]=e}return e}},function(t,e,n){var i=n(32),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(t){return r.call(t)}),t.exports=i.inspectSource},function(t,e,n){var i=n(11),r=n(30),a="__core-js_shared__",o=i[a]||r(a,{});t.exports=o},function(t,e,n){var i,r,a,o=n(34),s=n(11),l=n(22),c=n(26),u=n(23),h=n(35),d=n(39),p=s.WeakMap,f=function(t){return a(t)?r(t):i(t,{})},g=function(t){return function(e){var n;if(!l(e)||(n=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}};if(o){var m=new p,v=m.get,y=m.has,b=m.set;i=function(t,e){return b.call(m,t,e),e},r=function(t){return v.call(m,t)||{}},a=function(t){return y.call(m,t)}}else{var x=h("state");d[x]=!0,i=function(t,e){return c(t,x,e),e},r=function(t){return u(t,x)?t[x]:{}},a=function(t){return u(t,x)}}t.exports={set:i,get:r,has:a,enforce:f,getterFor:g}},function(t,e,n){var i=n(11),r=n(31),a=i.WeakMap;t.exports="function"===typeof a&&/native code/.test(r(a))},function(t,e,n){var i=n(36),r=n(38),a=i("keys");t.exports=function(t){return a[t]||(a[t]=r(t))}},function(t,e,n){var i=n(37),r=n(32);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+i).toString(36)}},function(t,e){t.exports={}},function(t,e,n){var i=n(23),r=n(41),a=n(12),o=n(27);t.exports=function(t,e){for(var n=r(e),s=o.f,l=a.f,c=0;c<n.length;c++){var u=n[c];i(t,u)||s(t,u,l(e,u))}}},function(t,e,n){var i=n(42),r=n(44),a=n(51),o=n(28);t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(o(t)),n=a.f;return n?e.concat(n(t)):e}},function(t,e,n){var i=n(43),r=n(11),a=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?a(i[t])||a(r[t]):i[t]&&i[t][e]||r[t]&&r[t][e]}},function(t,e,n){var i=n(11);t.exports=i},function(t,e,n){var i=n(45),r=n(50),a=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,a)}},function(t,e,n){var i=n(23),r=n(17),a=n(46).indexOf,o=n(39);t.exports=function(t,e){var n,s=r(t),l=0,c=[];for(n in s)!i(o,n)&&i(s,n)&&c.push(n);while(e.length>l)i(s,n=e[l++])&&(~a(c,n)||c.push(n));return c}},function(t,e,n){var i=n(17),r=n(47),a=n(49),o=function(t){return function(e,n,o){var s,l=i(e),c=r(l.length),u=a(o,c);if(t&&n!=n){while(c>u)if(s=l[u++],s!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},function(t,e,n){var i=n(48),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(48),r=Math.max,a=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):a(n,e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(14),r=/#|\.prototype\./,a=function(t,e){var n=s[o(t)];return n==c||n!=l&&("function"==typeof e?i(e):!!e)},o=a.normalize=function(t){return String(t).replace(r,".").toLowerCase()},s=a.data={},l=a.NATIVE="N",c=a.POLYFILL="P";t.exports=a},function(t,e,n){n(54);var i=n(61);t.exports=i("String","startsWith")},function(t,e,n){"use strict";var i=n(10),r=n(12).f,a=n(47),o=n(55),s=n(20),l=n(60),c=n(37),u="".startsWith,h=Math.min,d=l("startsWith"),p=!c&&!d&&!!function(){var t=r(String.prototype,"startsWith");return t&&!t.writable}();i({target:"String",proto:!0,forced:!p&&!d},{startsWith:function(t){var e=String(s(this));o(t);var n=a(h(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return u?u.call(e,i,n):e.slice(n,n+i.length)===i}})},function(t,e,n){var i=n(56);t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,n){var i=n(22),r=n(19),a=n(57),o=a("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},function(t,e,n){var i=n(11),r=n(36),a=n(23),o=n(38),s=n(58),l=n(59),c=r("wks"),u=i.Symbol,h=l?u:u&&u.withoutSetter||o;t.exports=function(t){return a(c,t)||(s&&a(u,t)?c[t]=u[t]:c[t]=h("Symbol."+t)),c[t]}},function(t,e,n){var i=n(14);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},function(t,e,n){var i=n(58);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var i=n(57),r=i("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(i){}}return!1}},function(t,e,n){var i=n(11),r=n(62),a=Function.call;t.exports=function(t,e,n){return r(a,i[t].prototype[e],n)}},function(t,e,n){var i=n(63);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){n(65);var i=n(61);t.exports=i("String","endsWith")},function(t,e,n){"use strict";var i=n(10),r=n(12).f,a=n(47),o=n(55),s=n(20),l=n(60),c=n(37),u="".endsWith,h=Math.min,d=l("endsWith"),p=!c&&!d&&!!function(){var t=r(String.prototype,"endsWith");return t&&!t.writable}();i({target:"String",proto:!0,forced:!p&&!d},{endsWith:function(t){var e=String(s(this));o(t);var n=arguments.length>1?arguments[1]:void 0,i=a(e.length),r=void 0===n?i:h(a(n),i),l=String(t);return u?u.call(e,l,r):e.slice(r-l.length,r)===l}})},function(t,e,n){n(67);var i=n(61);t.exports=i("String","includes")},function(t,e,n){"use strict";var i=n(10),r=n(55),a=n(20),o=n(60);i({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(a(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){n(69);var i=n(61);t.exports=i("Array","includes")},function(t,e,n){"use strict";var i=n(10),r=n(46).includes,a=n(70),o=n(75),s=o("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:!s},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},function(t,e,n){var i=n(57),r=n(71),a=n(27),o=i("unscopables"),s=Array.prototype;void 0==s[o]&&a.f(s,o,{configurable:!0,value:r(null)}),t.exports=function(t){s[o][t]=!0}},function(t,e,n){var i,r=n(28),a=n(72),o=n(50),s=n(39),l=n(74),c=n(25),u=n(35),h=">",d="<",p="prototype",f="script",g=u("IE_PROTO"),m=function(){},v=function(t){return d+f+h+t+d+"/"+f+h},y=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},b=function(){var t,e=c("iframe"),n="java"+f+":";return e.style.display="none",l.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(v("document.F=Object")),t.close(),t.F},x=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}x=i?y(i):b();var t=o.length;while(t--)delete x[p][o[t]];return x()};s[g]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(m[p]=r(t),n=new m,m[p]=null,n[g]=t):n=x(),void 0===e?n:a(n,e)}},function(t,e,n){var i=n(13),r=n(27),a=n(28),o=n(73);t.exports=i?Object.defineProperties:function(t,e){a(t);var n,i=o(e),s=i.length,l=0;while(s>l)r.f(t,n=i[l++],e[n]);return t}},function(t,e,n){var i=n(45),r=n(50);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(42);t.exports=i("document","documentElement")},function(t,e,n){var i=n(13),r=n(14),a=n(23),o=Object.defineProperty,s={},l=function(t){throw t};t.exports=function(t,e){if(a(s,t))return s[t];e||(e={});var n=[][t],c=!!a(e,"ACCESSORS")&&e.ACCESSORS,u=a(e,0)?e[0]:l,h=a(e,1)?e[1]:void 0;return s[t]=!!n&&!r((function(){if(c&&!i)return!0;var t={length:-1};c?o(t,1,{enumerable:!0,get:l}):t[1]=1,n.call(t,u,h)}))}},function(t,e,n){n(77),n(89);var i=n(43);t.exports=i.Array.from},function(t,e,n){"use strict";var i=n(78).charAt,r=n(33),a=n(79),o="String Iterator",s=r.set,l=r.getterFor(o);a(String,"String",(function(t){s(this,{type:o,string:String(t),index:0})}),(function(){var t,e=l(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=i(n,r),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var i=n(48),r=n(20),a=function(t){return function(e,n){var a,o,s=String(r(e)),l=i(n),c=s.length;return l<0||l>=c?t?"":void 0:(a=s.charCodeAt(l),a<55296||a>56319||l+1===c||(o=s.charCodeAt(l+1))<56320||o>57343?t?s.charAt(l):a:t?s.slice(l,l+2):o-56320+(a-55296<<10)+65536)}};t.exports={codeAt:a(!1),charAt:a(!0)}},function(t,e,n){"use strict";var i=n(10),r=n(80),a=n(82),o=n(87),s=n(85),l=n(26),c=n(29),u=n(57),h=n(37),d=n(86),p=n(81),f=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,m=u("iterator"),v="keys",y="values",b="entries",x=function(){return this};t.exports=function(t,e,n,u,p,_,w){r(n,e,u);var S,O,C,A=function(t){if(t===p&&j)return j;if(!g&&t in k)return k[t];switch(t){case v:return function(){return new n(this,t)};case y:return function(){return new n(this,t)};case b:return function(){return new n(this,t)}}return function(){return new n(this)}},M=e+" Iterator",T=!1,k=t.prototype,L=k[m]||k["@@iterator"]||p&&k[p],j=!g&&L||A(p),I="Array"==e&&k.entries||L;if(I&&(S=a(I.call(new t)),f!==Object.prototype&&S.next&&(h||a(S)===f||(o?o(S,f):"function"!=typeof S[m]&&l(S,m,x)),s(S,M,!0,!0),h&&(d[M]=x))),p==y&&L&&L.name!==y&&(T=!0,j=function(){return L.call(this)}),h&&!w||k[m]===j||l(k,m,j),d[e]=j,p)if(O={values:A(y),keys:_?j:A(v),entries:A(b)},w)for(C in O)(g||T||!(C in k))&&c(k,C,O[C]);else i({target:e,proto:!0,forced:g||T},O);return O}},function(t,e,n){"use strict";var i=n(81).IteratorPrototype,r=n(71),a=n(16),o=n(85),s=n(86),l=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=r(i,{next:a(1,n)}),o(t,c,!1,!0),s[c]=l,t}},function(t,e,n){"use strict";var i,r,a,o=n(82),s=n(26),l=n(23),c=n(57),u=n(37),h=c("iterator"),d=!1,p=function(){return this};[].keys&&(a=[].keys(),"next"in a?(r=o(o(a)),r!==Object.prototype&&(i=r)):d=!0),void 0==i&&(i={}),u||l(i,h)||s(i,h,p),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:d}},function(t,e,n){var i=n(23),r=n(83),a=n(35),o=n(84),s=a("IE_PROTO"),l=Object.prototype;t.exports=o?Object.getPrototypeOf:function(t){return t=r(t),i(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?l:null}},function(t,e,n){var i=n(20);t.exports=function(t){return Object(i(t))}},function(t,e,n){var i=n(14);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var i=n(27).f,r=n(23),a=n(57),o=a("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e){t.exports={}},function(t,e,n){var i=n(28),r=n(88);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(n,[]),e=n instanceof Array}catch(a){}return function(n,a){return i(n),r(a),e?t.call(n,a):n.__proto__=a,n}}():void 0)},function(t,e,n){var i=n(22);t.exports=function(t){if(!i(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var i=n(10),r=n(90),a=n(97),o=!a((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:o},{from:r})},function(t,e,n){"use strict";var i=n(62),r=n(83),a=n(91),o=n(92),s=n(47),l=n(93),c=n(94);t.exports=function(t){var e,n,u,h,d,p,f=r(t),g="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,y=void 0!==v,b=c(f),x=0;if(y&&(v=i(v,m>2?arguments[2]:void 0,2)),void 0==b||g==Array&&o(b))for(e=s(f.length),n=new g(e);e>x;x++)p=y?v(f[x],x):f[x],l(n,x,p);else for(h=b.call(f),d=h.next,n=new g;!(u=d.call(h)).done;x++)p=y?a(h,v,[u.value,x],!0):u.value,l(n,x,p);return n.length=x,n}},function(t,e,n){var i=n(28);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(o){var a=t["return"];throw void 0!==a&&i(a.call(t)),o}}},function(t,e,n){var i=n(57),r=n(86),a=i("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[a]===t)}},function(t,e,n){"use strict";var i=n(21),r=n(27),a=n(16);t.exports=function(t,e,n){var o=i(e);o in t?r.f(t,o,a(0,n)):t[o]=n}},function(t,e,n){var i=n(95),r=n(86),a=n(57),o=a("iterator");t.exports=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||r[i(t)]}},function(t,e,n){var i=n(96),r=n(19),a=n(57),o=a("toStringTag"),s="Arguments"==r(function(){return arguments}()),l=function(t,e){try{return t[e]}catch(n){}};t.exports=i?r:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=l(e=Object(t),o))?n:s?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},function(t,e,n){var i=n(57),r=i("toStringTag"),a={};a[r]="z",t.exports="[object z]"===String(a)},function(t,e,n){var i=n(57),r=i("iterator"),a=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){a=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(l){}t.exports=function(t,e){if(!e&&!a)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(l){}return n}},function(t,e,n){n(99);var i=n(43);t.exports=i.Object.assign},function(t,e,n){var i=n(10),r=n(100);i({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(t,e,n){"use strict";var i=n(13),r=n(14),a=n(73),o=n(51),s=n(15),l=n(83),c=n(18),u=Object.assign,h=Object.defineProperty;t.exports=!u||r((function(){if(i&&1!==u({b:1},u(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=u({},t)[n]||a(u({},e)).join("")!=r}))?function(t,e){var n=l(t),r=arguments.length,u=1,h=o.f,d=s.f;while(r>u){var p,f=c(arguments[u++]),g=h?a(f).concat(h(f)):a(f),m=g.length,v=0;while(m>v)p=g[v++],i&&!d.call(f,p)||(n[p]=f[p])}return n}:u},function(t,e,n){n(102),n(103);var i=n(43);t.exports=i.Object.fromEntries},function(t,e,n){"use strict";var i=n(17),r=n(70),a=n(86),o=n(33),s=n(79),l="Array Iterator",c=o.set,u=o.getterFor(l);t.exports=s(Array,"Array",(function(t,e){c(this,{type:l,target:i(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var i=n(10),r=n(104),a=n(93);i({target:"Object",stat:!0},{fromEntries:function(t){var e={};return r(t,(function(t,n){a(e,t,n)}),void 0,!0),e}})},function(t,e,n){var i=n(28),r=n(92),a=n(47),o=n(62),s=n(94),l=n(91),c=function(t,e){this.stopped=t,this.result=e},u=t.exports=function(t,e,n,u,h){var d,p,f,g,m,v,y,b=o(e,n,u?2:1);if(h)d=t;else{if(p=s(t),"function"!=typeof p)throw TypeError("Target is not iterable");if(r(p)){for(f=0,g=a(t.length);g>f;f++)if(m=u?b(i(y=t[f])[0],y[1]):b(t[f]),m&&m instanceof c)return m;return new c(!1)}d=p.call(t)}v=d.next;while(!(y=v.call(d)).done)if(m=l(d,b,y.value,u),"object"==typeof m&&m&&m instanceof c)return m;return new c(!1)};u.stop=function(t){return new c(!0,t)}},function(t,e,n){n(106);var i=n(43);t.exports=i.Math.log2},function(t,e,n){var i=n(10),r=Math.log,a=Math.LN2;i({target:"Math",stat:!0},{log2:function(t){return r(t)/a}})},function(t,e,n){n(108);var i=n(43);t.exports=i.Number.isNaN},function(t,e,n){var i=n(10);i({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},function(t,e,n){n(110);var i=n(43);t.exports=i.Number.isInteger},function(t,e,n){var i=n(10),r=n(111);i({target:"Number",stat:!0},{isInteger:r})},function(t,e,n){var i=n(22),r=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},function(t,e,n){n(113)},function(t,e,n){"use strict";var i=n(114),r=n(116),a=n(14),o=i.aTypedArray,s=i.aTypedArrayConstructor,l=i.exportTypedArrayMethod,c=[].slice,u=a((function(){new Int8Array(1).slice()}));l("slice",(function(t,e){var n=c.call(o(this),t,e),i=r(this,this.constructor),a=0,l=n.length,u=new(s(i))(l);while(l>a)u[a]=n[a++];return u}),u)},function(t,e,n){"use strict";var i,r=n(115),a=n(13),o=n(11),s=n(22),l=n(23),c=n(95),u=n(26),h=n(29),d=n(27).f,p=n(82),f=n(87),g=n(57),m=n(38),v=o.Int8Array,y=v&&v.prototype,b=o.Uint8ClampedArray,x=b&&b.prototype,_=v&&p(v),w=y&&p(y),S=Object.prototype,O=S.isPrototypeOf,C=g("toStringTag"),A=m("TYPED_ARRAY_TAG"),M=r&&!!f&&"Opera"!==c(o.opera),T=!1,k={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},L=function(t){var e=c(t);return"DataView"===e||l(k,e)},j=function(t){return s(t)&&l(k,c(t))},I=function(t){if(j(t))return t;throw TypeError("Target is not a typed array")},E=function(t){if(f){if(O.call(_,t))return t}else for(var e in k)if(l(k,i)){var n=o[e];if(n&&(t===n||O.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},P=function(t,e,n){if(a){if(n)for(var i in k){var r=o[i];r&&l(r.prototype,t)&&delete r.prototype[t]}w[t]&&!n||h(w,t,n?e:M&&y[t]||e)}},R=function(t,e,n){var i,r;if(a){if(f){if(n)for(i in k)r=o[i],r&&l(r,t)&&delete r[t];if(_[t]&&!n)return;try{return h(_,t,n?e:M&&v[t]||e)}catch(s){}}for(i in k)r=o[i],!r||r[t]&&!n||h(r,t,e)}};for(i in k)o[i]||(M=!1);if((!M||"function"!=typeof _||_===Function.prototype)&&(_=function(){throw TypeError("Incorrect invocation")},M))for(i in k)o[i]&&f(o[i],_);if((!M||!w||w===S)&&(w=_.prototype,M))for(i in k)o[i]&&f(o[i].prototype,w);if(M&&p(x)!==w&&f(x,w),a&&!l(w,C))for(i in T=!0,d(w,C,{get:function(){return s(this)?this[A]:void 0}}),k)o[i]&&u(o[i],A,i);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:T&&A,aTypedArray:I,aTypedArrayConstructor:E,exportTypedArrayMethod:P,exportTypedArrayStaticMethod:R,isView:L,isTypedArray:j,TypedArray:_,TypedArrayPrototype:w}},function(t,e){t.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},function(t,e,n){var i=n(28),r=n(63),a=n(57),o=a("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||void 0==(n=i(a)[o])?e:r(n)}},function(t,e,n){n(118),n(77),n(120),n(122),n(136),n(137);var i=n(43);t.exports=i.Promise},function(t,e,n){var i=n(96),r=n(29),a=n(119);i||r(Object.prototype,"toString",a,{unsafe:!0})},function(t,e,n){"use strict";var i=n(96),r=n(95);t.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},function(t,e,n){var i=n(11),r=n(121),a=n(102),o=n(26),s=n(57),l=s("iterator"),c=s("toStringTag"),u=a.values;for(var h in r){var d=i[h],p=d&&d.prototype;if(p){if(p[l]!==u)try{o(p,l,u)}catch(g){p[l]=u}if(p[c]||o(p,c,h),r[h])for(var f in a)if(p[f]!==a[f])try{o(p,f,a[f])}catch(g){p[f]=a[f]}}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){"use strict";var i,r,a,o,s=n(10),l=n(37),c=n(11),u=n(42),h=n(123),d=n(29),p=n(124),f=n(85),g=n(125),m=n(22),v=n(63),y=n(126),b=n(19),x=n(31),_=n(104),w=n(97),S=n(116),O=n(127).set,C=n(130),A=n(131),M=n(133),T=n(132),k=n(134),L=n(33),j=n(52),I=n(57),E=n(135),P=I("species"),R="Promise",D=L.get,F=L.set,N=L.getterFor(R),B=h,V=c.TypeError,G=c.document,z=c.process,U=u("fetch"),H=T.f,W=H,Y="process"==b(z),X=!!(G&&G.createEvent&&c.dispatchEvent),q="unhandledrejection",Z="rejectionhandled",Q=0,J=1,K=2,$=1,tt=2,et=j(R,(function(){var t=x(B)!==String(B);if(!t){if(66===E)return!0;if(!Y&&"function"!=typeof PromiseRejectionEvent)return!0}if(l&&!B.prototype["finally"])return!0;if(E>=51&&/native code/.test(B))return!1;var e=B.resolve(1),n=function(t){t((function(){}),(function(){}))},i=e.constructor={};return i[P]=n,!(e.then((function(){}))instanceof n)})),nt=et||!w((function(t){B.all(t)["catch"]((function(){}))})),it=function(t){var e;return!(!m(t)||"function"!=typeof(e=t.then))&&e},rt=function(t,e,n){if(!e.notified){e.notified=!0;var i=e.reactions;C((function(){var r=e.value,a=e.state==J,o=0;while(i.length>o){var s,l,c,u=i[o++],h=a?u.ok:u.fail,d=u.resolve,p=u.reject,f=u.domain;try{h?(a||(e.rejection===tt&&lt(t,e),e.rejection=$),!0===h?s=r:(f&&f.enter(),s=h(r),f&&(f.exit(),c=!0)),s===u.promise?p(V("Promise-chain cycle")):(l=it(s))?l.call(s,d,p):d(s)):p(r)}catch(g){f&&!c&&f.exit(),p(g)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&ot(t,e)}))}},at=function(t,e,n){var i,r;X?(i=G.createEvent("Event"),i.promise=e,i.reason=n,i.initEvent(t,!1,!0),c.dispatchEvent(i)):i={promise:e,reason:n},(r=c["on"+t])?r(i):t===q&&M("Unhandled promise rejection",n)},ot=function(t,e){O.call(c,(function(){var n,i=e.value,r=st(e);if(r&&(n=k((function(){Y?z.emit("unhandledRejection",i,t):at(q,t,i)})),e.rejection=Y||st(e)?tt:$,n.error))throw n.value}))},st=function(t){return t.rejection!==$&&!t.parent},lt=function(t,e){O.call(c,(function(){Y?z.emit("rejectionHandled",t):at(Z,t,e.value)}))},ct=function(t,e,n,i){return function(r){t(e,n,r,i)}},ut=function(t,e,n,i){e.done||(e.done=!0,i&&(e=i),e.value=n,e.state=K,rt(t,e,!0))},ht=function(t,e,n,i){if(!e.done){e.done=!0,i&&(e=i);try{if(t===n)throw V("Promise can't be resolved itself");var r=it(n);r?C((function(){var i={done:!1};try{r.call(n,ct(ht,t,i,e),ct(ut,t,i,e))}catch(a){ut(t,i,a,e)}})):(e.value=n,e.state=J,rt(t,e,!1))}catch(a){ut(t,{done:!1},a,e)}}};et&&(B=function(t){y(this,B,R),v(t),i.call(this);var e=D(this);try{t(ct(ht,this,e),ct(ut,this,e))}catch(n){ut(this,e,n)}},i=function(t){F(this,{type:R,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Q,value:void 0})},i.prototype=p(B.prototype,{then:function(t,e){var n=N(this),i=H(S(this,B));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=Y?z.domain:void 0,n.parent=!0,n.reactions.push(i),n.state!=Q&&rt(this,n,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new i,e=D(t);this.promise=t,this.resolve=ct(ht,t,e),this.reject=ct(ut,t,e)},T.f=H=function(t){return t===B||t===a?new r(t):W(t)},l||"function"!=typeof h||(o=h.prototype.then,d(h.prototype,"then",(function(t,e){var n=this;return new B((function(t,e){o.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof U&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return A(B,U.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:et},{Promise:B}),f(B,R,!1,!0),g(R),a=u(R),s({target:R,stat:!0,forced:et},{reject:function(t){var e=H(this);return e.reject.call(void 0,t),e.promise}}),s({target:R,stat:!0,forced:l||et},{resolve:function(t){return A(l&&this===a?B:this,t)}}),s({target:R,stat:!0,forced:nt},{all:function(t){var e=this,n=H(e),i=n.resolve,r=n.reject,a=k((function(){var n=v(e.resolve),a=[],o=0,s=1;_(t,(function(t){var l=o++,c=!1;a.push(void 0),s++,n.call(e,t).then((function(t){c||(c=!0,a[l]=t,--s||i(a))}),r)})),--s||i(a)}));return a.error&&r(a.value),n.promise},race:function(t){var e=this,n=H(e),i=n.reject,r=k((function(){var r=v(e.resolve);_(t,(function(t){r.call(e,t).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},function(t,e,n){var i=n(11);t.exports=i.Promise},function(t,e,n){var i=n(29);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e,n){"use strict";var i=n(42),r=n(27),a=n(57),o=n(13),s=a("species");t.exports=function(t){var e=i(t),n=r.f;o&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var i,r,a,o=n(11),s=n(14),l=n(19),c=n(62),u=n(74),h=n(25),d=n(128),p=o.location,f=o.setImmediate,g=o.clearImmediate,m=o.process,v=o.MessageChannel,y=o.Dispatch,b=0,x={},_="onreadystatechange",w=function(t){if(x.hasOwnProperty(t)){var e=x[t];delete x[t],e()}},S=function(t){return function(){w(t)}},O=function(t){w(t.data)},C=function(t){o.postMessage(t+"",p.protocol+"//"+p.host)};f&&g||(f=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return x[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},i(b),b},g=function(t){delete x[t]},"process"==l(m)?i=function(t){m.nextTick(S(t))}:y&&y.now?i=function(t){y.now(S(t))}:v&&!d?(r=new v,a=r.port2,r.port1.onmessage=O,i=c(a.postMessage,a,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||s(C)||"file:"===p.protocol?i=_ in h("script")?function(t){u.appendChild(h("script"))[_]=function(){u.removeChild(this),w(t)}}:function(t){setTimeout(S(t),0)}:(i=C,o.addEventListener("message",O,!1))),t.exports={set:f,clear:g}},function(t,e,n){var i=n(129);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},function(t,e,n){var i=n(42);t.exports=i("navigator","userAgent")||""},function(t,e,n){var i,r,a,o,s,l,c,u,h=n(11),d=n(12).f,p=n(19),f=n(127).set,g=n(128),m=h.MutationObserver||h.WebKitMutationObserver,v=h.process,y=h.Promise,b="process"==p(v),x=d(h,"queueMicrotask"),_=x&&x.value;_||(i=function(){var t,e;b&&(t=v.domain)&&t.exit();while(r){e=r.fn,r=r.next;try{e()}catch(n){throw r?o():a=void 0,n}}a=void 0,t&&t.enter()},b?o=function(){v.nextTick(i)}:m&&!g?(s=!0,l=document.createTextNode(""),new m(i).observe(l,{characterData:!0}),o=function(){l.data=s=!s}):y&&y.resolve?(c=y.resolve(void 0),u=c.then,o=function(){u.call(c,i)}):o=function(){f.call(h,i)}),t.exports=_||function(t){var e={fn:t,next:void 0};a&&(a.next=e),r||(r=e,o()),a=e}},function(t,e,n){var i=n(28),r=n(22),a=n(132);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=a.f(t),o=n.resolve;return o(e),n.promise}},function(t,e,n){"use strict";var i=n(63),r=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)};t.exports.f=function(t){return new r(t)}},function(t,e,n){var i=n(11);t.exports=function(t,e){var n=i.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},function(t,e,n){var i,r,a=n(11),o=n(129),s=a.process,l=s&&s.versions,c=l&&l.v8;c?(i=c.split("."),r=i[0]+i[1]):o&&(i=o.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/),i&&(r=i[1]))),t.exports=r&&+r},function(t,e,n){"use strict";var i=n(10),r=n(63),a=n(132),o=n(134),s=n(104);i({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=a.f(e),i=n.resolve,l=n.reject,c=o((function(){var n=r(e.resolve),a=[],o=0,l=1;s(t,(function(t){var r=o++,s=!1;a.push(void 0),l++,n.call(e,t).then((function(t){s||(s=!0,a[r]={status:"fulfilled",value:t},--l||i(a))}),(function(t){s||(s=!0,a[r]={status:"rejected",reason:t},--l||i(a))}))})),--l||i(a)}));return c.error&&l(c.value),n.promise}})},function(t,e,n){"use strict";var i=n(10),r=n(37),a=n(123),o=n(14),s=n(42),l=n(116),c=n(131),u=n(29),h=!!a&&o((function(){a.prototype["finally"].call({then:function(){}},(function(){}))}));i({target:"Promise",proto:!0,real:!0,forced:h},{finally:function(t){var e=l(this,s("Promise")),n="function"==typeof t;return this.then(n?function(n){return c(e,t()).then((function(){return n}))}:t,n?function(n){return c(e,t()).then((function(){throw n}))}:t)}}),r||"function"!=typeof a||a.prototype["finally"]||u(a.prototype,"finally",s("Promise").prototype["finally"])},function(t,e,n){n(139),n(144),n(142);var i=n(43);t.exports=i.URL},function(t,e,n){"use strict";n(77);var i,r=n(10),a=n(13),o=n(140),s=n(11),l=n(72),c=n(29),u=n(126),h=n(23),d=n(100),p=n(90),f=n(78).codeAt,g=n(141),m=n(85),v=n(142),y=n(33),b=s.URL,x=v.URLSearchParams,_=v.getState,w=y.set,S=y.getterFor("URL"),O=Math.floor,C=Math.pow,A="Invalid authority",M="Invalid scheme",T="Invalid host",k="Invalid port",L=/[A-Za-z]/,j=/[\d+-.A-Za-z]/,I=/\d/,E=/^(0x|0X)/,P=/^[0-7]+$/,R=/^\d+$/,D=/^[\dA-Fa-f]+$/,F=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,N=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,B=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,V=/[\u0009\u000A\u000D]/g,G=function(t,e){var n,i,r;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return T;if(n=U(e.slice(1,-1)),!n)return T;t.host=n}else if(K(t)){if(e=g(e),F.test(e))return T;if(n=z(e),null===n)return T;t.host=n}else{if(N.test(e))return T;for(n="",i=p(e),r=0;r<i.length;r++)n+=Q(i[r],Y);t.host=n}},z=function(t){var e,n,i,r,a,o,s,l=t.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),e=l.length,e>4)return t;for(n=[],i=0;i<e;i++){if(r=l[i],""==r)return t;if(a=10,r.length>1&&"0"==r.charAt(0)&&(a=E.test(r)?16:8,r=r.slice(8==a?1:2)),""===r)o=0;else{if(!(10==a?R:8==a?P:D).test(r))return t;o=parseInt(r,a)}n.push(o)}for(i=0;i<e;i++)if(o=n[i],i==e-1){if(o>=C(256,5-e))return null}else if(o>255)return null;for(s=n.pop(),i=0;i<n.length;i++)s+=n[i]*C(256,3-i);return s},U=function(t){var e,n,i,r,a,o,s,l=[0,0,0,0,0,0,0,0],c=0,u=null,h=0,d=function(){return t.charAt(h)};if(":"==d()){if(":"!=t.charAt(1))return;h+=2,c++,u=c}while(d()){if(8==c)return;if(":"!=d()){e=n=0;while(n<4&&D.test(d()))e=16*e+parseInt(d(),16),h++,n++;if("."==d()){if(0==n)return;if(h-=n,c>6)return;i=0;while(d()){if(r=null,i>0){if(!("."==d()&&i<4))return;h++}if(!I.test(d()))return;while(I.test(d())){if(a=parseInt(d(),10),null===r)r=a;else{if(0==r)return;r=10*r+a}if(r>255)return;h++}l[c]=256*l[c]+r,i++,2!=i&&4!=i||c++}if(4!=i)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;l[c++]=e}else{if(null!==u)return;h++,c++,u=c}}if(null!==u){o=c-u,c=7;while(0!=c&&o>0)s=l[c],l[c--]=l[u+o-1],l[u+--o]=s}else if(8!=c)return;return l},H=function(t){for(var e=null,n=1,i=null,r=0,a=0;a<8;a++)0!==t[a]?(r>n&&(e=i,n=r),i=null,r=0):(null===i&&(i=a),++r);return r>n&&(e=i,n=r),e},W=function(t){var e,n,i,r;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=O(t/256);return e.join(".")}if("object"==typeof t){for(e="",i=H(t),n=0;n<8;n++)r&&0===t[n]||(r&&(r=!1),i===n?(e+=n?":":"::",r=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},Y={},X=d({},Y,{" ":1,'"':1,"<":1,">":1,"`":1}),q=d({},X,{"#":1,"?":1,"{":1,"}":1}),Z=d({},q,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Q=function(t,e){var n=f(t,0);return n>32&&n<127&&!h(e,t)?t:encodeURIComponent(t)},J={ftp:21,file:null,http:80,https:443,ws:80,wss:443},K=function(t){return h(J,t.scheme)},$=function(t){return""!=t.username||""!=t.password},tt=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},et=function(t,e){var n;return 2==t.length&&L.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},nt=function(t){var e;return t.length>1&&et(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},it=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&et(e[0],!0)||e.pop()},rt=function(t){return"."===t||"%2e"===t.toLowerCase()},at=function(t){return t=t.toLowerCase(),".."===t||"%2e."===t||".%2e"===t||"%2e%2e"===t},ot={},st={},lt={},ct={},ut={},ht={},dt={},pt={},ft={},gt={},mt={},vt={},yt={},bt={},xt={},_t={},wt={},St={},Ot={},Ct={},At={},Mt=function(t,e,n,r){var a,o,s,l,c=n||ot,u=0,d="",f=!1,g=!1,m=!1;n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(B,"")),e=e.replace(V,""),a=p(e);while(u<=a.length){switch(o=a[u],c){case ot:if(!o||!L.test(o)){if(n)return M;c=lt;continue}d+=o.toLowerCase(),c=st;break;case st:if(o&&(j.test(o)||"+"==o||"-"==o||"."==o))d+=o.toLowerCase();else{if(":"!=o){if(n)return M;d="",c=lt,u=0;continue}if(n&&(K(t)!=h(J,d)||"file"==d&&($(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=d,n)return void(K(t)&&J[t.scheme]==t.port&&(t.port=null));d="","file"==t.scheme?c=bt:K(t)&&r&&r.scheme==t.scheme?c=ct:K(t)?c=pt:"/"==a[u+1]?(c=ut,u++):(t.cannotBeABaseURL=!0,t.path.push(""),c=Ot)}break;case lt:if(!r||r.cannotBeABaseURL&&"#"!=o)return M;if(r.cannotBeABaseURL&&"#"==o){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,c=At;break}c="file"==r.scheme?bt:ht;continue;case ct:if("/"!=o||"/"!=a[u+1]){c=ht;continue}c=ft,u++;break;case ut:if("/"==o){c=gt;break}c=St;continue;case ht:if(t.scheme=r.scheme,o==i)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==o||"\\"==o&&K(t))c=dt;else if("?"==o)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",c=Ct;else{if("#"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),c=St;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",c=At}break;case dt:if(!K(t)||"/"!=o&&"\\"!=o){if("/"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,c=St;continue}c=gt}else c=ft;break;case pt:if(c=ft,"/"!=o||"/"!=d.charAt(u+1))continue;u++;break;case ft:if("/"!=o&&"\\"!=o){c=gt;continue}break;case gt:if("@"==o){f&&(d="%40"+d),f=!0,s=p(d);for(var v=0;v<s.length;v++){var y=s[v];if(":"!=y||m){var b=Q(y,Z);m?t.password+=b:t.username+=b}else m=!0}d=""}else if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&K(t)){if(f&&""==d)return A;u-=p(d).length+1,d="",c=mt}else d+=o;break;case mt:case vt:if(n&&"file"==t.scheme){c=_t;continue}if(":"!=o||g){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&K(t)){if(K(t)&&""==d)return T;if(n&&""==d&&($(t)||null!==t.port))return;if(l=G(t,d),l)return l;if(d="",c=wt,n)return;continue}"["==o?g=!0:"]"==o&&(g=!1),d+=o}else{if(""==d)return T;if(l=G(t,d),l)return l;if(d="",c=yt,n==vt)return}break;case yt:if(!I.test(o)){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&K(t)||n){if(""!=d){var x=parseInt(d,10);if(x>65535)return k;t.port=K(t)&&x===J[t.scheme]?null:x,d=""}if(n)return;c=wt;continue}return k}d+=o;break;case bt:if(t.scheme="file","/"==o||"\\"==o)c=xt;else{if(!r||"file"!=r.scheme){c=St;continue}if(o==i)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==o)t.host=r.host,t.path=r.path.slice(),t.query="",c=Ct;else{if("#"!=o){nt(a.slice(u).join(""))||(t.host=r.host,t.path=r.path.slice(),it(t)),c=St;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",c=At}}break;case xt:if("/"==o||"\\"==o){c=_t;break}r&&"file"==r.scheme&&!nt(a.slice(u).join(""))&&(et(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),c=St;continue;case _t:if(o==i||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&et(d))c=St;else if(""==d){if(t.host="",n)return;c=wt}else{if(l=G(t,d),l)return l;if("localhost"==t.host&&(t.host=""),n)return;d="",c=wt}continue}d+=o;break;case wt:if(K(t)){if(c=St,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=i&&(c=St,"/"!=o))continue}else t.fragment="",c=At;else t.query="",c=Ct;break;case St:if(o==i||"/"==o||"\\"==o&&K(t)||!n&&("?"==o||"#"==o)){if(at(d)?(it(t),"/"==o||"\\"==o&&K(t)||t.path.push("")):rt(d)?"/"==o||"\\"==o&&K(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&et(d)&&(t.host&&(t.host=""),d=d.charAt(0)+":"),t.path.push(d)),d="","file"==t.scheme&&(o==i||"?"==o||"#"==o))while(t.path.length>1&&""===t.path[0])t.path.shift();"?"==o?(t.query="",c=Ct):"#"==o&&(t.fragment="",c=At)}else d+=Q(o,q);break;case Ot:"?"==o?(t.query="",c=Ct):"#"==o?(t.fragment="",c=At):o!=i&&(t.path[0]+=Q(o,Y));break;case Ct:n||"#"!=o?o!=i&&("'"==o&&K(t)?t.query+="%27":t.query+="#"==o?"%23":Q(o,Y)):(t.fragment="",c=At);break;case At:o!=i&&(t.fragment+=Q(o,X));break}u++}},Tt=function(t){var e,n,i=u(this,Tt,"URL"),r=arguments.length>1?arguments[1]:void 0,o=String(t),s=w(i,{type:"URL"});if(void 0!==r)if(r instanceof Tt)e=S(r);else if(n=Mt(e={},String(r)),n)throw TypeError(n);if(n=Mt(s,o,null,e),n)throw TypeError(n);var l=s.searchParams=new x,c=_(l);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(l)||null},a||(i.href=Lt.call(i),i.origin=jt.call(i),i.protocol=It.call(i),i.username=Et.call(i),i.password=Pt.call(i),i.host=Rt.call(i),i.hostname=Dt.call(i),i.port=Ft.call(i),i.pathname=Nt.call(i),i.search=Bt.call(i),i.searchParams=Vt.call(i),i.hash=Gt.call(i))},kt=Tt.prototype,Lt=function(){var t=S(this),e=t.scheme,n=t.username,i=t.password,r=t.host,a=t.port,o=t.path,s=t.query,l=t.fragment,c=e+":";return null!==r?(c+="//",$(t)&&(c+=n+(i?":"+i:"")+"@"),c+=W(r),null!==a&&(c+=":"+a)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(c+="?"+s),null!==l&&(c+="#"+l),c},jt=function(){var t=S(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(i){return"null"}return"file"!=e&&K(t)?e+"://"+W(t.host)+(null!==n?":"+n:""):"null"},It=function(){return S(this).scheme+":"},Et=function(){return S(this).username},Pt=function(){return S(this).password},Rt=function(){var t=S(this),e=t.host,n=t.port;return null===e?"":null===n?W(e):W(e)+":"+n},Dt=function(){var t=S(this).host;return null===t?"":W(t)},Ft=function(){var t=S(this).port;return null===t?"":String(t)},Nt=function(){var t=S(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Bt=function(){var t=S(this).query;return t?"?"+t:""},Vt=function(){return S(this).searchParams},Gt=function(){var t=S(this).fragment;return t?"#"+t:""},zt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(a&&l(kt,{href:zt(Lt,(function(t){var e=S(this),n=String(t),i=Mt(e,n);if(i)throw TypeError(i);_(e.searchParams).updateSearchParams(e.query)})),origin:zt(jt),protocol:zt(It,(function(t){var e=S(this);Mt(e,String(t)+":",ot)})),username:zt(Et,(function(t){var e=S(this),n=p(String(t));if(!tt(e)){e.username="";for(var i=0;i<n.length;i++)e.username+=Q(n[i],Z)}})),password:zt(Pt,(function(t){var e=S(this),n=p(String(t));if(!tt(e)){e.password="";for(var i=0;i<n.length;i++)e.password+=Q(n[i],Z)}})),host:zt(Rt,(function(t){var e=S(this);e.cannotBeABaseURL||Mt(e,String(t),mt)})),hostname:zt(Dt,(function(t){var e=S(this);e.cannotBeABaseURL||Mt(e,String(t),vt)})),port:zt(Ft,(function(t){var e=S(this);tt(e)||(t=String(t),""==t?e.port=null:Mt(e,t,yt))})),pathname:zt(Nt,(function(t){var e=S(this);e.cannotBeABaseURL||(e.path=[],Mt(e,t+"",wt))})),search:zt(Bt,(function(t){var e=S(this);t=String(t),""==t?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",Mt(e,t,Ct)),_(e.searchParams).updateSearchParams(e.query)})),searchParams:zt(Vt),hash:zt(Gt,(function(t){var e=S(this);t=String(t),""!=t?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",Mt(e,t,At)):e.fragment=null}))}),c(kt,"toJSON",(function(){return Lt.call(this)}),{enumerable:!0}),c(kt,"toString",(function(){return Lt.call(this)}),{enumerable:!0}),b){var Ut=b.createObjectURL,Ht=b.revokeObjectURL;Ut&&c(Tt,"createObjectURL",(function(t){return Ut.apply(b,arguments)})),Ht&&c(Tt,"revokeObjectURL",(function(t){return Ht.apply(b,arguments)}))}m(Tt,"URL"),r({global:!0,forced:!o,sham:!a},{URL:Tt})},function(t,e,n){var i=n(14),r=n(57),a=n(37),o=r("iterator");t.exports=!i((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,i){e["delete"]("b"),n+=i+t})),a&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(t,e,n){"use strict";var i=2147483647,r=36,a=1,o=26,s=38,l=700,c=72,u=128,h="-",d=/[^\0-\u007E]/,p=/[.\u3002\uFF0E\uFF61]/g,f="Overflow: input needs wider integers to process",g=r-a,m=Math.floor,v=String.fromCharCode,y=function(t){var e=[],n=0,i=t.length;while(n<i){var r=t.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var a=t.charCodeAt(n++);56320==(64512&a)?e.push(((1023&r)<<10)+(1023&a)+65536):(e.push(r),n--)}else e.push(r)}return e},b=function(t){return t+22+75*(t<26)},x=function(t,e,n){var i=0;for(t=n?m(t/l):t>>1,t+=m(t/e);t>g*o>>1;i+=r)t=m(t/g);return m(i+(g+1)*t/(t+s))},_=function(t){var e=[];t=y(t);var n,s,l=t.length,d=u,p=0,g=c;for(n=0;n<t.length;n++)s=t[n],s<128&&e.push(v(s));var _=e.length,w=_;_&&e.push(h);while(w<l){var S=i;for(n=0;n<t.length;n++)s=t[n],s>=d&&s<S&&(S=s);var O=w+1;if(S-d>m((i-p)/O))throw RangeError(f);for(p+=(S-d)*O,d=S,n=0;n<t.length;n++){if(s=t[n],s<d&&++p>i)throw RangeError(f);if(s==d){for(var C=p,A=r;;A+=r){var M=A<=g?a:A>=g+o?o:A-g;if(C<M)break;var T=C-M,k=r-M;e.push(v(b(M+T%k))),C=m(T/k)}e.push(v(b(C))),g=x(p,O,w==_),p=0,++w}}++p,++d}return e.join("")};t.exports=function(t){var e,n,i=[],r=t.toLowerCase().replace(p,".").split(".");for(e=0;e<r.length;e++)n=r[e],i.push(d.test(n)?"xn--"+_(n):n);return i.join(".")}},function(t,e,n){"use strict";n(102);var i=n(10),r=n(42),a=n(140),o=n(29),s=n(124),l=n(85),c=n(80),u=n(33),h=n(126),d=n(23),p=n(62),f=n(95),g=n(28),m=n(22),v=n(71),y=n(16),b=n(143),x=n(94),_=n(57),w=r("fetch"),S=r("Headers"),O=_("iterator"),C="URLSearchParams",A=C+"Iterator",M=u.set,T=u.getterFor(C),k=u.getterFor(A),L=/\+/g,j=Array(4),I=function(t){return j[t-1]||(j[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},E=function(t){try{return decodeURIComponent(t)}catch(e){return t}},P=function(t){var e=t.replace(L," "),n=4;try{return decodeURIComponent(e)}catch(i){while(n)e=e.replace(I(n--),E);return e}},R=/[!'()~]|%20/g,D={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},F=function(t){return D[t]},N=function(t){return encodeURIComponent(t).replace(R,F)},B=function(t,e){if(e){var n,i,r=e.split("&"),a=0;while(a<r.length)n=r[a++],n.length&&(i=n.split("="),t.push({key:P(i.shift()),value:P(i.join("="))}))}},V=function(t){this.entries.length=0,B(this.entries,t)},G=function(t,e){if(t<e)throw TypeError("Not enough arguments")},z=c((function(t,e){M(this,{type:A,iterator:b(T(t).entries),kind:e})}),"Iterator",(function(){var t=k(this),e=t.kind,n=t.iterator.next(),i=n.value;return n.done||(n.value="keys"===e?i.key:"values"===e?i.value:[i.key,i.value]),n})),U=function(){h(this,U,C);var t,e,n,i,r,a,o,s,l,c=arguments.length>0?arguments[0]:void 0,u=this,p=[];if(M(u,{type:C,entries:p,updateURL:function(){},updateSearchParams:V}),void 0!==c)if(m(c))if(t=x(c),"function"===typeof t){e=t.call(c),n=e.next;while(!(i=n.call(e)).done){if(r=b(g(i.value)),a=r.next,(o=a.call(r)).done||(s=a.call(r)).done||!a.call(r).done)throw TypeError("Expected sequence with length 2");p.push({key:o.value+"",value:s.value+""})}}else for(l in c)d(c,l)&&p.push({key:l,value:c[l]+""});else B(p,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},H=U.prototype;s(H,{append:function(t,e){G(arguments.length,2);var n=T(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){G(arguments.length,1);var e=T(this),n=e.entries,i=t+"",r=0;while(r<n.length)n[r].key===i?n.splice(r,1):r++;e.updateURL()},get:function(t){G(arguments.length,1);for(var e=T(this).entries,n=t+"",i=0;i<e.length;i++)if(e[i].key===n)return e[i].value;return null},getAll:function(t){G(arguments.length,1);for(var e=T(this).entries,n=t+"",i=[],r=0;r<e.length;r++)e[r].key===n&&i.push(e[r].value);return i},has:function(t){G(arguments.length,1);var e=T(this).entries,n=t+"",i=0;while(i<e.length)if(e[i++].key===n)return!0;return!1},set:function(t,e){G(arguments.length,1);for(var n,i=T(this),r=i.entries,a=!1,o=t+"",s=e+"",l=0;l<r.length;l++)n=r[l],n.key===o&&(a?r.splice(l--,1):(a=!0,n.value=s));a||r.push({key:o,value:s}),i.updateURL()},sort:function(){var t,e,n,i=T(this),r=i.entries,a=r.slice();for(r.length=0,n=0;n<a.length;n++){for(t=a[n],e=0;e<n;e++)if(r[e].key>t.key){r.splice(e,0,t);break}e===n&&r.push(t)}i.updateURL()},forEach:function(t){var e,n=T(this).entries,i=p(t,arguments.length>1?arguments[1]:void 0,3),r=0;while(r<n.length)e=n[r++],i(e.value,e.key,this)},keys:function(){return new z(this,"keys")},values:function(){return new z(this,"values")},entries:function(){return new z(this,"entries")}},{enumerable:!0}),o(H,O,H.entries),o(H,"toString",(function(){var t,e=T(this).entries,n=[],i=0;while(i<e.length)t=e[i++],n.push(N(t.key)+"="+N(t.value));return n.join("&")}),{enumerable:!0}),l(U,C),i({global:!0,forced:!a},{URLSearchParams:U}),a||"function"!=typeof w||"function"!=typeof S||i({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,i,r=[t];return arguments.length>1&&(e=arguments[1],m(e)&&(n=e.body,f(n)===C&&(i=e.headers?new S(e.headers):new S,i.has("content-type")||i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=v(e,{body:y(0,String(n)),headers:y(0,i)}))),r.push(e)),w.apply(this,r)}}),t.exports={URLSearchParams:U,getState:T}},function(t,e,n){var i=n(28),r=n(94);t.exports=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return i(e.call(t))}},function(t,e,n){"use strict";var i=n(10);i({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(t,e,n){(function(t,n){n(e)})(0,(function(t){"use strict";var e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function n(){}var i=Number.isNaN||function(t){return t!==t},r=n;function a(t){return"object"===typeof t&&null!==t||"function"===typeof t}function o(t){return t.slice()}function s(t,e,n,i,r){new Uint8Array(t).set(new Uint8Array(n,i,r),e)}function l(t){return!1!==c(t)&&t!==1/0}function c(t){return"number"===typeof t&&(!i(t)&&!(t<0))}function u(t,e,n){if("function"!==typeof t)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(t,e,n)}function h(t,e,n,i){var r=t[e];if(void 0!==r){if("function"!==typeof r)throw new TypeError(r+" is not a method");switch(n){case 0:return function(){return p(r,t,i)};case 1:return function(e){var n=[e].concat(i);return p(r,t,n)}}}return function(){return S(void 0)}}function d(t,e,n){var i=t[e];if(void 0!==i)return u(i,t,n)}function p(t,e,n){try{return S(u(t,e,n))}catch(i){return O(i)}}function f(t){return t}function g(t){return!1}function m(t){if(t=Number(t),i(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function v(t){if(void 0===t)return function(){return 1};if("function"!==typeof t)throw new TypeError("size property of a queuing strategy must be a function");return function(e){return t(e)}}var y=Promise,b=Promise.prototype.then,x=Promise.resolve.bind(y),_=Promise.reject.bind(y);function w(t){return new y(t)}function S(t){return x(t)}function O(t){return _(t)}function C(t,e,n){return b.call(t,e,n)}function A(t,e,n){C(C(t,e,n),void 0,r)}function M(t,e){A(t,e)}function T(t,e){A(t,void 0,e)}function k(t,e,n){return C(t,e,n)}function L(t){C(t,void 0,r)}var j=16384,I=function(){function t(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(t.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var e=this._back,n=e;e._elements.length===j-1&&(n={_elements:[],_next:void 0}),e._elements.push(t),n!==e&&(this._back=n,e._next=n),++this._size},t.prototype.shift=function(){var t=this._front,e=t,n=this._cursor,i=n+1,r=t._elements,a=r[n];return i===j&&(e=t._next,i=0),--this._size,this._cursor=i,t!==e&&(this._front=e),r[n]=void 0,a},t.prototype.forEach=function(t){var e=this._cursor,n=this._front,i=n._elements;while(e!==i.length||void 0!==n._next){if(e===i.length&&(n=n._next,i=n._elements,e=0,0===i.length))break;t(i[e]),++e}},t.prototype.peek=function(){var t=this._front,e=this._cursor;return t._elements[e]},t}();function E(t,e,n){var i=null;!0===n&&(i=Object.prototype);var r=Object.create(i);return r.value=t,r.done=e,r}function P(t,e){t._forAuthorCode=!0,t._ownerReadableStream=e,e._reader=t,"readable"===e._state?N(t):"closed"===e._state?V(t):B(t,e._storedError)}function R(t,e){var n=t._ownerReadableStream;return Fn(n,e)}function D(t){"readable"===t._ownerReadableStream._state?G(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):z(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),t._ownerReadableStream._reader=void 0,t._ownerReadableStream=void 0}function F(t){return new TypeError("Cannot "+t+" a stream using a released reader")}function N(t){t._closedPromise=w((function(e,n){t._closedPromise_resolve=e,t._closedPromise_reject=n}))}function B(t,e){N(t),G(t,e)}function V(t){N(t),U(t)}function G(t,e){L(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0}function z(t,e){B(t,e)}function U(t){t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0}var H=e("[[CancelSteps]]"),W=e("[[PullSteps]]");function Y(t,e){void 0===e&&(e=!1);var n=new $(t);return n._forAuthorCode=e,n}function X(t){var e=w((function(e,n){var i={_resolve:e,_reject:n};t._reader._readRequests.push(i)}));return e}function q(t,e,n){var i=t._reader,r=i._readRequests.shift();r._resolve(E(e,n,i._forAuthorCode))}function Z(t){return t._reader._readRequests.length}function Q(t){var e=t._reader;return void 0!==e&&!!tt(e)}var J,K,$=function(){function t(t){if(!1===Rn(t))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Dn(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");P(this,t),this._readRequests=new I}return Object.defineProperty(t.prototype,"closed",{get:function(){return tt(this)?this._closedPromise:O(nt("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return tt(this)?void 0===this._ownerReadableStream?O(F("cancel")):R(this,t):O(nt("cancel"))},t.prototype.read=function(){return tt(this)?void 0===this._ownerReadableStream?O(F("read from")):et(this):O(nt("read"))},t.prototype.releaseLock=function(){if(!tt(this))throw nt("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");D(this)}},t}();function tt(t){return!!a(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readRequests")}function et(t){var e=t._ownerReadableStream;return e._disturbed=!0,"closed"===e._state?S(E(void 0,!0,t._forAuthorCode)):"errored"===e._state?O(e._storedError):e._readableStreamController[W]()}function nt(t){return new TypeError("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"===typeof e.asyncIterator&&(J={},J[e.asyncIterator]=function(){return this},K=J,Object.defineProperty(K,e.asyncIterator,{enumerable:!1}));var it={next:function(){if(!1===at(this))return O(ot("next"));var t=this._asyncIteratorReader;return void 0===t._ownerReadableStream?O(F("iterate")):k(et(t),(function(e){var n=e.done;n&&D(t);var i=e.value;return E(i,n,!0)}))},return:function(t){if(!1===at(this))return O(ot("next"));var e=this._asyncIteratorReader;if(void 0===e._ownerReadableStream)return O(F("finish iterating"));if(e._readRequests.length>0)return O(new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this._preventCancel){var n=R(e,t);return D(e),k(n,(function(){return E(t,!0,!0)}))}return D(e),S(E(t,!0,!0))}};function rt(t,e){void 0===e&&(e=!1);var n=Y(t),i=Object.create(it);return i._asyncIteratorReader=n,i._preventCancel=Boolean(e),i}function at(t){return!!a(t)&&!!Object.prototype.hasOwnProperty.call(t,"_asyncIteratorReader")}function ot(t){return new TypeError("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function st(t){var e=t._queue.shift();return t._queueTotalSize-=e.size,t._queueTotalSize<0&&(t._queueTotalSize=0),e.value}function lt(t,e,n){if(n=Number(n),!l(n))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t._queue.push({value:e,size:n}),t._queueTotalSize+=n}function ct(t){var e=t._queue.peek();return e.value}function ut(t){t._queue=new I,t._queueTotalSize=0}void 0!==K&&Object.setPrototypeOf(it,K),Object.defineProperty(it,"next",{enumerable:!1}),Object.defineProperty(it,"return",{enumerable:!1});var ht=e("[[AbortSteps]]"),dt=e("[[ErrorSteps]]"),pt=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e={}),mt(this);var n=e.size,i=e.highWaterMark,r=t.type;if(void 0!==r)throw new RangeError("Invalid type is specified");var a=v(n);void 0===i&&(i=1),i=m(i),qt(this,t,i,a)}return Object.defineProperty(t.prototype,"locked",{get:function(){if(!1===vt(this))throw oe("locked");return yt(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===vt(this)?O(oe("abort")):!0===yt(this)?O(new TypeError("Cannot abort a stream that already has a writer")):bt(this,t)},t.prototype.close=function(){return!1===vt(this)?O(oe("close")):!0===yt(this)?O(new TypeError("Cannot close a stream that already has a writer")):!0===kt(this)?O(new TypeError("Cannot close an already-closing stream")):xt(this)},t.prototype.getWriter=function(){if(!1===vt(this))throw oe("getWriter");return ft(this)},t}();function ft(t){return new Rt(t)}function gt(t,e,n,i,r,a){void 0===r&&(r=1),void 0===a&&(a=function(){return 1});var o=Object.create(pt.prototype);mt(o);var s=Object.create(Wt.prototype);return Xt(o,s,t,e,n,i,r,a),o}function mt(t){t._state="writable",t._storedError=void 0,t._writer=void 0,t._writableStreamController=void 0,t._writeRequests=new I,t._inFlightWriteRequest=void 0,t._closeRequest=void 0,t._inFlightCloseRequest=void 0,t._pendingAbortRequest=void 0,t._backpressure=!1}function vt(t){return!!a(t)&&!!Object.prototype.hasOwnProperty.call(t,"_writableStreamController")}function yt(t){return void 0!==t._writer}function bt(t,e){var n=t._state;if("closed"===n||"errored"===n)return S(void 0);if(void 0!==t._pendingAbortRequest)return t._pendingAbortRequest._promise;var i=!1;"erroring"===n&&(i=!0,e=void 0);var r=w((function(n,r){t._pendingAbortRequest={_promise:void 0,_resolve:n,_reject:r,_reason:e,_wasAlreadyErroring:i}}));return t._pendingAbortRequest._promise=r,!1===i&&St(t,e),r}function xt(t){var e=t._state;if("closed"===e||"errored"===e)return O(new TypeError("The stream (in "+e+" state) is not in the writable state and cannot be closed"));var n=w((function(e,n){var i={_resolve:e,_reject:n};t._closeRequest=i})),i=t._writer;return void 0!==i&&!0===t._backpressure&&"writable"===e&&_e(i),Qt(t._writableStreamController),n}function _t(t){var e=w((function(e,n){var i={_resolve:e,_reject:n};t._writeRequests.push(i)}));return e}function wt(t,e){var n=t._state;"writable"!==n?Ot(t):St(t,e)}function St(t,e){var n=t._writableStreamController;t._state="erroring",t._storedError=e;var i=t._writer;void 0!==i&&Gt(i,e),!1===Lt(t)&&!0===n._started&&Ot(t)}function Ot(t){t._state="errored",t._writableStreamController[dt]();var e=t._storedError;if(t._writeRequests.forEach((function(t){t._reject(e)})),t._writeRequests=new I,void 0!==t._pendingAbortRequest){var n=t._pendingAbortRequest;if(t._pendingAbortRequest=void 0,!0===n._wasAlreadyErroring)return n._reject(e),void Et(t);var i=t._writableStreamController[ht](n._reason);A(i,(function(){n._resolve(),Et(t)}),(function(e){n._reject(e),Et(t)}))}else Et(t)}function Ct(t){t._inFlightWriteRequest._resolve(void 0),t._inFlightWriteRequest=void 0}function At(t,e){t._inFlightWriteRequest._reject(e),t._inFlightWriteRequest=void 0,wt(t,e)}function Mt(t){t._inFlightCloseRequest._resolve(void 0),t._inFlightCloseRequest=void 0;var e=t._state;"erroring"===e&&(t._storedError=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._resolve(),t._pendingAbortRequest=void 0)),t._state="closed";var n=t._writer;void 0!==n&&fe(n)}function Tt(t,e){t._inFlightCloseRequest._reject(e),t._inFlightCloseRequest=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._reject(e),t._pendingAbortRequest=void 0),wt(t,e)}function kt(t){return void 0!==t._closeRequest||void 0!==t._inFlightCloseRequest}function Lt(t){return void 0!==t._inFlightWriteRequest||void 0!==t._inFlightCloseRequest}function jt(t){t._inFlightCloseRequest=t._closeRequest,t._closeRequest=void 0}function It(t){t._inFlightWriteRequest=t._writeRequests.shift()}function Et(t){void 0!==t._closeRequest&&(t._closeRequest._reject(t._storedError),t._closeRequest=void 0);var e=t._writer;void 0!==e&&de(e,t._storedError)}function Pt(t,e){var n=t._writer;void 0!==n&&e!==t._backpressure&&(!0===e?be(n):_e(n)),t._backpressure=e}var Rt=function(){function t(t){if(!1===vt(t))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===yt(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;var e=t._state;if("writable"===e)!1===kt(t)&&!0===t._backpressure?ge(this):ve(this),ce(this);else if("erroring"===e)me(this,t._storedError),ce(this);else if("closed"===e)ve(this),he(this);else{var n=t._storedError;me(this,n),ue(this,n)}}return Object.defineProperty(t.prototype,"closed",{get:function(){return!1===Dt(this)?O(se("closed")):this._closedPromise},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Dt(this))throw se("desiredSize");if(void 0===this._ownerWritableStream)throw le("desiredSize");return zt(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){return!1===Dt(this)?O(se("ready")):this._readyPromise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Dt(this)?O(se("abort")):void 0===this._ownerWritableStream?O(le("abort")):Ft(this,t)},t.prototype.close=function(){if(!1===Dt(this))return O(se("close"));var t=this._ownerWritableStream;return void 0===t?O(le("close")):!0===kt(t)?O(new TypeError("Cannot close an already-closing stream")):Nt(this)},t.prototype.releaseLock=function(){if(!1===Dt(this))throw se("releaseLock");var t=this._ownerWritableStream;void 0!==t&&Ut(this)},t.prototype.write=function(t){return!1===Dt(this)?O(se("write")):void 0===this._ownerWritableStream?O(le("write to")):Ht(this,t)},t}();function Dt(t){return!!a(t)&&!!Object.prototype.hasOwnProperty.call(t,"_ownerWritableStream")}function Ft(t,e){var n=t._ownerWritableStream;return bt(n,e)}function Nt(t){var e=t._ownerWritableStream;return xt(e)}function Bt(t){var e=t._ownerWritableStream,n=e._state;return!0===kt(e)||"closed"===n?S(void 0):"errored"===n?O(e._storedError):Nt(t)}function Vt(t,e){"pending"===t._closedPromiseState?de(t,e):pe(t,e)}function Gt(t,e){"pending"===t._readyPromiseState?ye(t,e):xe(t,e)}function zt(t){var e=t._ownerWritableStream,n=e._state;return"errored"===n||"erroring"===n?null:"closed"===n?0:Kt(e._writableStreamController)}function Ut(t){var e=t._ownerWritableStream,n=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Gt(t,n),Vt(t,n),e._writer=void 0,t._ownerWritableStream=void 0}function Ht(t,e){var n=t._ownerWritableStream,i=n._writableStreamController,r=Jt(i,e);if(n!==t._ownerWritableStream)return O(le("write to"));var a=n._state;if("errored"===a)return O(n._storedError);if(!0===kt(n)||"closed"===a)return O(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===a)return O(n._storedError);var o=_t(n);return $t(i,e,r),o}var Wt=function(){function t(){throw new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===Yt(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");var e=this._controlledWritableStream._state;"writable"===e&&ae(this,t)},t.prototype[ht]=function(t){var e=this._abortAlgorithm(t);return Zt(this),e},t.prototype[dt]=function(){ut(this)},t}();function Yt(t){return!!a(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledWritableStream")}function Xt(t,e,n,i,r,a,o,s){e._controlledWritableStream=t,t._writableStreamController=e,e._queue=void 0,e._queueTotalSize=void 0,ut(e),e._started=!1,e._strategySizeAlgorithm=s,e._strategyHWM=o,e._writeAlgorithm=i,e._closeAlgorithm=r,e._abortAlgorithm=a;var l=re(e);Pt(t,l);var c=n(),u=S(c);A(u,(function(){e._started=!0,te(e)}),(function(n){e._started=!0,wt(t,n)}))}function qt(t,e,n,i){var r=Object.create(Wt.prototype);function a(){return d(e,"start",[r])}var o=h(e,"write",1,[r]),s=h(e,"close",0,[]),l=h(e,"abort",1,[]);Xt(t,r,a,o,s,l,n,i)}function Zt(t){t._writeAlgorithm=void 0,t._closeAlgorithm=void 0,t._abortAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function Qt(t){lt(t,"close",0),te(t)}function Jt(t,e){try{return t._strategySizeAlgorithm(e)}catch(n){return ee(t,n),1}}function Kt(t){return t._strategyHWM-t._queueTotalSize}function $t(t,e,n){var i={chunk:e};try{lt(t,i,n)}catch(o){return void ee(t,o)}var r=t._controlledWritableStream;if(!1===kt(r)&&"writable"===r._state){var a=re(t);Pt(r,a)}te(t)}function te(t){var e=t._controlledWritableStream;if(!1!==t._started&&void 0===e._inFlightWriteRequest){var n=e._state;if("erroring"!==n){if(0!==t._queue.length){var i=ct(t);"close"===i?ne(t):ie(t,i.chunk)}}else Ot(e)}}function ee(t,e){"writable"===t._controlledWritableStream._state&&ae(t,e)}function ne(t){var e=t._controlledWritableStream;jt(e),st(t);var n=t._closeAlgorithm();Zt(t),A(n,(function(){Mt(e)}),(function(t){Tt(e,t)}))}function ie(t,e){var n=t._controlledWritableStream;It(n);var i=t._writeAlgorithm(e);A(i,(function(){Ct(n);var e=n._state;if(st(t),!1===kt(n)&&"writable"===e){var i=re(t);Pt(n,i)}te(t)}),(function(e){"writable"===n._state&&Zt(t),At(n,e)}))}function re(t){var e=Kt(t);return e<=0}function ae(t,e){var n=t._controlledWritableStream;Zt(t),St(n,e)}function oe(t){return new TypeError("WritableStream.prototype."+t+" can only be used on a WritableStream")}function se(t){return new TypeError("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function le(t){return new TypeError("Cannot "+t+" a stream using a released writer")}function ce(t){t._closedPromise=w((function(e,n){t._closedPromise_resolve=e,t._closedPromise_reject=n,t._closedPromiseState="pending"}))}function ue(t,e){ce(t),de(t,e)}function he(t){ce(t),fe(t)}function de(t,e){L(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="rejected"}function pe(t,e){ue(t,e)}function fe(t){t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="resolved"}function ge(t){t._readyPromise=w((function(e,n){t._readyPromise_resolve=e,t._readyPromise_reject=n})),t._readyPromiseState="pending"}function me(t,e){ge(t),ye(t,e)}function ve(t){ge(t),_e(t)}function ye(t,e){L(t._readyPromise),t._readyPromise_reject(e),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="rejected"}function be(t){ge(t)}function xe(t,e){me(t,e)}function _e(t){t._readyPromise_resolve(void 0),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="fulfilled"}function we(t){if("object"!==typeof t||null===t)return!1;try{return"boolean"===typeof t.aborted}catch(J){return!1}}var Se="undefined"!==typeof DOMException?DOMException:void 0;function Oe(t){if("function"!==typeof t&&"object"!==typeof t)return!1;try{return new t,!0}catch(J){return!1}}function Ce(){var t=function(t,e){this.message=t||"",this.name=e||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return t.prototype=Object.create(Error.prototype),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0}),t}var Ae=Oe(Se)?Se:Ce();function Me(t,e,i,r,a,o){var s=Y(t),l=ft(e);t._disturbed=!0;var c=!1,u=S(void 0);return w((function(h,d){var p;if(void 0!==o){if(p=function(){var n=new Ae("Aborted","AbortError"),i=[];!1===r&&i.push((function(){return"writable"===e._state?bt(e,n):S(void 0)})),!1===a&&i.push((function(){return"readable"===t._state?Fn(t,n):S(void 0)})),x((function(){return Promise.all(i.map((function(t){return t()})))}),!0,n)},!0===o.aborted)return void p();o.addEventListener("abort",p)}function f(){return w((function(t,e){function n(i){i?t():C(g(),n,e)}n(!1)}))}function g(){return!0===c?S(!0):C(l._readyPromise,(function(){return C(et(s),(function(t){return!0===t.done||(u=C(Ht(l,t.value),void 0,n),!1)}))}))}if(y(t,s._closedPromise,(function(t){!1===r?x((function(){return bt(e,t)}),!0,t):_(!0,t)})),y(e,l._closedPromise,(function(e){!1===a?x((function(){return Fn(t,e)}),!0,e):_(!0,e)})),b(t,s._closedPromise,(function(){!1===i?x((function(){return Bt(l)})):_()})),!0===kt(e)||"closed"===e._state){var m=new TypeError("the destination writable stream closed before all data could be piped to it");!1===a?x((function(){return Fn(t,m)}),!0,m):_(!0,m)}function v(){var t=u;return C(u,(function(){return t!==u?v():void 0}))}function y(t,e,n){"errored"===t._state?n(t._storedError):T(e,n)}function b(t,e,n){"closed"===t._state?n():M(e,n)}function x(t,n,i){function r(){A(t(),(function(){return O(n,i)}),(function(t){return O(!0,t)}))}!0!==c&&(c=!0,"writable"===e._state&&!1===kt(e)?M(v(),r):r())}function _(t,n){!0!==c&&(c=!0,"writable"===e._state&&!1===kt(e)?M(v(),(function(){return O(t,n)})):O(t,n))}function O(t,e){Ut(l),D(s),void 0!==o&&o.removeEventListener("abort",p),t?d(e):h(void 0)}L(f())}))}var Te=function(){function t(){throw new TypeError}return Object.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ke(this))throw Ge("desiredSize");return De(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===ke(this))throw Ge("close");if(!1===Ne(this))throw new TypeError("The stream is not in a state that permits close");Ee(this)},t.prototype.enqueue=function(t){if(!1===ke(this))throw Ge("enqueue");if(!1===Ne(this))throw new TypeError("The stream is not in a state that permits enqueue");return Pe(this,t)},t.prototype.error=function(t){if(!1===ke(this))throw Ge("error");Re(this,t)},t.prototype[H]=function(t){ut(this);var e=this._cancelAlgorithm(t);return Ie(this),e},t.prototype[W]=function(){var t=this._controlledReadableStream;if(this._queue.length>0){var e=st(this);return!0===this._closeRequested&&0===this._queue.length?(Ie(this),Nn(t)):Le(this),S(E(e,!1,t._reader._forAuthorCode))}var n=X(t);return Le(this),n},t}();function ke(t){return!!a(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableStream")}function Le(t){var e=je(t);if(!1!==e)if(!0!==t._pulling){t._pulling=!0;var n=t._pullAlgorithm();A(n,(function(){t._pulling=!1,!0===t._pullAgain&&(t._pullAgain=!1,Le(t))}),(function(e){Re(t,e)}))}else t._pullAgain=!0}function je(t){var e=t._controlledReadableStream;if(!1===Ne(t))return!1;if(!1===t._started)return!1;if(!0===Dn(e)&&Z(e)>0)return!0;var n=De(t);return n>0}function Ie(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function Ee(t){var e=t._controlledReadableStream;t._closeRequested=!0,0===t._queue.length&&(Ie(t),Nn(e))}function Pe(t,e){var n=t._controlledReadableStream;if(!0===Dn(n)&&Z(n)>0)q(n,e,!1);else{var i=void 0;try{i=t._strategySizeAlgorithm(e)}catch(r){throw Re(t,r),r}try{lt(t,e,i)}catch(a){throw Re(t,a),a}}Le(t)}function Re(t,e){var n=t._controlledReadableStream;"readable"===n._state&&(ut(t),Ie(t),Bn(n,e))}function De(t){var e=t._controlledReadableStream,n=e._state;return"errored"===n?null:"closed"===n?0:t._strategyHWM-t._queueTotalSize}function Fe(t){return!0!==je(t)}function Ne(t){var e=t._controlledReadableStream._state;return!1===t._closeRequested&&"readable"===e}function Be(t,e,n,i,r,a,o){e._controlledReadableStream=t,e._queue=void 0,e._queueTotalSize=void 0,ut(e),e._started=!1,e._closeRequested=!1,e._pullAgain=!1,e._pulling=!1,e._strategySizeAlgorithm=o,e._strategyHWM=a,e._pullAlgorithm=i,e._cancelAlgorithm=r,t._readableStreamController=e;var s=n();A(S(s),(function(){e._started=!0,Le(e)}),(function(t){Re(e,t)}))}function Ve(t,e,n,i){var r=Object.create(Te.prototype);function a(){return d(e,"start",[r])}var o=h(e,"pull",0,[r]),s=h(e,"cancel",1,[]);Be(t,r,a,o,s,n,i)}function Ge(t){return new TypeError("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function ze(t,e){var n,i,r,a,s,l=Y(t),c=!1,u=!1,h=!1,d=w((function(t){s=t}));function p(){if(!0===c)return S(void 0);c=!0;var t=k(et(l),(function(t){c=!1;var e=t.done;if(!0===e)return!1===u&&Ee(r._readableStreamController),void(!1===h&&Ee(a._readableStreamController));var n=t.value,i=n,o=n;!1===u&&Pe(r._readableStreamController,i),!1===h&&Pe(a._readableStreamController,o)}));return L(t),S(void 0)}function f(e){if(u=!0,n=e,!0===h){var r=o([n,i]),a=Fn(t,r);s(a)}return d}function g(e){if(h=!0,i=e,!0===u){var r=o([n,i]),a=Fn(t,r);s(a)}return d}function m(){}return r=En(m,p,f),a=En(m,p,g),T(l._closedPromise,(function(t){Re(r._readableStreamController,t),Re(a._readableStreamController,t)})),[r,a]}var Ue=Number.isInteger||function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t},He=function(){function t(){throw new TypeError("ReadableStreamBYOBRequest cannot be used directly")}return Object.defineProperty(t.prototype,"view",{get:function(){if(!1===Xe(this))throw _n("view");return this._view},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===Xe(this))throw _n("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");g(this._view.buffer),mn(this._associatedReadableByteStreamController,t)},t.prototype.respondWithNewView=function(t){if(!1===Xe(this))throw _n("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");g(t.buffer),vn(this._associatedReadableByteStreamController,t)},t}(),We=function(){function t(){throw new TypeError("ReadableByteStreamController constructor cannot be used directly")}return Object.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===Ye(this))throw wn("byobRequest");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){var t=this._pendingPullIntos.peek(),e=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(He.prototype);xn(n,this,e),this._byobRequest=n}return this._byobRequest},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ye(this))throw wn("desiredSize");return gn(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Ye(this))throw wn("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be closed");dn(this)},t.prototype.enqueue=function(t){if(!1===Ye(this))throw wn("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");g(t.buffer),pn(this,t)},t.prototype.error=function(t){if(!1===Ye(this))throw wn("error");fn(this,t)},t.prototype[H]=function(t){if(this._pendingPullIntos.length>0){var e=this._pendingPullIntos.peek();e.bytesFilled=0}ut(this);var n=this._cancelAlgorithm(t);return hn(this),n},t.prototype[W]=function(){var t=this._controlledReadableByteStream;if(this._queueTotalSize>0){var e=this._queue.shift();this._queueTotalSize-=e.byteLength,en(this);var n=void 0;try{n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}catch(s){return O(s)}return S(E(n,!1,t._reader._forAuthorCode))}var i=this._autoAllocateChunkSize;if(void 0!==i){var r=void 0;try{r=new ArrayBuffer(i)}catch(l){return O(l)}var a={buffer:r,byteOffset:0,byteLength:i,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(a)}var o=X(t);return qe(this),o},t}();function Ye(t){return!!a(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableByteStream")}function Xe(t){return!!a(t)&&!!Object.prototype.hasOwnProperty.call(t,"_associatedReadableByteStreamController")}function qe(t){var e=un(t);if(!1!==e)if(!0!==t._pulling){t._pulling=!0;var n=t._pullAlgorithm();A(n,(function(){t._pulling=!1,!0===t._pullAgain&&(t._pullAgain=!1,qe(t))}),(function(e){fn(t,e)}))}else t._pullAgain=!0}function Ze(t){nn(t),t._pendingPullIntos=new I}function Qe(t,e){var n=!1;"closed"===t._state&&(n=!0);var i=Je(e);"default"===e.readerType?q(t,i,n):Cn(t,i,n)}function Je(t){var e=t.bytesFilled,n=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,e/n)}function Ke(t,e,n,i){t._queue.push({buffer:e,byteOffset:n,byteLength:i}),t._queueTotalSize+=i}function $e(t,e){var n=e.elementSize,i=e.bytesFilled-e.bytesFilled%n,r=Math.min(t._queueTotalSize,e.byteLength-e.bytesFilled),a=e.bytesFilled+r,o=a-a%n,l=r,c=!1;o>i&&(l=o-e.bytesFilled,c=!0);var u=t._queue;while(l>0){var h=u.peek(),d=Math.min(l,h.byteLength),p=e.byteOffset+e.bytesFilled;s(e.buffer,p,h.buffer,h.byteOffset,d),h.byteLength===d?u.shift():(h.byteOffset+=d,h.byteLength-=d),t._queueTotalSize-=d,tn(t,d,e),l-=d}return c}function tn(t,e,n){nn(t),n.bytesFilled+=e}function en(t){0===t._queueTotalSize&&!0===t._closeRequested?(hn(t),Nn(t._controlledReadableByteStream)):qe(t)}function nn(t){void 0!==t._byobRequest&&(t._byobRequest._associatedReadableByteStreamController=void 0,t._byobRequest._view=void 0,t._byobRequest=void 0)}function rn(t){while(t._pendingPullIntos.length>0){if(0===t._queueTotalSize)return;var e=t._pendingPullIntos.peek();!0===$e(t,e)&&(cn(t),Qe(t._controlledReadableByteStream,e))}}function an(t,e){var n=t._controlledReadableByteStream,i=1;e.constructor!==DataView&&(i=e.constructor.BYTES_PER_ELEMENT);var r=e.constructor,a=f(e.buffer),o={buffer:a,byteOffset:e.byteOffset,byteLength:e.byteLength,bytesFilled:0,elementSize:i,ctor:r,readerType:"byob"};if(t._pendingPullIntos.length>0)return t._pendingPullIntos.push(o),On(n);if("closed"===n._state){var s=new r(o.buffer,o.byteOffset,0);return S(E(s,!0,n._reader._forAuthorCode))}if(t._queueTotalSize>0){if(!0===$e(t,o)){var l=Je(o);return en(t),S(E(l,!1,n._reader._forAuthorCode))}if(!0===t._closeRequested){var c=new TypeError("Insufficient bytes to fill elements in the given buffer");return fn(t,c),O(c)}}t._pendingPullIntos.push(o);var u=On(n);return qe(t),u}function on(t,e){e.buffer=f(e.buffer);var n=t._controlledReadableByteStream;if(!0===Mn(n))while(An(n)>0){var i=cn(t);Qe(n,i)}}function sn(t,e,n){if(n.bytesFilled+e>n.byteLength)throw new RangeError("bytesWritten out of range");if(tn(t,e,n),!(n.bytesFilled<n.elementSize)){cn(t);var i=n.bytesFilled%n.elementSize;if(i>0){var r=n.byteOffset+n.bytesFilled,a=n.buffer.slice(r-i,r);Ke(t,a,0,a.byteLength)}n.buffer=f(n.buffer),n.bytesFilled-=i,Qe(t._controlledReadableByteStream,n),rn(t)}}function ln(t,e){var n=t._pendingPullIntos.peek(),i=t._controlledReadableByteStream;if("closed"===i._state){if(0!==e)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");on(t,n)}else sn(t,e,n);qe(t)}function cn(t){var e=t._pendingPullIntos.shift();return nn(t),e}function un(t){var e=t._controlledReadableByteStream;if("readable"!==e._state)return!1;if(!0===t._closeRequested)return!1;if(!1===t._started)return!1;if(!0===Q(e)&&Z(e)>0)return!0;if(!0===Mn(e)&&An(e)>0)return!0;var n=gn(t);return n>0}function hn(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0}function dn(t){var e=t._controlledReadableByteStream;if(t._queueTotalSize>0)t._closeRequested=!0;else{if(t._pendingPullIntos.length>0){var n=t._pendingPullIntos.peek();if(n.bytesFilled>0){var i=new TypeError("Insufficient bytes to fill elements in the given buffer");throw fn(t,i),i}}hn(t),Nn(e)}}function pn(t,e){var n=t._controlledReadableByteStream,i=e.buffer,r=e.byteOffset,a=e.byteLength,o=f(i);if(!0===Q(n))if(0===Z(n))Ke(t,o,r,a);else{var s=new Uint8Array(o,r,a);q(n,s,!1)}else!0===Mn(n)?(Ke(t,o,r,a),rn(t)):Ke(t,o,r,a);qe(t)}function fn(t,e){var n=t._controlledReadableByteStream;"readable"===n._state&&(Ze(t),ut(t),hn(t),Bn(n,e))}function gn(t){var e=t._controlledReadableByteStream,n=e._state;return"errored"===n?null:"closed"===n?0:t._strategyHWM-t._queueTotalSize}function mn(t,e){if(e=Number(e),!1===l(e))throw new RangeError("bytesWritten must be a finite");ln(t,e)}function vn(t,e){var n=t._pendingPullIntos.peek();if(n.byteOffset+n.bytesFilled!==e.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(n.byteLength!==e.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");n.buffer=e.buffer,ln(t,e.byteLength)}function yn(t,e,n,i,r,a,o){e._controlledReadableByteStream=t,e._pullAgain=!1,e._pulling=!1,e._byobRequest=void 0,e._queue=e._queueTotalSize=void 0,ut(e),e._closeRequested=!1,e._started=!1,e._strategyHWM=m(a),e._pullAlgorithm=i,e._cancelAlgorithm=r,e._autoAllocateChunkSize=o,e._pendingPullIntos=new I,t._readableStreamController=e;var s=n();A(S(s),(function(){e._started=!0,qe(e)}),(function(t){fn(e,t)}))}function bn(t,e,n){var i=Object.create(We.prototype);function r(){return d(e,"start",[i])}var a=h(e,"pull",0,[i]),o=h(e,"cancel",1,[]),s=e.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===Ue(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");yn(t,i,r,a,o,n,s)}function xn(t,e,n){t._associatedReadableByteStreamController=e,t._view=n}function _n(t){return new TypeError("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function wn(t){return new TypeError("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Sn(t,e){void 0===e&&(e=!1);var n=new Tn(t);return n._forAuthorCode=e,n}function On(t){var e=w((function(e,n){var i={_resolve:e,_reject:n};t._reader._readIntoRequests.push(i)}));return e}function Cn(t,e,n){var i=t._reader,r=i._readIntoRequests.shift();r._resolve(E(e,n,i._forAuthorCode))}function An(t){return t._reader._readIntoRequests.length}function Mn(t){var e=t._reader;return void 0!==e&&!!kn(e)}var Tn=function(){function t(t){if(!Rn(t))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Ye(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Dn(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");P(this,t),this._readIntoRequests=new I}return Object.defineProperty(t.prototype,"closed",{get:function(){return kn(this)?this._closedPromise:O(jn("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return kn(this)?void 0===this._ownerReadableStream?O(F("cancel")):R(this,t):O(jn("cancel"))},t.prototype.read=function(t){return kn(this)?void 0===this._ownerReadableStream?O(F("read from")):ArrayBuffer.isView(t)?(g(t.buffer),0===t.byteLength?O(new TypeError("view must have non-zero byteLength")):Ln(this,t)):O(new TypeError("view must be an array buffer view")):O(jn("read"))},t.prototype.releaseLock=function(){if(!kn(this))throw jn("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");D(this)}},t}();function kn(t){return!!a(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readIntoRequests")}function Ln(t,e){var n=t._ownerReadableStream;return n._disturbed=!0,"errored"===n._state?O(n._storedError):an(n._readableStreamController,e)}function jn(t){return new TypeError("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var In=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e={}),Pn(this);var n=e.size,i=e.highWaterMark,r=t.type,a=String(r);if("bytes"===a){if(void 0!==n)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===i&&(i=0),i=m(i),bn(this,t,i)}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var o=v(n);void 0===i&&(i=1),i=m(i),Ve(this,t,i,o)}}return Object.defineProperty(t.prototype,"locked",{get:function(){if(!1===Rn(this))throw Vn("locked");return Dn(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Rn(this)?O(Vn("cancel")):!0===Dn(this)?O(new TypeError("Cannot cancel a stream that already has a reader")):Fn(this,t)},t.prototype.getReader=function(t){var e=(void 0===t?{}:t).mode;if(!1===Rn(this))throw Vn("getReader");if(void 0===e)return Y(this,!0);if(e=String(e),"byob"===e)return Sn(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,e){var n=t.writable,i=t.readable,r=void 0===e?{}:e,a=r.preventClose,o=r.preventAbort,s=r.preventCancel,l=r.signal;if(!1===Rn(this))throw Vn("pipeThrough");if(!1===vt(n))throw new TypeError("writable argument to pipeThrough must be a WritableStream");if(!1===Rn(i))throw new TypeError("readable argument to pipeThrough must be a ReadableStream");if(a=Boolean(a),o=Boolean(o),s=Boolean(s),void 0!==l&&!we(l))throw new TypeError("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Dn(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===yt(n))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var c=Me(this,n,a,o,s,l);return L(c),i},t.prototype.pipeTo=function(t,e){var n=void 0===e?{}:e,i=n.preventClose,r=n.preventAbort,a=n.preventCancel,o=n.signal;return!1===Rn(this)?O(Vn("pipeTo")):!1===vt(t)?O(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(i=Boolean(i),r=Boolean(r),a=Boolean(a),void 0===o||we(o)?!0===Dn(this)?O(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===yt(t)?O(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Me(this,t,i,r,a,o):O(new TypeError("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Rn(this))throw Vn("tee");var t=ze(this);return o(t)},t.prototype.getIterator=function(t){var e=(void 0===t?{}:t).preventCancel,n=void 0!==e&&e;if(!1===Rn(this))throw Vn("getIterator");return rt(this,n)},t}();function En(t,e,n,i,r){void 0===i&&(i=1),void 0===r&&(r=function(){return 1});var a=Object.create(In.prototype);Pn(a);var o=Object.create(Te.prototype);return Be(a,o,t,e,n,i,r),a}function Pn(t){t._state="readable",t._reader=void 0,t._storedError=void 0,t._disturbed=!1}function Rn(t){return!!a(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readableStreamController")}function Dn(t){return void 0!==t._reader}function Fn(t,e){if(t._disturbed=!0,"closed"===t._state)return S(void 0);if("errored"===t._state)return O(t._storedError);Nn(t);var i=t._readableStreamController[H](e);return k(i,n)}function Nn(t){t._state="closed";var e=t._reader;void 0!==e&&(tt(e)&&(e._readRequests.forEach((function(t){t._resolve(E(void 0,!0,e._forAuthorCode))})),e._readRequests=new I),U(e))}function Bn(t,e){t._state="errored",t._storedError=e;var n=t._reader;void 0!==n&&(tt(n)?(n._readRequests.forEach((function(t){t._reject(e)})),n._readRequests=new I):(n._readIntoRequests.forEach((function(t){t._reject(e)})),n._readIntoRequests=new I),G(n,e))}function Vn(t){return new TypeError("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"===typeof e.asyncIterator&&Object.defineProperty(In.prototype,e.asyncIterator,{value:In.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Gn=function(){function t(t){var e=t.highWaterMark;this.highWaterMark=e}return t.prototype.size=function(t){return t.byteLength},t}(),zn=function(){function t(t){var e=t.highWaterMark;this.highWaterMark=e}return t.prototype.size=function(){return 1},t}(),Un=function(){function t(t,e,n){void 0===t&&(t={}),void 0===e&&(e={}),void 0===n&&(n={});var i=e.size,r=e.highWaterMark,a=n.size,o=n.highWaterMark,s=t.writableType;if(void 0!==s)throw new RangeError("Invalid writable type specified");var l=v(i);void 0===r&&(r=1),r=m(r);var c=t.readableType;if(void 0!==c)throw new RangeError("Invalid readable type specified");var u,h=v(a);void 0===o&&(o=0),o=m(o);var p=w((function(t){u=t}));Hn(this,p,r,l,o,h),Kn(this,t);var f=d(t,"start",[this._transformStreamController]);u(f)}return Object.defineProperty(t.prototype,"readable",{get:function(){if(!1===Wn(this))throw ci("readable");return this._readable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"writable",{get:function(){if(!1===Wn(this))throw ci("writable");return this._writable},enumerable:!0,configurable:!0}),t}();function Hn(t,e,n,i,r,a){function o(){return e}function s(e){return ri(t,e)}function l(e){return ai(t,e)}function c(){return oi(t)}function u(){return si(t)}function h(e){return Xn(t,e),S(void 0)}t._writable=gt(o,s,c,l,n,i),t._readable=En(o,u,h,r,a),t._backpressure=void 0,t._backpressureChangePromise=void 0,t._backpressureChangePromise_resolve=void 0,qn(t,!0),t._transformStreamController=void 0}function Wn(t){return!!a(t)&&!!Object.prototype.hasOwnProperty.call(t,"_transformStreamController")}function Yn(t,e){Re(t._readable._readableStreamController,e),Xn(t,e)}function Xn(t,e){$n(t._transformStreamController),ee(t._writable._writableStreamController,e),!0===t._backpressure&&qn(t,!1)}function qn(t,e){void 0!==t._backpressureChangePromise&&t._backpressureChangePromise_resolve(),t._backpressureChangePromise=w((function(e){t._backpressureChangePromise_resolve=e})),t._backpressure=e}var Zn=function(){function t(){throw new TypeError("TransformStreamDefaultController instances cannot be created directly")}return Object.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Qn(this))throw li("desiredSize");var t=this._controlledTransformStream._readable._readableStreamController;return De(t)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===Qn(this))throw li("enqueue");ti(this,t)},t.prototype.error=function(t){if(!1===Qn(this))throw li("error");ei(this,t)},t.prototype.terminate=function(){if(!1===Qn(this))throw li("terminate");ii(this)},t}();function Qn(t){return!!a(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledTransformStream")}function Jn(t,e,n,i){e._controlledTransformStream=t,t._transformStreamController=e,e._transformAlgorithm=n,e._flushAlgorithm=i}function Kn(t,e){var n=Object.create(Zn.prototype),i=function(t){try{return ti(n,t),S(void 0)}catch(e){return O(e)}},r=e.transform;if(void 0!==r){if("function"!==typeof r)throw new TypeError("transform is not a method");i=function(t){return p(r,e,[t,n])}}var a=h(e,"flush",0,[n]);Jn(t,n,i,a)}function $n(t){t._transformAlgorithm=void 0,t._flushAlgorithm=void 0}function ti(t,e){var n=t._controlledTransformStream,i=n._readable._readableStreamController;if(!1===Ne(i))throw new TypeError("Readable side is not in a state that permits enqueue");try{Pe(i,e)}catch(a){throw Xn(n,a),n._readable._storedError}var r=Fe(i);r!==n._backpressure&&qn(n,!0)}function ei(t,e){Yn(t._controlledTransformStream,e)}function ni(t,e){var n=t._transformAlgorithm(e);return k(n,void 0,(function(e){throw Yn(t._controlledTransformStream,e),e}))}function ii(t){var e=t._controlledTransformStream,n=e._readable._readableStreamController;!0===Ne(n)&&Ee(n);var i=new TypeError("TransformStream terminated");Xn(e,i)}function ri(t,e){var n=t._transformStreamController;if(!0===t._backpressure){var i=t._backpressureChangePromise;return k(i,(function(){var i=t._writable,r=i._state;if("erroring"===r)throw i._storedError;return ni(n,e)}))}return ni(n,e)}function ai(t,e){return Yn(t,e),S(void 0)}function oi(t){var e=t._readable,n=t._transformStreamController,i=n._flushAlgorithm();return $n(n),k(i,(function(){if("errored"===e._state)throw e._storedError;var t=e._readableStreamController;!0===Ne(t)&&Ee(t)}),(function(n){throw Yn(t,n),e._storedError}))}function si(t){return qn(t,!1),t._backpressureChangePromise}function li(t){return new TypeError("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function ci(t){return new TypeError("TransformStream.prototype."+t+" can only be used on a TransformStream")}t.ByteLengthQueuingStrategy=Gn,t.CountQueuingStrategy=zn,t.ReadableStream=In,t.TransformStream=Un,t.WritableStream=pt,Object.defineProperty(t,"__esModule",{value:!0})}))},function(t,e,n){n(147),n(118),n(77),n(120);var i=n(43);t.exports=i.Map},function(t,e,n){"use strict";var i=n(148),r=n(152);t.exports=i("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r)},function(t,e,n){"use strict";var i=n(10),r=n(11),a=n(52),o=n(29),s=n(149),l=n(104),c=n(126),u=n(22),h=n(14),d=n(97),p=n(85),f=n(151);t.exports=function(t,e,n){var g=-1!==t.indexOf("Map"),m=-1!==t.indexOf("Weak"),v=g?"set":"add",y=r[t],b=y&&y.prototype,x=y,_={},w=function(t){var e=b[t];o(b,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(m&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!u(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!u(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(a(t,"function"!=typeof y||!(m||b.forEach&&!h((function(){(new y).entries().next()})))))x=n.getConstructor(e,t,g,v),s.REQUIRED=!0;else if(a(t,!0)){var S=new x,O=S[v](m?{}:-0,1)!=S,C=h((function(){S.has(1)})),A=d((function(t){new y(t)})),M=!m&&h((function(){var t=new y,e=5;while(e--)t[v](e,e);return!t.has(-0)}));A||(x=e((function(e,n){c(e,x,t);var i=f(new y,e,x);return void 0!=n&&l(n,i[v],i,g),i})),x.prototype=b,b.constructor=x),(C||M)&&(w("delete"),w("has"),g&&w("get")),(M||O)&&w(v),m&&b.clear&&delete b.clear}return _[t]=x,i({global:!0,forced:x!=y},_),p(x,t),m||n.setStrong(x,t,g),x}},function(t,e,n){var i=n(39),r=n(22),a=n(23),o=n(27).f,s=n(38),l=n(150),c=s("meta"),u=0,h=Object.isExtensible||function(){return!0},d=function(t){o(t,c,{value:{objectID:"O"+ ++u,weakData:{}}})},p=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,c)){if(!h(t))return"F";if(!e)return"E";d(t)}return t[c].objectID},f=function(t,e){if(!a(t,c)){if(!h(t))return!0;if(!e)return!1;d(t)}return t[c].weakData},g=function(t){return l&&m.REQUIRED&&h(t)&&!a(t,c)&&d(t),t},m=t.exports={REQUIRED:!1,fastKey:p,getWeakData:f,onFreeze:g};i[c]=!0},function(t,e,n){var i=n(14);t.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){var i=n(22),r=n(87);t.exports=function(t,e,n){var a,o;return r&&"function"==typeof(a=e.constructor)&&a!==n&&i(o=a.prototype)&&o!==n.prototype&&r(t,o),t}},function(t,e,n){"use strict";var i=n(27).f,r=n(71),a=n(124),o=n(62),s=n(126),l=n(104),c=n(79),u=n(125),h=n(13),d=n(149).fastKey,p=n(33),f=p.set,g=p.getterFor;t.exports={getConstructor:function(t,e,n,c){var u=t((function(t,i){s(t,u,e),f(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),h||(t.size=0),void 0!=i&&l(i,t[c],t,n)})),p=g(e),m=function(t,e,n){var i,r,a=p(t),o=v(t,e);return o?o.value=n:(a.last=o={index:r=d(e,!0),key:e,value:n,previous:i=a.last,next:void 0,removed:!1},a.first||(a.first=o),i&&(i.next=o),h?a.size++:t.size++,"F"!==r&&(a.index[r]=o)),t},v=function(t,e){var n,i=p(t),r=d(e);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==e)return n};return a(u.prototype,{clear:function(){var t=this,e=p(t),n=e.index,i=e.first;while(i)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete n[i.index],i=i.next;e.first=e.last=void 0,h?e.size=0:t.size=0},delete:function(t){var e=this,n=p(e),i=v(e,t);if(i){var r=i.next,a=i.previous;delete n.index[i.index],i.removed=!0,a&&(a.next=r),r&&(r.previous=a),n.first==i&&(n.first=r),n.last==i&&(n.last=a),h?n.size--:e.size--}return!!i},forEach:function(t){var e,n=p(this),i=o(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:n.first){i(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!v(this,t)}}),a(u.prototype,n?{get:function(t){var e=v(this,t);return e&&e.value},set:function(t,e){return m(this,0===t?0:t,e)}}:{add:function(t){return m(this,t=0===t?0:t,t)}}),h&&i(u.prototype,"size",{get:function(){return p(this).size}}),u},setStrong:function(t,e,n){var i=e+" Iterator",r=g(e),a=g(i);c(t,e,(function(t,e){f(this,{type:i,target:t,state:r(t),kind:e,last:void 0})}),(function(){var t=a(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),u(e)}}},function(t,e,n){n(154),n(118),n(77),n(120);var i=n(43);t.exports=i.Set},function(t,e,n){"use strict";var i=n(148),r=n(152);t.exports=i("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r)},function(t,e,n){n(118),n(156),n(120);var i=n(43);t.exports=i.WeakMap},function(t,e,n){"use strict";var i,r=n(11),a=n(124),o=n(149),s=n(148),l=n(157),c=n(22),u=n(33).enforce,h=n(34),d=!r.ActiveXObject&&"ActiveXObject"in r,p=Object.isExtensible,f=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},g=t.exports=s("WeakMap",f,l);if(h&&d){i=l.getConstructor(f,"WeakMap",!0),o.REQUIRED=!0;var m=g.prototype,v=m["delete"],y=m.has,b=m.get,x=m.set;a(m,{delete:function(t){if(c(t)&&!p(t)){var e=u(this);return e.frozen||(e.frozen=new i),v.call(this,t)||e.frozen["delete"](t)}return v.call(this,t)},has:function(t){if(c(t)&&!p(t)){var e=u(this);return e.frozen||(e.frozen=new i),y.call(this,t)||e.frozen.has(t)}return y.call(this,t)},get:function(t){if(c(t)&&!p(t)){var e=u(this);return e.frozen||(e.frozen=new i),y.call(this,t)?b.call(this,t):e.frozen.get(t)}return b.call(this,t)},set:function(t,e){if(c(t)&&!p(t)){var n=u(this);n.frozen||(n.frozen=new i),y.call(this,t)?x.call(this,t,e):n.frozen.set(t,e)}else x.call(this,t,e);return this}})}},function(t,e,n){"use strict";var i=n(124),r=n(149).getWeakData,a=n(28),o=n(22),s=n(126),l=n(104),c=n(158),u=n(23),h=n(33),d=h.set,p=h.getterFor,f=c.find,g=c.findIndex,m=0,v=function(t){return t.frozen||(t.frozen=new y)},y=function(){this.entries=[]},b=function(t,e){return f(t.entries,(function(t){return t[0]===e}))};y.prototype={get:function(t){var e=b(this,t);if(e)return e[1]},has:function(t){return!!b(this,t)},set:function(t,e){var n=b(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=g(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,c){var h=t((function(t,i){s(t,h,e),d(t,{type:e,id:m++,frozen:void 0}),void 0!=i&&l(i,t[c],t,n)})),f=p(e),g=function(t,e,n){var i=f(t),o=r(a(e),!0);return!0===o?v(i).set(e,n):o[i.id]=n,t};return i(h.prototype,{delete:function(t){var e=f(this);if(!o(t))return!1;var n=r(t);return!0===n?v(e)["delete"](t):n&&u(n,e.id)&&delete n[e.id]},has:function(t){var e=f(this);if(!o(t))return!1;var n=r(t);return!0===n?v(e).has(t):n&&u(n,e.id)}}),i(h.prototype,n?{get:function(t){var e=f(this);if(o(t)){var n=r(t);return!0===n?v(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return g(this,t,e)}}:{add:function(t){return g(this,t,!0)}}),h}}},function(t,e,n){var i=n(62),r=n(18),a=n(83),o=n(47),s=n(159),l=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,u=4==t,h=6==t,d=5==t||h;return function(p,f,g,m){for(var v,y,b=a(p),x=r(b),_=i(f,g,3),w=o(x.length),S=0,O=m||s,C=e?O(p,w):n?O(p,0):void 0;w>S;S++)if((d||S in x)&&(v=x[S],y=_(v,S,b),t))if(e)C[S]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return S;case 2:l.call(C,v)}else if(u)return!1;return h?-1:c||u?u:C}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(t,e,n){var i=n(22),r=n(160),a=n(57),o=a("species");t.exports=function(t,e){var n;return r(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?i(n)&&(n=n[o],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var i=n(19);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){n(118),n(162),n(120);var i=n(43);t.exports=i.WeakSet},function(t,e,n){"use strict";var i=n(148),r=n(157);i("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r)},function(t,e,n){n(164);var i=n(61);t.exports=i("String","codePointAt")},function(t,e,n){"use strict";var i=n(10),r=n(78).codeAt;i({target:"String",proto:!0},{codePointAt:function(t){return r(this,t)}})},function(t,e,n){n(166);var i=n(43);t.exports=i.String.fromCodePoint},function(t,e,n){var i=n(10),r=n(49),a=String.fromCharCode,o=String.fromCodePoint,s=!!o&&1!=o.length;i({target:"String",stat:!0,forced:s},{fromCodePoint:function(t){var e,n=[],i=arguments.length,o=0;while(i>o){if(e=+arguments[o++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?a(e):a(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){n(168),n(118),n(170),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189);var i=n(43);t.exports=i.Symbol},function(t,e,n){"use strict";var i=n(10),r=n(14),a=n(160),o=n(22),s=n(83),l=n(47),c=n(93),u=n(159),h=n(169),d=n(57),p=n(135),f=d("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",v=p>=51||!r((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),y=h("concat"),b=function(t){if(!o(t))return!1;var e=t[f];return void 0!==e?!!e:a(t)},x=!v||!y;i({target:"Array",proto:!0,forced:x},{concat:function(t){var e,n,i,r,a,o=s(this),h=u(o,0),d=0;for(e=-1,i=arguments.length;e<i;e++)if(a=-1===e?o:arguments[e],b(a)){if(r=l(a.length),d+r>g)throw TypeError(m);for(n=0;n<r;n++,d++)n in a&&c(h,d,a[n])}else{if(d>=g)throw TypeError(m);c(h,d++,a)}return h.length=d,h}})},function(t,e,n){var i=n(14),r=n(57),a=n(135),o=r("species");t.exports=function(t){return a>=51||!i((function(){var e=[],n=e.constructor={};return n[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){"use strict";var i=n(10),r=n(11),a=n(42),o=n(37),s=n(13),l=n(58),c=n(59),u=n(14),h=n(23),d=n(160),p=n(22),f=n(28),g=n(83),m=n(17),v=n(21),y=n(16),b=n(71),x=n(73),_=n(44),w=n(171),S=n(51),O=n(12),C=n(27),A=n(15),M=n(26),T=n(29),k=n(36),L=n(35),j=n(39),I=n(38),E=n(57),P=n(172),R=n(173),D=n(85),F=n(33),N=n(158).forEach,B=L("hidden"),V="Symbol",G="prototype",z=E("toPrimitive"),U=F.set,H=F.getterFor(V),W=Object[G],Y=r.Symbol,X=a("JSON","stringify"),q=O.f,Z=C.f,Q=w.f,J=A.f,K=k("symbols"),$=k("op-symbols"),tt=k("string-to-symbol-registry"),et=k("symbol-to-string-registry"),nt=k("wks"),it=r.QObject,rt=!it||!it[G]||!it[G].findChild,at=s&&u((function(){return 7!=b(Z({},"a",{get:function(){return Z(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=q(W,e);i&&delete W[e],Z(t,e,n),i&&t!==W&&Z(W,e,i)}:Z,ot=function(t,e){var n=K[t]=b(Y[G]);return U(n,{type:V,tag:t,description:e}),s||(n.description=e),n},st=c?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Y},lt=function(t,e,n){t===W&&lt($,e,n),f(t);var i=v(e,!0);return f(n),h(K,i)?(n.enumerable?(h(t,B)&&t[B][i]&&(t[B][i]=!1),n=b(n,{enumerable:y(0,!1)})):(h(t,B)||Z(t,B,y(1,{})),t[B][i]=!0),at(t,i,n)):Z(t,i,n)},ct=function(t,e){f(t);var n=m(e),i=x(n).concat(ft(n));return N(i,(function(e){s&&!ht.call(n,e)||lt(t,e,n[e])})),t},ut=function(t,e){return void 0===e?b(t):ct(b(t),e)},ht=function(t){var e=v(t,!0),n=J.call(this,e);return!(this===W&&h(K,e)&&!h($,e))&&(!(n||!h(this,e)||!h(K,e)||h(this,B)&&this[B][e])||n)},dt=function(t,e){var n=m(t),i=v(e,!0);if(n!==W||!h(K,i)||h($,i)){var r=q(n,i);return!r||!h(K,i)||h(n,B)&&n[B][i]||(r.enumerable=!0),r}},pt=function(t){var e=Q(m(t)),n=[];return N(e,(function(t){h(K,t)||h(j,t)||n.push(t)})),n},ft=function(t){var e=t===W,n=Q(e?$:m(t)),i=[];return N(n,(function(t){!h(K,t)||e&&!h(W,t)||i.push(K[t])})),i};if(l||(Y=function(){if(this instanceof Y)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=I(t),n=function(t){this===W&&n.call($,t),h(this,B)&&h(this[B],e)&&(this[B][e]=!1),at(this,e,y(1,t))};return s&&rt&&at(W,e,{configurable:!0,set:n}),ot(e,t)},T(Y[G],"toString",(function(){return H(this).tag})),T(Y,"withoutSetter",(function(t){return ot(I(t),t)})),A.f=ht,C.f=lt,O.f=dt,_.f=w.f=pt,S.f=ft,P.f=function(t){return ot(E(t),t)},s&&(Z(Y[G],"description",{configurable:!0,get:function(){return H(this).description}}),o||T(W,"propertyIsEnumerable",ht,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:Y}),N(x(nt),(function(t){R(t)})),i({target:V,stat:!0,forced:!l},{for:function(t){var e=String(t);if(h(tt,e))return tt[e];var n=Y(e);return tt[e]=n,et[n]=e,n},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(h(et,t))return et[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),i({target:"Object",stat:!0,forced:!l,sham:!s},{create:ut,defineProperty:lt,defineProperties:ct,getOwnPropertyDescriptor:dt}),i({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:pt,getOwnPropertySymbols:ft}),i({target:"Object",stat:!0,forced:u((function(){S.f(1)}))},{getOwnPropertySymbols:function(t){return S.f(g(t))}}),X){var gt=!l||u((function(){var t=Y();return"[null]"!=X([t])||"{}"!=X({a:t})||"{}"!=X(Object(t))}));i({target:"JSON",stat:!0,forced:gt},{stringify:function(t,e,n){var i,r=[t],a=1;while(arguments.length>a)r.push(arguments[a++]);if(i=e,(p(e)||void 0!==t)&&!st(t))return d(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!st(e))return e}),r[1]=e,X.apply(null,r)}})}Y[G][z]||M(Y[G],z,Y[G].valueOf),D(Y,V),j[B]=!0},function(t,e,n){var i=n(17),r=n(44).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return r(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?s(t):r(i(t))}},function(t,e,n){var i=n(57);e.f=i},function(t,e,n){var i=n(43),r=n(23),a=n(172),o=n(27).f;t.exports=function(t){var e=i.Symbol||(i.Symbol={});r(e,t)||o(e,t,{value:a.f(t)})}},function(t,e,n){var i=n(173);i("asyncIterator")},function(t,e,n){"use strict";var i=n(10),r=n(13),a=n(11),o=n(23),s=n(22),l=n(27).f,c=n(40),u=a.Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var h={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new u(t):void 0===t?u():u(t);return""===t&&(h[e]=!0),e};c(d,u);var p=d.prototype=u.prototype;p.constructor=d;var f=p.toString,g="Symbol(test)"==String(u("test")),m=/^Symbol\((.*)\)[^)]+$/;l(p,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=f.call(t);if(o(h,t))return"";var n=g?e.slice(7,-1):e.replace(m,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:d})}},function(t,e,n){var i=n(173);i("hasInstance")},function(t,e,n){var i=n(173);i("isConcatSpreadable")},function(t,e,n){var i=n(173);i("iterator")},function(t,e,n){var i=n(173);i("match")},function(t,e,n){var i=n(173);i("matchAll")},function(t,e,n){var i=n(173);i("replace")},function(t,e,n){var i=n(173);i("search")},function(t,e,n){var i=n(173);i("species")},function(t,e,n){var i=n(173);i("split")},function(t,e,n){var i=n(173);i("toPrimitive")},function(t,e,n){var i=n(173);i("toStringTag")},function(t,e,n){var i=n(173);i("unscopables")},function(t,e,n){var i=n(85);i(Math,"Math",!0)},function(t,e,n){var i=n(11),r=n(85);r(i.JSON,"JSON",!0)},function(t,e,n){n(191);var i=n(61);t.exports=i("String","padStart")},function(t,e,n){"use strict";var i=n(10),r=n(192).start,a=n(194);i({target:"String",proto:!0,forced:a},{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(47),r=n(193),a=n(20),o=Math.ceil,s=function(t){return function(e,n,s){var l,c,u=String(a(e)),h=u.length,d=void 0===s?" ":String(s),p=i(n);return p<=h||""==d?u:(l=p-h,c=r.call(d,o(l/d.length)),c.length>l&&(c=c.slice(0,l)),t?u+c:c+u)}};t.exports={start:s(!1),end:s(!0)}},function(t,e,n){"use strict";var i=n(48),r=n(20);t.exports="".repeat||function(t){var e=String(r(this)),n="",a=i(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(n+=e);return n}},function(t,e,n){var i=n(129);t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i)},function(t,e,n){n(196);var i=n(61);t.exports=i("String","padEnd")},function(t,e,n){"use strict";var i=n(10),r=n(192).end,a=n(194);i({target:"String",proto:!0,forced:a},{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){n(198);var i=n(43);t.exports=i.Object.values},function(t,e,n){var i=n(10),r=n(199).values;i({target:"Object",stat:!0},{values:function(t){return r(t)}})},function(t,e,n){var i=n(13),r=n(73),a=n(17),o=n(15).f,s=function(t){return function(e){var n,s=a(e),l=r(s),c=l.length,u=0,h=[];while(c>u)n=l[u++],i&&!o.call(s,n)||h.push(t?[n,s[n]]:s[n]);return h}};t.exports={entries:s(!0),values:s(!1)}},function(t,e,n){n(201);var i=n(43);t.exports=i.Object.entries},function(t,e,n){var i=n(10),r=n(199).entries;i({target:"Object",stat:!0},{entries:function(t){return r(t)}})},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.build=exports.version=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(203),_node_utils=__w_pdfjs_require__(204),_annotation_storage=__w_pdfjs_require__(205),_api_compatibility=__w_pdfjs_require__(206),_canvas=__w_pdfjs_require__(207),_worker_options=__w_pdfjs_require__(209),_is_node=__w_pdfjs_require__(7),_message_handler=__w_pdfjs_require__(210),_metadata=__w_pdfjs_require__(211),_optional_content_config=__w_pdfjs_require__(213),_transport_stream=__w_pdfjs_require__(214),_webgl=__w_pdfjs_require__(215);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function asyncGeneratorStep(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(i,r)}function _asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(t){asyncGeneratorStep(a,i,r,o,s,"next",t)}function s(t){asyncGeneratorStep(a,i,r,o,s,"throw",t)}o(void 0)}))}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"===typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _iterableToArrayLimit(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){r=!0,a=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(r)throw a}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _typeof(t){return _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory,DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory,createPDFNetworkStream;function setPDFNetworkStreamFactory(t){createPDFNetworkStream=t}function getDocument(t){var e,n=new PDFDocumentLoadingTask;if("string"===typeof t)e={url:t};else if((0,_util.isArrayBuffer)(t))e={data:t};else if(t instanceof PDFDataRangeTransport)e={range:t};else{if("object"!==_typeof(t))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");e=t}var i=Object.create(null),r=null,a=null;for(var o in e)if("url"!==o||"undefined"===typeof window)if("range"!==o)if("worker"!==o)if("data"!==o||e[o]instanceof Uint8Array)i[o]=e[o];else{var s=e[o];if("string"===typeof s)i[o]=(0,_util.stringToBytes)(s);else if("object"!==_typeof(s)||null===s||isNaN(s.length)){if(!(0,_util.isArrayBuffer)(s))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");i[o]=new Uint8Array(s)}else i[o]=new Uint8Array(s)}else a=e[o];else r=e[o];else i[o]=new URL(e[o],window.location).href;if(i.rangeChunkSize=i.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,i.CMapReaderFactory=i.CMapReaderFactory||DefaultCMapReaderFactory,i.ignoreErrors=!0!==i.stopAtErrors,i.fontExtraProperties=!0===i.fontExtraProperties,i.pdfBug=!0===i.pdfBug,Number.isInteger(i.maxImageSize)||(i.maxImageSize=-1),"boolean"!==typeof i.isEvalSupported&&(i.isEvalSupported=!0),"boolean"!==typeof i.disableFontFace&&(i.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),"undefined"===typeof i.ownerDocument&&(i.ownerDocument=globalThis.document),"boolean"!==typeof i.disableRange&&(i.disableRange=!1),"boolean"!==typeof i.disableStream&&(i.disableStream=!1),"boolean"!==typeof i.disableAutoFetch&&(i.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(i.verbosity),!a){var l={verbosity:i.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};a=l.port?PDFWorker.fromPort(l):new PDFWorker(l),n._worker=a}var c=n.docId;return a.promise.then((function(){if(n.destroyed)throw new Error("Loading aborted");var t=_fetchDocument(a,i,r,c),e=new Promise((function(t){var e;r?e=new _transport_stream.PDFDataTransportStream({length:i.length,initialData:i.initialData,progressiveDone:i.progressiveDone,disableRange:i.disableRange,disableStream:i.disableStream},r):i.data||(e=createPDFNetworkStream({url:i.url,length:i.length,httpHeaders:i.httpHeaders,withCredentials:i.withCredentials,rangeChunkSize:i.rangeChunkSize,disableRange:i.disableRange,disableStream:i.disableStream})),t(e)}));return Promise.all([t,e]).then((function(t){var e=_slicedToArray(t,2),r=e[0],o=e[1];if(n.destroyed)throw new Error("Loading aborted");var s=new _message_handler.MessageHandler(c,r,a.port);s.postMessageTransfers=a.postMessageTransfers;var l=new WorkerTransport(s,n,o,i);n._transport=l,s.send("Ready",null)}))}))["catch"](n._capability.reject),n}function _fetchDocument(t,e,n,i){return t.destroyed?Promise.reject(new Error("Worker was destroyed")):(n&&(e.length=n.length,e.initialData=n.initialData,e.progressiveDone=n.progressiveDone),t.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.6.347",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,postMessageTransfers:t.postMessageTransfers,docBaseUrl:e.docBaseUrl,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported,fontExtraProperties:e.fontExtraProperties}).then((function(e){if(t.destroyed)throw new Error("Worker was destroyed");return e})))}var PDFDocumentLoadingTask=function(){var t=0,e=function(){function e(){_classCallCheck(this,e),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+t++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(e,[{key:"destroy",value:function(){var t=this;this.destroyed=!0;var e=this._transport?this._transport.destroy():Promise.resolve();return e.then((function(){t._transport=null,t._worker&&(t._worker.destroy(),t._worker=null)}))}},{key:"promise",get:function(){return this._capability.promise}}]),e}();return e}(),PDFDataRangeTransport=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.length=e,this.initialData=n,this.progressiveDone=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(t,[{key:"addRangeListener",value:function(t){this._rangeListeners.push(t)}},{key:"addProgressListener",value:function(t){this._progressListeners.push(t)}},{key:"addProgressiveReadListener",value:function(t){this._progressiveReadListeners.push(t)}},{key:"addProgressiveDoneListener",value:function(t){this._progressiveDoneListeners.push(t)}},{key:"onDataRange",value:function(t,e){var n,i=_createForOfIteratorHelper(this._rangeListeners);try{for(i.s();!(n=i.n()).done;){var r=n.value;r(t,e)}}catch(a){i.e(a)}finally{i.f()}}},{key:"onDataProgress",value:function(t,e){var n=this;this._readyCapability.promise.then((function(){var i,r=_createForOfIteratorHelper(n._progressListeners);try{for(r.s();!(i=r.n()).done;){var a=i.value;a(t,e)}}catch(o){r.e(o)}finally{r.f()}}))}},{key:"onDataProgressiveRead",value:function(t){var e=this;this._readyCapability.promise.then((function(){var n,i=_createForOfIteratorHelper(e._progressiveReadListeners);try{for(i.s();!(n=i.n()).done;){var r=n.value;r(t)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"onDataProgressiveDone",value:function(){var t=this;this._readyCapability.promise.then((function(){var e,n=_createForOfIteratorHelper(t._progressiveDoneListeners);try{for(n.s();!(e=n.n()).done;){var i=e.value;i()}}catch(r){n.e(r)}finally{n.f()}}))}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(t,e){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),t}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function t(e,n){_classCallCheck(this,t),this._pdfInfo=e,this._transport=n}return _createClass(t,[{key:"getPage",value:function(t){return this._transport.getPage(t)}},{key:"getPageIndex",value:function(t){return this._transport.getPageIndex(t)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(t){return this._transport.getDestination(t)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){return this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"saveDocument",value:function(t){return this._transport.saveDocument(t)}},{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}}]),t}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function t(e,n,i,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,t),this._pageIndex=e,this._pageInfo=n,this._ownerDocument=r,this._transport=i,this._stats=a?new _display_utils.StatTimer:null,this._pdfBug=a,this.commonObjs=i.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}return _createClass(t,[{key:"getViewport",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.scale,n=t.rotation,i=void 0===n?this.rotate:n,r=t.offsetX,a=void 0===r?0:r,o=t.offsetY,s=void 0===o?0:o,l=t.dontFlip,c=void 0!==l&&l;return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:i,offsetX:a,offsetY:s,dontFlip:c})}},{key:"getAnnotations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.intent,n=void 0===e?null:e;return this.annotationsPromise&&this.annotationsIntent===n||(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,n),this.annotationsIntent=n),this.annotationsPromise}},{key:"render",value:function(t){var e=this,n=t.canvasContext,i=t.viewport,r=t.intent,a=void 0===r?"display":r,o=t.enableWebGL,s=void 0!==o&&o,l=t.renderInteractiveForms,c=void 0!==l&&l,u=t.transform,h=void 0===u?null:u,d=t.imageLayer,p=void 0===d?null:d,f=t.canvasFactory,g=void 0===f?null:f,m=t.background,v=void 0===m?null:m,y=t.annotationStorage,b=void 0===y?null:y,x=t.optionalContentConfigPromise,_=void 0===x?null:x;this._stats&&this._stats.time("Overall");var w="print"===a?"print":"display";this.pendingCleanup=!1,_||(_=this._transport.getOptionalContentConfig());var S=this._intentStates.get(w);S||(S=Object.create(null),this._intentStates.set(w,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);var O=g||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),C=new _webgl.WebGLContext({enable:s});S.displayReadyCapability||(S.displayReadyCapability=(0,_util.createPromiseCapability)(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:w,renderInteractiveForms:!0===c,annotationStorage:b&&b.getAll()||null}));var A=function(t){var n=S.renderTasks.indexOf(M);n>=0&&S.renderTasks.splice(n,1),(e.cleanupAfterRender||"print"===w)&&(e.pendingCleanup=!0),e._tryCleanup(),t?(M.capability.reject(t),e._abortOperatorList({intentState:S,reason:t})):M.capability.resolve(),e._stats&&(e._stats.timeEnd("Rendering"),e._stats.timeEnd("Overall"))},M=new InternalRenderTask({callback:A,params:{canvasContext:n,viewport:i,transform:h,imageLayer:p,background:v},objs:this.objs,commonObjs:this.commonObjs,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:O,webGLContext:C,useRequestAnimationFrame:"print"!==w,pdfBug:this._pdfBug});S.renderTasks||(S.renderTasks=[]),S.renderTasks.push(M);var T=M.task;return Promise.all([S.displayReadyCapability.promise,_]).then((function(t){var n=_slicedToArray(t,2),i=n[0],r=n[1];e.pendingCleanup?A():(e._stats&&e._stats.time("Rendering"),M.initializeGraphics({transparency:i,optionalContentConfig:r}),M.operatorListChanged())}))["catch"](A),T}},{key:"getOperatorList",value:function(){function t(){if(i.operatorList.lastChunk){i.opListReadCapability.resolve(i.operatorList);var t=i.renderTasks.indexOf(e);t>=0&&i.renderTasks.splice(t,1)}}var e,n="oplist",i=this._intentStates.get(n);return i||(i=Object.create(null),this._intentStates.set(n,i)),i.opListReadCapability||(e=Object.create(null),e.operatorListChanged=t,i.opListReadCapability=(0,_util.createPromiseCapability)(),i.renderTasks=[],i.renderTasks.push(e),i.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:n})),i.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.normalizeWhitespace,n=void 0!==e&&e,i=t.disableCombineTextItems,r=void 0!==i&&i,a=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===n,combineTextItems:!0!==r},{highWaterMark:a,size:function(t){return t.items.length}})}},{key:"getTextContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.streamTextContent(t);return new Promise((function(t,n){function i(){r.read().then((function(e){var n,r=e.value,o=e.done;o?t(a):(Object.assign(a.styles,r.styles),(n=a.items).push.apply(n,_toConsumableArray(r.items)),i())}),n)}var r=e.getReader(),a={items:[],styles:Object.create(null)};i()}))}},{key:"_destroy",value:function(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var t,e=[],n=_createForOfIteratorHelper(this._intentStates);try{for(n.s();!(t=n.n()).done;){var i=_slicedToArray(t.value,2),r=i[0],a=i[1];if(this._abortOperatorList({intentState:a,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==r){var o,s=_createForOfIteratorHelper(a.renderTasks);try{for(s.s();!(o=s.n()).done;){var l=o.value;e.push(l.completed),l.cancel()}}catch(c){s.e(c)}finally{s.f()}}}}catch(c){n.e(c)}finally{n.f()}return this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(e)}},{key:"cleanup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(t)}},{key:"_tryCleanup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;var e,n=_createForOfIteratorHelper(this._intentStates.values());try{for(n.s();!(e=n.n()).done;){var i=e.value,r=i.renderTasks,a=i.operatorList;if(0!==r.length||!a.lastChunk)return!1}}catch(o){n.e(o)}finally{n.f()}return this._intentStates.clear(),this.objs.clear(),this.annotationsPromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(t,e){var n=this._intentStates.get(e);n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(t))}},{key:"_renderPageChunk",value:function(t,e){for(var n=0,i=t.length;n<i;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk;for(var r=0;r<e.renderTasks.length;r++)e.renderTasks[r].operatorListChanged();t.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(t){var e=this;(0,_util.assert)(t.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var n=this._transport.messageHandler.sendWithStream("GetOperatorList",t),i=n.getReader(),r=this._intentStates.get(t.intent);r.streamReader=i;var a=function t(){i.read().then((function(n){var i=n.value,a=n.done;a?r.streamReader=null:e._transport.destroyed||(e._renderPageChunk(i,r),t())}),(function(t){if(r.streamReader=null,!e._transport.destroyed){if(r.operatorList){r.operatorList.lastChunk=!0;for(var n=0;n<r.renderTasks.length;n++)r.renderTasks[n].operatorListChanged();e._tryCleanup()}if(r.displayReadyCapability)r.displayReadyCapability.reject(t);else{if(!r.opListReadCapability)throw t;r.opListReadCapability.reject(t)}}}))};a()}},{key:"_abortOperatorList",value:function(t){var e=this,n=t.intentState,i=t.reason,r=t.force,a=void 0!==r&&r;if((0,_util.assert)(i instanceof Error||"object"===_typeof(i)&&null!==i,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),n.streamReader){if(!a){if(0!==n.renderTasks.length)return;if(i instanceof _display_utils.RenderingCancelledException)return void(n.streamReaderCancelTimeout=setTimeout((function(){e._abortOperatorList({intentState:n,reason:i,force:!0}),n.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT))}if(n.streamReader.cancel(new _util.AbortException(i&&i.message)),n.streamReader=null,!this._transport.destroyed){var o,s=_createForOfIteratorHelper(this._intentStates);try{for(s.s();!(o=s.n()).done;){var l=_slicedToArray(o.value,2),c=l[0],u=l[1];if(u===n){this._intentStates["delete"](c);break}}}catch(h){s.e(h)}finally{s.f()}this.cleanup()}}}},{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"stats",get:function(){return this._stats}}]),t}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function t(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,t),this._listeners=[],this._defer=e,this._deferred=Promise.resolve(void 0)}return _createClass(t,[{key:"postMessage",value:function(t,e){var n=this;function i(t){if("object"!==_typeof(t)||null===t)return t;if(r.has(t))return r.get(t);var n,a;if((n=t.buffer)&&(0,_util.isArrayBuffer)(n)){var o=e&&e.includes(n);return a=o?new t.constructor(n,t.byteOffset,t.byteLength):new t.constructor(t),r.set(t,a),a}for(var s in a=Array.isArray(t)?[]:{},r.set(t,a),t){var l=void 0,c=t;while(!(l=Object.getOwnPropertyDescriptor(c,s)))c=Object.getPrototypeOf(c);if("undefined"!==typeof l.value)if("function"!==typeof l.value)a[s]=i(l.value);else if(t.hasOwnProperty&&t.hasOwnProperty(s))throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(t[s]))}return a}if(this._defer){var r=new WeakMap,a={data:i(t)};this._deferred.then((function(){n._listeners.forEach((function(t){t.call(n,a)}))}))}else this._listeners.forEach((function(e){e.call(n,{data:t})}))}},{key:"addEventListener",value:function(t,e){this._listeners.push(e)}},{key:"removeEventListener",value:function(t,e){var n=this._listeners.indexOf(e);this._listeners.splice(n,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),t}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function PDFWorkerClosure(){var pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"===("undefined"===typeof document?"undefined":_typeof(document))&&"currentScript"in document){var pdfjsFilePath=document.currentScript&&document.currentScript.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if("undefined"!==typeof fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var t;try{t=globalThis.pdfjsWorker&&globalThis.pdfjsWorker.WorkerMessageHandler}catch(e){}return t||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();var loader=function(){var _ref12=_asyncToGenerator(_regenerator["default"].mark((function _callee(){var mainWorkerMessageHandler,worker;return _regenerator["default"].wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(mainWorkerMessageHandler=getMainThreadWorkerMessageHandler(),!mainWorkerMessageHandler){_context.next=3;break}return _context.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context.next=6;break}return worker=eval("require")(_getWorkerSrc()),_context.abrupt("return",worker.WorkerMessageHandler);case 6:return _context.next=8,(0,_display_utils.loadScript)(_getWorkerSrc());case 8:return _context.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context.stop()}}),_callee)})));return function(){return _ref12.apply(this,arguments)}}();return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(t){var e="importScripts('"+t+"');";return URL.createObjectURL(new Blob([e]))}var PDFWorker=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.name,i=void 0===n?null:n,r=e.port,a=void 0===r?null:r,o=e.verbosity,s=void 0===o?(0,_util.getVerbosityLevel)():o;if(_classCallCheck(this,t),a&&pdfWorkerPorts.has(a))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=i,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=s,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,a)return pdfWorkerPorts.set(a,this),void this._initializeFromPort(a);this._initialize()}return _createClass(t,[{key:"_initializeFromPort",value:function(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var t=this;if("undefined"!==typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var e=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,e)||(e=createCDNWrapper(new URL(e,window.location).href));var n=new Worker(e),i=new _message_handler.MessageHandler("main","worker",n),r=function(){n.removeEventListener("error",a),i.destroy(),n.terminate(),t.destroyed?t._readyCapability.reject(new Error("Worker was destroyed")):t._setupFakeWorker()},a=function(){t._webWorker||r()};n.addEventListener("error",a),i.on("test",(function(e){n.removeEventListener("error",a),t.destroyed?r():e?(t._messageHandler=i,t._port=n,t._webWorker=n,e.supportTransfers||(t.postMessageTransfers=!1),t._readyCapability.resolve(),i.send("configure",{verbosity:t.verbosity})):(t._setupFakeWorker(),i.destroy(),n.terminate())})),i.on("ready",(function(e){if(n.removeEventListener("error",a),t.destroyed)r();else try{o()}catch(i){t._setupFakeWorker()}}));var o=function(){var e=new Uint8Array([t.postMessageTransfers?255:0]);try{i.send("test",e,[e.buffer])}catch(n){(0,_util.warn)("Cannot use postMessage transfers."),e[0]=0,i.send("test",e)}};return void o()}catch(s){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var t=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then((function(e){if(t.destroyed)t._readyCapability.reject(new Error("Worker was destroyed"));else{var n=new LoopbackPort;t._port=n;var i="fake"+nextFakeWorkerId++,r=new _message_handler.MessageHandler(i+"_worker",i,n);e.setup(r,n);var a=new _message_handler.MessageHandler(i,i+"_worker",n);t._messageHandler=a,t._readyCapability.resolve(),a.send("configure",{verbosity:t.verbosity})}}))["catch"]((function(e){t._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))}))}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts["delete"](this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}}],[{key:"fromPort",value:function(e){if(!e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(e.port)?pdfWorkerPorts.get(e.port):new t(e)}},{key:"getWorkerSrc",value:function(){return _getWorkerSrc()}}]),t}();return PDFWorker}();exports.PDFWorker=PDFWorker;var WorkerTransport=function(){function t(e,n,i,r){_classCallCheck(this,t),this.messageHandler=e,this.loadingTask=n,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:n.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:r.ownerDocument}),this._params=r,this.CMapReaderFactory=new r.CMapReaderFactory({baseUrl:r.cMapUrl,isCompressed:r.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(t,[{key:"destroy",value:function(){var t=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var e=[];this.pageCache.forEach((function(t){t&&e.push(t._destroy())})),this.pageCache.length=0,this.pagePromises.length=0;var n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then((function(){t.fontLoader.clear(),t._networkStream&&t._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),t.messageHandler&&(t.messageHandler.destroy(),t.messageHandler=null),t.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var t=this,e=this.messageHandler,n=this.loadingTask;e.on("GetReader",(function(e,n){(0,_util.assert)(t._networkStream,"GetReader - no `IPDFStream` instance available."),t._fullReader=t._networkStream.getFullReader(),t._fullReader.onProgress=function(e){t._lastProgress={loaded:e.loaded,total:e.total}},n.onPull=function(){t._fullReader.read().then((function(t){var e=t.value,i=t.done;i?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(e),"GetReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(e),1,[e]))}))["catch"]((function(t){n.error(t)}))},n.onCancel=function(e){t._fullReader.cancel(e),n.ready["catch"]((function(e){if(!t.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(function(e){var i=(0,_util.createPromiseCapability)(),r=t._fullReader;return r.headersReady.then((function(){r.isStreamingSupported&&r.isRangeSupported||(t._lastProgress&&n.onProgress&&n.onProgress(t._lastProgress),r.onProgress=function(t){n.onProgress&&n.onProgress({loaded:t.loaded,total:t.total})}),i.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})}),i.reject),i.promise})),e.on("GetRangeReader",(function(e,n){(0,_util.assert)(t._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var i=t._networkStream.getRangeReader(e.begin,e.end);i?(n.onPull=function(){i.read().then((function(t){var e=t.value,i=t.done;i?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(e),"GetRangeReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(e),1,[e]))}))["catch"]((function(t){n.error(t)}))},n.onCancel=function(e){i.cancel(e),n.ready["catch"]((function(e){if(!t.destroyed)throw e}))}):n.close()})),e.on("GetDoc",(function(e){var i=e.pdfInfo;t._numPages=i.numPages,n._capability.resolve(new PDFDocumentProxy(i,t))})),e.on("DocException",(function(t){var e;switch(t.name){case"PasswordException":e=new _util.PasswordException(t.message,t.code);break;case"InvalidPDFException":e=new _util.InvalidPDFException(t.message);break;case"MissingPDFException":e=new _util.MissingPDFException(t.message);break;case"UnexpectedResponseException":e=new _util.UnexpectedResponseException(t.message,t.status);break;case"UnknownErrorException":e=new _util.UnknownErrorException(t.message,t.details);break}if(!(e instanceof Error)){var i="DocException - expected a valid Error.";(0,_util.warn)(i)}n._capability.reject(e)})),e.on("PasswordRequest",(function(e){if(t._passwordCapability=(0,_util.createPromiseCapability)(),n.onPassword){var i=function(e){t._passwordCapability.resolve({password:e})};try{n.onPassword(i,e.code)}catch(r){t._passwordCapability.reject(r)}}else t._passwordCapability.reject(new _util.PasswordException(e.message,e.code));return t._passwordCapability.promise})),e.on("DataLoaded",(function(e){n.onProgress&&n.onProgress({loaded:e.length,total:e.length}),t.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(function(e){if(!t.destroyed){var n=t.pageCache[e.pageIndex];n._startRenderPage(e.transparency,e.intent)}})),e.on("commonobj",(function(n){if(!t.destroyed){var i=_slicedToArray(n,3),r=i[0],a=i[1],o=i[2];if(!t.commonObjs.has(r))switch(a){case"Font":var s=t._params;if("error"in o){var l=o.error;(0,_util.warn)("Error during font loading: ".concat(l)),t.commonObjs.resolve(r,l);break}var c=null;s.pdfBug&&globalThis.FontInspector&&globalThis.FontInspector.enabled&&(c={registerFont:function(t,e){globalThis.FontInspector.fontAdded(t,e)}});var u=new _font_loader.FontFaceObject(o,{isEvalSupported:s.isEvalSupported,disableFontFace:s.disableFontFace,ignoreErrors:s.ignoreErrors,onUnsupportedFeature:t._onUnsupportedFeature.bind(t),fontRegistry:c});t.fontLoader.bind(u)["catch"]((function(t){return e.sendWithPromise("FontFallback",{id:r})}))["finally"]((function(){!s.fontExtraProperties&&u.data&&(u.data=null),t.commonObjs.resolve(r,u)}));break;case"FontPath":case"Image":t.commonObjs.resolve(r,o);break;default:throw new Error("Got unknown common object type ".concat(a))}}})),e.on("obj",(function(e){if(!t.destroyed){var n=_slicedToArray(e,4),i=n[0],r=n[1],a=n[2],o=n[3],s=t.pageCache[r];if(!s.objs.has(i))switch(a){case"Image":s.objs.resolve(i,o);var l=8e6;o&&"data"in o&&o.data.length>l&&(s.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type ".concat(a))}}})),e.on("DocProgress",(function(e){t.destroyed||n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})})),e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),e.on("FetchBuiltInCMap",(function(e,n){if(t.destroyed)n.error(new Error("Worker was destroyed"));else{var i=!1;n.onPull=function(){i?n.close():(i=!0,t.CMapReaderFactory.fetch(e).then((function(t){n.enqueue(t,1,[t.cMapData.buffer])}))["catch"]((function(t){n.error(t)})))}}}))}},{key:"_onUnsupportedFeature",value:function(t){var e=t.featureId;this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(e)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(t){var e=this;if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request"));var n=t-1;if(n in this.pagePromises)return this.pagePromises[n];var i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then((function(t){if(e.destroyed)throw new Error("Transport destroyed");var i=new PDFPageProxy(n,t,e,e._params.ownerDocument,e._params.pdfBug);return e.pageCache[n]=i,i}));return this.pagePromises[n]=i,i}},{key:"getPageIndex",value:function(t){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:t})["catch"]((function(t){return Promise.reject(new Error(t))}))}},{key:"getAnnotations",value:function(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}},{key:"saveDocument",value:function(t){return this.messageHandler.sendWithPromise("SaveDocument",{numPages:this._numPages,annotationStorage:t&&t.getAll()||null,filename:this._fullReader?this._fullReader.filename:null})["finally"]((function(){t&&t.resetModified()}))}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(t){return"string"!==typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((function(t){return new _optional_content_config.OptionalContentConfig(t)}))}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var t=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then((function(e){return{info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:t._fullReader?t._fullReader.filename:null}}))}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var t=this;return this.messageHandler.sendWithPromise("Cleanup",null).then((function(){for(var e=0,n=t.pageCache.length;e<n;e++){var i=t.pageCache[e];if(i){var r=i.cleanup();if(!r)throw new Error("startCleanup: Page ".concat(e+1," is currently rendering."))}}t.commonObjs.clear(),t.fontLoader.clear()}))}},{key:"loadingParams",get:function(){var t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,disableFontFace:t.disableFontFace})}}]),t}(),PDFObjects=function(){function t(){_classCallCheck(this,t),this._objs=Object.create(null)}return _createClass(t,[{key:"_ensureObj",value:function(t){return this._objs[t]?this._objs[t]:this._objs[t]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e)return this._ensureObj(t).capability.promise.then(e),null;var n=this._objs[t];if(!n||!n.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return n.data}},{key:"has",value:function(t){var e=this._objs[t];return!!e&&e.resolved}},{key:"resolve",value:function(t,e){var n=this._ensureObj(t);n.resolved=!0,n.data=e,n.capability.resolve(e)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),t}(),RenderTask=function(){function t(e){_classCallCheck(this,t),this._internalRenderTask=e,this.onContinue=null}return _createClass(t,[{key:"cancel",value:function(){this._internalRenderTask.cancel()}},{key:"promise",get:function(){return this._internalRenderTask.capability.promise}}]),t}(),InternalRenderTask=function(){var t=new WeakSet,e=function(){function e(t){var n=t.callback,i=t.params,r=t.objs,a=t.commonObjs,o=t.operatorList,s=t.pageIndex,l=t.canvasFactory,c=t.webGLContext,u=t.useRequestAnimationFrame,h=void 0!==u&&u,d=t.pdfBug,p=void 0!==d&&d;_classCallCheck(this,e),this.callback=n,this.params=i,this.objs=r,this.commonObjs=a,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=s,this.canvasFactory=l,this.webGLContext=c,this._pdfBug=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===h&&"undefined"!==typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=i.canvasContext.canvas}return _createClass(e,[{key:"initializeGraphics",value:function(e){var n=e.transparency,i=void 0!==n&&n,r=e.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager&&globalThis.StepperManager.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var a=this.params,o=a.canvasContext,s=a.viewport,l=a.transform,c=a.imageLayer,u=a.background;this.gfx=new _canvas.CanvasGraphics(o,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,c,r),this.gfx.beginDrawing({transform:l,viewport:s,transparency:i,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&t["delete"](this._canvas),this.callback(e||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var t=this;this._useRequestAnimationFrame?window.requestAnimationFrame((function(){t._nextBound()["catch"](t.cancel.bind(t))})):Promise.resolve().then(this._nextBound)["catch"](this.cancel.bind(this))}},{key:"_next",value:function(){var e=_asyncToGenerator(_regenerator["default"].mark((function e(){return _regenerator["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.cancelled){e.next=2;break}return e.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&t["delete"](this._canvas),this.callback()));case 4:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}()},{key:"completed",get:function(){return this.capability.promise["catch"]((function(){}))}}]),e}();return e}(),version="2.6.347";exports.version=version;var build="3be9c65f";exports.build=build},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var i=a(n(2)),r=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function c(t){var e=d();return function(){var n,i=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function f(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(i,r)}function g(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(t){f(a,i,r,o,s,"next",t)}function s(t){f(a,i,r,o,s,"throw",t)}o(void 0)}))}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function y(t,e,n){return e&&v(t.prototype,e),n&&v(t,n),t}var b,x=function(){function t(e){var n=e.docId,i=e.onUnsupportedFeature,a=e.ownerDocument,o=void 0===a?globalThis.document:a;m(this,t),this.constructor===t&&(0,r.unreachable)("Cannot initialize BaseFontLoader."),this.docId=n,this._onUnsupportedFeature=i,this._document=o,this.nativeFontFaces=[],this.styleElement=null}return y(t,[{key:"addNativeFontFace",value:function(t){this.nativeFontFaces.push(t),this._document.fonts.add(t)}},{key:"insertRule",value:function(t){var e=this.styleElement;e||(e=this.styleElement=this._document.createElement("style"),e.id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(e));var n=e.sheet;n.insertRule(t,n.cssRules.length)}},{key:"clear",value:function(){var t=this;this.nativeFontFaces.forEach((function(e){t._document.fonts["delete"](e)})),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function(){var t=g(i["default"].mark((function t(e){var n,a,o=this;return i["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.attached&&!e.missingFile){t.next=2;break}return t.abrupt("return");case 2:if(e.attached=!0,!this.isFontLoadingAPISupported){t.next=19;break}if(n=e.createNativeFontFace(),!n){t.next=18;break}return this.addNativeFontFace(n),t.prev=7,t.next=10,n.loaded;case 10:t.next=18;break;case 12:throw t.prev=12,t.t0=t["catch"](7),this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,r.warn)("Failed to load font '".concat(n.family,"': '").concat(t.t0,"'.")),e.disableFontFace=!0,t.t0;case 18:return t.abrupt("return");case 19:if(a=e.createFontFaceRule(),!a){t.next=26;break}if(this.insertRule(a),!this.isSyncFontLoadingSupported){t.next=24;break}return t.abrupt("return");case 24:return t.next=26,new Promise((function(t){var n=o._queueLoadingCallback(t);o._prepareFontLoadEvent([a],[e],n)}));case 26:case"end":return t.stop()}}),t,this,[[7,12]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"_queueLoadingCallback",value:function(t){(0,r.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function(t,e,n){(0,r.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function(){var t="undefined"!==typeof this._document&&!!this._document.fonts;return(0,r.shadow)(this,"isFontLoadingAPISupported",t)}},{key:"isSyncFontLoadingSupported",get:function(){(0,r.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,r.unreachable)("Abstract method `_loadTestFont`.")}}]),t}();e.FontLoader=b,e.FontLoader=b=function(t){s(n,t);var e=c(n);function n(t){var i;return m(this,n),i=e.call(this,t),i.loadingContext={requests:[],nextRequestId:0},i.loadTestFontId=0,i}return y(n,[{key:"_queueLoadingCallback",value:function(t){function e(){(0,r.assert)(!i.done,"completeRequest() cannot be called twice."),i.done=!0;while(n.requests.length>0&&n.requests[0].done){var t=n.requests.shift();setTimeout(t.callback,0)}}var n=this.loadingContext,i={id:"pdfjs-font-loading-".concat(n.nextRequestId++),done:!1,complete:e,callback:t};return n.requests.push(i),i}},{key:"_prepareFontLoadEvent",value:function(t,e,n){var i,a,o=this;function s(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function l(t,e,n,i){var r=t.substring(0,e),a=t.substring(e+n);return r+i+a}var c=this._document.createElement("canvas");c.width=1,c.height=1;var u=c.getContext("2d"),h=0;function d(t,e){if(h++,h>30)return(0,r.warn)("Load test font never loaded."),void e();u.font="30px "+t,u.fillText(".",0,20);var n=u.getImageData(0,0,1,1);n.data[3]>0?e():setTimeout(d.bind(null,t,e))}var p="lt".concat(Date.now()).concat(this.loadTestFontId++),f=this._loadTestFont,g=976;f=l(f,g,p.length,p);var m=16,v=1482184792,y=s(f,m);for(i=0,a=p.length-3;i<a;i+=4)y=y-v+s(p,i)|0;i<p.length&&(y=y-v+s(p+"XXX",i)|0),f=l(f,m,4,(0,r.string32)(y));var b="url(data:font/opentype;base64,".concat(btoa(f),");"),x='@font-face {font-family:"'.concat(p,'";src:').concat(b,"}");this.insertRule(x);var _=[];for(i=0,a=e.length;i<a;i++)_.push(e[i].loadedName);_.push(p);var w=this._document.createElement("div");for(w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px",i=0,a=_.length;i<a;++i){var S=this._document.createElement("span");S.textContent="Hi",S.style.fontFamily=_[i],w.appendChild(S)}this._document.body.appendChild(w),d(p,(function(){o._document.body.removeChild(w),n.complete()}))}},{key:"isSyncFontLoadingSupported",get:function(){var t=!1;if("undefined"===typeof navigator)t=!0;else{var e=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);e&&e[1]>=14&&(t=!0)}return(0,r.shadow)(this,"isSyncFontLoadingSupported",t)}},{key:"_loadTestFont",get:function(){var t=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,r.shadow)(this,"_loadTestFont",t())}}]),n}(x);var _=function(){function t(e,n){var i=n.isEvalSupported,r=void 0===i||i,a=n.disableFontFace,o=void 0!==a&&a,s=n.ignoreErrors,l=void 0!==s&&s,c=n.onUnsupportedFeature,u=void 0===c?null:c,h=n.fontRegistry,d=void 0===h?null:h;for(var p in m(this,t),this.compiledGlyphs=Object.create(null),e)this[p]=e[p];this.isEvalSupported=!1!==r,this.disableFontFace=!0===o,this.ignoreErrors=!0===l,this._onUnsupportedFeature=u,this.fontRegistry=d}return y(t,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var t=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),t}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var t=(0,r.bytesToString)(new Uint8Array(this.data)),e="url(data:".concat(this.mimetype,";base64,").concat(btoa(t),");"),n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(e,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,e),n}},{key:"getPathGenerator",value:function(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];var n,i;try{n=t.get(this.loadedName+"_path_"+e)}catch(c){if(!this.ignoreErrors)throw c;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,r.warn)('getPathGenerator - ignoring character: "'.concat(c,'".')),this.compiledGlyphs[e]=function(t,e){}}if(this.isEvalSupported&&r.IsEvalSupportedCached.value){for(var a,o="",s=0,l=n.length;s<l;s++)i=n[s],a=void 0!==i.args?i.args.join(","):"",o+="c."+i.cmd+"("+a+");\n";return this.compiledGlyphs[e]=new Function("c","size",o)}return this.compiledGlyphs[e]=function(t,e){for(var r=0,a=n.length;r<a;r++)i=n[r],"scale"===i.cmd&&(i.args=[e,-e]),t[i.cmd].apply(t,i.args)}}}]),t}();e.FontFaceObject=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeCMapReaderFactory=e.NodeCanvasFactory=void 0;var i=n(1),r=n(7),a=n(5);function o(t){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function h(t){var e=f();return function(){var n,i=g(t);if(e){var r=g(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var v=function t(){m(this,t),(0,a.unreachable)("Not implemented: NodeCanvasFactory")};e.NodeCanvasFactory=v;var y=function t(){m(this,t),(0,a.unreachable)("Not implemented: NodeCMapReaderFactory")};e.NodeCMapReaderFactory=y,r.isNodeJS&&(e.NodeCanvasFactory=v=function(t){c(n,t);var e=h(n);function n(){return m(this,n),e.apply(this,arguments)}return l(n,[{key:"create",value:function(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");var n=__webpack_require__(3),i=n.createCanvas(t,e);return{canvas:i,context:i.getContext("2d")}}}]),n}(i.BaseCanvasFactory),e.NodeCMapReaderFactory=y=function(t){c(n,t);var e=h(n);function n(){return m(this,n),e.apply(this,arguments)}return l(n,[{key:"_fetchData",value:function(t,e){return new Promise((function(n,i){var r=__webpack_require__(2);r.readFile(t,(function(t,r){!t&&r?n({cMapData:new Uint8Array(r),compressionType:e}):i(new Error(t))}))}))}}]),n}(i.BaseCMapReaderFactory))},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationStorage=void 0;var o=function(){function t(){i(this,t),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}return a(t,[{key:"getOrCreateValue",value:function(t,e){return this._storage.has(t)?this._storage.get(t):(this._storage.set(t,e),e)}},{key:"setValue",value:function(t,e){this._storage.get(t)!==e&&this._setModified(),this._storage.set(t,e)}},{key:"getAll",value:function(){return 0===this._storage.size?null:Object.fromEntries(this._storage)}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,"function"===typeof this.onSetModified&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,"function"===typeof this.onResetModified&&this.onResetModified())}},{key:"size",get:function(){return this._storage.size}}]),t}();e.AnnotationStorage=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.apiCompatibilityParams=void 0;var i=n(7),r=Object.create(null);(function(){i.isNodeJS&&(r.disableFontFace=!0)})();var a=Object.freeze(r);e.apiCompatibilityParams=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var i=n(5),r=n(208);function a(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=o(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(l)throw a}}}}function o(t,e){if(t){if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var l=16,c=100,u=4096,h=.65,d=!0,p=1e3,f=16;function g(t){t.mozCurrentTransform||(t._originalSave=t.save,t._originalRestore=t.restore,t._originalRotate=t.rotate,t._originalScale=t.scale,t._originalTranslate=t.translate,t._originalTransform=t.transform,t._originalSetTransform=t.setTransform,t._transformMatrix=t._transformMatrix||[1,0,0,1,0,0],t._transformStack=[],Object.defineProperty(t,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(t,"mozCurrentTransformInverse",{get:function(){var t=this._transformMatrix,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=e*r-n*i,l=n*i-e*r;return[r/s,n/l,i/l,e/s,(r*a-i*o)/l,(n*a-e*o)/s]}}),t.save=function(){var t=this._transformMatrix;this._transformStack.push(t),this._transformMatrix=t.slice(0,6),this._originalSave()},t.restore=function(){var t=this._transformStack.pop();t&&(this._transformMatrix=t,this._originalRestore())},t.translate=function(t,e){var n=this._transformMatrix;n[4]=n[0]*t+n[2]*e+n[4],n[5]=n[1]*t+n[3]*e+n[5],this._originalTranslate(t,e)},t.scale=function(t,e){var n=this._transformMatrix;n[0]=n[0]*t,n[1]=n[1]*t,n[2]=n[2]*e,n[3]=n[3]*e,this._originalScale(t,e)},t.transform=function(e,n,i,r,a,o){var s=this._transformMatrix;this._transformMatrix=[s[0]*e+s[2]*n,s[1]*e+s[3]*n,s[0]*i+s[2]*r,s[1]*i+s[3]*r,s[0]*a+s[2]*o+s[4],s[1]*a+s[3]*o+s[5]],t._originalTransform(e,n,i,r,a,o)},t.setTransform=function(e,n,i,r,a,o){this._transformMatrix=[e,n,i,r,a,o],t._originalSetTransform(e,n,i,r,a,o)},t.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),i=this._transformMatrix;this._transformMatrix=[i[0]*e+i[2]*n,i[1]*e+i[3]*n,i[0]*-n+i[2]*e,i[1]*-n+i[3]*e,i[4],i[5]],this._originalRotate(t)})}var m=function(){function t(t){this.canvasFactory=t,this.cache=Object.create(null)}return t.prototype={getCanvas:function(t,e,n,i){var r;return void 0!==this.cache[t]?(r=this.cache[t],this.canvasFactory.reset(r,e,n),r.context.setTransform(1,0,0,1,0,0)):(r=this.canvasFactory.create(e,n),this.cache[t]=r),i&&g(r.context),r},clear:function(){for(var t in this.cache){var e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}},t}();function v(t){var e,n,i,r,a=1e3,o=t.width,s=t.height,l=o+1,c=new Uint8Array(l*(s+1)),u=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),h=o+7&-8,d=t.data,p=new Uint8Array(h*s),f=0;for(e=0,r=d.length;e<r;e++){var g=128,m=d[e];while(g>0)p[f++]=m&g?0:255,g>>=1}var v=0;for(f=0,0!==p[f]&&(c[0]=1,++v),n=1;n<o;n++)p[f]!==p[f+1]&&(c[n]=p[f]?2:1,++v),f++;for(0!==p[f]&&(c[n]=2,++v),e=1;e<s;e++){f=e*h,i=e*l,p[f-h]!==p[f]&&(c[i]=p[f]?1:8,++v);var y=(p[f]?4:0)+(p[f-h]?8:0);for(n=1;n<o;n++)y=(y>>2)+(p[f+1]?4:0)+(p[f-h+1]?8:0),u[y]&&(c[i+n]=u[y],++v),f++;if(p[f-h]!==p[f]&&(c[i+n]=p[f]?2:4,++v),v>a)return null}for(f=h*(s-1),i=e*l,0!==p[f]&&(c[i]=8,++v),n=1;n<o;n++)p[f]!==p[f+1]&&(c[i+n]=p[f]?4:8,++v),f++;if(0!==p[f]&&(c[i+n]=4,++v),v>a)return null;var b=new Int32Array([0,l,-1,0,-l,0,0,0,1]),x=[];for(e=0;v&&e<=s;e++){var _=e*l,w=_+o;while(_<w&&!c[_])_++;if(_!==w){var S,O=[_%l,e],C=c[_],A=_;do{var M=b[C];do{_+=M}while(!c[_]);S=c[_],5!==S&&10!==S?(C=S,c[_]=0):(C=S&51*C>>4,c[_]&=C>>2|C<<2),O.push(_%l),O.push(_/l|0),c[_]||--v}while(A!==_);x.push(O),--e}}var T=function(t){t.save(),t.scale(1/o,-1/s),t.translate(0,-s),t.beginPath();for(var e=0,n=x.length;e<n;e++){var i=x[e];t.moveTo(i[0],i[1]);for(var r=2,a=i.length;r<a;r+=2)t.lineTo(i[r],i[r+1])}t.fill(),t.beginPath(),t.restore()};return T}var y=function(){function t(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null,this.transferMaps=null}return t.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(t,e){this.x=t,this.y=e}},t}(),b=function(){var t=15,e=10;function n(t,e,n,i,r,a,o){this.ctx=t,this.current=new y,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=i,this.webGLContext=r,this.imageLayer=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=o,this.cachedCanvases=new m(this.canvasFactory),t&&g(t),this._cachedGetSinglePixelWidth=null}function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!==typeof ImageData&&e instanceof ImageData)t.putImageData(e,0,0);else{var r,a,o,s,l,c,u,h,d,p=e.height,g=e.width,m=p%f,v=(p-m)/f,y=0===m?v:v+1,b=t.createImageData(g,f),x=0,_=e.data,w=b.data;if(n)switch(n.length){case 1:c=n[0],u=n[0],h=n[0],d=n[0];break;case 4:c=n[0],u=n[1],h=n[2],d=n[3];break}if(e.kind===i.ImageKind.GRAYSCALE_1BPP){var S=_.byteLength,O=new Uint32Array(w.buffer,0,w.byteLength>>2),C=O.length,A=g+7>>3,M=4294967295,T=i.IsLittleEndianCached.value?4278190080:255;if(d&&255===d[0]&&0===d[255]){var k=[T,M];M=k[0],T=k[1]}for(a=0;a<y;a++){for(s=a<v?f:m,r=0,o=0;o<s;o++){for(var L=S-x,j=0,I=L>A?g:8*L-7,E=-8&I,P=0,R=0;j<E;j+=8)R=_[x++],O[r++]=128&R?M:T,O[r++]=64&R?M:T,O[r++]=32&R?M:T,O[r++]=16&R?M:T,O[r++]=8&R?M:T,O[r++]=4&R?M:T,O[r++]=2&R?M:T,O[r++]=1&R?M:T;for(;j<I;j++)0===P&&(R=_[x++],P=128),O[r++]=R&P?M:T,P>>=1}while(r<C)O[r++]=0;t.putImageData(b,0,a*f)}}else if(e.kind===i.ImageKind.RGBA_32BPP){var D=!!(c||u||h);for(o=0,l=g*f*4,a=0;a<v;a++){if(w.set(_.subarray(x,x+l)),x+=l,D)for(var F=0;F<l;F+=4)c&&(w[F+0]=c[w[F+0]]),u&&(w[F+1]=u[w[F+1]]),h&&(w[F+2]=h[w[F+2]]);t.putImageData(b,0,o),o+=f}if(a<y){if(l=g*m*4,w.set(_.subarray(x,x+l)),D)for(var N=0;N<l;N+=4)c&&(w[N+0]=c[w[N+0]]),u&&(w[N+1]=u[w[N+1]]),h&&(w[N+2]=h[w[N+2]]);t.putImageData(b,0,o)}}else{if(e.kind!==i.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(e.kind));var B=!!(c||u||h);for(s=f,l=g*s,a=0;a<y;a++){for(a>=v&&(s=m,l=g*s),r=0,o=l;o--;)w[r++]=_[x++],w[r++]=_[x++],w[r++]=_[x++],w[r++]=255;if(B)for(var V=0;V<r;V+=4)c&&(w[V+0]=c[w[V+0]]),u&&(w[V+1]=u[w[V+1]]),h&&(w[V+2]=h[w[V+2]]);t.putImageData(b,0,a*f)}}}}function s(t,e){for(var n=e.height,i=e.width,r=n%f,a=(n-r)/f,o=0===r?a:a+1,s=t.createImageData(i,f),l=0,c=e.data,u=s.data,h=0;h<o;h++){for(var d=h<a?f:r,p=3,g=0;g<d;g++)for(var m=0,v=0;v<i;v++){if(!m){var y=c[l++];m=128}u[p]=y&m?0:255,p+=4,m>>=1}t.putImageData(s,0,h*f)}}function b(t,e){for(var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],i=0,r=n.length;i<r;i++){var a=n[i];void 0!==t[a]&&(e[a]=t[a])}void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function x(t){t.strokeStyle="#000000",t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0)}function _(t,e,n,i){for(var r=t.length,a=3;a<r;a+=4){var o=t[a];if(0===o)t[a-3]=e,t[a-2]=n,t[a-1]=i;else if(o<255){var s=255-o;t[a-3]=t[a-3]*o+e*s>>8,t[a-2]=t[a-2]*o+n*s>>8,t[a-1]=t[a-1]*o+i*s>>8}}}function w(t,e,n){for(var i=t.length,r=1/255,a=3;a<i;a+=4){var o=n?n[t[a]]:t[a];e[a]=e[a]*o*r|0}}function S(t,e,n){for(var i=t.length,r=3;r<i;r+=4){var a=77*t[r-3]+152*t[r-2]+28*t[r-1];e[r]=n?e[r]*n[a>>8]>>8:e[r]*a>>16}}function O(t,e,n,i,r,a,o){var s,l=!!a,c=l?a[0]:0,u=l?a[1]:0,h=l?a[2]:0;s="Luminosity"===r?S:w;for(var d=1048576,p=Math.min(i,Math.ceil(d/n)),f=0;f<i;f+=p){var g=Math.min(p,i-f),m=t.getImageData(0,f,n,g),v=e.getImageData(0,f,n,g);l&&_(m.data,c,u,h),s(m.data,v.data,o),t.putImageData(v,0,f)}}function C(t,e,n,i){var r=e.canvas,a=e.context;t.setTransform(e.scaleX,0,0,e.scaleY,e.offsetX,e.offsetY);var o=e.backdrop||null;if(!e.transferMap&&i.isEnabled){var s=i.composeSMask({layer:n.canvas,mask:r,properties:{subtype:e.subtype,backdrop:o}});return t.setTransform(1,0,0,1,0,0),void t.drawImage(s,e.offsetX,e.offsetY)}O(a,n,r.width,r.height,e.subtype,o,e.transferMap),t.drawImage(r,0,0)}var A=["butt","round","square"],M=["miter","round","bevel"],T={},k={};for(var L in n.prototype={beginDrawing:function(t){var e=t.transform,n=t.viewport,i=t.transparency,r=void 0!==i&&i,a=t.background,o=void 0===a?null:a,s=this.ctx.canvas.width,l=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=o||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,s,l),this.ctx.restore(),r){var c=this.cachedCanvases.getCanvas("transparent",s,l,!0);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),x(this.ctx),e&&this.ctx.transform.apply(this.ctx,e),this.ctx.transform.apply(this.ctx,n.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(n,r,o,s){var l=n.argsArray,c=n.fnArray,u=r||0,h=l.length;if(h===u)return u;var d,p=h-u>e&&"function"===typeof o,f=p?Date.now()+t:0,g=0,m=this.commonObjs,v=this.objs;while(1){if(void 0!==s&&u===s.nextBreakPoint)return s.breakIt(u,o),u;if(d=c[u],d!==i.OPS.dependency)this[d].apply(this,l[u]);else{var y,b=a(l[u]);try{for(b.s();!(y=b.n()).done;){var x=y.value,_=x.startsWith("g_")?m:v;if(!_.has(x))return _.get(x,o),u}}catch(w){b.e(w)}finally{b.f()}}if(u++,u===h)return u;if(p&&++g>e){if(Date.now()>f)return o(),u;g=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(t){this.current.lineWidth=t,this.ctx.lineWidth=t},setLineCap:function(t){this.ctx.lineCap=A[t]},setLineJoin:function(t){this.ctx.lineJoin=M[t]},setMiterLimit:function(t){this.ctx.miterLimit=t},setDash:function(t,e){var n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(t),n.lineDashOffset=e)},setRenderingIntent:function(t){},setFlatness:function(t){},setGState:function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e],r=i[0],a=i[1];switch(r){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=i[1];break;case"ca":this.current.fillAlpha=i[1],this.ctx.globalAlpha=i[1];break;case"BM":this.ctx.globalCompositeOperation=a;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=a?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null;break;case"TR":this.current.transferMaps=a}}},beginSMaskGroup:function(){var t=this.current.activeSMask,e=t.canvas.width,n=t.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,e,n,!0),a=this.ctx,o=a.mozCurrentTransform;this.ctx.save();var s=r.context;s.scale(1/t.scaleX,1/t.scaleY),s.translate(-t.offsetX,-t.offsetY),s.transform.apply(s,o),t.startTransformInverse=s.mozCurrentTransformInverse,b(a,s),this.ctx=s,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(a),this.groupLevel++},suspendSMaskGroup:function(){var t=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),C(this.ctx,this.current.activeSMask,t,this.webGLContext),this.ctx.restore(),this.ctx.save(),b(t,this.ctx),this.current.resumeSMaskCtx=t;var e=i.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,e),t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.restore()},resumeSMaskGroup:function(){var t=this.current.resumeSMaskCtx,e=this.ctx;this.ctx=t,this.groupStack.push(e),this.groupLevel++},endSMaskGroup:function(){var t=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),C(this.ctx,this.current.activeSMask,t,this.webGLContext),this.ctx.restore(),b(t,this.ctx);var e=i.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,e)},save:function(){this.ctx.save();var t=this.current;this.stateStack.push(t),this.current=t.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(t,e,n,i,r,a){this.ctx.transform(t,e,n,i,r,a),this._cachedGetSinglePixelWidth=null},constructPath:function(t,e){for(var n=this.ctx,r=this.current,a=r.x,o=r.y,s=0,l=0,c=t.length;s<c;s++)switch(0|t[s]){case i.OPS.rectangle:a=e[l++],o=e[l++];var u=e[l++],h=e[l++];0===u&&n.lineWidth<this.getSinglePixelWidth()&&(u=this.getSinglePixelWidth()),0===h&&n.lineWidth<this.getSinglePixelWidth()&&(h=this.getSinglePixelWidth());var d=a+u,p=o+h;n.moveTo(a,o),n.lineTo(d,o),n.lineTo(d,p),n.lineTo(a,p),n.lineTo(a,o),n.closePath();break;case i.OPS.moveTo:a=e[l++],o=e[l++],n.moveTo(a,o);break;case i.OPS.lineTo:a=e[l++],o=e[l++],n.lineTo(a,o);break;case i.OPS.curveTo:a=e[l+4],o=e[l+5],n.bezierCurveTo(e[l],e[l+1],e[l+2],e[l+3],a,o),l+=6;break;case i.OPS.curveTo2:n.bezierCurveTo(a,o,e[l],e[l+1],e[l+2],e[l+3]),a=e[l+2],o=e[l+3],l+=4;break;case i.OPS.curveTo3:a=e[l+2],o=e[l+3],n.bezierCurveTo(e[l],e[l+1],a,o,a,o),l+=4;break;case i.OPS.closePath:n.closePath();break}r.setCurrentPoint(a,o)},closePath:function(){this.ctx.closePath()},stroke:function(t){t="undefined"===typeof t||t;var e=this.ctx,n=this.current.strokeColor;if(e.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(n&&n.hasOwnProperty("type")&&"Pattern"===n.type){e.save();var r=e.mozCurrentTransform,a=i.Util.singularValueDecompose2dScale(r)[0];e.strokeStyle=n.getPattern(e,this),e.lineWidth=Math.max(this.getSinglePixelWidth()*h,this.current.lineWidth*a),e.stroke(),e.restore()}else e.lineWidth=Math.max(this.getSinglePixelWidth()*h,this.current.lineWidth),e.stroke();t&&this.consumePath(),e.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(t){t="undefined"===typeof t||t;var e=this.ctx,n=this.current.fillColor,i=this.current.patternFill,r=!1;i&&(e.save(),this.baseTransform&&e.setTransform.apply(e,this.baseTransform),e.fillStyle=n.getPattern(e,this),r=!0),this.contentVisible&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),r&&e.restore(),t&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=T},eoClip:function(){this.pendingClip=k},beginText:function(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var t=this.pendingTextPaths,e=this.ctx;if(void 0!==t){e.save(),e.beginPath();for(var n=0;n<t.length;n++){var i=t[n];e.setTransform.apply(e,i.transform),e.translate(i.x,i.y),i.addToPath(e,i.fontSize)}e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()},setCharSpacing:function(t){this.current.charSpacing=t},setWordSpacing:function(t){this.current.wordSpacing=t},setHScale:function(t){this.current.textHScale=t/100},setLeading:function(t){this.current.leading=-t},setFont:function(t,e){var n=this.commonObjs.get(t),r=this.current;if(!n)throw new Error("Can't find font for ".concat(t));if(r.fontMatrix=n.fontMatrix?n.fontMatrix:i.FONT_IDENTITY_MATRIX,0!==r.fontMatrix[0]&&0!==r.fontMatrix[3]||(0,i.warn)("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=e,!n.isType3Font){var a=n.loadedName||"sans-serif",o="normal";n.black?o="900":n.bold&&(o="bold");var s=n.italic?"italic":"normal",u='"'.concat(a,'", ').concat(n.fallbackName),h=e;e<l?h=l:e>c&&(h=c),this.current.fontSizeScale=e/h,this.ctx.font="".concat(s," ").concat(o," ").concat(h,"px ").concat(u)}},setTextRenderingMode:function(t){this.current.textRenderingMode=t},setTextRise:function(t){this.current.textRise=t},moveText:function(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e},setLeadingMoveText:function(t,e){this.setLeading(-e),this.moveText(t,e)},setTextMatrix:function(t,e,n,i,r,a){this.current.textMatrix=[t,e,n,i,r,a],this.current.textMatrixScale=Math.sqrt(t*t+e*e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(t,e,n,r){var a,o=this.ctx,s=this.current,l=s.font,c=s.textRenderingMode,u=s.fontSize/s.fontSizeScale,h=c&i.TextRenderingMode.FILL_STROKE_MASK,d=!!(c&i.TextRenderingMode.ADD_TO_PATH_FLAG),p=s.patternFill&&!l.missingFile;if((l.disableFontFace||d||p)&&(a=l.getPathGenerator(this.commonObjs,t)),l.disableFontFace||p?(o.save(),o.translate(e,n),o.beginPath(),a(o,u),r&&o.setTransform.apply(o,r),h!==i.TextRenderingMode.FILL&&h!==i.TextRenderingMode.FILL_STROKE||o.fill(),h!==i.TextRenderingMode.STROKE&&h!==i.TextRenderingMode.FILL_STROKE||o.stroke(),o.restore()):(h!==i.TextRenderingMode.FILL&&h!==i.TextRenderingMode.FILL_STROKE||o.fillText(t,e,n),h!==i.TextRenderingMode.STROKE&&h!==i.TextRenderingMode.FILL_STROKE||o.strokeText(t,e,n)),d){var f=this.pendingTextPaths||(this.pendingTextPaths=[]);f.push({transform:o.mozCurrentTransform,x:e,y:n,fontSize:u,addToPath:a})}},get isFontSubpixelAAEnabled(){var t=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10),e=t.context;e.scale(1.5,1),e.fillText("I",0,10);for(var n=e.getImageData(0,0,10,10).data,r=!1,a=3;a<n.length;a+=4)if(n[a]>0&&n[a]<255){r=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",r)},showText:function(t){var e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);var r=e.fontSize;if(0!==r){var a,o=this.ctx,s=e.fontSizeScale,l=e.charSpacing,c=e.wordSpacing,u=e.fontDirection,d=e.textHScale*u,p=t.length,f=n.vertical,g=f?1:-1,m=n.defaultVMetrics,v=r*e.fontMatrix[0],y=e.textRenderingMode===i.TextRenderingMode.FILL&&!n.disableFontFace&&!e.patternFill;if(o.save(),e.patternFill){o.save();var b=e.fillColor.getPattern(o,this);a=o.mozCurrentTransform,o.restore(),o.fillStyle=b}o.transform.apply(o,e.textMatrix),o.translate(e.x,e.y+e.textRise),u>0?o.scale(d,-1):o.scale(d,1);var x=e.lineWidth,_=e.textMatrixScale;if(0===_||0===x){var w=e.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;w!==i.TextRenderingMode.STROKE&&w!==i.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,x=this.getSinglePixelWidth()*h)}else x/=_;1!==s&&(o.scale(s,s),x/=s),o.lineWidth=x;var S,O=0;for(S=0;S<p;++S){var C=t[S];if((0,i.isNum)(C))O+=g*C*r/1e3;else{var A,M,T,k,L,j,I,E,P=!1,R=(C.isSpace?c:0)+l,D=C.fontChar,F=C.accent,N=C.width;if(f)L=C.vmetric||m,j=C.vmetric?L[1]:.5*N,j=-j*v,I=L[2]*v,N=L?-L[0]:N,A=j/s,M=(O+I)/s;else A=O/s,M=0;if(n.remeasure&&N>0){var B=1e3*o.measureText(D).width/r*s;if(N<B&&this.isFontSubpixelAAEnabled){var V=N/B;P=!0,o.save(),o.scale(V,1),A/=V}else N!==B&&(A+=(N-B)/2e3*r/s)}this.contentVisible&&(C.isInFont||n.missingFile)&&(y&&!F?o.fillText(D,A,M):(this.paintChar(D,A,M,a),F&&(T=A+r*F.offset.x/s,k=M-r*F.offset.y/s,this.paintChar(F.fontChar,T,k,a)))),E=f?N*v-R*u:N*v+R*u,O+=E,P&&o.restore()}}f?e.y-=O:e.x+=O*d,o.restore()}},showType3Text:function(t){var e,n,r,a,o=this.ctx,s=this.current,l=s.font,c=s.fontSize,u=s.fontDirection,h=l.vertical?1:-1,d=s.charSpacing,p=s.wordSpacing,f=s.textHScale*u,g=s.fontMatrix||i.FONT_IDENTITY_MATRIX,m=t.length,v=s.textRenderingMode===i.TextRenderingMode.INVISIBLE;if(!v&&0!==c){for(this._cachedGetSinglePixelWidth=null,o.save(),o.transform.apply(o,s.textMatrix),o.translate(s.x,s.y),o.scale(f,u),e=0;e<m;++e)if(n=t[e],(0,i.isNum)(n))a=h*n*c/1e3,this.ctx.translate(a,0),s.x+=a*f;else{var y=(n.isSpace?p:0)+d,b=l.charProcOperatorList[n.operatorListId];if(b){this.contentVisible&&(this.processingType3=n,this.save(),o.scale(c,c),o.transform.apply(o,g),this.executeOperatorList(b),this.restore());var x=i.Util.applyTransform([n.width,0],g);r=x[0]*c+y,o.translate(r,0),s.x+=r*f}else(0,i.warn)('Type3 character "'.concat(n.operatorListId,'" is not available.'))}o.restore(),this.processingType3=null}},setCharWidth:function(t,e){},setCharWidthAndBounds:function(t,e,n,i,r,a){this.ctx.rect(n,i,r-n,a-i),this.clip(),this.endPath()},getColorN_Pattern:function(t){var e,i=this;if("TilingPattern"===t[0]){var a=t[1],o=this.baseTransform||this.ctx.mozCurrentTransform.slice(),s={createCanvasGraphics:function(t){return new n(t,i.commonObjs,i.objs,i.canvasFactory,i.webGLContext)}};e=new r.TilingPattern(t,a,this.ctx,s,o)}else e=(0,r.getShadingPatternFromIR)(t);return e},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(t,e,n){var r=i.Util.makeCssRgb(t,e,n);this.ctx.strokeStyle=r,this.current.strokeColor=r},setFillRGBColor:function(t,e,n){var r=i.Util.makeCssRgb(t,e,n);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1},shadingFill:function(t){if(this.contentVisible){var e=this.ctx;this.save();var n=(0,r.getShadingPatternFromIR)(t);e.fillStyle=n.getPattern(e,this,!0);var a=e.mozCurrentTransformInverse;if(a){var o=e.canvas,s=o.width,l=o.height,c=i.Util.applyTransform([0,0],a),u=i.Util.applyTransform([0,l],a),h=i.Util.applyTransform([s,0],a),d=i.Util.applyTransform([s,l],a),p=Math.min(c[0],u[0],h[0],d[0]),f=Math.min(c[1],u[1],h[1],d[1]),g=Math.max(c[0],u[0],h[0],d[0]),m=Math.max(c[1],u[1],h[1],d[1]);this.ctx.fillRect(p,f,g-p,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()}},beginInlineImage:function(){(0,i.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,i.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(t)&&6===t.length&&this.transform.apply(this,t),this.baseTransform=this.ctx.mozCurrentTransform,e)){var n=e[2]-e[0],i=e[3]-e[1];this.ctx.rect(e[0],e[1],n,i),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())},beginGroup:function(t){if(this.contentVisible){this.save();var e=this.ctx;t.isolated||(0,i.info)("TODO: Support non-isolated groups."),t.knockout&&(0,i.warn)("Knockout groups not supported.");var n=e.mozCurrentTransform;if(t.matrix&&e.transform.apply(e,t.matrix),!t.bbox)throw new Error("Bounding box is required.");var r=i.Util.getAxialAlignedBoundingBox(t.bbox,e.mozCurrentTransform),a=[0,0,e.canvas.width,e.canvas.height];r=i.Util.intersect(r,a)||[0,0,0,0];var o=Math.floor(r[0]),s=Math.floor(r[1]),l=Math.max(Math.ceil(r[2])-o,1),c=Math.max(Math.ceil(r[3])-s,1),h=1,d=1;l>u&&(h=l/u,l=u),c>u&&(d=c/u,c=u);var p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);var f=this.cachedCanvases.getCanvas(p,l,c,!0),g=f.context;g.scale(1/h,1/d),g.translate(-o,-s),g.transform.apply(g,n),t.smask?this.smaskStack.push({canvas:f.canvas,context:g,offsetX:o,offsetY:s,scaleX:h,scaleY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(o,s),e.scale(h,d)),b(e,g),this.ctx=g,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++,this.current.activeSMask=null}},endGroup:function(t){if(this.contentVisible){this.groupLevel--;var e=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,t.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(e.canvas,0,0),this.restore()}},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(t,e,n){if(this.save(),x(this.ctx),this.current=new y,Array.isArray(t)&&4===t.length){var i=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],i,r),this.clip(),this.endPath()}this.transform.apply(this,e),this.transform.apply(this,n)},endAnnotation:function(){this.restore()},paintImageMaskXObject:function(t){if(this.contentVisible){var e=this.ctx,n=t.width,i=t.height,r=this.current.fillColor,a=this.current.patternFill,o=this.processingType3;if(d&&o&&void 0===o.compiled&&(o.compiled=n<=p&&i<=p?v({data:t.data,width:n,height:i}):null),o&&o.compiled)o.compiled(e);else{var l=this.cachedCanvases.getCanvas("maskCanvas",n,i),c=l.context;c.save(),s(c,t),c.globalCompositeOperation="source-in",c.fillStyle=a?r.getPattern(c,this):r,c.fillRect(0,0,n,i),c.restore(),this.paintInlineImageXObject(l.canvas)}}},paintImageMaskXObjectRepeat:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){var o=t.width,l=t.height,c=this.current.fillColor,u=this.current.patternFill,h=this.cachedCanvases.getCanvas("maskCanvas",o,l),d=h.context;d.save(),s(d,t),d.globalCompositeOperation="source-in",d.fillStyle=u?c.getPattern(d,this):c,d.fillRect(0,0,o,l),d.restore();for(var p=this.ctx,f=0,g=a.length;f<g;f+=2)p.save(),p.transform(e,n,i,r,a[f],a[f+1]),p.scale(1,-1),p.drawImage(h.canvas,0,0,o,l,0,-1,1,1),p.restore()}},paintImageMaskXObjectGroup:function(t){if(this.contentVisible)for(var e=this.ctx,n=this.current.fillColor,i=this.current.patternFill,r=0,a=t.length;r<a;r++){var o=t[r],l=o.width,c=o.height,u=this.cachedCanvases.getCanvas("maskCanvas",l,c),h=u.context;h.save(),s(h,o),h.globalCompositeOperation="source-in",h.fillStyle=i?n.getPattern(h,this):n,h.fillRect(0,0,l,c),h.restore(),e.save(),e.transform.apply(e,o.transform),e.scale(1,-1),e.drawImage(u.canvas,0,0,l,c,0,-1,1,1),e.restore()}},paintImageXObject:function(t){if(this.contentVisible){var e=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);e?this.paintInlineImageXObject(e):(0,i.warn)("Dependent image isn't ready yet")}},paintImageXObjectRepeat:function(t,e,n,r){if(this.contentVisible){var a=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);if(a){for(var o=a.width,s=a.height,l=[],c=0,u=r.length;c<u;c+=2)l.push({transform:[e,0,0,n,r[c],r[c+1]],x:0,y:0,w:o,h:s});this.paintInlineImageXObjectGroup(a,l)}else(0,i.warn)("Dependent image isn't ready yet")}},paintInlineImageXObject:function(t){if(this.contentVisible){var e=t.width,n=t.height,i=this.ctx;this.save(),i.scale(1/e,-1/n);var r,a,s=i.mozCurrentTransformInverse,l=s[0],c=s[1],u=Math.max(Math.sqrt(l*l+c*c),1),h=s[2],d=s[3],p=Math.max(Math.sqrt(h*h+d*d),1);if("function"===typeof HTMLElement&&t instanceof HTMLElement||!t.data)r=t;else{a=this.cachedCanvases.getCanvas("inlineImage",e,n);var f=a.context;o(f,t,this.current.transferMaps),r=a.canvas}var g=e,m=n,v="prescale1";while(u>2&&g>1||p>2&&m>1){var y=g,b=m;u>2&&g>1&&(y=Math.ceil(g/2),u/=g/y),p>2&&m>1&&(b=Math.ceil(m/2),p/=m/b),a=this.cachedCanvases.getCanvas(v,y,b),f=a.context,f.clearRect(0,0,y,b),f.drawImage(r,0,0,g,m,0,0,y,b),r=a.canvas,g=y,m=b,v="prescale1"===v?"prescale2":"prescale1"}if(i.drawImage(r,0,0,g,m,0,-n,e,n),this.imageLayer){var x=this.getCanvasPosition(0,-n);this.imageLayer.appendImage({imgData:t,left:x[0],top:x[1],width:e/s[0],height:n/s[3]})}this.restore()}},paintInlineImageXObjectGroup:function(t,e){if(this.contentVisible){var n=this.ctx,i=t.width,r=t.height,a=this.cachedCanvases.getCanvas("inlineImage",i,r),s=a.context;o(s,t,this.current.transferMaps);for(var l=0,c=e.length;l<c;l++){var u=e[l];if(n.save(),n.transform.apply(n,u.transform),n.scale(1,-1),n.drawImage(a.canvas,u.x,u.y,u.w,u.h,0,-1,1,1),this.imageLayer){var h=this.getCanvasPosition(u.x,u.y);this.imageLayer.appendImage({imgData:t,left:h[0],top:h[1],width:i,height:r})}n.restore()}}},paintSolidColorImageMask:function(){this.contentVisible&&this.ctx.fillRect(0,0,1,1)},markPoint:function(t){},markPointProps:function(t,e){},beginMarkedContent:function(t){this.markedContentStack.push({visible:!0})},beginMarkedContentProps:function(t,e){"OC"===t?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()},endMarkedContent:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()},beginCompat:function(){},endCompat:function(){},consumePath:function(){var t=this.ctx;this.pendingClip&&(this.pendingClip===k?t.clip("evenodd"):t.clip(),this.pendingClip=null),t.beginPath()},getSinglePixelWidth:function(t){if(null===this._cachedGetSinglePixelWidth){var e=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1],e[2]*e[2]+e[3]*e[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(t,e){var n=this.ctx.mozCurrentTransform;return[n[0]*t+n[2]*e+n[4],n[1]*t+n[3]*e+n[5]]},isContentVisible:function(){for(var t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}},i.OPS)n.prototype[i.OPS[L]]=n.prototype[L];return n}();e.CanvasGraphics=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getShadingPatternFromIR=s,e.TilingPattern=void 0;var i=n(5),r={};function a(t,e){if(e&&"undefined"!==typeof Path2D){var n=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],n,i),t.clip(r)}}r.RadialAxial={fromIR:function(t){var e=t[1],n=t[2],i=t[3],r=t[4],o=t[5],s=t[6],l=t[7];return{type:"Pattern",getPattern:function(t){var c;a(t,n),"axial"===e?c=t.createLinearGradient(r[0],r[1],o[0],o[1]):"radial"===e&&(c=t.createRadialGradient(r[0],r[1],s,o[0],o[1],l));for(var u=0,h=i.length;u<h;++u){var d=i[u];c.addColorStop(d[0],d[1])}return c}}}};var o=function(){function t(t,e,n,i,r,a,o,s){var l,c=e.coords,u=e.colors,h=t.data,d=4*t.width;c[n+1]>c[i+1]&&(l=n,n=i,i=l,l=a,a=o,o=l),c[i+1]>c[r+1]&&(l=i,i=r,r=l,l=o,o=s,s=l),c[n+1]>c[i+1]&&(l=n,n=i,i=l,l=a,a=o,o=l);var p=(c[n]+e.offsetX)*e.scaleX,f=(c[n+1]+e.offsetY)*e.scaleY,g=(c[i]+e.offsetX)*e.scaleX,m=(c[i+1]+e.offsetY)*e.scaleY,v=(c[r]+e.offsetX)*e.scaleX,y=(c[r+1]+e.offsetY)*e.scaleY;if(!(f>=y))for(var b,x,_,w,S,O,C,A,M=u[a],T=u[a+1],k=u[a+2],L=u[o],j=u[o+1],I=u[o+2],E=u[s],P=u[s+1],R=u[s+2],D=Math.round(f),F=Math.round(y),N=D;N<=F;N++){if(N<m){var B=void 0;B=N<f?0:f===m?1:(f-N)/(f-m),b=p-(p-g)*B,x=M-(M-L)*B,_=T-(T-j)*B,w=k-(k-I)*B}else{var V=void 0;V=N>y?1:m===y?0:(m-N)/(m-y),b=g-(g-v)*V,x=L-(L-E)*V,_=j-(j-P)*V,w=I-(I-R)*V}var G=void 0;G=N<f?0:N>y?1:(f-N)/(f-y),S=p-(p-v)*G,O=M-(M-E)*G,C=T-(T-P)*G,A=k-(k-R)*G;for(var z=Math.round(Math.min(b,S)),U=Math.round(Math.max(b,S)),H=d*N+4*z,W=z;W<=U;W++)G=(b-W)/(b-S),G<0?G=0:G>1&&(G=1),h[H++]=x-(x-O)*G|0,h[H++]=_-(_-C)*G|0,h[H++]=w-(w-A)*G|0,h[H++]=255}}function e(e,n,i){var r,a,o=n.coords,s=n.colors;switch(n.type){case"lattice":var l=n.verticesPerRow,c=Math.floor(o.length/l)-1,u=l-1;for(r=0;r<c;r++)for(var h=r*l,d=0;d<u;d++,h++)t(e,i,o[h],o[h+1],o[h+l],s[h],s[h+1],s[h+l]),t(e,i,o[h+l+1],o[h+1],o[h+l],s[h+l+1],s[h+1],s[h+l]);break;case"triangles":for(r=0,a=o.length;r<a;r+=3)t(e,i,o[r],o[r+1],o[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}function n(t,n,i,r,a,o,s,l){var c,u,h,d,p=1.1,f=3e3,g=2,m=Math.floor(t[0]),v=Math.floor(t[1]),y=Math.ceil(t[2])-m,b=Math.ceil(t[3])-v,x=Math.min(Math.ceil(Math.abs(y*n[0]*p)),f),_=Math.min(Math.ceil(Math.abs(b*n[1]*p)),f),w=y/x,S=b/_,O={coords:i,colors:r,offsetX:-m,offsetY:-v,scaleX:1/w,scaleY:1/S},C=x+2*g,A=_+2*g;if(l.isEnabled)c=l.drawFigures({width:x,height:_,backgroundColor:o,figures:a,context:O}),u=s.getCanvas("mesh",C,A,!1),u.context.drawImage(c,g,g),c=u.canvas;else{u=s.getCanvas("mesh",C,A,!1);var M=u.context,T=M.createImageData(x,_);if(o){var k=T.data;for(h=0,d=k.length;h<d;h+=4)k[h]=o[0],k[h+1]=o[1],k[h+2]=o[2],k[h+3]=255}for(h=0;h<a.length;h++)e(T,a[h],O);M.putImageData(T,g,g),c=u.canvas}return{canvas:c,offsetX:m-g*w,offsetY:v-g*S,scaleX:w,scaleY:S}}return n}();function s(t){var e=r[t[0]];if(!e)throw new Error("Unknown IR type: ".concat(t[0]));return e.fromIR(t)}r.Mesh={fromIR:function(t){var e=t[2],n=t[3],r=t[4],s=t[5],l=t[6],c=t[7],u=t[8];return{type:"Pattern",getPattern:function(t,h,d){var p;if(a(t,c),d)p=i.Util.singularValueDecompose2dScale(t.mozCurrentTransform);else if(p=i.Util.singularValueDecompose2dScale(h.baseTransform),l){var f=i.Util.singularValueDecompose2dScale(l);p=[p[0]*f[0],p[1]*f[1]]}var g=o(s,p,e,n,r,d?null:u,h.cachedCanvases,h.webGLContext);return d||(t.setTransform.apply(t,h.baseTransform),l&&t.transform.apply(t,l)),t.translate(g.offsetX,g.offsetY),t.scale(g.scaleX,g.scaleY),t.createPattern(g.canvas,"no-repeat")}}}},r.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var l=function(){var t={COLORED:1,UNCOLORED:2},e=3e3;function n(t,e,n,i,r){this.operatorList=t[2],this.matrix=t[3]||[1,0,0,1,0,0],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.canvasGraphicsFactory=i,this.baseTransform=r,this.type="Pattern",this.ctx=n}return n.prototype={createPatternCanvas:function(t){var e=this.operatorList,n=this.bbox,r=this.xstep,a=this.ystep,o=this.paintType,s=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+s);var u=n[0],h=n[1],d=n[2],p=n[3],f=i.Util.singularValueDecompose2dScale(this.matrix),g=i.Util.singularValueDecompose2dScale(this.baseTransform),m=[f[0]*g[0],f[1]*g[1]],v=this.getSizeAndScale(r,this.ctx.canvas.width,m[0]),y=this.getSizeAndScale(a,this.ctx.canvas.height,m[1]),b=t.cachedCanvases.getCanvas("pattern",v.size,y.size,!0),x=b.context,_=c.createCanvasGraphics(x);return _.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(_,o,l),_.transform(v.scale,0,0,y.scale,0,0),_.transform(1,0,0,1,-u,-h),this.clipBbox(_,n,u,h,d,p),_.executeOperatorList(e),this.ctx.transform(1,0,0,1,u,h),this.ctx.scale(1/v.scale,1/y.scale),b.canvas},getSizeAndScale:function(t,n,i){t=Math.abs(t);var r=Math.max(e,n),a=Math.ceil(t*i);return a>=r?a=r:i=a/t,{scale:i,size:a}},clipBbox:function(t,e,n,i,r,a){if(Array.isArray(e)&&4===e.length){var o=r-n,s=a-i;t.ctx.rect(n,i,o,s),t.clip(),t.endPath()}},setFillAndStrokeStyleToContext:function(e,n,r){var a=e.ctx,o=e.current;switch(n){case t.COLORED:var s=this.ctx;a.fillStyle=s.fillStyle,a.strokeStyle=s.strokeStyle,o.fillColor=s.fillStyle,o.strokeColor=s.strokeStyle;break;case t.UNCOLORED:var l=i.Util.makeCssRgb(r[0],r[1],r[2]);a.fillStyle=l,a.strokeStyle=l,o.fillColor=l,o.strokeColor=l;break;default:throw new i.FormatError("Unsupported paint type: ".concat(n))}},getPattern:function(t,e){t=this.ctx,t.setTransform.apply(t,this.baseTransform),t.transform.apply(t,this.matrix);var n=this.createPatternCanvas(e);return t.createPattern(n,"repeat")}},n}();e.TilingPattern=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;var i=Object.create(null);e.GlobalWorkerOptions=i,i.workerPort=void 0===i.workerPort?null:i.workerPort,i.workerSrc=void 0===i.workerSrc?"":i.workerSrc},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var i=a(n(2)),r=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(i,r)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function s(t){o(a,i,r,s,l,"next",t)}function l(t){o(a,i,r,s,l,"throw",t)}s(void 0)}))}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function h(t){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}var d={UNKNOWN:0,DATA:1,ERROR:2},p={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function f(t){if("object"!==h(t)||null===t)return t;switch(t.name){case"AbortException":return new r.AbortException(t.message);case"MissingPDFException":return new r.MissingPDFException(t.message);case"UnexpectedResponseException":return new r.UnexpectedResponseException(t.message,t.status);case"UnknownErrorException":return new r.UnknownErrorException(t.message,t.details);default:return new r.UnknownErrorException(t.message,t.toString())}}var g=function(){function t(e,n,i){var r=this;l(this,t),this.sourceName=e,this.targetName=n,this.comObj=i,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(t){var e=t.data;if(e.targetName===r.sourceName)if(e.stream)r._processStreamMessage(e);else if(e.callback){var n=e.callbackId,a=r.callbackCapabilities[n];if(!a)throw new Error("Cannot resolve callback ".concat(n));if(delete r.callbackCapabilities[n],e.callback===d.DATA)a.resolve(e.data);else{if(e.callback!==d.ERROR)throw new Error("Unexpected callback case");a.reject(f(e.reason))}}else{var o=r.actionHandler[e.action];if(!o)throw new Error("Unknown action from worker: ".concat(e.action));if(e.callbackId){var s=r.sourceName,l=e.sourceName;new Promise((function(t){t(o(e.data))})).then((function(t){i.postMessage({sourceName:s,targetName:l,callback:d.DATA,callbackId:e.callbackId,data:t})}),(function(t){i.postMessage({sourceName:s,targetName:l,callback:d.ERROR,callbackId:e.callbackId,reason:f(t)})}))}else e.streamId?r._createStreamSink(e):o(e.data)}},i.addEventListener("message",this._onComObjOnMessage)}return u(t,[{key:"on",value:function(t,e){var n=this.actionHandler;if(n[t])throw new Error('There is already an actionName called "'.concat(t,'"'));n[t]=e}},{key:"send",value:function(t,e,n){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}},{key:"sendWithPromise",value:function(t,e,n){var i=this.callbackId++,a=(0,r.createPromiseCapability)();this.callbackCapabilities[i]=a;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},n)}catch(o){a.reject(o)}return a.promise}},{key:"sendWithStream",value:function(t,e,n,i){var a=this,o=this.streamId++,s=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:function(n){var c=(0,r.createPromiseCapability)();return a.streamControllers[o]={controller:n,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},a._postMessage({sourceName:s,targetName:l,action:t,streamId:o,data:e,desiredSize:n.desiredSize},i),c.promise},pull:function(t){var e=(0,r.createPromiseCapability)();return a.streamControllers[o].pullCall=e,c.postMessage({sourceName:s,targetName:l,stream:p.PULL,streamId:o,desiredSize:t.desiredSize}),e.promise},cancel:function(t){(0,r.assert)(t instanceof Error,"cancel must have a valid reason");var e=(0,r.createPromiseCapability)();return a.streamControllers[o].cancelCall=e,a.streamControllers[o].isClosed=!0,c.postMessage({sourceName:s,targetName:l,stream:p.CANCEL,streamId:o,reason:f(t)}),e.promise}},n)}},{key:"_createStreamSink",value:function(t){var e=this,n=this.actionHandler[t.action],i=t.streamId,a=this.sourceName,o=t.sourceName,s=this.comObj,l={enqueue:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var l=this.desiredSize;this.desiredSize-=n,l>0&&this.desiredSize<=0&&(this.sinkCapability=(0,r.createPromiseCapability)(),this.ready=this.sinkCapability.promise),e._postMessage({sourceName:a,targetName:o,stream:p.ENQUEUE,streamId:i,chunk:t},s)}},close:function(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:a,targetName:o,stream:p.CLOSE,streamId:i}),delete e.streamSinks[i])},error:function(t){(0,r.assert)(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:a,targetName:o,stream:p.ERROR,streamId:i,reason:f(t)}))},sinkCapability:(0,r.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[i]=l,new Promise((function(e){e(n(t.data,l))})).then((function(){s.postMessage({sourceName:a,targetName:o,stream:p.START_COMPLETE,streamId:i,success:!0})}),(function(t){s.postMessage({sourceName:a,targetName:o,stream:p.START_COMPLETE,streamId:i,reason:f(t)})}))}},{key:"_processStreamMessage",value:function(t){var e=t.streamId,n=this.sourceName,i=t.sourceName,a=this.comObj;switch(t.stream){case p.START_COMPLETE:t.success?this.streamControllers[e].startCall.resolve():this.streamControllers[e].startCall.reject(f(t.reason));break;case p.PULL_COMPLETE:t.success?this.streamControllers[e].pullCall.resolve():this.streamControllers[e].pullCall.reject(f(t.reason));break;case p.PULL:if(!this.streamSinks[e]){a.postMessage({sourceName:n,targetName:i,stream:p.PULL_COMPLETE,streamId:e,success:!0});break}this.streamSinks[e].desiredSize<=0&&t.desiredSize>0&&this.streamSinks[e].sinkCapability.resolve(),this.streamSinks[e].desiredSize=t.desiredSize;var o=this.streamSinks[t.streamId].onPull;new Promise((function(t){t(o&&o())})).then((function(){a.postMessage({sourceName:n,targetName:i,stream:p.PULL_COMPLETE,streamId:e,success:!0})}),(function(t){a.postMessage({sourceName:n,targetName:i,stream:p.PULL_COMPLETE,streamId:e,reason:f(t)})}));break;case p.ENQUEUE:if((0,r.assert)(this.streamControllers[e],"enqueue should have stream controller"),this.streamControllers[e].isClosed)break;this.streamControllers[e].controller.enqueue(t.chunk);break;case p.CLOSE:if((0,r.assert)(this.streamControllers[e],"close should have stream controller"),this.streamControllers[e].isClosed)break;this.streamControllers[e].isClosed=!0,this.streamControllers[e].controller.close(),this._deleteStreamController(e);break;case p.ERROR:(0,r.assert)(this.streamControllers[e],"error should have stream controller"),this.streamControllers[e].controller.error(f(t.reason)),this._deleteStreamController(e);break;case p.CANCEL_COMPLETE:t.success?this.streamControllers[e].cancelCall.resolve():this.streamControllers[e].cancelCall.reject(f(t.reason)),this._deleteStreamController(e);break;case p.CANCEL:if(!this.streamSinks[e])break;var s=this.streamSinks[t.streamId].onCancel;new Promise((function(e){e(s&&s(f(t.reason)))})).then((function(){a.postMessage({sourceName:n,targetName:i,stream:p.CANCEL_COMPLETE,streamId:e,success:!0})}),(function(t){a.postMessage({sourceName:n,targetName:i,stream:p.CANCEL_COMPLETE,streamId:e,reason:f(t)})})),this.streamSinks[e].sinkCapability.reject(f(t.reason)),this.streamSinks[e].isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:function(){var t=s(i["default"].mark((function t(e){return i["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.allSettled([this.streamControllers[e].startCall,this.streamControllers[e].pullCall,this.streamControllers[e].cancelCall].map((function(t){return t&&t.promise})));case 2:delete this.streamControllers[e];case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"_postMessage",value:function(t,e){e&&this.postMessageTransfers?this.comObj.postMessage(t,e):this.comObj.postMessage(t)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),t}();e.MessageHandler=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var i=n(5),r=n(212);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}var l=function(){function t(e){a(this,t),(0,i.assert)("string"===typeof e,"Metadata: input is not a string"),e=this._repair(e);var n=new r.SimpleXMLParser,o=n.parseFromString(e);this._metadataMap=new Map,o&&this._parse(o)}return s(t,[{key:"_repair",value:function(t){return t.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,(function(t,e){for(var n=e.replace(/\\([0-3])([0-7])([0-7])/g,(function(t,e,n,i){return String.fromCharCode(64*e+8*n+1*i)})).replace(/&(amp|apos|gt|lt|quot);/g,(function(t,e){switch(e){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: ".concat(e," isn't defined."))})),i="",r=0,a=n.length;r<a;r+=2){var o=256*n.charCodeAt(r)+n.charCodeAt(r+1);i+=o>=32&&o<127&&60!==o&&62!==o&&38!==o?String.fromCharCode(o):"&#x"+(65536+o).toString(16).substring(1)+";"}return">"+i}))}},{key:"_parse",value:function(t){var e=t.documentElement;if("rdf:rdf"!==e.nodeName.toLowerCase()){e=e.firstChild;while(e&&"rdf:rdf"!==e.nodeName.toLowerCase())e=e.nextSibling}var n=e?e.nodeName.toLowerCase():null;if(e&&"rdf:rdf"===n&&e.hasChildNodes())for(var i=e.childNodes,r=0,a=i.length;r<a;r++){var o=i[r];if("rdf:description"===o.nodeName.toLowerCase())for(var s=0,l=o.childNodes.length;s<l;s++)if("#text"!==o.childNodes[s].nodeName.toLowerCase()){var c=o.childNodes[s],u=c.nodeName.toLowerCase();this._metadataMap.set(u,c.textContent.trim())}}}},{key:"get",value:function(t){return this._metadataMap.has(t)?this._metadataMap.get(t):null}},{key:"getAll",value:function(){return Object.fromEntries(this._metadataMap)}},{key:"has",value:function(t){return this._metadataMap.has(t)}}]),t}();e.Metadata=l},function(t,e,n){"use strict";function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function r(t,e){return c(t)||l(t,e)||o(t,e)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){if(t){if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function l(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){r=!0,a=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(r)throw a}}return n}}function c(t){if(Array.isArray(t))return t}function u(t,e,n){return u="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=h(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}},u(t,e,n||t)}function h(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=y(t),null===t)break;return t}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function f(t){var e=v();return function(){var n,i=y(t);if(e){var r=y(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return g(this,n)}}function g(t,e){return!e||"object"!==i(e)&&"function"!==typeof e?m(t):e}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _(t,e,n){return e&&x(t.prototype,e),n&&x(t,n),t}Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleXMLParser=void 0;var w={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};function S(t,e){var n=t[e];return" "===n||"\n"===n||"\r"===n||"\t"===n}function O(t){for(var e=0,n=t.length;e<n;e++)if(!S(t,e))return!1;return!0}var C=function(){function t(){b(this,t)}return _(t,[{key:"_resolveEntities",value:function(t){var e=this;return t.replace(/&([^;]+);/g,(function(t,n){if("#x"===n.substring(0,2))return String.fromCharCode(parseInt(n.substring(2),16));if("#"===n.substring(0,1))return String.fromCharCode(parseInt(n.substring(1),10));switch(n){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return e.onResolveEntity(n)}))}},{key:"_parseContent",value:function(t,e){var n=[],i=e;function r(){while(i<t.length&&S(t,i))++i}while(i<t.length&&!S(t,i)&&">"!==t[i]&&"/"!==t[i])++i;var a=t.substring(e,i);r();while(i<t.length&&">"!==t[i]&&"/"!==t[i]&&"?"!==t[i]){r();var o="",s="";while(i<t.length&&!S(t,i)&&"="!==t[i])o+=t[i],++i;if(r(),"="!==t[i])return null;++i,r();var l=t[i];if('"'!==l&&"'"!==l)return null;var c=t.indexOf(l,++i);if(c<0)return null;s=t.substring(i,c),n.push({name:o,value:this._resolveEntities(s)}),i=c+1,r()}return{name:a,attributes:n,parsed:i-e}}},{key:"_parseProcessingInstruction",value:function(t,e){var n=e;function i(){while(n<t.length&&S(t,n))++n}while(n<t.length&&!S(t,n)&&">"!==t[n]&&"/"!==t[n])++n;var r=t.substring(e,n);i();var a=n;while(n<t.length&&("?"!==t[n]||">"!==t[n+1]))++n;var o=t.substring(a,n);return{name:r,value:o,parsed:n-e}}},{key:"parseXml",value:function(t){var e=0;while(e<t.length){var n=t[e],i=e;if("<"===n){++i;var r=t[i],a=void 0;switch(r){case"/":if(++i,a=t.indexOf(">",i),a<0)return void this.onError(w.UnterminatedElement);this.onEndElement(t.substring(i,a)),i=a+1;break;case"?":++i;var o=this._parseProcessingInstruction(t,i);if("?>"!==t.substring(i+o.parsed,i+o.parsed+2))return void this.onError(w.UnterminatedXmlDeclaration);this.onPi(o.name,o.value),i+=o.parsed+2;break;case"!":if("--"===t.substring(i+1,i+3)){if(a=t.indexOf("--\x3e",i+3),a<0)return void this.onError(w.UnterminatedComment);this.onComment(t.substring(i+3,a)),i=a+3}else if("[CDATA["===t.substring(i+1,i+8)){if(a=t.indexOf("]]>",i+8),a<0)return void this.onError(w.UnterminatedCdat);this.onCdata(t.substring(i+8,a)),i=a+3}else{if("DOCTYPE"!==t.substring(i+1,i+8))return void this.onError(w.MalformedElement);var s=t.indexOf("[",i+8),l=!1;if(a=t.indexOf(">",i+8),a<0)return void this.onError(w.UnterminatedDoctypeDeclaration);if(s>0&&a>s){if(a=t.indexOf("]>",i+8),a<0)return void this.onError(w.UnterminatedDoctypeDeclaration);l=!0}var c=t.substring(i+8,a+(l?1:0));this.onDoctype(c),i=a+(l?2:1)}break;default:var u=this._parseContent(t,i);if(null===u)return void this.onError(w.MalformedElement);var h=!1;if("/>"===t.substring(i+u.parsed,i+u.parsed+2))h=!0;else if(">"!==t.substring(i+u.parsed,i+u.parsed+1))return void this.onError(w.UnterminatedElement);this.onBeginElement(u.name,u.attributes,h),i+=u.parsed+(h?2:1);break}}else{while(i<t.length&&"<"!==t[i])i++;var d=t.substring(e,i);this.onText(this._resolveEntities(d))}e=i}}},{key:"onResolveEntity",value:function(t){return"&".concat(t,";")}},{key:"onPi",value:function(t,e){}},{key:"onComment",value:function(t){}},{key:"onCdata",value:function(t){}},{key:"onDoctype",value:function(t){}},{key:"onText",value:function(t){}},{key:"onBeginElement",value:function(t,e,n){}},{key:"onEndElement",value:function(t){}},{key:"onError",value:function(t){}}]),t}(),A=function(){function t(e,n){b(this,t),this.nodeName=e,this.nodeValue=n,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return _(t,[{key:"hasChildNodes",value:function(){return this.childNodes&&this.childNodes.length>0}},{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function(){var t=this.parentNode.childNodes;if(t){var e=t.indexOf(this);if(-1!==e)return t[e+1]}}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map((function(t){return t.textContent})).join(""):this.nodeValue||""}}]),t}(),M=function(t){d(n,t);var e=f(n);function n(){var t;return b(this,n),t=e.call(this),t._currentFragment=null,t._stack=null,t._errorCode=w.NoError,t}return _(n,[{key:"parseFromString",value:function(t){if(this._currentFragment=[],this._stack=[],this._errorCode=w.NoError,this.parseXml(t),this._errorCode===w.NoError){var e=r(this._currentFragment,1),n=e[0];if(n)return{documentElement:n}}}},{key:"onResolveEntity",value:function(t){switch(t){case"apos":return"'"}return u(y(n.prototype),"onResolveEntity",this).call(this,t)}},{key:"onText",value:function(t){if(!O(t)){var e=new A("#text",t);this._currentFragment.push(e)}}},{key:"onCdata",value:function(t){var e=new A("#text",t);this._currentFragment.push(e)}},{key:"onBeginElement",value:function(t,e,n){var i=new A(t);i.childNodes=[],this._currentFragment.push(i),n||(this._stack.push(this._currentFragment),this._currentFragment=i.childNodes)}},{key:"onEndElement",value:function(t){this._currentFragment=this._stack.pop()||[];var e=this._currentFragment[this._currentFragment.length-1];if(e)for(var n=0,i=e.childNodes.length;n<i;n++)e.childNodes[n].parentNode=e}},{key:"onError",value:function(t){this._errorCode=t}}]),n}(C);e.SimpleXMLParser=M},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var i=n(5);function r(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,o=t},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(l)throw o}}}}function a(t,e){if(t){if("string"===typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function t(e,n){c(this,t),this.visible=!0,this.name=e,this.intent=n},h=function(){function t(e){if(c(this,t),this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==e){this.name=e.name,this.creator=e.creator,this._order=e.order;var n,i=r(e.groups);try{for(i.s();!(n=i.n()).done;){var a=n.value;this._groups.set(a.id,new u(a.name,a.intent))}}catch(v){i.e(v)}finally{i.f()}if("OFF"===e.baseState){var o,s=r(this._groups);try{for(s.s();!(o=s.n()).done;){var l=o.value;l.visible=!1}}catch(v){s.e(v)}finally{s.f()}}var h,d=r(e.on);try{for(d.s();!(h=d.n()).done;){var p=h.value;this._groups.get(p).visible=!0}}catch(v){d.e(v)}finally{d.f()}var f,g=r(e.off);try{for(g.s();!(f=g.n()).done;){var m=f.value;this._groups.get(m).visible=!1}}catch(v){g.e(v)}finally{g.f()}}}return l(t,[{key:"isVisible",value:function(t){if("OCG"===t.type)return this._groups.has(t.id)?this._groups.get(t.id).visible:((0,i.warn)("Optional content group not found: ".concat(t.id)),!0);if("OCMD"===t.type){if(t.expression&&(0,i.warn)("Visibility expression not supported yet."),!t.policy||"AnyOn"===t.policy){var e,n=r(t.ids);try{for(n.s();!(e=n.n()).done;){var a=e.value;if(!this._groups.has(a))return(0,i.warn)("Optional content group not found: ".concat(a)),!0;if(this._groups.get(a).visible)return!0}}catch(g){n.e(g)}finally{n.f()}return!1}if("AllOn"===t.policy){var o,s=r(t.ids);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(!this._groups.has(l))return(0,i.warn)("Optional content group not found: ".concat(l)),!0;if(!this._groups.get(l).visible)return!1}}catch(g){s.e(g)}finally{s.f()}return!0}if("AnyOff"===t.policy){var c,u=r(t.ids);try{for(u.s();!(c=u.n()).done;){var h=c.value;if(!this._groups.has(h))return(0,i.warn)("Optional content group not found: ".concat(h)),!0;if(!this._groups.get(h).visible)return!0}}catch(g){u.e(g)}finally{u.f()}return!1}if("AllOff"===t.policy){var d,p=r(t.ids);try{for(p.s();!(d=p.n()).done;){var f=d.value;if(!this._groups.has(f))return(0,i.warn)("Optional content group not found: ".concat(f)),!0;if(this._groups.get(f).visible)return!1}}catch(g){p.e(g)}finally{p.f()}return!0}return(0,i.warn)("Unknown optional content policy ".concat(t.policy,".")),!0}return(0,i.warn)("Unknown group type ".concat(t.type,".")),!0}},{key:"setVisibility",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._groups.has(t)?this._groups.get(t).visible=!!e:(0,i.warn)("Optional content group not found: ".concat(t))}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size?Object.fromEntries(this._groups):null}},{key:"getGroup",value:function(t){return this._groups.get(t)||null}}]),t}();e.OptionalContentConfig=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var i=a(n(2)),r=n(5);function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(i,r)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function s(t){o(a,i,r,s,l,"next",t)}function l(t){o(a,i,r,s,l,"throw",t)}s(void 0)}))}}function l(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=c(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}function c(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}var f=function(){function t(e,n){var i=this;h(this,t),(0,r.assert)(n,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=e.progressiveDone||!1;var a=e.initialData;if(a&&a.length>0){var o=new Uint8Array(a).buffer;this._queuedChunks.push(o)}this._pdfDataRangeTransport=n,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((function(t,e){i._onReceiveData({begin:t,chunk:e})})),this._pdfDataRangeTransport.addProgressListener((function(t,e){i._onProgress({loaded:t,total:e})})),this._pdfDataRangeTransport.addProgressiveReadListener((function(t){i._onReceiveData({chunk:t})})),this._pdfDataRangeTransport.addProgressiveDoneListener((function(){i._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}return p(t,[{key:"_onReceiveData",value:function(t){var e=new Uint8Array(t.chunk).buffer;if(void 0===t.begin)this._fullRequestReader?this._fullRequestReader._enqueue(e):this._queuedChunks.push(e);else{var n=this._rangeReaders.some((function(n){return n._begin===t.begin&&(n._enqueue(e),!0)}));(0,r.assert)(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_onProgress",value:function(t){if(void 0===t.total){var e=this._rangeReaders[0];e&&e.onProgress&&e.onProgress({loaded:t.loaded})}else{var n=this._fullRequestReader;n&&n.onProgress&&n.onProgress({loaded:t.loaded,total:t.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(t){var e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}},{key:"getFullReader",value:function(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var t=this._queuedChunks;return this._queuedChunks=null,new g(this,t,this._progressiveDone)}},{key:"getRangeReader",value:function(t,e){if(e<=this._progressiveDataLength)return null;var n=new m(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);var e=this._rangeReaders.slice(0);e.forEach((function(e){e.cancel(t)})),this._pdfDataRangeTransport.abort()}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),t}();e.PDFDataTransportStream=f;var g=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];h(this,t),this._stream=e,this._done=i||!1,this._filename=null,this._queuedChunks=n||[],this._loaded=0;var r,a=l(this._queuedChunks);try{for(a.s();!(r=a.n()).done;){var o=r.value;this._loaded+=o.byteLength}}catch(s){a.e(s)}finally{a.f()}this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}return p(t,[{key:"_enqueue",value:function(t){if(!this._done){if(this._requests.length>0){var e=this._requests.shift();e.resolve({value:t,done:!1})}else this._queuedChunks.push(t);this._loaded+=t.byteLength}}},{key:"read",value:function(){var t=s(i["default"].mark((function t(){var e,n;return i["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(this._queuedChunks.length>0)){t.next=3;break}return e=this._queuedChunks.shift(),t.abrupt("return",{value:e,done:!1});case 3:if(!this._done){t.next=5;break}return t.abrupt("return",{value:void 0,done:!0});case 5:return n=(0,r.createPromiseCapability)(),this._requests.push(n),t.abrupt("return",n.promise);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"cancel",value:function(t){this._done=!0,this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[]}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}}]),t}(),m=function(){function t(e,n,i){h(this,t),this._stream=e,this._begin=n,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return p(t,[{key:"_enqueue",value:function(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{var e=this._requests.shift();e.resolve({value:t,done:!1}),this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[]}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"read",value:function(){var t=s(i["default"].mark((function t(){var e,n;return i["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this._queuedChunk){t.next=4;break}return e=this._queuedChunk,this._queuedChunk=null,t.abrupt("return",{value:e,done:!1});case 4:if(!this._done){t.next=6;break}return t.abrupt("return",{value:void 0,done:!0});case 6:return n=(0,r.createPromiseCapability)(),this._requests.push(n),t.abrupt("return",n.promise);case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"cancel",value:function(t){this._done=!0,this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[],this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function(){return!1}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebGLContext=void 0;var i=n(5);function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}var s=function(){function t(e){var n=e.enable,i=void 0!==n&&n;r(this,t),this._enabled=!0===i}return o(t,[{key:"composeSMask",value:function(t){var e=t.layer,n=t.mask,i=t.properties;return l.composeSMask(e,n,i)}},{key:"drawFigures",value:function(t){var e=t.width,n=t.height,i=t.backgroundColor,r=t.figures,a=t.context;return l.drawFigures(e,n,i,r,a)}},{key:"clear",value:function(){l.cleanup()}},{key:"isEnabled",get:function(){var t=this._enabled;return t&&(t=l.tryInitGL()),(0,i.shadow)(this,"isEnabled",t)}}]),t}();e.WebGLContext=s;var l=function(){function t(t,e,n){var i=t.createShader(n);t.shaderSource(i,e),t.compileShader(i);var r=t.getShaderParameter(i,t.COMPILE_STATUS);if(!r){var a=t.getShaderInfoLog(i);throw new Error("Error during shader compilation: "+a)}return i}function e(e,n){return t(e,n,e.VERTEX_SHADER)}function n(e,n){return t(e,n,e.FRAGMENT_SHADER)}function i(t,e){for(var n=t.createProgram(),i=0,r=e.length;i<r;++i)t.attachShader(n,e[i]);t.linkProgram(n);var a=t.getProgramParameter(n,t.LINK_STATUS);if(!a){var o=t.getProgramInfoLog(n);throw new Error("Error during program linking: "+o)}return n}function r(t,e,n){t.activeTexture(n);var i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),i}var a,o;function s(){a||(o=document.createElement("canvas"),a=o.getContext("webgl",{premultipliedalpha:!1}))}var l="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",c="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",u=null;function h(){var t,r;s(),t=o,o=null,r=a,a=null;var h=e(r,l),d=n(r,c),p=i(r,[h,d]);r.useProgram(p);var f={};f.gl=r,f.canvas=t,f.resolutionLocation=r.getUniformLocation(p,"u_resolution"),f.positionLocation=r.getAttribLocation(p,"a_position"),f.backdropLocation=r.getUniformLocation(p,"u_backdrop"),f.subtypeLocation=r.getUniformLocation(p,"u_subtype");var g=r.getAttribLocation(p,"a_texCoord"),m=r.getUniformLocation(p,"u_image"),v=r.getUniformLocation(p,"u_mask"),y=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,y),r.bufferData(r.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),r.STATIC_DRAW),r.enableVertexAttribArray(g),r.vertexAttribPointer(g,2,r.FLOAT,!1,0,0),r.uniform1i(m,0),r.uniform1i(v,1),u=f}function d(t,e,n){var i=t.width,a=t.height;u||h();var o=u,s=o.canvas,l=o.gl;s.width=i,s.height=a,l.viewport(0,0,l.drawingBufferWidth,l.drawingBufferHeight),l.uniform2f(o.resolutionLocation,i,a),n.backdrop?l.uniform4f(o.resolutionLocation,n.backdrop[0],n.backdrop[1],n.backdrop[2],1):l.uniform4f(o.resolutionLocation,0,0,0,0),l.uniform1i(o.subtypeLocation,"Luminosity"===n.subtype?1:0);var c=r(l,t,l.TEXTURE0),d=r(l,e,l.TEXTURE1),p=l.createBuffer();return l.bindBuffer(l.ARRAY_BUFFER,p),l.bufferData(l.ARRAY_BUFFER,new Float32Array([0,0,i,0,0,a,0,a,i,0,i,a]),l.STATIC_DRAW),l.enableVertexAttribArray(o.positionLocation),l.vertexAttribPointer(o.positionLocation,2,l.FLOAT,!1,0,0),l.clearColor(0,0,0,0),l.enable(l.BLEND),l.blendFunc(l.ONE,l.ONE_MINUS_SRC_ALPHA),l.clear(l.COLOR_BUFFER_BIT),l.drawArrays(l.TRIANGLES,0,6),l.flush(),l.deleteTexture(c),l.deleteTexture(d),l.deleteBuffer(p),s}var p="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",f="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",g=null;function m(){var t,r;s(),t=o,o=null,r=a,a=null;var l=e(r,p),c=n(r,f),u=i(r,[l,c]);r.useProgram(u);var h={};h.gl=r,h.canvas=t,h.resolutionLocation=r.getUniformLocation(u,"u_resolution"),h.scaleLocation=r.getUniformLocation(u,"u_scale"),h.offsetLocation=r.getUniformLocation(u,"u_offset"),h.positionLocation=r.getAttribLocation(u,"a_position"),h.colorLocation=r.getAttribLocation(u,"a_color"),g=h}function v(t,e,n,i,r){g||m();var a=g,o=a.canvas,s=a.gl;o.width=t,o.height=e,s.viewport(0,0,s.drawingBufferWidth,s.drawingBufferHeight),s.uniform2f(a.resolutionLocation,t,e);var l,c,u,h=0;for(l=0,c=i.length;l<c;l++)switch(i[l].type){case"lattice":u=i[l].coords.length/i[l].verticesPerRow|0,h+=(u-1)*(i[l].verticesPerRow-1)*6;break;case"triangles":h+=i[l].coords.length;break}var d=new Float32Array(2*h),p=new Uint8Array(3*h),f=r.coords,v=r.colors,y=0,b=0;for(l=0,c=i.length;l<c;l++){var x=i[l],_=x.coords,w=x.colors;switch(x.type){case"lattice":var S=x.verticesPerRow;u=_.length/S|0;for(var O=1;O<u;O++)for(var C=O*S+1,A=1;A<S;A++,C++)d[y]=f[_[C-S-1]],d[y+1]=f[_[C-S-1]+1],d[y+2]=f[_[C-S]],d[y+3]=f[_[C-S]+1],d[y+4]=f[_[C-1]],d[y+5]=f[_[C-1]+1],p[b]=v[w[C-S-1]],p[b+1]=v[w[C-S-1]+1],p[b+2]=v[w[C-S-1]+2],p[b+3]=v[w[C-S]],p[b+4]=v[w[C-S]+1],p[b+5]=v[w[C-S]+2],p[b+6]=v[w[C-1]],p[b+7]=v[w[C-1]+1],p[b+8]=v[w[C-1]+2],d[y+6]=d[y+2],d[y+7]=d[y+3],d[y+8]=d[y+4],d[y+9]=d[y+5],d[y+10]=f[_[C]],d[y+11]=f[_[C]+1],p[b+9]=p[b+3],p[b+10]=p[b+4],p[b+11]=p[b+5],p[b+12]=p[b+6],p[b+13]=p[b+7],p[b+14]=p[b+8],p[b+15]=v[w[C]],p[b+16]=v[w[C]+1],p[b+17]=v[w[C]+2],y+=12,b+=18;break;case"triangles":for(var M=0,T=_.length;M<T;M++)d[y]=f[_[M]],d[y+1]=f[_[M]+1],p[b]=v[w[M]],p[b+1]=v[w[M]+1],p[b+2]=v[w[M]+2],y+=2,b+=3;break}}n?s.clearColor(n[0]/255,n[1]/255,n[2]/255,1):s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT);var k=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,k),s.bufferData(s.ARRAY_BUFFER,d,s.STATIC_DRAW),s.enableVertexAttribArray(a.positionLocation),s.vertexAttribPointer(a.positionLocation,2,s.FLOAT,!1,0,0);var L=s.createBuffer();return s.bindBuffer(s.ARRAY_BUFFER,L),s.bufferData(s.ARRAY_BUFFER,p,s.STATIC_DRAW),s.enableVertexAttribArray(a.colorLocation),s.vertexAttribPointer(a.colorLocation,3,s.UNSIGNED_BYTE,!1,0,0),s.uniform2f(a.scaleLocation,r.scaleX,r.scaleY),s.uniform2f(a.offsetLocation,r.offsetX,r.offsetY),s.drawArrays(s.TRIANGLES,0,h),s.flush(),s.deleteBuffer(k),s.deleteBuffer(L),o}return{tryInitGL:function(){try{return s(),!!a}catch(t){}return!1},composeSMask:d,drawFigures:v,cleanup:function(){u&&u.canvas&&(u.canvas.width=0,u.canvas.height=0),g&&g.canvas&&(g.canvas.width=0,g.canvas.height=0),u=null,g=null}}}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var i=n(1),r=n(5),a=n(205);function o(t,e,n){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=s(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}},o(t,e,n||t)}function s(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=y(t),null===t)break;return t}function l(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=c(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}function c(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function h(t){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}function f(t){var e=v();return function(){var n,i=y(t);if(e){var r=y(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return g(this,n)}}function g(t,e){return!e||"object"!==h(e)&&"function"!==typeof e?m(t):e}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _(t,e,n){return e&&x(t.prototype,e),n&&x(t,n),t}var w=function(){function t(){b(this,t)}return _(t,null,[{key:"create",value:function(t){var e=t.data.annotationType;switch(e){case r.AnnotationType.LINK:return new O(t);case r.AnnotationType.TEXT:return new C(t);case r.AnnotationType.WIDGET:var n=t.data.fieldType;switch(n){case"Tx":return new M(t);case"Btn":return t.data.radioButton?new k(t):t.data.checkBox?new T(t):new L(t);case"Ch":return new j(t)}return new A(t);case r.AnnotationType.POPUP:return new I(t);case r.AnnotationType.FREETEXT:return new P(t);case r.AnnotationType.LINE:return new R(t);case r.AnnotationType.SQUARE:return new D(t);case r.AnnotationType.CIRCLE:return new F(t);case r.AnnotationType.POLYLINE:return new N(t);case r.AnnotationType.CARET:return new V(t);case r.AnnotationType.INK:return new G(t);case r.AnnotationType.POLYGON:return new B(t);case r.AnnotationType.HIGHLIGHT:return new z(t);case r.AnnotationType.UNDERLINE:return new U(t);case r.AnnotationType.SQUIGGLY:return new H(t);case r.AnnotationType.STRIKEOUT:return new W(t);case r.AnnotationType.STAMP:return new Y(t);case r.AnnotationType.FILEATTACHMENT:return new X(t);default:return new S(t)}}}]),t}(),S=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];b(this,t),this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderInteractiveForms=e.renderInteractiveForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,n&&(this.container=this._createContainer(i))}return _(t,[{key:"_createContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.data,n=this.page,i=this.viewport,a=document.createElement("section"),o=e.rect[2]-e.rect[0],s=e.rect[3]-e.rect[1];a.setAttribute("data-annotation-id",e.id);var l=r.Util.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]);if(a.style.transform="matrix(".concat(i.transform.join(","),")"),a.style.transformOrigin="-".concat(l[0],"px -").concat(l[1],"px"),!t&&e.borderStyle.width>0){a.style.borderWidth="".concat(e.borderStyle.width,"px"),e.borderStyle.style!==r.AnnotationBorderStyleType.UNDERLINE&&(o-=2*e.borderStyle.width,s-=2*e.borderStyle.width);var c=e.borderStyle.horizontalCornerRadius,u=e.borderStyle.verticalCornerRadius;if(c>0||u>0){var h="".concat(c,"px / ").concat(u,"px");a.style.borderRadius=h}switch(e.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:a.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:a.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:a.style.borderBottomStyle="solid";break;default:break}e.color?a.style.borderColor=r.Util.makeCssRgb(0|e.color[0],0|e.color[1],0|e.color[2]):a.style.borderWidth=0}return a.style.left="".concat(l[0],"px"),a.style.top="".concat(l[1],"px"),a.style.width="".concat(o,"px"),a.style.height="".concat(s,"px"),a}},{key:"_createPopup",value:function(t,e,n){e||(e=document.createElement("div"),e.style.height=t.style.height,e.style.width=t.style.width,t.appendChild(e));var i=new E({container:t,trigger:e,color:n.color,title:n.title,modificationDate:n.modificationDate,contents:n.contents,hideWrapper:!0}),r=i.render();r.style.left=t.style.width,t.appendChild(r)}},{key:"render",value:function(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}}]),t}(),O=function(t){d(n,t);var e=f(n);function n(t){b(this,n);var i=!!(t.data.url||t.data.dest||t.data.action);return e.call(this,t,i)}return _(n,[{key:"render",value:function(){this.container.className="linkAnnotation";var t=this.data,e=this.linkService,n=document.createElement("a");return t.url?(0,i.addLinkAttributes)(n,{url:t.url,target:t.newWindow?i.LinkTarget.BLANK:e.externalLinkTarget,rel:e.externalLinkRel,enabled:e.externalLinkEnabled}):t.action?this._bindNamedAction(n,t.action):this._bindLink(n,t.dest),this.container.appendChild(n),this.container}},{key:"_bindLink",value:function(t,e){var n=this;t.href=this.linkService.getDestinationHash(e),t.onclick=function(){return e&&n.linkService.navigateTo(e),!1},e&&(t.className="internalLink")}},{key:"_bindNamedAction",value:function(t,e){var n=this;t.href=this.linkService.getAnchorUrl(""),t.onclick=function(){return n.linkService.executeNamedAction(e),!1},t.className="internalLink"}}]),n}(S),C=function(t){d(n,t);var e=f(n);function n(t){b(this,n);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return e.call(this,t,i)}return _(n,[{key:"render",value:function(){this.container.className="textAnnotation";var t=document.createElement("img");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,t,this.data),this.container.appendChild(t),this.container}}]),n}(S),A=function(t){d(n,t);var e=f(n);function n(){return b(this,n),e.apply(this,arguments)}return _(n,[{key:"render",value:function(){return this.container}}]),n}(S),M=function(t){d(n,t);var e=f(n);function n(t){b(this,n);var i=t.renderInteractiveForms||!t.data.hasAppearance&&!!t.data.fieldValue;return e.call(this,t,i)}return _(n,[{key:"render",value:function(){var t=["left","center","right"],e=this.annotationStorage,n=this.data.id;this.container.className="textWidgetAnnotation";var i=null;if(this.renderInteractiveForms){var r=e.getOrCreateValue(n,this.data.fieldValue);if(this.data.multiLine?(i=document.createElement("textarea"),i.textContent=r):(i=document.createElement("input"),i.type="text",i.setAttribute("value",r)),i.addEventListener("input",(function(t){e.setValue(n,t.target.value)})),i.disabled=this.data.readOnly,i.name=this.data.fieldName,null!==this.data.maxLen&&(i.maxLength=this.data.maxLen),this.data.comb){var a=this.data.rect[2]-this.data.rect[0],o=a/this.data.maxLen;i.classList.add("comb"),i.style.letterSpacing="calc(".concat(o,"px - 1ch)")}}else{i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell";var s=null;this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(s=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(i,s)}return null!==this.data.textAlignment&&(i.style.textAlign=t[this.data.textAlignment]),this.container.appendChild(i),this.container}},{key:"_setTextStyle",value:function(t,e){var n=t.style;if(n.fontSize="".concat(this.data.fontSize,"px"),n.direction=this.data.fontDirection<0?"rtl":"ltr",e){var i="normal";e.black?i="900":e.bold&&(i="bold"),n.fontWeight=i,n.fontStyle=e.italic?"italic":"normal";var r=e.loadedName?'"'.concat(e.loadedName,'", '):"",a=e.fallbackName||"Helvetica, sans-serif";n.fontFamily=r+a}}}]),n}(A),T=function(t){d(n,t);var e=f(n);function n(t){return b(this,n),e.call(this,t,t.renderInteractiveForms)}return _(n,[{key:"render",value:function(){var t=this.annotationStorage,e=this.data,n=e.id,i=t.getOrCreateValue(n,e.fieldValue&&"Off"!==e.fieldValue);this.container.className="buttonWidgetAnnotation checkBox";var r=document.createElement("input");return r.disabled=e.readOnly,r.type="checkbox",r.name=this.data.fieldName,i&&r.setAttribute("checked",!0),r.addEventListener("change",(function(e){t.setValue(n,e.target.checked)})),this.container.appendChild(r),this.container}}]),n}(A),k=function(t){d(n,t);var e=f(n);function n(t){return b(this,n),e.call(this,t,t.renderInteractiveForms)}return _(n,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var t=this.annotationStorage,e=this.data,n=e.id,i=t.getOrCreateValue(n,e.fieldValue===e.buttonValue),r=document.createElement("input");return r.disabled=e.readOnly,r.type="radio",r.name=e.fieldName,i&&r.setAttribute("checked",!0),r.addEventListener("change",(function(e){var i,r=e.target.name,a=l(document.getElementsByName(r));try{for(a.s();!(i=a.n()).done;){var o=i.value;o!==e.target&&t.setValue(o.parentNode.getAttribute("data-annotation-id"),!1)}}catch(s){a.e(s)}finally{a.f()}t.setValue(n,e.target.checked)})),this.container.appendChild(r),this.container}}]),n}(A),L=function(t){d(n,t);var e=f(n);function n(){return b(this,n),e.apply(this,arguments)}return _(n,[{key:"render",value:function(){var t=o(y(n.prototype),"render",this).call(this);return t.className="buttonWidgetAnnotation pushButton",t}}]),n}(O),j=function(t){d(n,t);var e=f(n);function n(t){return b(this,n),e.call(this,t,t.renderInteractiveForms)}return _(n,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var t=this.annotationStorage,e=this.data.id;t.getOrCreateValue(e,this.data.fieldValue.length>0?this.data.fieldValue[0]:null);var n=document.createElement("select");n.disabled=this.data.readOnly,n.name=this.data.fieldName,this.data.combo||(n.size=this.data.options.length,this.data.multiSelect&&(n.multiple=!0));var i,r=l(this.data.options);try{for(r.s();!(i=r.n()).done;){var a=i.value,o=document.createElement("option");o.textContent=a.displayValue,o.value=a.exportValue,this.data.fieldValue.includes(a.exportValue)&&o.setAttribute("selected",!0),n.appendChild(o)}}catch(s){r.e(s)}finally{r.f()}return n.addEventListener("input",(function(n){var i=n.target.options,r=i[i.selectedIndex].value;t.setValue(e,r)})),this.container.appendChild(n),this.container}}]),n}(A),I=function(t){d(n,t);var e=f(n);function n(t){b(this,n);var i=!(!t.data.title&&!t.data.contents);return e.call(this,t,i)}return _(n,[{key:"render",value:function(){var t=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",t.includes(this.data.parentType))return this.container;var e='[data-annotation-id="'.concat(this.data.parentId,'"]'),n=this.layer.querySelector(e);if(!n)return this.container;var i=new E({container:this.container,trigger:n,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),r=parseFloat(n.style.left),a=parseFloat(n.style.width);return this.container.style.transformOrigin="-".concat(r+a,"px -").concat(n.style.top),this.container.style.left="".concat(r+a,"px"),this.container.appendChild(i.render()),this.container}}]),n}(S),E=function(){function t(e){b(this,t),this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.title=e.title,this.modificationDate=e.modificationDate,this.contents=e.contents,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}return _(t,[{key:"render",value:function(){var t=.7,e=document.createElement("div");e.className="popupWrapper",this.hideElement=this.hideWrapper?e:this.container,this.hideElement.setAttribute("hidden",!0);var n=document.createElement("div");n.className="popup";var a=this.color;if(a){var o=t*(255-a[0])+a[0],s=t*(255-a[1])+a[1],l=t*(255-a[2])+a[2];n.style.backgroundColor=r.Util.makeCssRgb(0|o,0|s,0|l)}var c=document.createElement("h1");c.textContent=this.title,n.appendChild(c);var u=i.PDFDateString.toDateObject(this.modificationDate);if(u){var h=document.createElement("span");h.textContent="{{date}}, {{time}}",h.dataset.l10nId="annotation_date_string",h.dataset.l10nArgs=JSON.stringify({date:u.toLocaleDateString(),time:u.toLocaleTimeString()}),n.appendChild(h)}var d=this._formatContents(this.contents);return n.appendChild(d),this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),n.addEventListener("click",this._hide.bind(this,!0)),e.appendChild(n),e}},{key:"_formatContents",value:function(t){for(var e=document.createElement("p"),n=t.split(/(?:\r\n?|\n)/),i=0,r=n.length;i<r;++i){var a=n[i];e.appendChild(document.createTextNode(a)),i<r-1&&e.appendChild(document.createElement("br"))}return e}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]),t}(),P=function(t){d(n,t);var e=f(n);function n(t){b(this,n);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return e.call(this,t,i,!0)}return _(n,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(S),R=function(t){d(n,t);var e=f(n);function n(t){b(this,n);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return e.call(this,t,i,!0)}return _(n,[{key:"render",value:function(){this.container.className="lineAnnotation";var t=this.data,e=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],i=this.svgFactory.create(e,n),r=this.svgFactory.createElement("svg:line");return r.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),r.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),r.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),r.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),r.setAttribute("stroke-width",t.borderStyle.width||1),r.setAttribute("stroke","transparent"),i.appendChild(r),this.container.append(i),this._createPopup(this.container,r,t),this.container}}]),n}(S),D=function(t){d(n,t);var e=f(n);function n(t){b(this,n);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return e.call(this,t,i,!0)}return _(n,[{key:"render",value:function(){this.container.className="squareAnnotation";var t=this.data,e=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],i=this.svgFactory.create(e,n),r=t.borderStyle.width,a=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",r/2),a.setAttribute("y",r/2),a.setAttribute("width",e-r),a.setAttribute("height",n-r),a.setAttribute("stroke-width",r||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","none"),i.appendChild(a),this.container.append(i),this._createPopup(this.container,a,t),this.container}}]),n}(S),F=function(t){d(n,t);var e=f(n);function n(t){b(this,n);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return e.call(this,t,i,!0)}return _(n,[{key:"render",value:function(){this.container.className="circleAnnotation";var t=this.data,e=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],i=this.svgFactory.create(e,n),r=t.borderStyle.width,a=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",e/2),a.setAttribute("cy",n/2),a.setAttribute("rx",e/2-r/2),a.setAttribute("ry",n/2-r/2),a.setAttribute("stroke-width",r||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","none"),i.appendChild(a),this.container.append(i),this._createPopup(this.container,a,t),this.container}}]),n}(S),N=function(t){d(n,t);var e=f(n);function n(t){var i;b(this,n);var r=!!(t.data.hasPopup||t.data.title||t.data.contents);return i=e.call(this,t,r,!0),i.containerClassName="polylineAnnotation",i.svgElementName="svg:polyline",i}return _(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var t,e=this.data,n=e.rect[2]-e.rect[0],i=e.rect[3]-e.rect[1],r=this.svgFactory.create(n,i),a=[],o=l(e.vertices);try{for(o.s();!(t=o.n()).done;){var s=t.value,c=s.x-e.rect[0],u=e.rect[3]-s.y;a.push(c+","+u)}}catch(d){o.e(d)}finally{o.f()}a=a.join(" ");var h=this.svgFactory.createElement(this.svgElementName);return h.setAttribute("points",a),h.setAttribute("stroke-width",e.borderStyle.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","none"),r.appendChild(h),this.container.append(r),this._createPopup(this.container,h,e),this.container}}]),n}(S),B=function(t){d(n,t);var e=f(n);function n(t){var i;return b(this,n),i=e.call(this,t),i.containerClassName="polygonAnnotation",i.svgElementName="svg:polygon",i}return n}(N),V=function(t){d(n,t);var e=f(n);function n(t){b(this,n);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return e.call(this,t,i,!0)}return _(n,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(S),G=function(t){d(n,t);var e=f(n);function n(t){var i;b(this,n);var r=!!(t.data.hasPopup||t.data.title||t.data.contents);return i=e.call(this,t,r,!0),i.containerClassName="inkAnnotation",i.svgElementName="svg:polyline",i}return _(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var t,e=this.data,n=e.rect[2]-e.rect[0],i=e.rect[3]-e.rect[1],r=this.svgFactory.create(n,i),a=l(e.inkLists);try{for(a.s();!(t=a.n()).done;){var o,s=t.value,c=[],u=l(s);try{for(u.s();!(o=u.n()).done;){var h=o.value,d=h.x-e.rect[0],p=e.rect[3]-h.y;c.push("".concat(d,",").concat(p))}}catch(g){u.e(g)}finally{u.f()}c=c.join(" ");var f=this.svgFactory.createElement(this.svgElementName);f.setAttribute("points",c),f.setAttribute("stroke-width",e.borderStyle.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","none"),this._createPopup(this.container,f,e),r.appendChild(f)}}catch(g){a.e(g)}finally{a.f()}return this.container.append(r),this.container}}]),n}(S),z=function(t){d(n,t);var e=f(n);function n(t){b(this,n);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return e.call(this,t,i,!0)}return _(n,[{key:"render",value:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(S),U=function(t){d(n,t);var e=f(n);function n(t){b(this,n);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return e.call(this,t,i,!0)}return _(n,[{key:"render",value:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(S),H=function(t){d(n,t);var e=f(n);function n(t){b(this,n);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return e.call(this,t,i,!0)}return _(n,[{key:"render",value:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(S),W=function(t){d(n,t);var e=f(n);function n(t){b(this,n);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return e.call(this,t,i,!0)}return _(n,[{key:"render",value:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(S),Y=function(t){d(n,t);var e=f(n);function n(t){b(this,n);var i=!!(t.data.hasPopup||t.data.title||t.data.contents);return e.call(this,t,i,!0)}return _(n,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(S),X=function(t){d(n,t);var e=f(n);function n(t){var a;b(this,n),a=e.call(this,t,!0);var o=a.data.file,s=o.filename,l=o.content;return a.filename=(0,i.getFilenameFromUrl)(s),a.content=l,a.linkService.eventBus&&a.linkService.eventBus.dispatch("fileattachmentannotation",{source:m(a),id:(0,r.stringToPDFString)(s),filename:s,content:l}),a}return _(n,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var t=document.createElement("div");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,t,this.data),this.container.appendChild(t),this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,r.warn)("Download cannot be started due to unavailable download manager")}}]),n}(S),q=function(){function t(){b(this,t)}return _(t,null,[{key:"render",value:function(t){var e,n=[],o=[],s=l(t.annotations);try{for(s.s();!(e=s.n()).done;){var c=e.value;c&&(c.annotationType!==r.AnnotationType.POPUP?n.push(c):o.push(c))}}catch(f){s.e(f)}finally{s.f()}o.length&&n.push.apply(n,o);for(var u=0,h=n;u<h.length;u++){var d=h[u],p=w.create({data:d,layer:t.div,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderInteractiveForms:"boolean"!==typeof t.renderInteractiveForms||t.renderInteractiveForms,svgFactory:new i.DOMSVGFactory,annotationStorage:t.annotationStorage||new a.AnnotationStorage});p.isRenderable&&t.div.appendChild(p.render())}}},{key:"update",value:function(t){var e,n=l(t.annotations);try{for(n.s();!(e=n.n()).done;){var i=e.value,r=t.div.querySelector('[data-annotation-id="'.concat(i.id,'"]'));r&&(r.style.transform="matrix(".concat(t.viewport.transform.join(","),")"))}}catch(a){n.e(a)}finally{n.f()}t.div.removeAttribute("hidden")}}]),t}();e.AnnotationLayer=q},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderTextLayer=void 0;var i=n(5),r=function(){var t=1e5,e=/\S/;function n(t){return!e.test(t)}function r(t,e,r){var a=document.createElement("span"),o={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(t._textDivs.push(a),n(e.str))return o.isWhitespace=!0,void t._textDivProperties.set(a,o);var s=i.Util.transform(t._viewport.transform,e.transform),l=Math.atan2(s[1],s[0]),c=r[e.fontName];c.vertical&&(l+=Math.PI/2);var u,h,d=Math.sqrt(s[2]*s[2]+s[3]*s[3]),p=d;c.ascent?p=c.ascent*p:c.descent&&(p=(1+c.descent)*p),0===l?(u=s[4],h=s[5]-p):(u=s[4]+p*Math.sin(l),h=s[5]-p*Math.cos(l)),a.style.left="".concat(u,"px"),a.style.top="".concat(h,"px"),a.style.fontSize="".concat(d,"px"),a.style.fontFamily=c.fontFamily,a.textContent=e.str,t._fontInspectorEnabled&&(a.dataset.fontName=e.fontName),0!==l&&(o.angle=l*(180/Math.PI));var f=!1;if(e.str.length>1)f=!0;else if(e.transform[0]!==e.transform[3]){var g=Math.abs(e.transform[0]),m=Math.abs(e.transform[3]);g!==m&&Math.max(g,m)/Math.min(g,m)>1.5&&(f=!0)}if(f&&(c.vertical?o.canvasWidth=e.height*t._viewport.scale:o.canvasWidth=e.width*t._viewport.scale),t._textDivProperties.set(a,o),t._textContentStream&&t._layoutText(a),t._enhanceTextSelection){var v=1,y=0;0!==l&&(v=Math.cos(l),y=Math.sin(l));var b,x,_=(c.vertical?e.height:e.width)*t._viewport.scale,w=d;0!==l?(b=[v,y,-y,v,u,h],x=i.Util.getAxialAlignedBoundingBox([0,0,_,w],b)):x=[u,h,u+_,h+w],t._bounds.push({left:x[0],top:x[1],right:x[2],bottom:x[3],div:a,size:[_,w],m:b})}}function a(e){if(!e._canceled){var n=e._textDivs,i=e._capability,r=n.length;if(r>t)return e._renderingDone=!0,void i.resolve();if(!e._textContentStream)for(var a=0;a<r;a++)e._layoutText(n[a]);e._renderingDone=!0,i.resolve()}}function o(t,e,n){for(var i=0,r=0;r<n;r++){var a=t[e++];a>0&&(i=i?Math.min(a,i):a)}return i}function s(t){for(var e=t._bounds,n=t._viewport,r=l(n.width,n.height,e),a=0;a<r.length;a++){var s=e[a].div,c=t._textDivProperties.get(s);if(0!==c.angle){var u=r[a],h=e[a],d=h.m,p=d[0],f=d[1],g=[[0,0],[0,h.size[1]],[h.size[0],0],h.size],m=new Float64Array(64);g.forEach((function(t,e){var n=i.Util.applyTransform(t,d);m[e+0]=p&&(u.left-n[0])/p,m[e+4]=f&&(u.top-n[1])/f,m[e+8]=p&&(u.right-n[0])/p,m[e+12]=f&&(u.bottom-n[1])/f,m[e+16]=f&&(u.left-n[0])/-f,m[e+20]=p&&(u.top-n[1])/p,m[e+24]=f&&(u.right-n[0])/-f,m[e+28]=p&&(u.bottom-n[1])/p,m[e+32]=p&&(u.left-n[0])/-p,m[e+36]=f&&(u.top-n[1])/-f,m[e+40]=p&&(u.right-n[0])/-p,m[e+44]=f&&(u.bottom-n[1])/-f,m[e+48]=f&&(u.left-n[0])/f,m[e+52]=p&&(u.top-n[1])/-p,m[e+56]=f&&(u.right-n[0])/f,m[e+60]=p&&(u.bottom-n[1])/-p}));var v=1+Math.min(Math.abs(p),Math.abs(f));c.paddingLeft=o(m,32,16)/v,c.paddingTop=o(m,48,16)/v,c.paddingRight=o(m,0,16)/v,c.paddingBottom=o(m,16,16)/v,t._textDivProperties.set(s,c)}else c.paddingLeft=e[a].left-r[a].left,c.paddingTop=e[a].top-r[a].top,c.paddingRight=r[a].right-e[a].right,c.paddingBottom=r[a].bottom-e[a].bottom,t._textDivProperties.set(s,c)}}function l(t,e,n){var i=n.map((function(t,e){return{x1:t.left,y1:t.top,x2:t.right,y2:t.bottom,index:e,x1New:void 0,x2New:void 0}}));c(t,i);var r=new Array(n.length);return i.forEach((function(t){var e=t.index;r[e]={left:t.x1New,top:0,right:t.x2New,bottom:0}})),n.map((function(e,n){var a=r[n],o=i[n];o.x1=e.top,o.y1=t-a.right,o.x2=e.bottom,o.y2=t-a.left,o.index=n,o.x1New=void 0,o.x2New=void 0})),c(e,i),i.forEach((function(t){var e=t.index;r[e].top=t.x1New,r[e].bottom=t.x2New})),r}function c(t,e){e.sort((function(t,e){return t.x1-e.x1||t.index-e.index}));var n={x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0},i=[{start:-1/0,end:1/0,boundary:n}];e.forEach((function(t){var e=0;while(e<i.length&&i[e].end<=t.y1)e++;var n,r,a=i.length-1;while(a>=0&&i[a].start>=t.y2)a--;var o,s,l=-1/0;for(o=e;o<=a;o++){var c;n=i[o],r=n.boundary,c=r.x2>t.x1?r.index>t.index?r.x1New:t.x1:void 0===r.x2New?(r.x2+t.x1)/2:r.x2New,c>l&&(l=c)}for(t.x1New=l,o=e;o<=a;o++)n=i[o],r=n.boundary,void 0===r.x2New?r.x2>t.x1?r.index>t.index&&(r.x2New=r.x2):r.x2New=l:r.x2New>l&&(r.x2New=Math.max(l,r.x2));var u=[],h=null;for(o=e;o<=a;o++){n=i[o],r=n.boundary;var d=r.x2>t.x2?r:t;h===d?u[u.length-1].end=n.end:(u.push({start:n.start,end:n.end,boundary:d}),h=d)}for(i[e].start<t.y1&&(u[0].start=t.y1,u.unshift({start:i[e].start,end:t.y1,boundary:i[e].boundary})),t.y2<i[a].end&&(u[u.length-1].end=t.y2,u.push({start:t.y2,end:i[a].end,boundary:i[a].boundary})),o=e;o<=a;o++)if(n=i[o],r=n.boundary,void 0===r.x2New){var p=!1;for(s=e-1;!p&&s>=0&&i[s].start>=r.y1;s--)p=i[s].boundary===r;for(s=a+1;!p&&s<i.length&&i[s].end<=r.y2;s++)p=i[s].boundary===r;for(s=0;!p&&s<u.length;s++)p=u[s].boundary===r;p||(r.x2New=l)}Array.prototype.splice.apply(i,[e,a-e+1].concat(u))})),i.forEach((function(e){var n=e.boundary;void 0===n.x2New&&(n.x2New=Math.max(t,n.x2))}))}function u(t){var e=this,n=t.textContent,r=t.textContentStream,a=t.container,o=t.viewport,s=t.textDivs,l=t.textContentItemsStr,c=t.enhanceTextSelection;this._textContent=n,this._textContentStream=r,this._container=a,this._document=a.ownerDocument,this._viewport=o,this._textDivs=s||[],this._textContentItemsStr=l||[],this._enhanceTextSelection=!!c,this._fontInspectorEnabled=!(!globalThis.FontInspector||!globalThis.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,i.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise["finally"]((function(){e._layoutTextCtx&&(e._layoutTextCtx.canvas.width=0,e._layoutTextCtx.canvas.height=0,e._layoutTextCtx=null)}))["catch"]((function(){}))}function h(t){var e=new u({textContent:t.textContent,textContentStream:t.textContentStream,container:t.container,viewport:t.viewport,textDivs:t.textDivs,textContentItemsStr:t.textContentItemsStr,enhanceTextSelection:t.enhanceTextSelection});return e._render(t.timeout),e}return u.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function(t,e){for(var n=0,i=t.length;n<i;n++)this._textContentItemsStr.push(t[n].str),r(this,t[n],e)},_layoutText:function(t){var e=this._textDivProperties.get(t);if(!e.isWhitespace){var n="";if(0!==e.canvasWidth){var i=t.style,r=i.fontSize,a=i.fontFamily;r===this._layoutTextLastFontSize&&a===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(r," ").concat(a),this._layoutTextLastFontSize=r,this._layoutTextLastFontFamily=a);var o=this._layoutTextCtx.measureText(t.textContent),s=o.width;s>0&&(e.scale=e.canvasWidth/s,n="scaleX(".concat(e.scale,")"))}0!==e.angle&&(n="rotate(".concat(e.angle,"deg) ").concat(n)),n.length>0&&(this._enhanceTextSelection&&(e.originalTransform=n),t.style.transform=n),this._textDivProperties.set(t,e),this._container.appendChild(t)}},_render:function(t){var e=this,n=(0,i.createPromiseCapability)(),r=Object.create(null),o=this._document.createElement("canvas");if(o.mozOpaque=!0,this._layoutTextCtx=o.getContext("2d",{alpha:!1}),this._textContent){var s=this._textContent.items,l=this._textContent.styles;this._processItems(s,l),n.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');var c=function t(){e._reader.read().then((function(i){var a=i.value,o=i.done;o?n.resolve():(Object.assign(r,a.styles),e._processItems(a.items,r),t())}),n.reject)};this._reader=this._textContentStream.getReader(),c()}n.promise.then((function(){r=null,t?e._renderTimer=setTimeout((function(){a(e),e._renderTimer=null}),t):a(e)}),this._capability.reject)},expandTextDivs:function(t){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(s(this),this._bounds=null);for(var e=[],n=[],i=0,r=this._textDivs.length;i<r;i++){var a=this._textDivs[i],o=this._textDivProperties.get(a);o.isWhitespace||(t?(e.length=0,n.length=0,o.originalTransform&&e.push(o.originalTransform),o.paddingTop>0?(n.push("".concat(o.paddingTop,"px")),e.push("translateY(".concat(-o.paddingTop,"px)"))):n.push(0),o.paddingRight>0?n.push("".concat(o.paddingRight/o.scale,"px")):n.push(0),o.paddingBottom>0?n.push("".concat(o.paddingBottom,"px")):n.push(0),o.paddingLeft>0?(n.push("".concat(o.paddingLeft/o.scale,"px")),e.push("translateX(".concat(-o.paddingLeft/o.scale,"px)"))):n.push(0),a.style.padding=n.join(" "),e.length&&(a.style.transform=e.join(" "))):(a.style.padding=null,a.style.transform=o.originalTransform))}}}},h}();e.renderTextLayer=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var i=n(5),r=n(1),a=n(7);function o(t){return c(t)||l(t)||g(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function c(t){if(Array.isArray(t))return m(t)}function u(t,e){return p(t)||d(t,e)||g(t,e)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){r=!0,a=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(r)throw a}}return n}}function p(t){if(Array.isArray(t))return t}function f(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=g(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}function g(t,e){if(t){if("string"===typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function b(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),t}var x=function(){throw new Error("Not implemented: SVGGraphics")};e.SVGGraphics=x;var _=function(t){var e,n=[],i=[],r=f(t);try{for(r.s();!(e=r.n()).done;){var a=e.value;"save"!==a.fn?"restore"===a.fn?n=i.pop():n.push(a):(n.push({fnId:92,fn:"group",items:[]}),i.push(n),n=n[n.length-1].items)}}catch(o){r.e(o)}finally{r.f()}return n},w=function(t){if(Number.isInteger(t))return t.toString();var e=t.toFixed(10),n=e.length-1;if("0"!==e[n])return e;do{n--}while("0"===e[n]);return e.substring(0,"."===e[n]?n:n+1)},S=function(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":"scale(".concat(w(t[0])," ").concat(w(t[3]),")");if(t[0]===t[3]&&t[1]===-t[2]){var e=180*Math.acos(t[0])/Math.PI;return"rotate(".concat(w(e),")")}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return"translate(".concat(w(t[4])," ").concat(w(t[5]),")");return"matrix(".concat(w(t[0])," ").concat(w(t[1])," ").concat(w(t[2])," ").concat(w(t[3])," ").concat(w(t[4])," ")+"".concat(w(t[5]),")")},O={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},C="http://www.w3.org/XML/1998/namespace",A="http://www.w3.org/1999/xlink",M=["butt","round","square"],T=["miter","round","bevel"],k=function(){for(var t=new Uint8Array([137,80,78,71,13,10,26,10]),e=12,n=new Int32Array(256),r=0;r<256;r++){for(var o=r,s=0;s<8;s++)o=1&o?3988292384^o>>1&2147483647:o>>1&2147483647;n[r]=o}function l(t,e,i){for(var r=-1,a=e;a<i;a++){var o=255&(r^t[a]),s=n[o];r=r>>>8^s}return-1^r}function c(t,e,n,i){var r=i,a=e.length;n[r]=a>>24&255,n[r+1]=a>>16&255,n[r+2]=a>>8&255,n[r+3]=255&a,r+=4,n[r]=255&t.charCodeAt(0),n[r+1]=255&t.charCodeAt(1),n[r+2]=255&t.charCodeAt(2),n[r+3]=255&t.charCodeAt(3),r+=4,n.set(e,r),r+=e.length;var o=l(n,i+4,r);n[r]=o>>24&255,n[r+1]=o>>16&255,n[r+2]=o>>8&255,n[r+3]=255&o}function u(t,e,n){for(var i=1,r=0,a=e;a<n;++a)i=(i+(255&t[a]))%65521,r=(r+i)%65521;return r<<16|i}function h(t){if(!a.isNodeJS)return d(t);try{var e;e=parseInt(process.versions.node)>=8?t:Buffer.from(t);var n=__webpack_require__(4).deflateSync(e,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(r){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+r)}return d(t)}function d(t){var e=t.length,n=65535,i=Math.ceil(e/n),r=new Uint8Array(2+e+5*i+4),a=0;r[a++]=120,r[a++]=156;var o=0;while(e>n)r[a++]=0,r[a++]=255,r[a++]=255,r[a++]=0,r[a++]=0,r.set(t.subarray(o,o+n),a),a+=n,o+=n,e-=n;r[a++]=1,r[a++]=255&e,r[a++]=e>>8&255,r[a++]=255&~e,r[a++]=(65535&~e)>>8&255,r.set(t.subarray(o),a),a+=t.length-o;var s=u(t,0,t.length);return r[a++]=s>>24&255,r[a++]=s>>16&255,r[a++]=s>>8&255,r[a++]=255&s,r}function p(n,r,a,o){var s,l,u,d=n.width,p=n.height,f=n.data;switch(r){case i.ImageKind.GRAYSCALE_1BPP:l=0,s=1,u=d+7>>3;break;case i.ImageKind.RGB_24BPP:l=2,s=8,u=3*d;break;case i.ImageKind.RGBA_32BPP:l=6,s=8,u=4*d;break;default:throw new Error("invalid format")}for(var g=new Uint8Array((1+u)*p),m=0,v=0,y=0;y<p;++y)g[m++]=0,g.set(f.subarray(v,v+u),m),v+=u,m+=u;if(r===i.ImageKind.GRAYSCALE_1BPP&&o){m=0;for(var b=0;b<p;b++){m++;for(var x=0;x<u;x++)g[m++]^=255}}var _=new Uint8Array([d>>24&255,d>>16&255,d>>8&255,255&d,p>>24&255,p>>16&255,p>>8&255,255&p,s,l,0,0,0]),w=h(g),S=t.length+3*e+_.length+w.length,O=new Uint8Array(S),C=0;return O.set(t,C),C+=t.length,c("IHDR",_,O,C),C+=e+_.length,c("IDATA",w,O,C),C+=e+w.length,c("IEND",new Uint8Array(0),O,C),(0,i.createObjectURL)(O,"image/png",a)}return function(t,e,n){var r=void 0===t.kind?i.ImageKind.GRAYSCALE_1BPP:t.kind;return p(t,r,e,n)}}(),L=function(){function t(){v(this,t),this.fontSizeScale=1,this.fontWeight=O.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=O.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return b(t,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(t,e){this.x=t,this.y=e}}]),t}(),j=0,I=0,E=0;e.SVGGraphics=x=function(){function t(e,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var o in v(this,t),this.svgFactory=new r.DOMSVGFactory,this.current=new L,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!a,this._operatorIdMapping=[],i.OPS)this._operatorIdMapping[i.OPS[o]]=o}return b(t,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var t=this.current;this.extraStack.push(t),this.current=t.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(t){this.save(),this.executeOpTree(t),this.restore()}},{key:"loadDependencies",value:function(t){for(var e=this,n=t.fnArray,r=t.argsArray,a=0,o=n.length;a<o;a++)if(n[a]===i.OPS.dependency){var s,l=f(r[a]);try{var c=function(){var t=s.value,n=t.startsWith("g_")?e.commonObjs:e.objs,i=new Promise((function(e){n.get(t,e)}));e.current.dependencies.push(i)};for(l.s();!(s=l.n()).done;)c()}catch(u){l.e(u)}finally{l.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(t,e,n,r,a,o){var s=[t,e,n,r,a,o];this.transformMatrix=i.Util.transform(this.transformMatrix,s),this.tgrp=null}},{key:"getSVG",value:function(t,e){var n=this;this.viewport=e;var r=this._initialize(e);return this.loadDependencies(t).then((function(){return n.transformMatrix=i.IDENTITY_MATRIX,n.executeOpTree(n.convertOpList(t)),r}))}},{key:"convertOpList",value:function(t){for(var e=this._operatorIdMapping,n=t.argsArray,i=t.fnArray,r=[],a=0,o=i.length;a<o;a++){var s=i[a];r.push({fnId:s,fn:e[s],args:n[a]})}return _(r)}},{key:"executeOpTree",value:function(t){var e,n=f(t);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=r.fn,o=r.fnId,s=r.args;switch(0|o){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(s);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(s[0],s[1]);break;case i.OPS.setFont:this.setFont(s);break;case i.OPS.showText:this.showText(s[0]);break;case i.OPS.showSpacedText:this.showText(s[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(s[0],s[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(s[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(s[0]);break;case i.OPS.setHScale:this.setHScale(s[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(s[0],s[1],s[2],s[3],s[4],s[5]);break;case i.OPS.setTextRise:this.setTextRise(s[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(s[0]);break;case i.OPS.setLineWidth:this.setLineWidth(s[0]);break;case i.OPS.setLineJoin:this.setLineJoin(s[0]);break;case i.OPS.setLineCap:this.setLineCap(s[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(s[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(s[0],s[1],s[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(s[0],s[1],s[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(s);break;case i.OPS.setFillColorN:this.setFillColorN(s);break;case i.OPS.shadingFill:this.shadingFill(s[0]);break;case i.OPS.setDash:this.setDash(s[0],s[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(s[0]);break;case i.OPS.setFlatness:this.setFlatness(s[0]);break;case i.OPS.setGState:this.setGState(s[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(s[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(s[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(s[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(s[0],s[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(s[0],s[1],s[2],s[3],s[4],s[5]);break;case i.OPS.constructPath:this.constructPath(s[0],s[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(r.items);break;default:(0,i.warn)("Unimplemented operator ".concat(a));break}}}catch(l){n.e(l)}finally{n.f()}}},{key:"setWordSpacing",value:function(t){this.current.wordSpacing=t}},{key:"setCharSpacing",value:function(t){this.current.charSpacing=t}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(t,e,n,i,r,a){var o=this.current;o.textMatrix=o.lineMatrix=[t,e,n,i,r,a],o.textMatrixScale=Math.sqrt(t*t+e*e),o.x=o.lineX=0,o.y=o.lineY=0,o.xcoords=[],o.ycoords=[],o.tspan=this.svgFactory.createElement("svg:tspan"),o.tspan.setAttributeNS(null,"font-family",o.fontFamily),o.tspan.setAttributeNS(null,"font-size","".concat(w(o.fontSize),"px")),o.tspan.setAttributeNS(null,"y",w(-o.y)),o.txtElement=this.svgFactory.createElement("svg:text"),o.txtElement.appendChild(o.tspan)}},{key:"beginText",value:function(){var t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=i.IDENTITY_MATRIX,t.lineMatrix=i.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}},{key:"moveText",value:function(t,e){var n=this.current;n.x=n.lineX+=t,n.y=n.lineY+=e,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size","".concat(w(n.fontSize),"px")),n.tspan.setAttributeNS(null,"y",w(-n.y))}},{key:"showText",value:function(t){var e=this.current,n=e.font,r=e.fontSize;if(0!==r){var a,o=e.fontSizeScale,s=e.charSpacing,l=e.wordSpacing,c=e.fontDirection,u=e.textHScale*c,h=n.vertical,d=h?1:-1,p=n.defaultVMetrics,g=r*e.fontMatrix[0],m=0,v=f(t);try{for(v.s();!(a=v.n()).done;){var y=a.value;if(null!==y)if((0,i.isNum)(y))m+=d*y*r/1e3;else{var b=(y.isSpace?l:0)+s,x=y.fontChar,_=void 0,A=void 0,M=y.width;if(h){var T=void 0,k=y.vmetric||p;T=y.vmetric?k[1]:.5*M,T=-T*g;var L=k[2]*g;M=k?-k[0]:M,_=T/o,A=(m+L)/o}else _=m/o,A=0;(y.isInFont||n.missingFile)&&(e.xcoords.push(e.x+_),h&&e.ycoords.push(-e.y+A),e.tspan.textContent+=x);var j=void 0;j=h?M*g-b*c:M*g+b*c,m+=j}else m+=c*l}}catch(R){v.e(R)}finally{v.f()}e.tspan.setAttributeNS(null,"x",e.xcoords.map(w).join(" ")),h?e.tspan.setAttributeNS(null,"y",e.ycoords.map(w).join(" ")):e.tspan.setAttributeNS(null,"y",w(-e.y)),h?e.y-=m:e.x+=m*u,e.tspan.setAttributeNS(null,"font-family",e.fontFamily),e.tspan.setAttributeNS(null,"font-size","".concat(w(e.fontSize),"px")),e.fontStyle!==O.fontStyle&&e.tspan.setAttributeNS(null,"font-style",e.fontStyle),e.fontWeight!==O.fontWeight&&e.tspan.setAttributeNS(null,"font-weight",e.fontWeight);var I=e.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(I===i.TextRenderingMode.FILL||I===i.TextRenderingMode.FILL_STROKE?(e.fillColor!==O.fillColor&&e.tspan.setAttributeNS(null,"fill",e.fillColor),e.fillAlpha<1&&e.tspan.setAttributeNS(null,"fill-opacity",e.fillAlpha)):e.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?e.tspan.setAttributeNS(null,"fill","transparent"):e.tspan.setAttributeNS(null,"fill","none"),I===i.TextRenderingMode.STROKE||I===i.TextRenderingMode.FILL_STROKE){var E=1/(e.textMatrixScale||1);this._setStrokeAttributes(e.tspan,E)}var P=e.textMatrix;0!==e.textRise&&(P=P.slice(),P[5]+=e.textRise),e.txtElement.setAttributeNS(null,"transform","".concat(S(P)," scale(").concat(w(u),", -1)")),e.txtElement.setAttributeNS(C,"xml:space","preserve"),e.txtElement.appendChild(e.tspan),e.txtgrp.appendChild(e.txtElement),this._ensureTransformGroup().appendChild(e.txtElement)}}},{key:"setLeadingMoveText",value:function(t,e){this.setLeading(-e),this.moveText(t,e)}},{key:"addFontStyle",value:function(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var e=(0,i.createObjectURL)(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(t.loadedName,'";')+" src: url(".concat(e,"); }\n")}},{key:"setFont",value:function(t){var e=this.current,n=this.commonObjs.get(t[0]),r=t[1];e.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),e.fontMatrix=n.fontMatrix?n.fontMatrix:i.FONT_IDENTITY_MATRIX;var a="normal";n.black?a="900":n.bold&&(a="bold");var o=n.italic?"italic":"normal";r<0?(r=-r,e.fontDirection=-1):e.fontDirection=1,e.fontSize=r,e.fontFamily=n.loadedName,e.fontWeight=a,e.fontStyle=o,e.tspan=this.svgFactory.createElement("svg:tspan"),e.tspan.setAttributeNS(null,"y",w(-e.y)),e.xcoords=[],e.ycoords=[]}},{key:"endText",value:function(){var t=this.current;t.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&t.txtElement&&t.txtElement.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(t){t>0&&(this.current.lineWidth=t)}},{key:"setLineCap",value:function(t){this.current.lineCap=M[t]}},{key:"setLineJoin",value:function(t){this.current.lineJoin=T[t]}},{key:"setMiterLimit",value:function(t){this.current.miterLimit=t}},{key:"setStrokeAlpha",value:function(t){this.current.strokeAlpha=t}},{key:"setStrokeRGBColor",value:function(t,e,n){this.current.strokeColor=i.Util.makeCssRgb(t,e,n)}},{key:"setFillAlpha",value:function(t){this.current.fillAlpha=t}},{key:"setFillRGBColor",value:function(t,e,n){this.current.fillColor=i.Util.makeCssRgb(t,e,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(t){this.current.strokeColor=this._makeColorN_Pattern(t)}},{key:"setFillColorN",value:function(t){this.current.fillColor=this._makeColorN_Pattern(t)}},{key:"shadingFill",value:function(t){var e=this.viewport.width,n=this.viewport.height,r=i.Util.inverseTransform(this.transformMatrix),a=i.Util.applyTransform([0,0],r),o=i.Util.applyTransform([0,n],r),s=i.Util.applyTransform([e,0],r),l=i.Util.applyTransform([e,n],r),c=Math.min(a[0],o[0],s[0],l[0]),u=Math.min(a[1],o[1],s[1],l[1]),h=Math.max(a[0],o[0],s[0],l[0]),d=Math.max(a[1],o[1],s[1],l[1]),p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x",c),p.setAttributeNS(null,"y",u),p.setAttributeNS(null,"width",h-c),p.setAttributeNS(null,"height",d-u),p.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&p.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(p)}},{key:"_makeColorN_Pattern",value:function(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}},{key:"_makeTilingPattern",value:function(t){var e=t[1],n=t[2],r=t[3]||i.IDENTITY_MATRIX,a=u(t[4],4),s=a[0],l=a[1],c=a[2],h=a[3],d=t[5],p=t[6],f=t[7],g="shading".concat(E++),m=i.Util.applyTransform([s,l],r),v=u(m,2),y=v[0],b=v[1],x=i.Util.applyTransform([c,h],r),_=u(x,2),w=_[0],S=_[1],O=i.Util.singularValueDecompose2dScale(r),C=u(O,2),A=C[0],M=C[1],T=d*A,k=p*M,L=this.svgFactory.createElement("svg:pattern");L.setAttributeNS(null,"id",g),L.setAttributeNS(null,"patternUnits","userSpaceOnUse"),L.setAttributeNS(null,"width",T),L.setAttributeNS(null,"height",k),L.setAttributeNS(null,"x","".concat(y)),L.setAttributeNS(null,"y","".concat(b));var j=this.svg,I=this.transformMatrix,P=this.current.fillColor,R=this.current.strokeColor,D=this.svgFactory.create(w-y,S-b);if(this.svg=D,this.transformMatrix=r,2===f){var F=i.Util.makeCssRgb.apply(i.Util,o(e));this.current.fillColor=F,this.current.strokeColor=F}return this.executeOpTree(this.convertOpList(n)),this.svg=j,this.transformMatrix=I,this.current.fillColor=P,this.current.strokeColor=R,L.appendChild(D.childNodes[0]),this.defs.appendChild(L),"url(#".concat(g,")")}},{key:"_makeShadingPattern",value:function(t){switch(t[0]){case"RadialAxial":var e,n="shading".concat(E++),r=t[3];switch(t[1]){case"axial":var a=t[4],o=t[5];e=this.svgFactory.createElement("svg:linearGradient"),e.setAttributeNS(null,"id",n),e.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),e.setAttributeNS(null,"x1",a[0]),e.setAttributeNS(null,"y1",a[1]),e.setAttributeNS(null,"x2",o[0]),e.setAttributeNS(null,"y2",o[1]);break;case"radial":var s=t[4],l=t[5],c=t[6],u=t[7];e=this.svgFactory.createElement("svg:radialGradient"),e.setAttributeNS(null,"id",n),e.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),e.setAttributeNS(null,"cx",l[0]),e.setAttributeNS(null,"cy",l[1]),e.setAttributeNS(null,"r",u),e.setAttributeNS(null,"fx",s[0]),e.setAttributeNS(null,"fy",s[1]),e.setAttributeNS(null,"fr",c);break;default:throw new Error("Unknown RadialAxial type: ".concat(t[1]))}var h,d=f(r);try{for(d.s();!(h=d.n()).done;){var p=h.value,g=this.svgFactory.createElement("svg:stop");g.setAttributeNS(null,"offset",p[0]),g.setAttributeNS(null,"stop-color",p[1]),e.appendChild(g)}}catch(m){d.e(m)}finally{d.f()}return this.defs.appendChild(e),"url(#".concat(n,")");case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(t[0]))}}},{key:"setDash",value:function(t,e){this.current.dashArray=t,this.current.dashPhase=e}},{key:"constructPath",value:function(t,e){var n,r=this.current,a=r.x,o=r.y,s=[],l=0,c=f(t);try{for(c.s();!(n=c.n()).done;){var u=n.value;switch(0|u){case i.OPS.rectangle:a=e[l++],o=e[l++];var h=e[l++],d=e[l++],p=a+h,g=o+d;s.push("M",w(a),w(o),"L",w(p),w(o),"L",w(p),w(g),"L",w(a),w(g),"Z");break;case i.OPS.moveTo:a=e[l++],o=e[l++],s.push("M",w(a),w(o));break;case i.OPS.lineTo:a=e[l++],o=e[l++],s.push("L",w(a),w(o));break;case i.OPS.curveTo:a=e[l+4],o=e[l+5],s.push("C",w(e[l]),w(e[l+1]),w(e[l+2]),w(e[l+3]),w(a),w(o)),l+=6;break;case i.OPS.curveTo2:s.push("C",w(a),w(o),w(e[l]),w(e[l+1]),w(e[l+2]),w(e[l+3])),a=e[l+2],o=e[l+3],l+=4;break;case i.OPS.curveTo3:a=e[l+2],o=e[l+3],s.push("C",w(e[l]),w(e[l+1]),w(a),w(o),w(a),w(o)),l+=4;break;case i.OPS.closePath:s.push("Z");break}}}catch(m){c.e(m)}finally{c.f()}s=s.join(" "),r.path&&t.length>0&&t[0]!==i.OPS.rectangle&&t[0]!==i.OPS.moveTo?s=r.path.getAttributeNS(null,"d")+s:(r.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(r.path)),r.path.setAttributeNS(null,"d",s),r.path.setAttributeNS(null,"fill","none"),r.element=r.path,r.setCurrentPoint(a,o)}},{key:"endPath",value:function(){var t=this.current;if(t.path=null,this.pendingClip)if(t.element){var e="clippath".concat(j++),n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",e),n.setAttributeNS(null,"transform",S(this.transformMatrix));var i=t.element.cloneNode(!0);"evenodd"===this.pendingClip?i.setAttributeNS(null,"clip-rule","evenodd"):i.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.appendChild(i),this.defs.appendChild(n),t.activeClipUrl&&(t.clipGroup=null,this.extraStack.forEach((function(t){t.clipGroup=null})),n.setAttributeNS(null,"clip-path",t.activeClipUrl)),t.activeClipUrl="url(#".concat(e,")"),this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function(t){this.pendingClip=t}},{key:"closePath",value:function(){var t=this.current;if(t.path){var e="".concat(t.path.getAttributeNS(null,"d"),"Z");t.path.setAttributeNS(null,"d",e)}}},{key:"setLeading",value:function(t){this.current.leading=-t}},{key:"setTextRise",value:function(t){this.current.textRise=t}},{key:"setTextRenderingMode",value:function(t){this.current.textRenderingMode=t}},{key:"setHScale",value:function(t){this.current.textHScale=t/100}},{key:"setRenderingIntent",value:function(t){}},{key:"setFlatness",value:function(t){}},{key:"setGState",value:function(t){var e,n=f(t);try{for(n.s();!(e=n.n()).done;){var r=u(e.value,2),a=r[0],o=r[1];switch(a){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o);break;case"CA":this.setStrokeAlpha(o);break;case"ca":this.setFillAlpha(o);break;default:(0,i.warn)("Unimplemented graphic state operator ".concat(a));break}}}catch(s){n.e(s)}finally{n.f()}}},{key:"fill",value:function(){var t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.current,i=n.dashArray;1!==e&&i.length>0&&(i=i.map((function(t){return e*t}))),t.setAttributeNS(null,"stroke",n.strokeColor),t.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",w(n.miterLimit)),t.setAttributeNS(null,"stroke-linecap",n.lineCap),t.setAttributeNS(null,"stroke-linejoin",n.lineJoin),t.setAttributeNS(null,"stroke-width",w(e*n.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",i.map(w).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",w(e*n.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(t)}},{key:"paintImageXObject",value:function(t){var e=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);e?this.paintInlineImageXObject(e):(0,i.warn)("Dependent image with object ID ".concat(t," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(t,e){var n=t.width,i=t.height,r=k(t,this.forceDataSchema,!!e),a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",w(n)),a.setAttributeNS(null,"height",w(i)),this.current.element=a,this.clip("nonzero");var o=this.svgFactory.createElement("svg:image");o.setAttributeNS(A,"xlink:href",r),o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y",w(-i)),o.setAttributeNS(null,"width",w(n)+"px"),o.setAttributeNS(null,"height",w(i)+"px"),o.setAttributeNS(null,"transform","scale(".concat(w(1/n)," ").concat(w(-1/i),")")),e?e.appendChild(o):this._ensureTransformGroup().appendChild(o)}},{key:"paintImageMaskXObject",value:function(t){var e=this.current,n=t.width,i=t.height,r=e.fillColor;e.maskId="mask".concat(I++);var a=this.svgFactory.createElement("svg:mask");a.setAttributeNS(null,"id",e.maskId);var o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",w(n)),o.setAttributeNS(null,"height",w(i)),o.setAttributeNS(null,"fill",r),o.setAttributeNS(null,"mask","url(#".concat(e.maskId,")")),this.defs.appendChild(a),this._ensureTransformGroup().appendChild(o),this.paintInlineImageXObject(t,a)}},{key:"paintFormXObjectBegin",value:function(t,e){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e){var n=e[2]-e[0],i=e[3]-e[1],r=this.svgFactory.createElement("svg:rect");r.setAttributeNS(null,"x",e[0]),r.setAttributeNS(null,"y",e[1]),r.setAttributeNS(null,"width",w(n)),r.setAttributeNS(null,"height",w(i)),this.current.element=r,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(t){var e=this.svgFactory.create(t.width,t.height),n=this.svgFactory.createElement("svg:defs");e.appendChild(n),this.defs=n;var i=this.svgFactory.createElement("svg:g");return i.setAttributeNS(null,"transform",S(t.transform)),e.appendChild(i),this.svg=i,e}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",S(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var i=o(n(2)),r=n(5),a=n(220);function o(t){return t&&t.__esModule?t:{default:t}}function s(t){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function u(t){var e=p();return function(){var n,i=f(t);if(e){var r=f(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==s(e)&&"function"!==typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function g(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(i,r)}function m(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(t){g(a,i,r,o,s,"next",t)}function s(t){g(a,i,r,o,s,"throw",t)}o(void 0)}))}}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function b(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),t}var x=__webpack_require__(2),_=__webpack_require__(5),w=__webpack_require__(6),S=__webpack_require__(7),O=/^file:\/\/\/[a-zA-Z]:\//;function C(t){var e=S.parse(t);return"file:"===e.protocol||e.host?e:/^[a-z]:[/\\]/i.test(t)?S.parse("file:///".concat(t)):(e.host||(e.protocol="file:"),e)}var A=function(){function t(e){v(this,t),this.source=e,this.url=C(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return b(t,[{key:"getFullReader",value:function(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new I(this):new L(this),this._fullRequestReader}},{key:"getRangeReader",value:function(t,e){if(e<=this._progressiveDataLength)return null;var n=this.isFsUrl?new E(this,t,e):new j(this,t,e);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);var e=this._rangeRequestReaders.slice(0);e.forEach((function(e){e.cancel(t)}))}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),t}();e.PDFNodeStream=A;var M=function(){function t(e){v(this,t),this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;var n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._headersCapability=(0,r.createPromiseCapability)()}return b(t,[{key:"read",value:function(){var t=m(i["default"].mark((function t(){var e,n;return i["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._readCapability.promise;case 2:if(!this._done){t.next=4;break}return t.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){t.next=6;break}throw this._storedError;case 6:if(e=this._readableStream.read(),null!==e){t.next=10;break}return this._readCapability=(0,r.createPromiseCapability)(),t.abrupt("return",this.read());case 10:return this._loaded+=e.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),n=new Uint8Array(e).buffer,t.abrupt("return",{value:n,done:!1});case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"cancel",value:function(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}},{key:"_error",value:function(t){this._storedError=t,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(t){var e=this;this._readableStream=t,t.on("readable",(function(){e._readCapability.resolve()})),t.on("end",(function(){t.destroy(),e._done=!0,e._readCapability.resolve()})),t.on("error",(function(t){e._error(t)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),t}(),T=function(){function t(e){v(this,t),this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)();var n=e.source;this._isStreamingSupported=!n.disableStream}return b(t,[{key:"read",value:function(){var t=m(i["default"].mark((function t(){var e,n;return i["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._readCapability.promise;case 2:if(!this._done){t.next=4;break}return t.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){t.next=6;break}throw this._storedError;case 6:if(e=this._readableStream.read(),null!==e){t.next=10;break}return this._readCapability=(0,r.createPromiseCapability)(),t.abrupt("return",this.read());case 10:return this._loaded+=e.length,this.onProgress&&this.onProgress({loaded:this._loaded}),n=new Uint8Array(e).buffer,t.abrupt("return",{value:n,done:!1});case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"cancel",value:function(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}},{key:"_error",value:function(t){this._storedError=t,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(t){var e=this;this._readableStream=t,t.on("readable",(function(){e._readCapability.resolve()})),t.on("end",(function(){t.destroy(),e._done=!0,e._readCapability.resolve()})),t.on("error",(function(t){e._error(t)})),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),t}();function k(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}var L=function(t){l(n,t);var e=u(n);function n(t){var i;v(this,n),i=e.call(this,t);var o=function(e){if(404===e.statusCode){var n=new r.MissingPDFException('Missing PDF "'.concat(i._url,'".'));return i._storedError=n,void i._headersCapability.reject(n)}i._headersCapability.resolve(),i._setReadableStream(e);var o=function(t){return i._readableStream.headers[t.toLowerCase()]},s=(0,a.validateRangeRequestCapabilities)({getResponseHeader:o,isHttp:t.isHttp,rangeChunkSize:i._rangeChunkSize,disableRange:i._disableRange}),l=s.allowRangeRequests,c=s.suggestedLength;i._isRangeSupported=l,i._contentLength=c||i._contentLength,i._filename=(0,a.extractFilenameFromHeader)(o)};return i._request=null,"http:"===i._url.protocol?i._request=_.request(k(i._url,t.httpHeaders),o):i._request=w.request(k(i._url,t.httpHeaders),o),i._request.on("error",(function(t){i._storedError=t,i._headersCapability.reject(t)})),i._request.end(),i}return n}(M),j=function(t){l(n,t);var e=u(n);function n(t,i,a){var o;for(var s in v(this,n),o=e.call(this,t),o._httpHeaders={},t.httpHeaders){var l=t.httpHeaders[s];"undefined"!==typeof l&&(o._httpHeaders[s]=l)}o._httpHeaders.Range="bytes=".concat(i,"-").concat(a-1);var c=function(t){if(404!==t.statusCode)o._setReadableStream(t);else{var e=new r.MissingPDFException('Missing PDF "'.concat(o._url,'".'));o._storedError=e}};return o._request=null,"http:"===o._url.protocol?o._request=_.request(k(o._url,o._httpHeaders),c):o._request=w.request(k(o._url,o._httpHeaders),c),o._request.on("error",(function(t){o._storedError=t})),o._request.end(),o}return n}(T),I=function(t){l(n,t);var e=u(n);function n(t){var i;v(this,n),i=e.call(this,t);var a=decodeURIComponent(i._url.path);return O.test(i._url.href)&&(a=a.replace(/^\//,"")),x.lstat(a,(function(t,e){if(t)return"ENOENT"===t.code&&(t=new r.MissingPDFException('Missing PDF "'.concat(a,'".'))),i._storedError=t,void i._headersCapability.reject(t);i._contentLength=e.size,i._setReadableStream(x.createReadStream(a)),i._headersCapability.resolve()})),i}return n}(M),E=function(t){l(n,t);var e=u(n);function n(t,i,r){var a;v(this,n),a=e.call(this,t);var o=decodeURIComponent(a._url.path);return O.test(a._url.href)&&(o=o.replace(/^\//,"")),a._setReadableStream(x.createReadStream(o,{start:i,end:r-1})),a}return n}(T)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=s,e.extractFilenameFromHeader=o,e.validateRangeRequestCapabilities=a,e.validateResponseStatus=l;var i=n(5),r=n(221);function a(t){var e=t.getResponseHeader,n=t.isHttp,r=t.rangeChunkSize,a=t.disableRange;(0,i.assert)(r>0,"Range chunk size must be larger than zero");var o={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(e("Content-Length"),10);if(!Number.isInteger(s))return o;if(o.suggestedLength=s,s<=2*r)return o;if(a||!n)return o;if("bytes"!==e("Accept-Ranges"))return o;var l=e("Content-Encoding")||"identity";return"identity"!==l||(o.allowRangeRequests=!0),o}function o(t){var e=t("Content-Disposition");if(e){var n=(0,r.getFilenameFromContentDispositionHeader)(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch(i){}if(/\.pdf$/i.test(n))return n}return null}function s(t,e){return 404===t||0===t&&e.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+e+'".'):new i.UnexpectedResponseException("Unexpected server response ("+t+') while retrieving PDF "'+e+'".',t)}function l(t){return 200===t||206===t}},function(t,e,n){"use strict";function i(t,e){return l(t)||s(t,e)||a(t,e)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t,e){if(t){if("string"===typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){r=!0,a=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(r)throw a}}return n}}function l(t){if(Array.isArray(t))return t}function c(t){var e=!0,n=s("filename\\*","i").exec(t);if(n){n=n[1];var r=h(n);return r=unescape(r),r=d(r),r=p(r),c(r)}if(n=u(t),n){var a=p(n);return c(a)}if(n=s("filename","i").exec(t),n){n=n[1];var o=h(n);return o=p(o),c(o)}function s(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function l(t,n){if(t){if(!/^[\x00-\xFF]+$/.test(n))return n;try{var i=new TextDecoder(t,{fatal:!0}),r=Array.from(n,(function(t){return 255&t.charCodeAt(0)}));n=i.decode(new Uint8Array(r)),e=!1}catch(a){if(/^utf-?8$/i.test(t))try{n=decodeURIComponent(escape(n)),e=!1}catch(o){}}}return n}function c(t){return e&&/[\x80-\xff]/.test(t)&&(t=l("utf-8",t),e&&(t=l("iso-8859-1",t))),t}function u(t){var e,n=[],r=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");while(null!==(e=r.exec(t))){var a=e,o=i(a,4),l=o[1],c=o[2],u=o[3];if(l=parseInt(l,10),l in n){if(0===l)break}else n[l]=[c,u]}for(var p=[],f=0;f<n.length;++f){if(!(f in n))break;var g=i(n[f],2),m=g[0],v=g[1];v=h(v),m&&(v=unescape(v),0===f&&(v=d(v))),p.push(v)}return p.join("")}function h(t){if(t.startsWith('"')){for(var e=t.slice(1).split('\\"'),n=0;n<e.length;++n){var i=e[n].indexOf('"');-1!==i&&(e[n]=e[n].slice(0,i),e.length=n+1),e[n]=e[n].replace(/\\(.)/g,"$1")}t=e.join('"')}return t}function d(t){var e=t.indexOf("'");if(-1===e)return t;var n=t.slice(0,e),i=t.slice(e+1),r=i.replace(/^[^']*'/,"");return l(n,r)}function p(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(t,e,n,i){if("q"===n||"Q"===n)return i=i.replace(/_/g," "),i=i.replace(/=([0-9a-fA-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})),l(e,i);try{i=atob(i)}catch(r){}return l(e,i)}))}return""}Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var i=o(n(2)),r=n(5),a=n(220);function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(i,r)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(t){s(a,i,r,o,l,"next",t)}function l(t){s(a,i,r,o,l,"throw",t)}o(void 0)}))}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}var d=200,p=206;function f(t){var e=t.response;if("string"!==typeof e)return e;var n=(0,r.stringToBytes)(e);return n.buffer}var g=function(){function t(e,n){c(this,t),this.url=e,n=n||{},this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&n.httpHeaders||{},this.withCredentials=n.withCredentials||!1,this.getXhr=n.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return h(t,[{key:"requestRange",value:function(t,e,n){var i={begin:t,end:e};for(var r in n)i[r]=n[r];return this.request(i)}},{key:"requestFull",value:function(t){return this.request(t)}},{key:"request",value:function(t){var e=this.getXhr(),n=this.currXhrId++,i=this.pendingRequests[n]={xhr:e};for(var r in e.open("GET",this.url),e.withCredentials=this.withCredentials,this.httpHeaders){var a=this.httpHeaders[r];"undefined"!==typeof a&&e.setRequestHeader(r,a)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1)),i.expectedStatus=p):i.expectedStatus=d,e.responseType="arraybuffer",t.onError&&(e.onerror=function(n){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,e.send(null),n}},{key:"onProgress",value:function(t,e){var n=this.pendingRequests[t];n&&n.onProgress&&n.onProgress(e)}},{key:"onStateChange",value:function(t,e){var n=this.pendingRequests[t];if(n){var i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4===i.readyState&&t in this.pendingRequests)if(delete this.pendingRequests[t],0===i.status&&this.isHttp)n.onError&&n.onError(i.status);else{var r=i.status||d,a=r===d&&n.expectedStatus===p;if(a||r===n.expectedStatus){var o=f(i);if(r===p){var s=i.getResponseHeader("Content-Range"),l=/bytes (\d+)-(\d+)\/(\d+)/.exec(s);n.onDone({begin:parseInt(l[1],10),chunk:o})}else o?n.onDone({begin:0,chunk:o}):n.onError&&n.onError(i.status)}else n.onError&&n.onError(i.status)}}}},{key:"getRequestXhr",value:function(t){return this.pendingRequests[t].xhr}},{key:"isPendingRequest",value:function(t){return t in this.pendingRequests}},{key:"abortRequest",value:function(t){var e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}]),t}(),m=function(){function t(e){c(this,t),this._source=e,this._manager=new g(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return h(t,[{key:"_onRangeRequestReaderClosed",value:function(t){var e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}},{key:"getFullReader",value:function(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new v(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(t,e){var n=new y(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);var e=this._rangeRequestReaders.slice(0);e.forEach((function(e){e.cancel(t)}))}}]),t}();e.PDFNetworkStream=m;var v=function(){function t(e,n){c(this,t),this._manager=e;var i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=e.requestFull(i),this._headersReceivedCapability=(0,r.createPromiseCapability)(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return h(t,[{key:"_onHeadersReceived",value:function(){var t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=function(t){return e.getResponseHeader(t)},i=(0,a.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),r=i.allowRangeRequests,o=i.suggestedLength;r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(t){if(t)if(this._requests.length>0){var e=this._requests.shift();e.resolve({value:t.chunk,done:!1})}else this._cachedChunks.push(t.chunk);this._done=!0,this._cachedChunks.length>0||(this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[])}},{key:"_onError",value:function(t){var e=this._url,n=(0,a.createResponseStatusError)(t,e);this._storedError=n,this._headersReceivedCapability.reject(n),this._requests.forEach((function(t){t.reject(n)})),this._requests=[],this._cachedChunks=[]}},{key:"_onProgress",value:function(t){this.onProgress&&this.onProgress({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}},{key:"read",value:function(){var t=l(i["default"].mark((function t(){var e,n;return i["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this._storedError){t.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){t.next=5;break}return e=this._cachedChunks.shift(),t.abrupt("return",{value:e,done:!1});case 5:if(!this._done){t.next=7;break}return t.abrupt("return",{value:void 0,done:!0});case 7:return n=(0,r.createPromiseCapability)(),this._requests.push(n),t.abrupt("return",n.promise);case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"cancel",value:function(t){this._done=!0,this._headersReceivedCapability.reject(t),this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}}]),t}(),y=function(){function t(e,n,i){c(this,t),this._manager=e;var r={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=e.requestRange(n,i,r),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}return h(t,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(t){var e=t.chunk;if(this._requests.length>0){var n=this._requests.shift();n.resolve({value:e,done:!1})}else this._queuedChunk=e;this._done=!0,this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[],this._close()}},{key:"_onProgress",value:function(t){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:t.loaded})}},{key:"read",value:function(){var t=l(i["default"].mark((function t(){var e,n;return i["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null===this._queuedChunk){t.next=4;break}return e=this._queuedChunk,this._queuedChunk=null,t.abrupt("return",{value:e,done:!1});case 4:if(!this._done){t.next=6;break}return t.abrupt("return",{value:void 0,done:!0});case 6:return n=(0,r.createPromiseCapability)(),this._requests.push(n),t.abrupt("return",n.promise);case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"cancel",value:function(t){this._done=!0,this._requests.forEach((function(t){t.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},{key:"isStreamingSupported",get:function(){return!1}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var i=o(n(2)),r=n(5),a=n(220);function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(i,r)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(t){s(a,i,r,o,l,"next",t)}function l(t){s(a,i,r,o,l,"throw",t)}o(void 0)}))}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}function d(t,e,n){return{method:"GET",headers:t,signal:n&&n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function p(t){var e=new Headers;for(var n in t){var i=t[n];"undefined"!==typeof i&&e.append(n,i)}return e}var f=function(){function t(e){c(this,t),this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return h(t,[{key:"getFullReader",value:function(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new g(this),this._fullRequestReader}},{key:"getRangeReader",value:function(t,e){if(e<=this._progressiveDataLength)return null;var n=new m(this,t,e);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);var e=this._rangeRequestReaders.slice(0);e.forEach((function(e){e.cancel(t)}))}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),t}();e.PDFFetchStream=f;var g=function(){function t(e){var n=this;c(this,t),this._stream=e,this._reader=null,this._loaded=0,this._filename=null;var i=e.source;this._withCredentials=i.withCredentials||!1,this._contentLength=i.length,this._headersCapability=(0,r.createPromiseCapability)(),this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!==typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._headers=p(this._stream.httpHeaders);var o=i.url;fetch(o,d(this._headers,this._withCredentials,this._abortController)).then((function(t){if(!(0,a.validateResponseStatus)(t.status))throw(0,a.createResponseStatusError)(t.status,o);n._reader=t.body.getReader(),n._headersCapability.resolve();var e=function(e){return t.headers.get(e)},i=(0,a.validateRangeRequestCapabilities)({getResponseHeader:e,isHttp:n._stream.isHttp,rangeChunkSize:n._rangeChunkSize,disableRange:n._disableRange}),s=i.allowRangeRequests,l=i.suggestedLength;n._isRangeSupported=s,n._contentLength=l||n._contentLength,n._filename=(0,a.extractFilenameFromHeader)(e),!n._isStreamingSupported&&n._isRangeSupported&&n.cancel(new r.AbortException("Streaming is disabled."))}))["catch"](this._headersCapability.reject),this.onProgress=null}return h(t,[{key:"read",value:function(){var t=l(i["default"].mark((function t(){var e,n,r,a;return i["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._headersCapability.promise;case 2:return t.next=4,this._reader.read();case 4:if(e=t.sent,n=e.value,r=e.done,!r){t.next=9;break}return t.abrupt("return",{value:n,done:r});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),a=new Uint8Array(n).buffer,t.abrupt("return",{value:a,done:!1});case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"cancel",value:function(t){this._reader&&this._reader.cancel(t),this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),t}(),m=function(){function t(e,n,i){var o=this;c(this,t),this._stream=e,this._reader=null,this._loaded=0;var s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!s.disableStream,"undefined"!==typeof AbortController&&(this._abortController=new AbortController),this._headers=p(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(n,"-").concat(i-1));var l=s.url;fetch(l,d(this._headers,this._withCredentials,this._abortController)).then((function(t){if(!(0,a.validateResponseStatus)(t.status))throw(0,a.createResponseStatusError)(t.status,l);o._readCapability.resolve(),o._reader=t.body.getReader()}))["catch"]((function(t){if(!t||"AbortError"!==t.name)throw t})),this.onProgress=null}return h(t,[{key:"read",value:function(){var t=l(i["default"].mark((function t(){var e,n,r,a;return i["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._readCapability.promise;case 2:return t.next=4,this._reader.read();case 4:if(e=t.sent,n=e.value,r=e.done,!r){t.next=9;break}return t.abrupt("return",{value:n,done:r});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),a=new Uint8Array(n).buffer,t.abrupt("return",{value:a,done:!1});case 13:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"cancel",value:function(t){this._reader&&this._reader.cancel(t),this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),t}()}])}))}).call(this,__webpack_require__("b639").Buffer,__webpack_require__("4362"),__webpack_require__("c8ba"))},4398:function(t,e,n){},"44adc":function(t,e,n){},"45a7":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAoCAYAAAACJPERAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjUzODMzNzAxQ0UyMTFFQUI5NEZDQzg5NzU3RjhCOTciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjUzODMzNzExQ0UyMTFFQUI5NEZDQzg5NzU3RjhCOTciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyNTM4MzM2RTFDRTIxMUVBQjk0RkNDODk3NTdGOEI5NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyNTM4MzM2RjFDRTIxMUVBQjk0RkNDODk3NTdGOEI5NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpM18EsAAAZPSURBVHjaxFd5TFRHGJ83847dZRGBZVkOoYDCerRWrAceiVa61pPUatp41MbYaq1/NWlitU1MbFKTtmlNNdqk6WFtg38YE2JDQzxii0o9irEgBXQFBBbryrUsC3u86XyPfZvHsguLJO2XfJk38775fvMd880MRylF/zVh9D8QH6tgy5Tca5QjMwd4neA0pOA4r1sQAt6A0eembfEZ9sze5p6sh/YFsejixnLv47T0LtYkYCpz0KccZpPkEW2HMR1Z+trRIBEvpLe1FD81KAN0MTAjfPcmWHx4y7YHlo2r48SsKSnU7UayJDncNXV36r76yeiqb55T2HFjssxhOkik+szWB9OjKgbQSNyQba1wpqbS5uxptPXG3Ra5s5OORoOD3sozm/adgznAVfkLj0bTHXHQnplz7JElnVbYdgZ8ziceGiPJsuw6+/HPx1TgaKAj3OtIS9sfILqP9H6PznirelDKSJNg/InFMmrskzs6hjzn9fZefWnzPWt9ZWFwnIu6ZbJnvcgzltyCMavONEvoPlk2IOhEKZLycNYuihPFSfPPl1IfFuQAR5B9St73I0AZEMcYwGFFONHr2mUmHpJjtehwcjLqH5DHvQ8FgZ97/sAP3xEaQCKVN0SzVAG86ay7DR0xfyrFmZnKD4Pu6erHujeKDMoCZL/hYVr6h9FAuQBCzdBJ2r3Tj3BsYKpbVTerZIyTisDFbA+TbkxuM2/qIIRqReJU5hGdBoOmpXPJWCBjEcE4ne1xBC6uI4ZGFQNCyWstBW9Cxx9AMsGR63K4RepCgMP/MUA8pJwjGozhil0cOQKt08Vgx0HhGQwky7Rd/T6rm/w46imzLLngGLTd+w6IEz1JPG2O27EebUqlMJ87xdHu7gmBtry55xlV5xXROBgOSrXswvznA0QnN1Xd7Y8VIDyDfX19t8y1Vc/Ddx8mx8MxuKyZyyG4JJjJ/PqBbuPBvnaHnwgoyX7fI0iiflxlkNLeh1Nn+OPcXUnQLzTNSITc1HCA17gVSo/M0KkH82X6gG/9H7ZtUtGlUg/BnD5S1kYg18nzjkNr3V2fKnHF/DmtbjV8I9zLMq3/qmA4yG4IvdPrL+NbL7wsOXt99rHQArJ8/beV26+t3VaoAK7YULZncVL+dg3YMPeGyqDqYqiEWIwXqzr+dPCyj2MHM7pq29026/D7tTmpunyMuQwm42WubPX6/NcunCh3zT28511e9iuJ6ccCXWgpTJO9Li/IaVwrh4NqYwtbRqjoc1SYBrrmaC2CBTBBGmA3BMKuMGzpHFQeLTl1idU2Y5oNckoDGlAtxZqYan2vCLCJa/oFw/B0ZwCsnnJgFbThgCwsXpgX1BcIiyeNtk+1wPLvxvS3wbpYCOQux2e+pZ2vTaBIxUFrbUDlD4h46ZE+uTYWUJBj8he188OtjHbZVoFDe2uNIWV9jzTJMxpgl26yB+SCQMMSZ8QJlGDOGfWKGlwYbl++ovPZtsfFRq9rhJAjIRN989pGb05G0r3GB44aTfKMsHIsS1Vrfa+snG8zm3Wf/HXoM+RjlUpL0Hec+BG9WrI6LiVp0vHX1y1epQEcl6WhG5xt6WxTqimhrKSkRMq3ZqFKyYryrv8aEry49ws0e9k0ZE5JQdnZWZzdfq94arbl29rGVtd4H1ChpMrKMO1atGhRfF5uLpIkEc3fuhhVzdukCEELfRgXRQHlMpmlS5bEJybE7Y3k1lhebQoou3asnW61IoHnFcV6nYTyjuxHV4o2Ky30YRz+84Qgq7WAXa/wmmiAMb3aOA4VmM0pSFYu5SJcPVASu7Qt+PoA/EM8LEYQEC8QRHiCkpNNMK1gIk9FyjHNHNv0PA4tggGRoecB6zBPKGBgJWZyPhkSV8neCT2K/+7sfMIKLFYUC8wqcKcoDsUR+jAO/2FBPT09MMc+UdCyxsZGZgXHYkVCVgnBFvowjhWPcKihoQHm/DJR0KOVlZW9TU1NiiUqeIgVsCFBkAFZ9vnlhECPn6r4hzU7Tp8+TVtaWhRr2Hk6tAA8ZB1wc3MzKi0thWzbEZwT/SI+RhlU6Oad+3XznsurrampWcUSSDIYDEiv1yO/34+cTieqrq5G5eXlUAy2MMAzY+6I4CEeE72z1Qb74T14HwW3BWRpQzCGRxigMxY9/wowADAvLnQbQtJgAAAAAElFTkSuQmCC"},"45af":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAoCAYAAADzL6qcAAAACXBIWXMAAAsSAAALEgHS3X78AAACAElEQVRIie3Wv27TUBQG8K/QDK0iQJR2qFSBysCCVB6FR2Bo1dfgEVijZMgjuAOgMtmO06S5bkhKKhWlqmJbsqU0BjsyN/YQh6H3Ihfnj51kKBLfZOtaP51jnXvtldFoNMIS8mAZSCKo2+1qhwf7i0NJ8w9CmUzGv19Q0vyH7hMUBH52KZBlWasA4Dg/uwtBlfJJdm1tHY2vDW8hSFXJxmBAXaUk784NaZ3ONbt8bxgGgiC4mQuqVE4yAJq5fOEDAPfiotWbCzqtVncACOxW/Pzx005qyDLNFqUUEUjQdS07HA5pKoiQ2lMAWi5faHAIAL5fXlqpoGqluh2pBrl8wQFwVC4rjxJDnucZtt0DgOJfS4JKyGYYhrGZGgsppZILwI20xSMCwFW7bSSCZEl6jUhbPLl8oQOgSQjZmgn5vm+ztmIQS1EltY2Z0Lfzc97WJEiglMIyzdZU6Mvx8daUanh7miSJjydCQRDc6LqWBXupUyKwqR8PRfbSxIpYipRS9Pt9cyxETmvPARyx4ZsYNhZaSZYHMSgMw1/1+tl6gmp4hLKivIxBV+22zh9ICIm23YPnecYdSJLEZ7g9e6a2xcPGw62fqfQOpBKyifjemhVBlqRXALAK/DlSdwG8OzzYf5sCesGP4NtPjev09/beNNnikxSQA8D5YdsPV5b1e/wbPYAHiytyDCMAAAAASUVORK5CYII="},"45ee":function(t,e,n){"use strict";n("4d1a")},4625:function(t,e,n){var i=n("c6b6"),r=n("e330");t.exports=function(t){if("Function"===i(t))return r(t)}},"468b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAMFSURBVHja3FdfSFNRGP/m/nh3V9O1WkvbpNIpERs11BY9SOQQGr4l9OBdD7GohMAQJPFJFkIpBBU1gvD6EEgvieshe+ihlFkGG3vxD4Rboiw3r7p778HduD3ExLZr2+6dSR04L/c79/t+5/x+5/u+I+N5HvZylMAejz0HoCj0h56h2bapIFUfW/1h2P690W4MXL5Q8ar5ZGmsEH+yfDXQMzTbNvY+fgnTqNEBo9ZjKpdt2aIUD2iNg8RKnLTVKoJkd/1gUQEQ/Z86Z74pa211ZZ5D+1PwfUO5FTRzMCzjQzSLPe05fcNRjTGSAWQG/xJVCAbOAAFa1eaD8cGGLkkiJN9GrMEZzmarK/MAAEyEIWdwAABcjcP6pkrrefT1piQAj0cTtypOHCYAAOYWUgWJFVfjnsD0cuPkPMJFARidps2IZjFTuQyi1O80YWUKuHfdDH6vBcju43DulLAPTKMmxj5GXKIABMKLZw06OSEktofXTOCoxgBXAZj0CvC6LVBTpRSkYipI1YsCEF1aO8rJy7OC11QpwWLMDuZyGAT9ZOaLfycVY/sOIobNvsZzCymYXU4JUSbox6CTx0QBOG+RfwAAn5Dt9vMoTM6jX1TFOeh/sw4TYeF8cMQgWxJVCwinOTTwchHD1dm3CK1xcPdZJOfxIpolL56pfCdaA412Y4BhGZ8YbhmWAYNOHiOc5pBoAL6OY08QzWJCWshn9+0txmHJ/UBfh7UX0SxZSPDESpx0Nen9uXafF4BWuybiatL7EytxMs+j99lqFUGv2zJS1H6guXPq/vqmSourcc+feEc0SwZfONxFb8nGBxu6cukB0SzZ12Ht3bWe8M6VyoGd9JDmvdWuiewaAMJpDgnpoVDeJdUCr9syYtDJY9upQDSLFdIHSi5G7S3G4TQVDMv4XE16/199FxBOcyhdZBDNYrmOnkpyMirJqagkpy9aOW5vMQ6n2/A8lmsAoFTQwvO86Gm9OjH0+nPSnGvd6kYK28kmqSHJ59pRSa4EAHjJmfC/fZz+HAAjqrhX/dv9EgAAAABJRU5ErkJggg=="},4799:function(t,e,n){"use strict";n.r(e),n.d(e,"Base",(function(){return u})),n.d(e,"Circle",(function(){return d})),n.d(e,"Ellipse",(function(){return g})),n.d(e,"Image",(function(){return y})),n.d(e,"Line",(function(){return S})),n.d(e,"Marker",(function(){return T})),n.d(e,"Path",(function(){return H})),n.d(e,"Polygon",(function(){return X})),n.d(e,"Polyline",(function(){return Z})),n.d(e,"Rect",(function(){return tt})),n.d(e,"Text",(function(){return nt}));var i={};n.r(i),n.d(i,"Base",(function(){return u})),n.d(i,"Circle",(function(){return d})),n.d(i,"Ellipse",(function(){return g})),n.d(i,"Image",(function(){return y})),n.d(i,"Line",(function(){return S})),n.d(i,"Marker",(function(){return T})),n.d(i,"Path",(function(){return H})),n.d(i,"Polygon",(function(){return X})),n.d(i,"Polyline",(function(){return Z})),n.d(i,"Rect",(function(){return tt})),n.d(i,"Text",(function(){return nt}));var r=n("9ab4"),a=n("6855"),o=n("7326"),s=n("f5e5"),l=n("c2ad"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r["__assign"])(Object(r["__assign"])({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return i},e.prototype.getGroupBase=function(){return l["a"]},e.prototype.onCanvasChange=function(t){Object(s["h"])(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=Object(a["getBBoxMethod"])(t),i=n(this),r=e/2,o=i.x-r,s=i.y-r,l=i.x+i.width+r,c=i.y+i.height+r;return{x:o,minX:o,y:s,minY:s,width:i.width+e,height:i.height+e,maxX:l,maxY:c}},e.prototype.isFill=function(){return!!this.attrs["fill"]||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs["stroke"]},e.prototype._applyClip=function(t,e){e&&(t.save(),Object(s["a"])(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.draw=function(t,e){var n=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);var i=this.getCanvasBBox();if(!Object(o["f"])(e,i))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),Object(s["a"])(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var e=this.getCanvasBBox(),n=Object(o["f"])(e,t);this.set("isInView",n),n?this.set("cacheCanvasBBox",e):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,i=e.opacity,r=e.strokeOpacity,a=e.fillOpacity;this.isFill()&&(Object(o["i"])(a)||1===a?this.fill(t):(t.globalAlpha=a,this.fill(t),t.globalAlpha=i)),this.isStroke()&&n>0&&(Object(o["i"])(r)||1===r||(t.globalAlpha=r),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,e){var n=this.isStroke(),i=this.isFill(),r=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,i,r)},e.prototype.isInStrokeOrPath=function(t,e,n,i,r){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t["lineWidth"]+t["lineAppendWidth"]},e}(a["AbstractShape"]),u=c,h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r["__assign"])(Object(r["__assign"])({},e),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,e,n,i,r){var a=this.attr(),s=a.x,l=a.y,c=a.r,u=r/2,h=Object(o["b"])(s,l,t,e);return i&&n?h<=c+u:i?h<=c:!!n&&(h>=c-u&&h<=c+u)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,i=e.y,r=e.r;t.beginPath(),t.arc(n,i,r,0,2*Math.PI,!1),t.closePath()},e}(u),d=h;function p(t,e,n,i){return t/(n*n)+e/(i*i)}var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r["__assign"])(Object(r["__assign"])({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,e,n,i,r){var a=this.attr(),o=r/2,s=a.x,l=a.y,c=a.rx,u=a.ry,h=(t-s)*(t-s),d=(e-l)*(e-l);return i&&n?p(h,d,c+o,u+o)<=1:i?p(h,d,c,u)<=1:!!n&&(p(h,d,c-o,u-o)>=1&&p(h,d,c+o,u+o)<=1)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,i=e.y,r=e.rx,a=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,i,r,a,0,0,2*Math.PI,!1);else{var o=r>a?r:a,s=r>a?1:r/a,l=r>a?a/r:1;t.save(),t.translate(n,i),t.scale(s,l),t.arc(0,0,o,0,2*Math.PI),t.restore(),t.closePath()}},e}(u),g=f;function m(t){return t instanceof HTMLElement&&Object(o["k"])(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r["__assign"])(Object(r["__assign"])({},e),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var e=this,n=this.attrs;if(Object(o["k"])(t)){var i=new Image;i.onload=function(){if(e.destroyed)return!1;e.attr("img",i),e.set("loading",!1),e._afterLoading();var t=e.get("callback");t&&t.call(e)},i.crossOrigin="Anonymous",i.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):m(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(e,n,i){t.prototype.onAttrChange.call(this,e,n,i),"img"===e&&this._setImage(n)},e.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),n=e.x,i=e.y,r=e.width,a=e.height,s=e.sx,l=e.sy,c=e.swidth,u=e.sheight,h=e.img;(h instanceof Image||m(h))&&(Object(o["i"])(s)||Object(o["i"])(l)||Object(o["i"])(c)||Object(o["i"])(u)?t.drawImage(h,n,i,r,a):t.drawImage(h,s,l,c,u,n,i,r,a))},e}(u),y=v,b=n("1183");function x(t,e,n,i,r,a,o){var s=Math.min(t,n),l=Math.max(t,n),c=Math.min(e,i),u=Math.max(e,i),h=r/2;return a>=s-h&&a<=l+h&&o>=c-h&&o<=u+h&&b["c"].pointToLine(t,e,n,i,a,o)<=r/2}var _=n("9f27"),w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r["__assign"])(Object(r["__assign"])({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,i){t.prototype.onAttrChange.call(this,e,n,i),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,i=t.x2,r=t.y2,a=t.startArrow,o=t.endArrow;a&&_["b"](this,t,i,r,e,n),o&&_["a"](this,t,e,n,i,r)},e.prototype.isInStrokeOrPath=function(t,e,n,i,r){if(!n||!r)return!1;var a=this.attr(),o=a.x1,s=a.y1,l=a.x2,c=a.y2;return x(o,s,l,c,r,t,e)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x1,i=e.y1,r=e.x2,a=e.y2,o=e.startArrow,s=e.endArrow,l={dx:0,dy:0},c={dx:0,dy:0};o&&o.d&&(l=_["c"](n,i,r,a,e.startArrow.d)),s&&s.d&&(c=_["c"](n,i,r,a,e.endArrow.d)),t.beginPath(),t.moveTo(n+l.dx,i+l.dy),t.lineTo(r-c.dx,a-c.dy)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,i=t.x2,r=t.y2;return b["c"].length(e,n,i,r)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,i=e.y1,r=e.x2,a=e.y2;return b["c"].pointAt(n,i,r,a,t)},e}(u),S=w,O=n("8937"),C=n("2ef1"),A={circle:function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var i=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+i],["L",t,e-i],["L",t+n,e+i],["Z"]]},"triangle-down":function(t,e,n){var i=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-i],["L",t+n,e-i],["L",t,e+i],["Z"]]}},M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(e,n,i){t.prototype.onAttrChange.call(this,e,n,i),-1!==["symbol","x","y","r","radius"].indexOf(e)&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return Object(O["isNil"])(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t,n,i=this.attr(),r=i.x,a=i.y,s=i.symbol||"circle",l=this._getR(i);if(Object(o["h"])(s))t=s,n=t(r,a,l),n=Object(C["path2Absolute"])(n);else{if(t=e.Symbols[s],!t)return null;n=t(r,a,l)}return n},e.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");Object(s["e"])(this,t,{path:e},n)},e.Symbols=A,e}(u),T=M;function k(t,e,n){var i=Object(a["getOffScreenContext"])();return t.createPath(i),i.isPointInPath(e,n)}var L=1e-6;function j(t){return Math.abs(t)<L?0:t<0?-1:1}function I(t,e,n){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function E(t,e,n){var i=!1,r=t.length;if(r<=2)return!1;for(var a=0;a<r;a++){var o=t[a],s=t[(a+1)%r];if(I(o,s,[e,n]))return!0;j(o[1]-n)>0!==j(s[1]-n)>0&&j(e-(n-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(i=!i)}return i}var P=n("e897"),R=n("9fe7");function D(t,e,n,i,r,a,s,l){var c=(Math.atan2(l-e,s-t)+2*Math.PI)%(2*Math.PI);if(c<i||c>r)return!1;var u={x:t+n*Math.cos(c),y:e+n*Math.sin(c)};return Object(o["b"])(u.x,u.y,s,l)<=a/2}var F=P["ext"].transform;function N(t){for(var e=!1,n=t.length,i=0;i<n;i++){var r=t[i],a=r[0];if("C"===a||"A"===a||"Q"===a){e=!0;break}}return e}function B(t,e,n,i,r){for(var a=!1,s=e/2,l=0;l<t.length;l++){var c=t[l],u=c.currentPoint,h=c.params,d=c.prePoint,p=c.box;if(!p||Object(o["e"])(p.x-s,p.y-s,p.width+e,p.height+e,n,i)){switch(c.command){case"L":case"Z":a=x(d[0],d[1],u[0],u[1],e,n,i);break;case"Q":var f=b["e"].pointDistance(d[0],d[1],h[1],h[2],h[3],h[4],n,i);a=f<=e/2;break;case"C":var g=b["b"].pointDistance(d[0],d[1],h[1],h[2],h[3],h[4],h[5],h[6],n,i,r);a=g<=e/2;break;case"A":var m=c.arcParams,v=m.cx,y=m.cy,_=m.rx,w=m.ry,S=m.startAngle,O=m.endAngle,C=m.xRotation,A=[n,i,1],M=_>w?_:w,T=_>w?1:_/w,k=_>w?w/_:1,L=F(null,[["t",-v,-y],["r",-C],["s",1/T,1/k]]);R["transformMat3"](A,A,L),a=D(0,0,M,S,O,e,A[0],A[1]);break;default:break}if(a)break}}return a}function V(t){for(var e=t.length,n=[],i=[],r=[],a=0;a<e;a++){var o=t[a],s=o[0];"M"===s?(r.length&&(i.push(r),r=[]),r.push([o[1],o[2]])):"Z"===s?r.length&&(n.push(r),r=[]):r.push([o[1],o[2]])}return r.length>0&&i.push(r),{polygons:n,polylines:i}}var G=Object(r["__assign"])({hasArc:N,extractPolygons:V,isPointInStroke:B},a["PathUtil"]);function z(t,e,n){for(var i=!1,r=0;r<t.length;r++){var a=t[r];if(i=E(a,e,n),i)break}return i}var U=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r["__assign"])(Object(r["__assign"])({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(e,n,i){t.prototype.onAttrChange.call(this,e,n,i),"path"===e&&this._setPathArr(n),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=Object(C["path2Absolute"])(t);var e=G.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=Object(C["path2Segments"])(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,n=t.endArrow;if(e){var i=this.getStartTangent();_["b"](this,t,i[0][0],i[0][1],i[1][0],i[1][1])}if(n){i=this.getEndTangent();_["a"](this,t,i[0][0],i[0][1],i[1][0],i[1][1])}},e.prototype.isInStrokeOrPath=function(t,e,n,i,r){var a=this.getSegments(),o=this.get("hasArc"),s=!1;if(n){var l=this.getTotalLength();s=G.isPointInStroke(a,r,t,e,l)}if(!s&&i)if(o)s=k(this,t,e);else{var c=this.attr("path"),u=G.extractPolygons(c);s=z(u.polygons,t,e)||z(u.polylines,t,e)}return s},e.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");Object(s["e"])(this,t,e,n)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return Object(O["isNil"])(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var e,n,i=this.get("tCache");i||(this._calculateCurve(),this._setTcache(),i=this.get("tCache"));var r=this.get("curve");if(!i||0===i.length)return r?{x:r[0][1],y:r[0][2]}:null;Object(O["each"])(i,(function(i,r){t>=i[0]&&t<=i[1]&&(e=(t-i[0])/(i[1]-i[0]),n=r)}));var a=r[n];if(Object(O["isNil"])(a)||Object(O["isNil"])(n))return null;var o=a.length,s=r[n+1];return b["b"].pointAt(a[o-2],a[o-1],s[1],s[2],s[3],s[4],s[5],s[6],e)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",G.pathToCurve(t))},e.prototype._setTcache=function(){var t,e,n,i,r=0,a=0,o=[],s=this.get("curve");s&&(Object(O["each"])(s,(function(t,e){n=s[e+1],i=t.length,n&&(r+=b["b"].length(t[i-2],t[i-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)})),this.set("totalLength",r),0!==r?(Object(O["each"])(s,(function(l,c){n=s[c+1],i=l.length,n&&(t=[],t[0]=a/r,e=b["b"].length(l[i-2],l[i-1],n[1],n[2],n[3],n[4],n[5],n[6]),a+=e||0,t[1]=a/r,o.push(t))})),this.set("tCache",o)):this.set("tCache",[]))},e.prototype.getStartTangent=function(){var t,e=this.getSegments();if(e.length>1){var n=e[0].currentPoint,i=e[1].currentPoint,r=e[1].startTangent;t=[],r?(t.push([n[0]-r[0],n[1]-r[1]]),t.push([n[0],n[1]])):(t.push([i[0],i[1]]),t.push([n[0],n[1]]))}return t},e.prototype.getEndTangent=function(){var t,e=this.getSegments(),n=e.length;if(n>1){var i=e[n-2].currentPoint,r=e[n-1].currentPoint,a=e[n-1].endTangent;t=[],a?(t.push([r[0]-a[0],r[1]-a[1]]),t.push([r[0],r[1]])):(t.push([i[0],i[1]]),t.push([r[0],r[1]]))}return t},e}(u),H=U;function W(t,e,n,i,r){var a=t.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=t[o][0],l=t[o][1],c=t[o+1][0],u=t[o+1][1];if(x(s,l,c,u,e,n,i))return!0}if(r){var h=t[0],d=t[a-1];if(x(h[0],h[1],d[0],d[1],e,n,i))return!0}return!1}var Y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.isInStrokeOrPath=function(t,e,n,i,r){var a=this.attr().points,o=!1;return n&&(o=W(a,r,t,e,!0)),!o&&i&&(o=E(a,t,e)),o},e.prototype.createPath=function(t){var e=this.attr(),n=e.points;if(!(n.length<2)){t.beginPath();for(var i=0;i<n.length;i++){var r=n[i];0===i?t.moveTo(r[0],r[1]):t.lineTo(r[0],r[1])}t.closePath()}},e}(u),X=Y,q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r["__assign"])(Object(r["__assign"])({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,i){t.prototype.onAttrChange.call(this,e,n,i),this.setArrow(),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,i=e.startArrow,r=e.endArrow,a=n.length,o=n[0][0],s=n[0][1],l=n[a-1][0],c=n[a-1][1];i&&_["b"](this,t,n[1][0],n[1][1],o,s),r&&_["a"](this,t,n[a-2][0],n[a-2][1],l,c)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,e,n,i,r){if(!n||!r)return!1;var a=this.attr().points;return W(a,r,t,e,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var e=this.attr(),n=e.points,i=e.startArrow,r=e.endArrow,a=n.length;if(!(n.length<2)){var o=n[0][0],s=n[0][1],l=n[a-1][0],c=n[a-1][1];if(i&&i.d){var u=_["c"](o,s,n[1][0],n[1][1],i.d);o+=u.dx,s+=u.dy}if(r&&r.d){u=_["c"](n[a-2][0],n[a-2][1],l,c,r.d);l-=u.dx,c-=u.dy}t.beginPath(),t.moveTo(o,s);for(var h=0;h<a-1;h++){var d=n[h];t.lineTo(d[0],d[1])}t.lineTo(l,c)}},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Object(O["isNil"])(e)?(this.set("totalLength",b["d"].length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,i=this.attr().points,r=this.get("tCache");return r||(this._setTcache(),r=this.get("tCache")),Object(O["each"])(r,(function(i,r){t>=i[0]&&t<=i[1]&&(e=(t-i[0])/(i[1]-i[0]),n=r)})),b["c"].pointAt(i[n][0],i[n][1],i[n+1][0],i[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,i,r=0,a=[];Object(O["each"])(t,(function(o,s){t[s+1]&&(n=[],n[0]=r/e,i=b["c"].length(o[0],o[1],t[s+1][0],t[s+1][1]),r+=i,n[1]=r/e,a.push(n))})),this.set("tCache",a)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(u),Z=q,Q=n("af40");function J(t,e,n,i,r,a,s){var l=r/2;return Object(o["e"])(t-l,e-l,n,r,a,s)||Object(o["e"])(t+n-l,e-l,r,i,a,s)||Object(o["e"])(t+l,e+i-l,n,r,a,s)||Object(o["e"])(t-l,e+l,r,i,a,s)}function K(t,e,n,i,r,a,o,s){return x(t+r,e,t+n-r,e,a,o,s)||x(t+n,e+r,t+n,e+i-r,a,o,s)||x(t+n-r,e+i,t+r,e+i,a,o,s)||x(t,e+i-r,t,e+r,a,o,s)||D(t+n-r,e+r,r,1.5*Math.PI,2*Math.PI,a,o,s)||D(t+n-r,e+i-r,r,0,.5*Math.PI,a,o,s)||D(t+r,e+i-r,r,.5*Math.PI,Math.PI,a,o,s)||D(t+r,e+r,r,Math.PI,1.5*Math.PI,a,o,s)}var $=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r["__assign"])(Object(r["__assign"])({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,e,n,i,r){var a=this.attr(),s=a.x,l=a.y,c=a.width,u=a.height,h=a.radius;if(h){var d=!1;return n&&(d=K(s,l,c,u,h,r,t,e)),!d&&i&&(d=k(this,t,e)),d}var p=r/2;return i&&n?Object(o["e"])(s-p,l-p,c+p,u+p,t,e):i?Object(o["e"])(s,l,c,u,t,e):n?J(s,l,c,u,r,t,e):void 0},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,i=e.y,r=e.width,a=e.height,o=e.radius;if(t.beginPath(),0===o)t.rect(n,i,r,a);else{var s=Object(Q["a"])(o),l=s[0],c=s[1],u=s[2],h=s[3];t.moveTo(n+l,i),t.lineTo(n+r-c,i),0!==c&&t.arc(n+r-c,i+c,c,-Math.PI/2,0),t.lineTo(n+r,i+a-u),0!==u&&t.arc(n+r-u,i+a-u,u,0,Math.PI/2),t.lineTo(n+h,i+a),0!==h&&t.arc(n+h,i+a-h,h,Math.PI/2,Math.PI),t.lineTo(n,i+l),0!==l&&t.arc(n+l,i+l,l,Math.PI,1.5*Math.PI),t.closePath()}},e}(u),tt=$,et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r["__assign"])(Object(r["__assign"])({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=Object(a["assembleFont"])(t)},e.prototype._setText=function(t){var e=null;Object(o["k"])(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},e.prototype.onAttrChange=function(e,n,i){t.prototype.onAttrChange.call(this,e,n,i),e.startsWith("font")&&this._assembleFont(),"text"===e&&this._setText(n)},e.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},e.prototype._drawTextArr=function(t,e,n){var i,r=this.attrs,s=r.textBaseline,l=r.x,c=r.y,u=1*r.fontSize,h=this._getSpaceingY(),d=Object(a["getTextHeight"])(r.text,r.fontSize,r.lineHeight);Object(o["c"])(e,(function(e,r){i=c+r*(h+u)-d+u,"middle"===s&&(i+=d-u-(d-u)/2),"top"===s&&(i+=d-u),Object(o["i"])(e)||(n?t.fillText(e,l,i):t.strokeText(e,l,i))}))},e.prototype._drawText=function(t,e){var n=this.attr(),i=n.x,r=n.y,a=this.get("textArr");if(a)this._drawTextArr(t,a,e);else{var s=n.text;Object(o["i"])(s)||(e?t.fillText(s,i,r):t.strokeText(s,i,r))}},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,i=e.opacity,r=e.strokeOpacity,a=e.fillOpacity;this.isStroke()&&n>0&&(Object(o["i"])(r)||1===r||(t.globalAlpha=i),this.stroke(t)),this.isFill()&&(Object(o["i"])(a)||1===a?this.fill(t):(t.globalAlpha=a,this.fill(t),t.globalAlpha=i)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(u),nt=et},"47e4":function(t,e,n){"use strict";n("14d9");var i=n("7a09"),r=n("9abc"),a=n("9769"),o=n("0af5"),s=n("abb7"),l=n("1c48"),c=n("9f5e"),u=n("bb6c"),h=n("b1a2"),d=n("c560");class p extends r["a"]{constructor(t,e,n){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(t[0]))this.setCoordinates(t,e);else if(void 0!==e&&n)this.setFlatCoordinates(e,t),this.ends_=n;else{let e=this.getLayout();const n=t,i=[],r=[];for(let t=0,a=n.length;t<a;++t){const a=n[t];0===t&&(e=a.getLayout()),Object(c["e"])(i,a.getFlatCoordinates()),r.push(i.length)}this.setFlatCoordinates(e,i),this.ends_=r}}appendLineString(t){this.flatCoordinates?Object(c["e"])(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new p(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,n,i){return i<Object(o["f"])(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(a["a"])(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(a["b"])(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,i))}getCoordinateAtM(t,e,n){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?null:(e=void 0!==e&&e,n=void 0!==n&&n,Object(h["c"])(this.flatCoordinates,0,this.ends_,this.stride,t,e,n))}getCoordinates(){return Object(u["b"])(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(t){return t<0||this.ends_.length<=t?null:new i["a"](this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLineStrings(){const t=this.flatCoordinates,e=this.ends_,n=this.layout,r=[];let a=0;for(let o=0,s=e.length;o<s;++o){const s=e[o],l=new i["a"](t.slice(a,s),n);r.push(l),a=s}return r}getFlatMidpoints(){const t=[],e=this.flatCoordinates;let n=0;const i=this.ends_,r=this.stride;for(let a=0,o=i.length;a<o;++a){const o=i[a],s=Object(h["a"])(e,n,o,r,.5);Object(c["e"])(t,s),n=o}return t}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=Object(l["b"])(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,n),new p(e,"XY",n)}getType(){return"MultiLineString"}intersectsExtent(t){return Object(d["b"])(this.flatCoordinates,0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=Object(s["c"])(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}e["a"]=p},"4a07":function(t,e,n){"use strict";n("803f")},"4a73":function(t,e,n){"use strict";n("227e")},"4b11":function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},"4b71":function(t,e,n){},"4d1a":function(t,e,n){},"4e2b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAACXBIWXMAAAsSAAALEgHS3X78AAAAiUlEQVRIie2XvQ7DIAwGz4UN3ql5dPJOHhORiaVDYqkmVRXfxGBx+rD4k62UjoGkKlc1e62muV6WIm9kJLUk+ZaxEj9JGtKQupCB9UbfCiC9mw4RV57T05CG9H+lspXSAJLqMls2LvEMvGfLPnlOT0M6lTwGe63LWWFSbV5Scf5WNAxb8O7nCgAH4/giATnwv+UAAAAASUVORK5CYII="},"4ea1":function(t,e,n){"use strict";var i=n("d429"),r=n("ebb5"),a=n("bcbf"),o=n("5926"),s=n("f495"),l=r.aTypedArray,c=r.getTypedArrayConstructor,u=r.exportTypedArrayMethod,h=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();u("with",{with:function(t,e){var n=l(this),r=o(t),u=a(n)?s(e):+e;return i(n,c(n),r,u)}}["with"],!h)},"4ec8":function(t,e,n){"use strict";n("c78d")},"4f93":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAkCAYAAABrLwHZAAAACXBIWXMAAAsSAAALEgHS3X78AAACA0lEQVRIie2VX2/SUBjGf/5J5rAXkpB4oXyXfRJ3o/EzEbjoRyib16OK08TJCpEJmNkI1YxkLXQJaaPUHC9o2YF2LR279EmanLQnv/d93tM+RQixJ1Jk25fioF4Xg34/bZsQQoj7ZMixHd4cHjAYDLK2kgnLo0zY83IZgG930VmhUNikqc1gefQftqrZbHZ3MNed/t4a1jYMAObzebA1rNl8Z4Wwx5ZlbQfr93qlaN04OrJvDWsbBkEQ7AJ1gNPW5we3hhmG8StcqkDd9/1imtVUWKdtRB+mHl6cdbvT3DDLsvB9vwjUK9WaC2gAut74mxsmDVsDqFRrP4DOdDIpOU7yOdwIO+t+iTrQpNsqwMmnk0SriTDHsXFd9ynwNrQYSQP4+OHY2xgmVZa7iqwOx+PxM8+L8xJh0pC1hMcawGmr5WfCHMdmOpmUgE7YybpUgOP3zdgpxGC9r72ooprUdaVaawND0zTL61ZjMKmingQLpUH8j7UC8zwP0zTLwDDs4CbpcJ0oiTBpqEmDX6pSrWnAlZwoMZhkUU2DRQWDINiNwjMGG41GJbItLmGwanUJk7JL3wAUWeX7+bkSg0kVUue1ppWMW8LCYV5FFTeUBtcJ8xAW70to8c/rVy/1HLAnsIjzF/v7C9h4fOEoivJT3pBDnZ2dR4rnecV7Qog9oJETkKh/T7RS5QbFmzMAAAAASUVORK5CYII="},5:function(t,e){},5235:function(t,e,n){"use strict";n("3747")},"53b5":function(t,e,n){"use strict";n("d2e1")},"53c8":function(t,e,n){"use strict";n.r(e),n.d(e,"version",(function(){return c}));var i=n("4799");n.d(e,"Shape",(function(){return i}));var r=n("6855");for(var a in r)["default","Canvas","Group","Shape","getArcParams","version"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(a);var o=n("b182");n.d(e,"Canvas",(function(){return o["a"]}));var s=n("c2ad");n.d(e,"Group",(function(){return s["a"]}));var l=n("9c29");n.d(e,"getArcParams",(function(){return l["a"]}));var c="0.5.12"},"5406d":function(t,e,n){},"54ca":function(t,e,n){"use strict";n.d(e,"a",(function(){return J})),n.d(e,"b",(function(){return K}));var i={};function r(t){return+t}function a(t){return t*t}function o(t){return t*(2-t)}function s(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function l(t){return t*t*t}function c(t){return--t*t*t+1}function u(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}n.r(i),n.d(i,"easeLinear",(function(){return r})),n.d(i,"easeQuad",(function(){return s})),n.d(i,"easeQuadIn",(function(){return a})),n.d(i,"easeQuadOut",(function(){return o})),n.d(i,"easeQuadInOut",(function(){return s})),n.d(i,"easeCubic",(function(){return u})),n.d(i,"easeCubicIn",(function(){return l})),n.d(i,"easeCubicOut",(function(){return c})),n.d(i,"easeCubicInOut",(function(){return u})),n.d(i,"easePoly",(function(){return f})),n.d(i,"easePolyIn",(function(){return d})),n.d(i,"easePolyOut",(function(){return p})),n.d(i,"easePolyInOut",(function(){return f})),n.d(i,"easeSin",(function(){return b})),n.d(i,"easeSinIn",(function(){return v})),n.d(i,"easeSinOut",(function(){return y})),n.d(i,"easeSinInOut",(function(){return b})),n.d(i,"easeExp",(function(){return S})),n.d(i,"easeExpIn",(function(){return _})),n.d(i,"easeExpOut",(function(){return w})),n.d(i,"easeExpInOut",(function(){return S})),n.d(i,"easeCircle",(function(){return A})),n.d(i,"easeCircleIn",(function(){return O})),n.d(i,"easeCircleOut",(function(){return C})),n.d(i,"easeCircleInOut",(function(){return A})),n.d(i,"easeBounce",(function(){return N})),n.d(i,"easeBounceIn",(function(){return F})),n.d(i,"easeBounceOut",(function(){return N})),n.d(i,"easeBounceInOut",(function(){return B})),n.d(i,"easeBack",(function(){return U})),n.d(i,"easeBackIn",(function(){return G})),n.d(i,"easeBackOut",(function(){return z})),n.d(i,"easeBackInOut",(function(){return U})),n.d(i,"easeElastic",(function(){return q})),n.d(i,"easeElasticIn",(function(){return X})),n.d(i,"easeElasticOut",(function(){return q})),n.d(i,"easeElasticInOut",(function(){return Z}));var h=3,d=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(h),p=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(h),f=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(h),g=Math.PI,m=g/2;function v(t){return 1===+t?1:1-Math.cos(t*m)}function y(t){return Math.sin(t*m)}function b(t){return(1-Math.cos(g*t))/2}function x(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function _(t){return x(1-+t)}function w(t){return 1-x(t)}function S(t){return((t*=2)<=1?x(1-t):2-x(t-1))/2}function O(t){return 1-Math.sqrt(1-t*t)}function C(t){return Math.sqrt(1- --t*t)}function A(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var M=4/11,T=6/11,k=8/11,L=3/4,j=9/11,I=10/11,E=15/16,P=21/22,R=63/64,D=1/M/M;function F(t){return 1-N(1-t)}function N(t){return(t=+t)<M?D*t*t:t<k?D*(t-=T)*t+L:t<I?D*(t-=j)*t+E:D*(t-=P)*t+R}function B(t){return((t*=2)<=1?1-N(1-t):N(t-1)+1)/2}var V=1.70158,G=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(V),z=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(V),U=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(V),H=2*Math.PI,W=1,Y=.3,X=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=H);function r(t){return e*x(- --t)*Math.sin((i-t)/n)}return r.amplitude=function(e){return t(e,n*H)},r.period=function(n){return t(e,n)},r}(W,Y),q=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=H);function r(t){return 1-e*x(t=+t)*Math.sin((t+i)/n)}return r.amplitude=function(e){return t(e,n*H)},r.period=function(n){return t(e,n)},r}(W,Y),Z=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=H);function r(t){return((t=2*t-1)<0?e*x(-t)*Math.sin((i-t)/n):2-e*x(t)*Math.sin((i+t)/n))/2}return r.amplitude=function(e){return t(e,n*H)},r.period=function(n){return t(e,n)},r}(W,Y),Q={};function J(t){return Q[t.toLowerCase()]||i[t]}function K(t,e){Q[t.toLowerCase()]=e}},5664:function(t,e,n){"use strict";function i(t,e,n){n=n||2;var i,a,s,l,c,u,d,p=e&&e.length,f=p?e[0]*n:t.length,g=r(t,0,f,n,!0),m=[];if(!g||g.next===g.prev)return m;if(p&&(g=h(t,e,g,n)),t.length>80*n){i=s=t[0],a=l=t[1];for(var v=n;v<f;v+=n)c=t[v],u=t[v+1],c<i&&(i=c),u<a&&(a=u),c>s&&(s=c),u>l&&(l=u);d=Math.max(s-i,l-a),d=0!==d?32767/d:0}return o(g,m,n,i,a,d,0),m}function r(t,e,n,i,r){var a,o;if(r===P(t,e,n,i)>0)for(a=e;a<n;a+=i)o=j(a,t[a],t[a+1],o);else for(a=n-i;a>=e;a-=i)o=j(a,t[a],t[a+1],o);return o&&S(o,o.next)&&(I(o),o=o.next),o}function a(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!S(i,i.next)&&0!==w(i.prev,i,i.next))i=i.next;else{if(I(i),i=e=i.prev,i===i.next)break;n=!0}}while(n||i!==e);return e}function o(t,e,n,i,r,h,d){if(t){!d&&h&&m(t,i,r,h);var p,f,g=t;while(t.prev!==t.next)if(p=t.prev,f=t.next,h?l(t,i,r,h):s(t))e.push(p.i/n|0),e.push(t.i/n|0),e.push(f.i/n|0),I(t),t=f.next,g=f.next;else if(t=f,t===g){d?1===d?(t=c(a(t),e,n),o(t,e,n,i,r,h,2)):2===d&&u(t,e,n,i,r,h):o(a(t),e,n,i,r,h,1);break}}}function s(t){var e=t.prev,n=t,i=t.next;if(w(e,n,i)>=0)return!1;var r=e.x,a=n.x,o=i.x,s=e.y,l=n.y,c=i.y,u=r<a?r<o?r:o:a<o?a:o,h=s<l?s<c?s:c:l<c?l:c,d=r>a?r>o?r:o:a>o?a:o,p=s>l?s>c?s:c:l>c?l:c,f=i.next;while(f!==e){if(f.x>=u&&f.x<=d&&f.y>=h&&f.y<=p&&x(r,s,a,l,o,c,f.x,f.y)&&w(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function l(t,e,n,i){var r=t.prev,a=t,o=t.next;if(w(r,a,o)>=0)return!1;var s=r.x,l=a.x,c=o.x,u=r.y,h=a.y,d=o.y,p=s<l?s<c?s:c:l<c?l:c,f=u<h?u<d?u:d:h<d?h:d,g=s>l?s>c?s:c:l>c?l:c,m=u>h?u>d?u:d:h>d?h:d,v=y(p,f,e,n,i),b=y(g,m,e,n,i),_=t.prevZ,S=t.nextZ;while(_&&_.z>=v&&S&&S.z<=b){if(_.x>=p&&_.x<=g&&_.y>=f&&_.y<=m&&_!==r&&_!==o&&x(s,u,l,h,c,d,_.x,_.y)&&w(_.prev,_,_.next)>=0)return!1;if(_=_.prevZ,S.x>=p&&S.x<=g&&S.y>=f&&S.y<=m&&S!==r&&S!==o&&x(s,u,l,h,c,d,S.x,S.y)&&w(S.prev,S,S.next)>=0)return!1;S=S.nextZ}while(_&&_.z>=v){if(_.x>=p&&_.x<=g&&_.y>=f&&_.y<=m&&_!==r&&_!==o&&x(s,u,l,h,c,d,_.x,_.y)&&w(_.prev,_,_.next)>=0)return!1;_=_.prevZ}while(S&&S.z<=b){if(S.x>=p&&S.x<=g&&S.y>=f&&S.y<=m&&S!==r&&S!==o&&x(s,u,l,h,c,d,S.x,S.y)&&w(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function c(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;!S(r,o)&&O(r,i,i.next,o)&&T(r,o)&&T(o,r)&&(e.push(r.i/n|0),e.push(i.i/n|0),e.push(o.i/n|0),I(i),I(i.next),i=t=o),i=i.next}while(i!==t);return a(i)}function u(t,e,n,i,r,s){var l=t;do{var c=l.next.next;while(c!==l.prev){if(l.i!==c.i&&_(l,c)){var u=L(l,c);return l=a(l,l.next),u=a(u,u.next),o(l,e,n,i,r,s,0),void o(u,e,n,i,r,s,0)}c=c.next}l=l.next}while(l!==t)}function h(t,e,n,i){var a,o,s,l,c,u=[];for(a=0,o=e.length;a<o;a++)s=e[a]*i,l=a<o-1?e[a+1]*i:t.length,c=r(t,s,l,i,!1),c===c.next&&(c.steiner=!0),u.push(b(c));for(u.sort(d),a=0;a<u.length;a++)n=p(u[a],n);return n}function d(t,e){return t.x-e.x}function p(t,e){var n=f(t,e);if(!n)return e;var i=L(n,t);return a(i,i.next),a(n,n.next)}function f(t,e){var n,i=e,r=t.x,a=t.y,o=-1/0;do{if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){var s=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>o&&(o=s,n=i.x<i.next.x?i:i.next,s===r))return n}i=i.next}while(i!==e);if(!n)return null;var l,c=n,u=n.x,h=n.y,d=1/0;i=n;do{r>=i.x&&i.x>=u&&r!==i.x&&x(a<h?r:o,a,u,h,a<h?o:r,a,i.x,i.y)&&(l=Math.abs(a-i.y)/(r-i.x),T(i,t)&&(l<d||l===d&&(i.x>n.x||i.x===n.x&&g(n,i)))&&(n=i,d=l)),i=i.next}while(i!==c);return n}function g(t,e){return w(t.prev,t,e.prev)<0&&w(e.next,t,t.next)<0}function m(t,e,n,i){var r=t;do{0===r.z&&(r.z=y(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,v(r)}function v(t){var e,n,i,r,a,o,s,l,c=1;do{n=t,t=null,a=null,o=0;while(n){for(o++,i=n,s=0,e=0;e<c;e++)if(s++,i=i.nextZ,!i)break;l=c;while(s>0||l>0&&i)0!==s&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),a?a.nextZ=r:t=r,r.prevZ=a,a=r;n=i}a.nextZ=null,c*=2}while(o>1);return t}function y(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function b(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function x(t,e,n,i,r,a,o,s){return(r-o)*(e-s)>=(t-o)*(a-s)&&(t-o)*(i-s)>=(n-o)*(e-s)&&(n-o)*(a-s)>=(r-o)*(i-s)}function _(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!M(t,e)&&(T(t,e)&&T(e,t)&&k(t,e)&&(w(t.prev,t,e.prev)||w(t,e.prev,e))||S(t,e)&&w(t.prev,t,t.next)>0&&w(e.prev,e,e.next)>0)}function w(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function S(t,e){return t.x===e.x&&t.y===e.y}function O(t,e,n,i){var r=A(w(t,e,n)),a=A(w(t,e,i)),o=A(w(n,i,t)),s=A(w(n,i,e));return r!==a&&o!==s||(!(0!==r||!C(t,n,e))||(!(0!==a||!C(t,i,e))||(!(0!==o||!C(n,t,i))||!(0!==s||!C(n,e,i)))))}function C(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function A(t){return t>0?1:t<0?-1:0}function M(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&O(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function T(t,e){return w(t.prev,t,t.next)<0?w(t,e,t.next)>=0&&w(t,t.prev,e)>=0:w(t,e,t.prev)<0||w(t,t.next,e)<0}function k(t,e){var n=t,i=!1,r=(t.x+e.x)/2,a=(t.y+e.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}function L(t,e){var n=new E(t.i,t.x,t.y),i=new E(e.i,e.x,e.y),r=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function j(t,e,n,i){var r=new E(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function I(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function E(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P(t,e,n,i){for(var r=0,a=e,o=n-i;a<n;a+=i)r+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return r}t.exports=i,t.exports.default=i,i.deviation=function(t,e,n,i){var r=e&&e.length,a=r?e[0]*n:t.length,o=Math.abs(P(t,0,a,n));if(r)for(var s=0,l=e.length;s<l;s++){var c=e[s]*n,u=s<l-1?e[s+1]*n:t.length;o-=Math.abs(P(t,c,u,n))}var h=0;for(s=0;s<i.length;s+=3){var d=i[s]*n,p=i[s+1]*n,f=i[s+2]*n;h+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===o&&0===h?0:Math.abs((h-o)/o)},i.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var a=0;a<t[r].length;a++)for(var o=0;o<e;o++)n.vertices.push(t[r][a][o]);r>0&&(i+=t[r-1].length,n.holes.push(i))}return n}},"56aa":function(t,e,n){t.exports=n.p+"img/SeaLayer.7665c26f.png"},"56d9":function(t,e,n){"use strict";n("19ec")},"577f":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAABHNCSVQICAgIfAhkiAAAAlhJREFUOE+dVM9rE0EUfm8a2WPWv8A9WzEbiicpTf6CpleLtVsq/oJiEMRoSkarWA+SVKkWFLetqHhKPIs0+AMvaraKFE9d/4PmpmF3nm9SEtOya1P3Mvtm5vvme+97Mwj/+IpXXmfCEEqIkAECjxDqRitxXVayW3EwjFuYvfpmkknc3esI6AkDs1JGk0YSSrlmQgCbiGgS0bpAWFYENsenOAYUsFC6kb0YJSaScE6+yyDQGrBEBJW+JrOeBs/Jtx4DUjzvFeVIum/C27c+TIJSLisCVpQtzA7XNXj+5nuP4xSf0iwUh82+CcuccmAYPgOSBOAz7TIh2kiQ0yQEtHC5cLz/lDXo7p2PEgWWWCIAK+2MHDbFAcPK59ORTse6XC43TKFaHpMd6k0NCfMzl45V9t02GvDg/qecUlTlVuE0AQTi+vmZIXvx3meuMY3ydL2lBlZ61cYq7ChYWvxSYzYNbgrATAgqxyp1s//kQ1g91c5eGBrr7N+T0HUbZvgbfUKSp8+kK4+XPG4hTBGoVwhilA2ChEEHHWe7pqgBFAyMcFp220FU/tR0aqW3Ru7DhuWcS2vXwX30ta7T5/1J3m3zDzjTR7vCcPXJ9zrLt9g9Xy/qYk1MDWbiiv7U/cZrosbKktu1pfyEc6RrEj5f3eDrQGMnTh6uxZHsnn/hbliQAEsJtTU+Pti+Rd0avnz2Q/JBpfYd3dFv+4+FEE4792p10wx+Be0a/u/HD4jNz1tph8tMbEEYltk9k13kV0UAKR6Bxz1jMrlPdY5/P600ARB5R/tRHgBU/gCLoAclTJaLtgAAAABJRU5ErkJggg=="},"58f5":function(t,e,n){"use strict";n("19de")},"597e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAF9JREFUSEvtljEKwDAMA6WftS9Pf6YQusShJR5quijzEdnCwiaKH4v/x6OApAbgmMQvkudcTIYZ/JuA1s5IBlbSlrGALYpz5CkKfmRClGEcNAfNQbsd+GdlfnkIlF8VHRxFpBlrI8k9AAAAAElFTkSuQmCC"},"59b0":function(t,e){},"5b3a":function(t,e,n){},"5d0f":function(t,e,n){},"5e87":function(t,e,n){},"5fb1":function(t,e,n){},"5ff4":function(t,e,n){},6:function(t,e){},"6042e":function(t,e,n){},"612f":function(t,e,n){},"61f4":function(t,e,n){},"61f9":function(t,e,n){"use strict";n("cc88")},"62d9":function(t,e,n){},6368:function(t,e,n){},6686:function(t,e,n){"use strict";n("f0a4")},"670e":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{attrs:{id:"content"}},[e("grid-layout",{ref:"gridlayout",attrs:{layout:t.layout,"col-num":12,"row-height":100,"is-draggable":t.draggable,"is-resizable":t.resizable,responsive:t.responsive,"vertical-compact":!0,"use-css-transforms":!0},on:{"layout-ready":t.layoutUpdatedEvent,"update:layout":function(e){t.layout=e}}},t._l(t.layout,(function(n){return e("grid-item",{key:n.i,attrs:{static:n.static,x:n.x,y:n.y,w:n.w,h:n.h,i:n.i},on:{moved:t.movedEvent}},[e(n.i,{tag:"component",attrs:{item:n}})],1)})),1)],1),e("modal",{on:{updateComponent:t.updateComponent}}),e("Maintenance",{attrs:{visible:t.maintenanceVisible,item:t.maintenanceItem},on:{update:t.update}}),e("Update",{attrs:{visible:t.$store.state.updateVisible,item:t.$store.state.updateItem},on:{update:t.update}})],1)},r=[],a=n("7be8"),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"newCamera_box"},[e("div",{staticClass:"newCamera_box_left"},[t._m(0),e("div",{staticClass:"tree_box"},[e("a-input-search",{attrs:{placeholder:"请输入搜索的船名"},on:{search:t.onQueryTree},model:{value:t.shipName,callback:function(e){t.shipName=e},expression:"shipName"}}),e("div",{staticStyle:{height:"8px"}}),e("a-tree",{staticStyle:{"overflow-y":"auto",flex:"1"},attrs:{"tree-data":t.treeData,blockNode:!0,showIcon:!0,expandedKeys:t.expandedKeys,selectedKeys:t.selectedKeys},on:{select:t.onSelectTreeNode},scopedSlots:t._u([{key:"title",fn:function(i){return[e("div",{staticClass:"tree_box_item"},[i.shipId?t._e():e("div",[t.expandedKeys.indexOf(i.key)>-1||t.expandedKeys.indexOf(i.shipId)>-1?e("img",{staticClass:"tree_box_item_icon",attrs:{src:i.children[0].shipId?n("23f9"):n("7efd")}}):e("img",{staticClass:"tree_box_item_icon",attrs:{src:i.children[0].shipId?n("1792"):n("32ed")}})]),i.shipId?e("div",[t.expandedKeys.indexOf(i.key)>-1||t.expandedKeys.indexOf(i.shipId)>-1?e("img",{staticClass:"tree_box_item_icon",attrs:{src:n("35dc")}}):e("img",{staticClass:"tree_box_item_icon",attrs:{src:n("9d7f")}})]):t._e(),e("div",{staticStyle:{flex:"1"},style:{color:i.disabled?"#000":"鑫诺"==i.mtgOperators?"#0099ff":"亚太星通"==i.mtgOperators?"#33cc33":"",opacity:i.disabled?"0.25":""}},[t._v(" "+t._s(i.title))]),i.shipId?t._e():e("span",{class:"video_canvas_icon "+(t.expandedKeys.indexOf(i.key)>-1||t.expandedKeys.indexOf(i.shipId)>-1?"video_icon_xiangshang":"video_icon_xiangxia"),staticStyle:{"font-size":"12px"}})])]}}])},[e("template",{slot:"switcherIcon"},[e("span")])],2),e("div",{staticStyle:{height:"16px"}})],1)]),e("div",{staticClass:"newCamera_box_right"},[e("div",{staticClass:"newCamera_contents"},[e("div",{staticClass:"newCamera_content_box"},[e("div",{staticClass:"newCamera_item newCamera_item_1 newCamera_item_checked",on:{click:function(e){return t.onCheckedVideo()}}},[e("div",{staticClass:"newCamera_item_title"},[t._v(" "+t._s(t.checkedCameraDate?t.checkedCameraDate.shipName+"——"+t.checkedCameraDate.title:"请选择摄像头")+" ")]),e("div",{staticClass:"newCamera_item_content"},[e("div",{staticClass:"newCamera_item_play"},[e("div",{ref:"videoCoverBox",staticClass:"videoCoverBox",staticStyle:{"z-index":"5"}},[t.checkedCameraDate&&t.checkedCameraDate.lastPicture?e("img",{attrs:{src:t.checkedCameraDate?t.checkedCameraDate.lastPicture:"none"}}):e("div",{staticClass:"newCamera_item_wuhuamian_default"},[e("img",{staticStyle:{width:"100%"},attrs:{src:n("3a68")}}),e("p",[t._v("暂无画面")])])]),e("video",{ref:"videoEle",attrs:{disablePictureInPicture:"true",controlslist:"nodownload noremoteplayback"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.checkedCameraDate&&t.checkedCameraDate.isWss,expression:"checkedCameraDate && checkedCameraDate.isWss\n                "}],attrs:{id:"player"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.checkedCameraDate&&t.checkedCameraDate.isEzopen,expression:"checkedCameraDate && checkedCameraDate.isEzopen"}],attrs:{id:"video_container"}}),t.showSpin?e("a-spin",{staticClass:"newCamera_item_spinning",staticStyle:{"z-index":"999"}},[e("a-icon",{staticStyle:{"font-size":"44px"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1):t._e()],1),t.checkedCameraDate?e("div",{staticClass:"newCamera_item_function",style:{display:t.checkedCameraDate&&t.checkedCameraDate.state<1?"block":""}},[e("div",{staticClass:"newCamera_item_fun_bottom"},[e("div",[t.checkedCameraDate&&t.checkedCameraDate.state>0?e("a-tooltip",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" 暂停 ")]},proxy:!0}],null,!1,4035566819)},[t.checkedCameraDate&&t.checkedCameraDate.state>0?e("a-icon",{staticStyle:{"margin-left":"12px","font-size":"16px"},attrs:{type:"pause-circle"},on:{click:function(e){return t.cameraPause()}}}):t._e()],1):t._e(),t.checkedCameraDate&&0===t.checkedCameraDate.state?e("a-tooltip",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" 播放 ")]},proxy:!0}],null,!1,3550317806)},[t.checkedCameraDate&&0===t.checkedCameraDate.state?e("a-icon",{staticStyle:{"margin-left":"12px","font-size":"16px"},attrs:{type:"play-circle"},on:{click:function(e){return t.getCameraM3U8()}}}):t._e()],1):t._e(),t.checkedCameraDate&&t.checkedCameraDate.state>0?e("span",{staticClass:"tips"},[t._v(" 正在直播 ")]):t._e()],1),e("div",[e("a-tooltip",{scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"video_icon_changeQingxidu"},[e("div",{on:{click:function(e){return t.changeQingxidu(1)}}},[t._v("流畅")]),e("div",{on:{click:function(e){return t.changeQingxidu(2)}}},[t._v("标清")]),e("div",{on:{click:function(e){return t.changeQingxidu(3)}}},[t._v("高清")])])]},proxy:!0}],null,!1,3279137615)},[t.checkedCameraDate&&t.checkedCameraDate.state>0&&!t.checkedCameraDate.qingxidu?e("span",{staticClass:"video_icon_changeQingxidu"},[t._v(" 清晰度 ")]):t._e(),t.checkedCameraDate&&t.checkedCameraDate.state>0&&t.checkedCameraDate.qingxidu?e("span",[t._v(t._s(t.checkedCameraDate.qingxidu))]):t._e()]),e("a-tooltip",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" 截图 ")]},proxy:!0}],null,!1,2451961961)},[t.checkedCameraDate&&t.checkedCameraDate.state>1?e("span",{staticClass:"video_canvas_icon video_icon_jietu",on:{click:function(e){return t.cameraCreenshot(t.checkedCameraDate.shipName,t.checkedCameraDate.title)}}}):t._e()])],1)])]):t._e()])])])])])])},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"title"},[e("img",{attrs:{src:n("8764"),alt:""}}),e("span",[t._v("视频监控")])])}],l=(n("b7ef"),n("907a"),n("986a"),n("1d02"),n("3c5d"),n("1b3b"),n("3d71"),n("c6e3"),n("14d9"),n("f660")),c=(n("bc3a"),n("c1df")),u=n.n(c);let h=n("ba56");var d={data(){return{urls:{onQueryTree:"/shipCameraService/tbShipCamera/getOrgFleetCamera",openVideo:"/shipCameraService/tbShipCamera/openVideo",closeVideo:"/shipCameraService/tbShipCamera/closeVideo",keep:"/shipCameraService/tbShipCamera/keep",change:"/shipCameraService/tbShipCamera/change",screenShot:"/shipCameraService/tbShipCamera/screenShot"},shipName:null,treeData:[],expandedKeys:[],selectedKeys:[],repeatGetTreeId:null,repeatKeepHeartbeatId:null,checkedCameraDate:null,checkedVideo:0,websocketTimeStamp:null,documentHidden:!0,showSpin:!1}},destroyed(){clearInterval(this.repeatGetTreeId)},mounted(){let t=this;t.onQueryTree(),t.repeatGetTreeId=setInterval(()=>{t.onQueryTree()},3e5),t.repeatKeepHeartbeatId=setInterval(()=>{if(t.checkedCameraDate){const e=new FormData;e.append("ids",t.checkedCameraDate.id),t.$axios.post(t.urls.keep,e)}},1e4),t.websocketTimeStamp=Date.parse(new Date);let e="wss://springcloud.intertion.cn/shipCameraService/webCamera"+t.websocketTimeStamp;"WebSocket"in window?(Object(l["a"])(null,"close"),Object(l["a"])(e,"create")):t.$message.warning("您所在浏览器暂不支持webSocket链接，部分功能无法使用！"),window.addEventListener("visibilitychange",t.visibility),window.addEventListener("onmessageWS",t.getsocketData),window.addEventListener("resize",t.calcWhidth),window.addEventListener("load",t.calcWhidth),window.addEventListener("DOMContentLoaded",t.calcWhidth),setTimeout(()=>{t.calcWhidth()},0),h.isSupported()||t.$message.warning("您所在浏览器暂不支持Hls视频播放功能，请更换浏览器！"),t.createVideoMonitor(),t.calcWhidth()},methods:{uploadShot(t,e){const n=document.createElement("canvas"),i=n.getContext("2d");n.width=t.offsetWidth,n.height=t.offsetHeight,i.fillStyle="#eef8fd",i.fillRect(0,0,n.width,n.height);const r=Math.min(n.width,t.videoWidth*n.height/t.videoHeight),a=Math.min(n.height,t.videoHeight*n.width/t.videoWidth);i.drawImage(t,0,0,t.videoWidth,t.videoHeight,(n.width-r)/2,(n.height-a)/2,r,a),this.screenSrc=n.toDataURL("image/png"),this.checkedCameraDate.lastPicture=this.screenSrc;let o=this.dataURLtoFile(this.screenSrc,"screen.png");const s=new FormData;s.append("file",o),s.append("id",e),this.$axios.post(this.urls.screenShot,s,{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{})},ezUploadShot(t,e){let n=this.dataURLtoFile(t,"screen.png");const i=new FormData;i.append("file",n),i.append("id",e),this.$axios.post(this.urls.screenShot,i,{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{})},dataURLtoFile(t,e){let n=this.getUint8Arr(t);return new File([n.u8arr],e,{type:n.mime})},getUint8Arr(t){let e=t.split(","),n=e[0].match(/:(.*?);/)[1],i=atob(e[1]),r=i.length,a=new Uint8Array(r);while(r--)a[r]=i.charCodeAt(r);return{u8arr:a,mime:n}},onQueryTree(){let t=this;t.$axios.get(t.urls.onQueryTree,{params:{shipName:t.shipName?t.shipName:""}}).then((function(e){if("sinoocean.shipscome.com"!==window.location.host)if("fmcsh.shipscome.com"!==window.location.host)if("demo.shipscome.com"!==window.location.host)t.treeData=e.result;else{let n={"1cE":{isNeed:"2"},"1bP":{isNeed:"2"}},i=[],r=Object.keys(n);for(let t=0;t<e.result.length;t++)if(r.includes(e.result[t].key)){let r=[];if("2"==n[e.result[t].key].isNeed){if(e.result[t].children.length>0)for(let n=0;n<e.result[t].children.length;n++)e.result[t].children[n].shipName="Ship"+(i.length+1),r.push(e.result[t].children[n])}else if("1"==n[e.result[t].key].isNeed&&e.result[t].children.length>0)for(let a=0;a<e.result[t].children.length;a++)n[e.result[t].key].conditions.includes(e.result[t].children[a].key)&&(e.result[t].children[a].shipName="Ship"+(i.length+1),r.push(e.result[t].children[a]));e.result[t].children=r,e.result[t].title="Ship"+(i.length+1),e.result[t].label="Ship"+(i.length+1),i.push(e.result[t])}t.treeData=i}else{let n={"1bN":{isNeed:"1",conditions:["c10b2ab32714e61fdd8031f0a1cbd36a","ad18542f727aa1012a59a96a172b81d5","7dd5eab4c607a573b9960339e7f75fc2"]},"1dA":{isNeed:"1",conditions:["dbeca75ff251bcf35306e39e58505693","baaa5773c913417168a51f5f0f28d6c5","fd9af8f166bcbe8a9749374af87de4a5"]},"1cD":{isNeed:"2"}},i=[],r=Object.keys(n);for(let t=0;t<e.result.length;t++){let a=[];if(r.includes(e.result[t].key)){if("2"==n[e.result[t].key].isNeed){if(e.result[t].children.length>0)for(let n=0;n<e.result[t].children.length;n++)"1bN"==e.result[t].key?e.result[t].children[n].shipName="YONG MAY":"1dA"==e.result[t].key?e.result[t].children[n].shipName="HAN MAY":"1cD"==e.result[t].key&&(e.result[t].children[n].shipName="YANG MAY"),a.push(e.result[t].children[n])}else if("1"==n[e.result[t].key].isNeed&&e.result[t].children.length>0)for(let i=0;i<e.result[t].children.length;i++)n[e.result[t].key].conditions.includes(e.result[t].children[i].key)&&("1bN"==e.result[t].key?e.result[t].children[i].shipName="YONG MAY":"1dA"==e.result[t].key?e.result[t].children[i].shipName="HAN MAY":"1cD"==e.result[t].key&&(e.result[t].children[i].shipName="YANG MAY"),a.push(e.result[t].children[i]));e.result[t].children=a,"1bN"==e.result[t].key?(e.result[t].title="YONG MAY",e.result[t].label="YONG MAY"):"1dA"==e.result[t].key?(e.result[t].title="HAN MAY",e.result[t].label="HAN MAY"):"1cD"==e.result[t].key&&(e.result[t].title="YANG MAY",e.result[t].label="YANG MAY"),i.push(e.result[t])}else i.push(e.result[t])}t.treeData=i}else{let n={"1do":{isNeed:"1",conditions:["0ce723c9b6477ab38d20089c027d86dc","01a7ab4c44533095a5051fc0331fe078","73f624c38f4397e3f49da1b6489e859f"]},"1bl":{isNeed:"1",conditions:["8537ce000ab77ff7ccf8915affe91e48","1601945ad33ab45e92bbc0c33e4ac39e","2d8ce725c81294170fe546a804727b1c"]},"1dB":{isNeed:"1",conditions:["91ed46115be0cb72328fd47156257ce6","8e26098d1b82a0533b186cf7a1a88d7f","c4eddac6781826f4680f2cb04a2a48c5"]}},i=[],r=Object.keys(n);for(let t=0;t<e.result.length;t++)if(r.includes(e.result[t].key)){let r=[];if("2"==n[e.result[t].key].isNeed){if(e.result[t].children.length>0)for(let n=0;n<e.result[t].children.length;n++)r.push(e.result[t].children[n])}else if("1"==n[e.result[t].key].isNeed&&e.result[t].children.length>0)for(let i=0;i<e.result[t].children.length;i++)n[e.result[t].key].conditions.includes(e.result[t].children[i].key)&&r.push(e.result[t].children[i]);e.result[t].children=r,i.push(e.result[t])}t.treeData=i}}))},onSelectTreeNode(t,e){let n=this;if(n.selectedKeys=[e.node.dataRef.key],!e.node.dataRef.shipId){let t=n.expandedKeys.indexOf(e.node.dataRef.key);return void(-1<t?(n.expandedKeys.splice(t,1),n.selectedKeys[0]===e.node.dataRef.key&&(n.selectedKeys=[])):n.expandedKeys.push(e.node.dataRef.key))}let i=e.node.dataRef;if(n.checkedCameraDate){const{id:t}=n.checkedCameraDate;if(t==i.id)return void this.$message.warning("此摄像头已存在,请选择其他摄像头")}n.checkedCameraDate={hls:null,id:i.key,title:i.title,shipId:i.shipId,shipName:i.shipName,state:0,isCameraSuccessPlay:!0,qingxidu:0,lastPicture:null,webSocketImg:0,cameraTimeId:null,interruptRecoveryId:null,videoRepairId:null,limitTenMinId:null},this.cameraPause().then(()=>{n.getCameraM3U8()})},getsocketData(t){let e=this,n=JSON.parse(t&&t.detail.data);if(4==n.cmd){if(1==n.data.type){let t=n.data.cameraId;this.checkedCameraDate.id==t&&e.cameraPause()}else if(2==n.data.type){let t=n.data.cameraId;this.checkedCameraDate.id==t&&e.cameraPause()}}else if(5==n.cmd){let t="data:image/png;base64,"+n.buffer.array;this.checkedCameraDate.id==n.cameraId&&1==this.checkedCameraDate.state&&(e.checkedCameraDate.webSocketImg=1,e.checkedCameraDate.lastPicture=t)}else 6==n.cmd&&e.checkedCameraDate.shipId==n.shipId&&(e.cameraPause(),e.$message.warning(n.message))},visibility(){let t=this;t.documentHidden=!document.hidden,t.documentHidden&&t.checkedCameraDate.state>0&&t.$refs.videoEle.play()},createVideoMonitor(){let t=this;t.$nextTick(()=>{let e=t.$refs.videoEle;e.removeEventListener("waiting",t.videoWaiting),e.removeEventListener("playing",t.videoPlaying),e.removeEventListener("play",t.videoPlay),e.removeEventListener("pause",t.videoPause),e.addEventListener("waiting",t.videoWaiting),e.addEventListener("playing",t.videoPlaying),e.addEventListener("play",t.videoPlay),e.addEventListener("pause",t.videoPause)})},videoWaiting(t){let e=this,n=e.$refs.videoCoverBox;n.style.display="block"},videoPlaying(t){let e=this,n=e.saveLastFrame();e.checkedCameraDate.lastPicture=n;let i=e.$refs.videoCoverBox;i.style.display="none",e.checkedCameraDate.webSocketImg=1,e.checkedCameraDate.hls&&(e.$set(e.checkedCameraDate,"state",2),e.$set(e.checkedCameraDate,"isCameraSuccessPlay",!1)),e.checkedCameraDate.cameraTimeId&&(clearTimeout(e.checkedCameraDate.cameraTimeId),e.checkedCameraDate.cameraTimeId=null),e.checkedCameraDate.videoRepairId&&(clearTimeout(e.checkedCameraDate.videoRepairId),e.checkedCameraDate.videoRepairId=null),e.checkedCameraDate.interruptRecoveryId&&(clearTimeout(e.checkedCameraDate.interruptRecoveryId),e.checkedCameraDate.interruptRecoveryId=null)},videoPlay(){},videoPause(t){let e=this,n=e.$refs.videoCoverBox;n.style.display="block",e.checkedCameraDate.state>0&&e.documentHidden&&e.$refs.videoEle.play()},onCheckedVideo(t){let e=this;e.checkedVideo=t},fullScreen(){let t=document.querySelector(".newCamera_contents");document.fullscreenElement?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()},spLoding(t){return!(!t||!t.state||1!=t.state||0!=t.webSocketImg)},getCameraM3U8(){this.showSpin=!0;let t=this,e=this.urls.openVideo,n={id:this.checkedCameraDate.id,random:t.websocketTimeStamp};const i=new FormData;for(const r in n)i.append(r,n[r]);t.$axios.post(e,i).then(e=>{if(500===e.code)return t.$message.warning(e.message),void t.$set(t.checkedCameraDate,"state",0);let n,i;e.result.preview&&(this.checkedCameraDate.lastPicture=e.result.preview),e.result.plugFlowAddress.indexOf("ws")>-1?(n=e.result.plugFlowAddress,t.checkedCameraDate.isWss=!0):e.result.plugFlowAddress.indexOf("ezopen")>-1?(n=e.result.plugFlowAddress,t.checkedCameraDate.isEzopen=!0,i=e.result.accsstoken):n=e.result.plugFlowAddress,t.checkedCameraDate.cameraTimeId&&(clearTimeout(t.checkedCameraDate.cameraTimeId),t.checkedCameraDate.cameraTimeId=null),t.$set(t.checkedCameraDate,"state",1),t.checkedCameraDate.isWss?this.playWss(n):t.checkedCameraDate.isEzopen?this.createEz(n,i):t.videoBindHls(n),t.addVideoRepair(),14!=e.result.shipType?t.limitVideoTenMin(3e5):t.limitVideoTenMin(6e5)})},createEz(t,e){return new Promise(n=>{this.checkedCameraDate.ezPlayer=new window.EZUIKit.EZUIKitPlayer({id:"video_container",accessToken:e,url:t,handleError:t=>{this.$message.warning("取流失败，请稍后重试！"),this.$refs.videoCoverBox.style.display="block",this.checkedCameraDate.state=0,this.checkedCameraDate.isCameraSuccessPlay=!0,this.showSpin=!1},handleSuccess:()=>{this.$refs.videoCoverBox.style.display="none",this.checkedCameraDate.isCameraSuccessPlay=!1,this.checkedCameraDate.state=2,this.showSpin=!1,this.ezResize(),n()}})})},ezResize(){setTimeout(()=>{let t=document.querySelectorAll(".newCamera_item_play")[0],e=t.clientWidth,n=t.clientHeight;this.checkedCameraDate.ezPlayer.reSize(e,n)},10)},playWss(t){this.createTalk(0).then(()=>{this.checkedCameraDate.player.JS_Resize(),this.checkedCameraDate.player.JS_Play(t,{playURL:t,mode:0},0).then(()=>{let t=this.$refs.videoCoverBox;t.style.display="none",this.checkedCameraDate.state=2,this.checkedCameraDate.isCameraSuccessPlay=!1,this.showSpin=!1},t=>{switch(this.checkedCameraDate.state=0,this.$refs.videoCoverBox.style.display="block",this.showSpin=!1,t){default:this.$message.warning("取流失败，请稍后重试！")}})})},createTalk(){return new Promise(t=>{this.checkedCameraDate.player=new window.JSPlugin({szId:"player",szBasePath:"/js/",iMaxSplit:1,iCurrentSplit:1,openDebug:!0,oStyle:{borderSelect:"#000"},iWidth:"100%",iHeight:"100%"}),t()})},videoBindHls(t){let e=this;try{let n=e.$refs.videoEle,i=new h;i.attachMedia(n),i.on(h.Events.MEDIA_ATTACHED,()=>{i.loadSource(t),e.$set(e.checkedCameraDate,"hls",i),i.on(h.Events.MANIFEST_PARSED,(function(){e.$set(e.checkedCameraDate,"state",2),n.play(),this.showSpin=!1})),i.on(h.Events.ERROR,(function(t,r){let a=r.type,o=r.fatal;if(e.checkedCameraDate.cameraTimeId&&(clearTimeout(e.checkedCameraDate.cameraTimeId),e.checkedCameraDate.cameraTimeId=null),e.checkedCameraDate.isCameraSuccessPlay)i.destroy(),e.checkedCameraDate.cameraTimeId=setTimeout(()=>{e.checkedCameraDate.state>0&&e.getCameraM3U8()},6e3);else if(e.checkedCameraDate.interruptRecoveryId&&(clearTimeout(e.checkedCameraDate.interruptRecoveryId),e.checkedCameraDate.interruptRecoveryId=null),e.checkedCameraDate.interruptRecoveryId||(e.checkedCameraDate.interruptRecoveryId=setTimeout(()=>{n.play()},1e4)),o)switch(e.$set(e.checkedCameraDate,"state",1),a){case h.ErrorTypes.NETWORK_ERROR:i.startLoad();break;case h.ErrorTypes.MEDIA_ERROR:i.recoverMediaError();break}else a==h.ErrorTypes.MEDIA_ERROR&&(i.recoverMediaError(),i.startLoad())}))})}catch(n){e.checkedCameraDate.cameraTimeId&&(clearTimeout(e.checkedCameraDate.cameraTimeId),e.checkedCameraDate.cameraTimeId=null),e.checkedCameraDate.cameraTimeId=setTimeout(()=>{e.getCameraM3U8()},1e4)}},addVideoRepair(){let t=this;t.checkedCameraDate.videoRepairId||(t.checkedCameraDate.videoRepairId=setTimeout(()=>{t.checkedCameraDate.isCameraSuccessPlay?(t.checkedCameraDate.cameraTimeId&&(clearTimeout(t.checkedCameraDate.cameraTimeId),t.checkedCameraDate.cameraTimeId=null),t.checkedCameraDate.hls&&(t.checkedCameraDate.hls.destroy(),t.checkedCameraDate.hls=null),t.checkedCameraDate.isCameraSuccessPlay=!0,t.$set(t.checkedCameraDate,"state",0),t.checkedCameraDate.webSocketImg=0):(clearTimeout(t.checkedCameraDate.videoRepairId),t.checkedCameraDate.videoRepairId=null)},6e4))},limitVideoTenMin(t){let e=this;e.checkedCameraDate.limitTenMinId&&(clearTimeout(e.checkedCameraDate.limitTenMinId),e.checkedCameraDate.limitTenMinId=null),e.checkedCameraDate.limitTenMinId=setTimeout(()=>{e.cameraPause(1)},t)},cameraPause(t){let e=this;if(e.checkedCameraDate.cameraTimeId&&(clearTimeout(e.checkedCameraDate.cameraTimeId),e.checkedCameraDate.cameraTimeId=null),e.checkedCameraDate.videoRepairId&&(clearTimeout(e.checkedCameraDate.videoRepairId),e.checkedCameraDate.videoRepairId=null),e.checkedCameraDate.interruptRecoveryId&&(clearTimeout(e.checkedCameraDate.interruptRecoveryId),e.checkedCameraDate.interruptRecoveryId=null),e.checkedCameraDate.limitTenMinId&&(clearTimeout(e.checkedCameraDate.limitTenMinId),e.checkedCameraDate.limitTenMinId=null),e.checkedCameraDate&&e.checkedCameraDate.isWss){if(2==e.checkedCameraDate.state){let t=document.querySelectorAll("#player_playVideo0")[0];this.uploadShot(t,this.checkedCameraDate.id)}e.checkedCameraDate.player.JS_Stop(0).then(()=>{e.checkedCameraDate&&(e.checkedCameraDate.player=null)},t=>{})}return e.checkedCameraDate&&e.checkedCameraDate.isEzopen&&this.checkedCameraDate.ezPlayer.capturePicture("sreen",t=>{if(2==e.checkedCameraDate.state){let e=t.base64;this.checkedCameraDate.lastPicture=e,this.ezUploadShot(e,this.checkedCameraDate.id)}this.checkedCameraDate.ezPlayer.stop().then(()=>{e.checkedCameraDate&&(this.checkedCameraDate.ezPlayer=null)})}),new Promise(n=>{this.$refs.videoEle;if(e.checkedCameraDate.state>0){const i=new FormData;i.append("id",e.checkedCameraDate.id),i.append("random",e.websocketTimeStamp),i.append("passive",t),e.$axios.post(e.urls.closeVideo,i).then(()=>{this.showSpin=!1;let t=e.$refs.videoCoverBox;t&&(t.style.display="block"),e.checkedCameraDate.hls&&(e.checkedCameraDate.hls.destroy(),e.checkedCameraDate.hls=null),e.checkedCameraDate.js=!0,e.checkedCameraDate.state=0,e.checkedCameraDate.webSocketImg=0,n()})}else n()})},changeQingxidu(t){let e=this;this.checkedCameraDate.isWss||this.checkedCameraDate.isEzopen?this.changeQXD(t).then(n=>{e.checkedCameraDate.qingxidu=t,this.cameraPause().then(()=>{this.getCameraM3U8()})}):this.changeQXD(t).then(n=>{e.checkedCameraDate.qingxidu=t})},changeQXD(t){let e=this;return new Promise(n=>{let i={id:e.checkedCameraDate.id,grade:t,isHis:2};const r=new FormData;for(const t in i)r.append(t,i[t]);e.$axios.post(e.urls.change,r).then(t=>{200==t.code?n(t):this.$message.warning(t.message)})})},cameraCreenshot(t,e){let n=this,i=document.createElement("canvas"),r=u()(new Date).format("YYYY-MM-DD HHmmss"),a=n.$refs.videoEle;i.width=1100,i.height=634,i.getContext("2d").drawImage(a,0,0,1100,634);let o=document.createElement("a");o.href=i.toDataURL(),o.setAttribute("download",`${t}-${e} ${r} .png`),o.click()},saveLastFrame(){let t=this,e=document.createElement("canvas"),n=t.$refs.videoEle;return e.width=n.offsetWidth,e.height=n.offsetHeight,e.getContext("2d").drawImage(n,0,0,e.width,e.height),e.toDataURL("img/png")},calcWhidth(){let t=document.querySelector(".newCamera_contents"),e=0,n=0,i=0,r=1,a=64;n=t.offsetWidth-48-32*r,i=t.offsetHeight-48-(8+a)*r,e=.5625*n<i?Number.parseInt(n):Number.parseInt(i/.5625);let o=document.querySelector(".newCamera_content_box");o.style.width=e+50*r+"px",this.checkedCameraDate.isWss&&this.checkedCameraDate.state>0?this.checkedCameraDate.player.JS_Resize():this.checkedCameraDate.isEzopen&&this.checkedCameraDate.state>0&&this.ezResize()},routerLeave(){let t=this;t.cameraPause(),window.removeEventListener("visibilitychange",t.visibility),window.removeEventListener("onmessageWS",t.getsocketData),window.removeEventListener("resize",t.calcWhidth),t.repeatKeepHeartbeatId&&clearInterval(t.repeatKeepHeartbeatId),t.repeatGetTreeId&&clearInterval(t.repeatGetTreeId),Object(l["a"])(null,"close")}}},p=d,f=(n("fde6"),n("2877")),g=Object(f["a"])(p,o,s,!1,null,"ad600bf0",null),m=g.exports,v=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"ship-data"},[e("div",{staticClass:"title"},[e("img",{attrs:{src:n("1627"),alt:""}}),e("span",[t._v(t._s(t.item.name))])]),e("div",{staticClass:"ship-data-cent"},[e("div",{staticClass:"ship-data-flex"},[e("ul",[e("li",[t._v("船舶统计")]),t._m(0),e("li",[t._v(t._s(t.shipNum?t.shipNum:"0"))]),e("li",[t._v("船舶数量")]),e("li",[t._v(t._s(t.shipMen?t.shipMen:"0"))]),e("li",[t._v("船员数量")])]),e("div",{staticClass:"ship-border"})]),e("div",{staticClass:"ship-data-flex"},[e("ul",[e("li",[t._v("昨日报位")]),t._m(1),e("li",[t._v(t._s(t.normalNum?t.normalNum:"0"))]),e("li",[t._v("正常")]),e("li",[t._v(t._s(t.noShipPosition?t.noShipPosition:"0"))]),e("li",[t._v("无船位")]),e("li",[t._v(t._s(t.shipSpeedLow?t.shipSpeedLow:"0"))]),e("li",[t._v("船位、航速不足")])]),e("div",{staticClass:"home-Report"})]),e("div",{staticClass:"ship-data-flex"},[e("ul",[e("li",[t._v("渔捞日志")]),t._m(2),e("li",[t._v(t._s(t.workNums?t.workNums:"0"))]),e("li",[t._v("作业")]),e("li",[t._v(t._s(t.vayageNums?t.vayageNums:"0"))]),e("li",[t._v("航行")]),e("li",[t._v(t._s(t.othersNums?t.othersNums:"0"))]),e("li",[t._v("其他")])]),e("div",{staticClass:"home_journal"})])])])])},y=[function(){var t=this,e=t._self._c;return e("li",[e("img",{attrs:{src:n("1bb1"),alt:""}})])},function(){var t=this,e=t._self._c;return e("li",[e("img",{attrs:{src:n("26aa"),alt:""}})])},function(){var t=this,e=t._self._c;return e("li",[e("img",{attrs:{src:n("90bb"),alt:""}})])}],b={props:{item:{type:Object,default:()=>{}}},data(){return{shipNum:null,shipMen:null,normalNum:null,noShipPosition:null,shipSpeedLow:null,workNums:null,vayageNums:null,othersNums:null}},created(){this.getSeamanNums(),this.getShips(),this.getPosiShipHisNums(),this.getFishLosNums()},methods:{getSeamanNums(){this.$axios.get("/shipService/seaman/getSeamanNums").then(t=>{"200"==t.code&&(this.shipMen=t.result,this.spin1=!1)})},getShips(){this.$axios.get("/shipService/shipBase/getShips").then(t=>{"200"==t.code&&(this.shipNum=t.result)})},getPosiShipHisNums(){this.$axios.get("/shipTube/chart/posShipHis/getPosiShipHisNums").then(t=>{"200"==t.code&&(this.noShipPosition=t.result.noShipPosition,this.shipSpeedLow=t.result.shipSpeedLow,this.normalNum=t.result.normalNum)})},getFishLosNums(){this.$axios.get("/fishingLogService/tbFishinglog/getFishLosNums").then(t=>{(t.code="200")&&(this.workNums=t.result.workNums,this.vayageNums=t.result.vayageNums,this.othersNums=t.result.othersNums)})}}},x=b,_=(n("27699"),Object(f["a"])(x,v,y,!1,null,"6e4f3c82",null)),w=_.exports,S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"shipYesterday"},[e("div",{staticClass:"title"},[e("img",{attrs:{src:n("dab8"),alt:""}}),e("span",[t._v(t._s(t.item.name))]),e("a-tooltip",{staticClass:"white-tooltip",attrs:{placement:"bottomRight","arrow-point-at-center":""}},[e("template",{slot:"title"},[e("ul",[e("li",[t._v("每条船每小时只计算一条气象数据")]),e("li",{staticClass:"tipText"},[t._v("当浪高大于3m且风速大于20m/s时将标注为红色")])])]),e("a-icon",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tooltipText,expression:"tooltipText"}],staticClass:"tips-icon",attrs:{type:"question-circle"}})],2)],1),e("div",{class:{isCurrentWeather:!0}},[t._m(0),t.weatherListData.length?e("div",[e("vue-seamless-scroll",{ref:"seamlessScroll",staticClass:"weatherWarp",attrs:{data:t.weatherListData,"class-option":t.swiperOption}},[e("ul",t._l(t.weatherListData,(function(n,i){return e("li",{key:i,class:n.wave>3&&n.wind>20?"red":""},[e("a-tooltip",{attrs:{placement:"top",title:n.name?n.name:"无"}},[e("span",[t._v(" "+t._s(n.name?n.name:"无")+" ")])]),e("a-tooltip",{attrs:{placement:"top",title:n.forecastTime?n.forecastTime:"无"}},[e("span",[t._v(" "+t._s(n.forecastTime?n.forecastTime:"无")+" ")])]),e("span",[t._v(" "+t._s(n.wave?n.wave+"m":"无")+" ")]),e("span",[t._v(" "+t._s(n.wind?n.wind+"m/s":"无")+" ")])],1)})),0)])],1):e("a-empty",{staticClass:"emptyClass",attrs:{description:"暂无预测气象数据"}})],1)])])},O=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"titleHead"},[e("span",[t._v("船名")]),e("span",[t._v("预测时间")]),e("span",[t._v("浪高")]),e("span",[t._v("风速")])])}],C=n("22b4"),A=n("f95e"),M=n("7a29"),T=n("cbe5"),k=n("0da8"),L=n("e86a"),j=n("dd4f"),I=Math.sin,E=Math.cos,P=Math.PI,R=2*Math.PI,D=180/P,F=function(){function t(){}return t.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},t.prototype.moveTo=function(t,e){this._add("M",t,e)},t.prototype.lineTo=function(t,e){this._add("L",t,e)},t.prototype.bezierCurveTo=function(t,e,n,i,r,a){this._add("C",t,e,n,i,r,a)},t.prototype.quadraticCurveTo=function(t,e,n,i){this._add("Q",t,e,n,i)},t.prototype.arc=function(t,e,n,i,r,a){this.ellipse(t,e,n,n,0,i,r,a)},t.prototype.ellipse=function(t,e,n,i,r,a,o,s){var l=o-a,c=!s,u=Math.abs(l),h=Object(M["j"])(u-R)||(c?l>=R:-l>=R),d=l>0?l%R:l%R+R,p=!1;p=!!h||!Object(M["j"])(u)&&d>=P===!!c;var f=t+n*E(a),g=e+i*I(a);this._start&&this._add("M",f,g);var m=Math.round(r*D);if(h){var v=1/this._p,y=(c?1:-1)*(R-v);this._add("A",n,i,m,1,+c,t+n*E(a+y),e+i*I(a+y)),v>.01&&this._add("A",n,i,m,0,+c,f,g)}else{var b=t+n*E(o),x=e+i*I(o);this._add("A",n,i,m,+p,+c,b,x)}},t.prototype.rect=function(t,e,n,i){this._add("M",t,e),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},t.prototype.closePath=function(){this._d.length>0&&this._add("Z")},t.prototype._add=function(t,e,n,i,r,a,o,s,l){for(var c=[],u=this._p,h=1;h<arguments.length;h++){var d=arguments[h];if(isNaN(d))return void(this._invalid=!0);c.push(Math.round(d*u)/u)}this._d.push(t+c.join(" ")),this._start="Z"===t},t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},t.prototype.getStr=function(){return this._str},t}(),N=F,B=n("8d1d"),V=n("6d8b"),G="none",z=Math.round;function U(t){var e=t.fill;return null!=e&&e!==G}function H(t){var e=t.stroke;return null!=e&&e!==G}var W=["lineCap","miterLimit","lineJoin"],Y=Object(V["map"])(W,(function(t){return"stroke-"+t.toLowerCase()}));function X(t,e,n,i){var r=null==e.opacity?1:e.opacity;if(n instanceof k["a"])t("opacity",r);else{if(U(e)){var a=Object(M["p"])(e.fill);t("fill",a.color);var o=null!=e.fillOpacity?e.fillOpacity*a.opacity*r:a.opacity*r;(i||o<1)&&t("fill-opacity",o)}else t("fill",G);if(H(e)){var s=Object(M["p"])(e.stroke);t("stroke",s.color);var l=e.strokeNoScale?n.getLineScale():1,c=l?(e.lineWidth||0)/l:0,u=null!=e.strokeOpacity?e.strokeOpacity*s.opacity*r:s.opacity*r,h=e.strokeFirst;if((i||1!==c)&&t("stroke-width",c),(i||h)&&t("paint-order",h?"stroke":"fill"),(i||u<1)&&t("stroke-opacity",u),e.lineDash){var d=Object(B["a"])(n),p=d[0],f=d[1];p&&(f=z(f||0),t("stroke-dasharray",p.join(",")),(f||i)&&t("stroke-dashoffset",f))}else i&&t("stroke-dasharray",G);for(var g=0;g<W.length;g++){var m=W[g];if(i||e[m]!==T["a"][m]){var v=e[m]||T["a"][m];v&&t(Y[g],v)}}}else i&&t("stroke",G)}}var q=n("65ed"),Z="http://www.w3.org/2000/svg",Q="http://www.w3.org/1999/xlink",J="http://www.w3.org/2000/xmlns/",K="http://www.w3.org/XML/1998/namespace";function $(t){return document.createElementNS(Z,t)}function tt(t,e,n,i,r){return{tag:t,attrs:n||{},children:i,text:r,key:e}}function et(t,e){var n=[];if(e)for(var i in e){var r=e[i],a=i;!1!==r&&(!0!==r&&null!=r&&(a+='="'+r+'"'),n.push(a))}return"<"+t+" "+n.join(" ")+">"}function nt(t){return"</"+t+">"}function it(t,e){e=e||{};var n=e.newline?"\n":"";function i(t){var e=t.children,r=t.tag,a=t.attrs,o=t.text;return et(r,a)+("style"!==r?Object(q["a"])(o):o||"")+(e?""+n+Object(V["map"])(e,(function(t){return i(t)})).join(n)+n:"")+nt(r)}return i(t)}function rt(t,e,n){n=n||{};var i=n.newline?"\n":"",r=" {"+i,a=i+"}",o=Object(V["map"])(Object(V["keys"])(t),(function(e){return e+r+Object(V["map"])(Object(V["keys"])(t[e]),(function(n){return n+":"+t[e][n]+";"})).join(i)+a})).join(i),s=Object(V["map"])(Object(V["keys"])(e),(function(t){return"@keyframes "+t+r+Object(V["map"])(Object(V["keys"])(e[t]),(function(n){return n+r+Object(V["map"])(Object(V["keys"])(e[t][n]),(function(i){var r=e[t][n][i];return"d"===i&&(r='path("'+r+'")'),i+":"+r+";"})).join(i)+a})).join(i)+a})).join(i);return o||s?["<![CDATA[",o,s,"]]>"].join(i):""}function at(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function ot(t,e,n,i){return tt("svg","root",{width:t,height:e,xmlns:Z,"xmlns:xlink":Q,version:"1.1",baseProfile:"full",viewBox:!!i&&"0 0 "+t+" "+e},n)}var st=n("5e76"),lt=n("8582"),ct=n("20c8"),ut=n("d4c6"),ht=n("b362"),dt={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},pt="transform-origin";function ft(t,e,n){var i=Object(V["extend"])({},t.shape);Object(V["extend"])(i,e),t.buildPath(n,i);var r=new N;return r.reset(Object(M["f"])(t)),n.rebuildPath(r,1),r.generateStr(),r.getStr()}function gt(t,e){var n=e.originX,i=e.originY;(n||i)&&(t[pt]=n+"px "+i+"px")}var mt={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function vt(t,e){var n=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[n]=t,n}function yt(t,e,n){var i,r,a=t.shape.paths,o={};if(Object(V["each"])(a,(function(t){var e=at(n.zrId);e.animation=!0,xt(t,{},e,!0);var a=e.cssAnims,s=e.cssNodes,l=Object(V["keys"])(a),c=l.length;if(c){r=l[c-1];var u=a[r];for(var h in u){var d=u[h];o[h]=o[h]||{d:""},o[h].d+=d.d||""}for(var p in s){var f=s[p].animation;f.indexOf(r)>=0&&(i=f)}}})),i){e.d=!1;var s=vt(o,n);return i.replace(r,s)}}function bt(t){return Object(V["isString"])(t)?dt[t]?"cubic-bezier("+dt[t]+")":Object(ht["a"])(t)?t:"":""}function xt(t,e,n,i){var r=t.animators,a=r.length,o=[];if(t instanceof ut["a"]){var s=yt(t,e,n);if(s)o.push(s);else if(!a)return}else if(!a)return;for(var l={},c=0;c<a;c++){var u=r[c],h=[u.getMaxTime()/1e3+"s"],d=bt(u.getClip().easing),p=u.getDelay();d?h.push(d):h.push("linear"),p&&h.push(p/1e3+"s"),u.getLoop()&&h.push("infinite");var f=h.join(" ");l[f]=l[f]||[f,[]],l[f][1].push(u)}function g(r){var a,o=r[1],s=o.length,l={},c={},u={},h="animation-timing-function";function d(t,e,n){for(var i=t.getTracks(),r=t.getMaxTime(),a=0;a<i.length;a++){var o=i[a];if(o.needsAnimate()){var s=o.keyframes,l=o.propName;if(n&&(l=n(l)),l)for(var c=0;c<s.length;c++){var u=s[c],d=Math.round(u.time/r*100)+"%",p=bt(u.easing),f=u.rawValue;(Object(V["isString"])(f)||Object(V["isNumber"])(f))&&(e[d]=e[d]||{},e[d][l]=u.rawValue,p&&(e[d][h]=p))}}}}for(var p=0;p<s;p++){var f=o[p],g=f.targetName;g?"shape"===g&&d(f,c):!i&&d(f,l)}for(var m in l){var v={};Object(lt["b"])(v,t),Object(V["extend"])(v,l[m]);var y=Object(M["g"])(v),b=l[m][h];u[m]=y?{transform:y}:{},gt(u[m],v),b&&(u[m][h]=b)}var x=!0;for(var m in c){u[m]=u[m]||{};var _=!a;b=c[m][h];_&&(a=new ct["a"]);var w=a.len();a.reset(),u[m].d=ft(t,c[m],a);var S=a.len();if(!_&&w!==S){x=!1;break}b&&(u[m][h]=b)}if(!x)for(var m in u)delete u[m].d;if(!i)for(p=0;p<s;p++){f=o[p],g=f.targetName;"style"===g&&d(f,u,(function(t){return mt[t]}))}var O,C=Object(V["keys"])(u),A=!0;for(p=1;p<C.length;p++){var T=C[p-1],k=C[p];if(u[T][pt]!==u[k][pt]){A=!1;break}O=u[T][pt]}if(A&&O){for(var m in u)u[m][pt]&&delete u[m][pt];e[pt]=O}if(Object(V["filter"])(C,(function(t){return Object(V["keys"])(u[t]).length>0})).length){var L=vt(u,n);return L+" "+r[0]+" both"}}for(var m in l){s=g(l[m]);s&&o.push(s)}if(o.length){var v=n.zrId+"-cls-"+n.cssClassIdx++;n.cssNodes["."+v]={animation:o.join(",")},e["class"]=v}}var _t=n("76a5"),wt=n("726e"),St=Math.round;function Ot(t){return t&&Object(V["isString"])(t.src)}function Ct(t){return t&&Object(V["isFunction"])(t.toDataURL)}function At(t,e,n,i){X((function(r,a){var o="fill"===r||"stroke"===r;o&&Object(M["k"])(a)?Vt(e,t,r,i):o&&Object(M["n"])(a)?Gt(n,t,r,i):t[r]=a}),e,n,!1),Bt(n,t,i)}function Mt(t){return Object(M["j"])(t[0]-1)&&Object(M["j"])(t[1])&&Object(M["j"])(t[2])&&Object(M["j"])(t[3]-1)}function Tt(t){return Object(M["j"])(t[4])&&Object(M["j"])(t[5])}function kt(t,e,n){if(e&&(!Tt(e)||!Mt(e))){var i=n?10:1e4;t.transform=Mt(e)?"translate("+St(e[4]*i)/i+" "+St(e[5]*i)/i+")":Object(M["e"])(e)}}function Lt(t,e,n){for(var i=t.points,r=[],a=0;a<i.length;a++)r.push(St(i[a][0]*n)/n),r.push(St(i[a][1]*n)/n);e.points=r.join(" ")}function jt(t){return!t.smooth}function It(t){var e=Object(V["map"])(t,(function(t){return"string"===typeof t?[t,t]:t}));return function(t,n,i){for(var r=0;r<e.length;r++){var a=e[r],o=t[a[0]];null!=o&&(n[a[1]]=St(o*i)/i)}}}var Et={circle:[It(["cx","cy","r"])],polyline:[Lt,jt],polygon:[Lt,jt]};function Pt(t){for(var e=t.animators,n=0;n<e.length;n++)if("shape"===e[n].targetName)return!0;return!1}function Rt(t,e){var n=t.style,i=t.shape,r=Et[t.type],a={},o=e.animation,s="path",l=t.style.strokePercent,c=e.compress&&Object(M["f"])(t)||4;if(!r||e.willUpdate||r[1]&&!r[1](i)||o&&Pt(t)||l<1){var u=!t.path||t.shapeChanged();t.path||t.createPathProxy();var h=t.path;u&&(h.beginPath(),t.buildPath(h,t.shape),t.pathUpdated());var d=h.getVersion(),p=t,f=p.__svgPathBuilder;p.__svgPathVersion===d&&f&&l===p.__svgPathStrokePercent||(f||(f=p.__svgPathBuilder=new N),f.reset(c),h.rebuildPath(f,l),f.generateStr(),p.__svgPathVersion=d,p.__svgPathStrokePercent=l),a.d=f.getStr()}else{s=t.type;var g=Math.pow(10,c);r[0](i,a,g)}return kt(a,t.transform),At(a,n,t,e),e.animation&&xt(t,a,e),tt(s,t.id+"",a)}function Dt(t,e){var n=t.style,i=n.image;if(i&&!Object(V["isString"])(i)&&(Ot(i)?i=i.src:Ct(i)&&(i=i.toDataURL())),i){var r=n.x||0,a=n.y||0,o=n.width,s=n.height,l={href:i,width:o,height:s};return r&&(l.x=r),a&&(l.y=a),kt(l,t.transform),At(l,n,t,e),e.animation&&xt(t,l,e),tt("image",t.id+"",l)}}function Ft(t,e){var n=t.style,i=n.text;if(null!=i&&(i+=""),i&&!isNaN(n.x)&&!isNaN(n.y)){var r=n.font||wt["a"],a=n.x||0,o=Object(M["b"])(n.y||0,Object(L["e"])(r),n.textBaseline),s=M["a"][n.textAlign]||n.textAlign,l={"dominant-baseline":"central","text-anchor":s};if(Object(_t["b"])(n)){var c="",u=n.fontStyle,h=Object(_t["c"])(n.fontSize);if(!parseFloat(h))return;var d=n.fontFamily||wt["b"],p=n.fontWeight;c+="font-size:"+h+";font-family:"+d+";",u&&"normal"!==u&&(c+="font-style:"+u+";"),p&&"normal"!==p&&(c+="font-weight:"+p+";"),l.style=c}else l.style="font: "+r;return i.match(/\s/)&&(l["xml:space"]="preserve"),a&&(l.x=a),o&&(l.y=o),kt(l,t.transform),At(l,n,t,e),e.animation&&xt(t,l,e),tt("text",t.id+"",l,void 0,i)}}function Nt(t,e){return t instanceof T["b"]?Rt(t,e):t instanceof k["a"]?Dt(t,e):t instanceof j["a"]?Ft(t,e):void 0}function Bt(t,e,n){var i=t.style;if(Object(M["i"])(i)){var r=Object(M["h"])(t),a=n.shadowCache,o=a[r];if(!o){var s=t.getGlobalScale(),l=s[0],c=s[1];if(!l||!c)return;var u=i.shadowOffsetX||0,h=i.shadowOffsetY||0,d=i.shadowBlur,p=Object(M["p"])(i.shadowColor),f=p.opacity,g=p.color,m=d/2/l,v=d/2/c,y=m+" "+v;o=n.zrId+"-s"+n.shadowIdx++,n.defs[o]=tt("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[tt("feDropShadow","",{dx:u/l,dy:h/c,stdDeviation:y,"flood-color":g,"flood-opacity":f})]),a[r]=o}e.filter=Object(M["d"])(o)}}function Vt(t,e,n,i){var r,a=t[n],o={gradientUnits:a.global?"userSpaceOnUse":"objectBoundingBox"};if(Object(M["m"])(a))r="linearGradient",o.x1=a.x,o.y1=a.y,o.x2=a.x2,o.y2=a.y2;else{if(!Object(M["o"])(a))return void 0;r="radialGradient",o.cx=Object(V["retrieve2"])(a.x,.5),o.cy=Object(V["retrieve2"])(a.y,.5),o.r=Object(V["retrieve2"])(a.r,.5)}for(var s=a.colorStops,l=[],c=0,u=s.length;c<u;++c){var h=100*Object(M["q"])(s[c].offset)+"%",d=s[c].color,p=Object(M["p"])(d),f=p.color,g=p.opacity,m={offset:h};m["stop-color"]=f,g<1&&(m["stop-opacity"]=g),l.push(tt("stop",c+"",m))}var v=tt(r,"",o,l),y=it(v),b=i.gradientCache,x=b[y];x||(x=i.zrId+"-g"+i.gradientIdx++,b[y]=x,o.id=x,i.defs[x]=tt(r,x,o,l)),e[n]=Object(M["d"])(x)}function Gt(t,e,n,i){var r,a=t.style[n],o=t.getBoundingRect(),s={},l=a.repeat,c="no-repeat"===l,u="repeat-x"===l,h="repeat-y"===l;if(Object(M["l"])(a)){var d=a.imageWidth,p=a.imageHeight,f=void 0,g=a.image;if(Object(V["isString"])(g)?f=g:Ot(g)?f=g.src:Ct(g)&&(f=g.toDataURL()),"undefined"===typeof Image){var m="Image width/height must been given explictly in svg-ssr renderer.";Object(V["assert"])(d,m),Object(V["assert"])(p,m)}else if(null==d||null==p){var v=function(t,e){if(t){var n=t.elm,i=d||e.width,r=p||e.height;"pattern"===t.tag&&(u?(r=1,i/=o.width):h&&(i=1,r/=o.height)),t.attrs.width=i,t.attrs.height=r,n&&(n.setAttribute("width",i),n.setAttribute("height",r))}},y=Object(st["a"])(f,null,t,(function(t){c||v(w,t),v(r,t)}));y&&y.width&&y.height&&(d=d||y.width,p=p||y.height)}r=tt("image","img",{href:f,width:d,height:p}),s.width=d,s.height=p}else a.svgElement&&(r=Object(V["clone"])(a.svgElement),s.width=a.svgWidth,s.height=a.svgHeight);if(r){var b,x;c?b=x=1:u?(x=1,b=s.width/o.width):h?(b=1,x=s.height/o.height):s.patternUnits="userSpaceOnUse",null==b||isNaN(b)||(s.width=b),null==x||isNaN(x)||(s.height=x);var _=Object(M["g"])(a);_&&(s.patternTransform=_);var w=tt("pattern","",s,[r]),S=it(w),O=i.patternCache,C=O[S];C||(C=i.zrId+"-p"+i.patternIdx++,O[S]=C,s.id=C,w=i.defs[C]=tt("pattern",C,s,[r])),e[n]=Object(M["d"])(C)}}function zt(t,e,n){var i=n.clipPathCache,r=n.defs,a=i[t.id];if(!a){a=n.zrId+"-c"+n.clipPathIdx++;var o={id:a};i[t.id]=a,r[a]=tt("clipPath",a,o,[Rt(t,n)])}e["clip-path"]=Object(M["d"])(a)}function Ut(t){return document.createTextNode(t)}function Ht(t,e,n){t.insertBefore(e,n)}function Wt(t,e){t.removeChild(e)}function Yt(t,e){t.appendChild(e)}function Xt(t){return t.parentNode}function qt(t){return t.nextSibling}function Zt(t,e){t.textContent=e}var Qt=58,Jt=120,Kt=tt("","");function $t(t){return void 0===t}function te(t){return void 0!==t}function ee(t,e,n){for(var i={},r=e;r<=n;++r){var a=t[r].key;void 0!==a&&(i[a]=r)}return i}function ne(t,e){var n=t.key===e.key,i=t.tag===e.tag;return i&&n}function ie(t){var e,n=t.children,i=t.tag;if(te(i)){var r=t.elm=$(i);if(oe(Kt,t),Object(V["isArray"])(n))for(e=0;e<n.length;++e){var a=n[e];null!=a&&Yt(r,ie(a))}else te(t.text)&&!Object(V["isObject"])(t.text)&&Yt(r,Ut(t.text))}else t.elm=Ut(t.text);return t.elm}function re(t,e,n,i,r){for(;i<=r;++i){var a=n[i];null!=a&&Ht(t,ie(a),e)}}function ae(t,e,n,i){for(;n<=i;++n){var r=e[n];if(null!=r)if(te(r.tag)){var a=Xt(r.elm);Wt(a,r.elm)}else Wt(t,r.elm)}}function oe(t,e){var n,i=e.elm,r=t&&t.attrs||{},a=e.attrs||{};if(r!==a){for(n in a){var o=a[n],s=r[n];s!==o&&(!0===o?i.setAttribute(n,""):!1===o?i.removeAttribute(n):n.charCodeAt(0)!==Jt?i.setAttribute(n,o):"xmlns:xlink"===n||"xmlns"===n?i.setAttributeNS(J,n,o):n.charCodeAt(3)===Qt?i.setAttributeNS(K,n,o):n.charCodeAt(5)===Qt?i.setAttributeNS(Q,n,o):i.setAttribute(n,o))}for(n in r)n in a||i.removeAttribute(n)}}function se(t,e,n){var i,r,a,o,s=0,l=0,c=e.length-1,u=e[0],h=e[c],d=n.length-1,p=n[0],f=n[d];while(s<=c&&l<=d)null==u?u=e[++s]:null==h?h=e[--c]:null==p?p=n[++l]:null==f?f=n[--d]:ne(u,p)?(le(u,p),u=e[++s],p=n[++l]):ne(h,f)?(le(h,f),h=e[--c],f=n[--d]):ne(u,f)?(le(u,f),Ht(t,u.elm,qt(h.elm)),u=e[++s],f=n[--d]):ne(h,p)?(le(h,p),Ht(t,h.elm,u.elm),h=e[--c],p=n[++l]):($t(i)&&(i=ee(e,s,c)),r=i[p.key],$t(r)?Ht(t,ie(p),u.elm):(a=e[r],a.tag!==p.tag?Ht(t,ie(p),u.elm):(le(a,p),e[r]=void 0,Ht(t,a.elm,u.elm))),p=n[++l]);(s<=c||l<=d)&&(s>c?(o=null==n[d+1]?null:n[d+1].elm,re(t,o,n,l,d)):ae(t,e,s,c))}function le(t,e){var n=e.elm=t.elm,i=t.children,r=e.children;t!==e&&(oe(t,e),$t(e.text)?te(i)&&te(r)?i!==r&&se(n,i,r):te(r)?(te(t.text)&&Zt(n,""),re(n,null,r,0,r.length-1)):te(i)?ae(n,i,0,i.length-1):te(t.text)&&Zt(n,""):t.text!==e.text&&(te(i)&&ae(n,i,0,i.length-1),Zt(n,e.text)))}function ce(t,e){if(ne(t,e))le(t,e);else{var n=t.elm,i=Xt(n);ie(e),null!==i&&(Ht(i,e.elm,qt(n)),ae(i,[t],0,0))}return e}var ue=n("3437"),he=0,de=function(){function t(t,e,n){if(this.type="svg",this.refreshHover=pe("refreshHover"),this.configLayer=pe("configLayer"),this.storage=e,this._opts=n=Object(V["extend"])({},n),this.root=t,this._id="zr"+he++,this._oldVNode=ot(n.width,n.height),t&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var r=this._svgDom=this._oldVNode.elm=$("svg");oe(null,this._oldVNode),i.appendChild(r),t.appendChild(i)}this.resize(n.width,n.height)}return t.prototype.getType=function(){return this.type},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",ce(this._oldVNode,t),this._oldVNode=t}},t.prototype.renderOneToVNode=function(t){return Nt(t,at(this._id))},t.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),n=this._width,i=this._height,r=at(this._id);r.animation=t.animation,r.willUpdate=t.willUpdate,r.compress=t.compress;var a=[],o=this._bgVNode=fe(n,i,this._backgroundColor,r);o&&a.push(o);var s=t.compress?null:this._mainVNode=tt("g","main",{},[]);this._paintList(e,r,s?s.children:a),s&&a.push(s);var l=Object(V["map"])(Object(V["keys"])(r.defs),(function(t){return r.defs[t]}));if(l.length&&a.push(tt("defs","defs",{},l)),t.animation){var c=rt(r.cssNodes,r.cssAnims,{newline:!0});if(c){var u=tt("style","stl",{},[],c);a.push(u)}}return ot(n,i,a,t.useViewBox)},t.prototype.renderToString=function(t){return t=t||{},it(this.renderToVNode({animation:Object(V["retrieve2"])(t.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:Object(V["retrieve2"])(t.useViewBox,!0)}),{newline:!0})},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t},t.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},t.prototype._paintList=function(t,e,n){for(var i,r,a=t.length,o=[],s=0,l=0,c=0;c<a;c++){var u=t[c];if(!u.invisible){var h=u.__clipPaths,d=h&&h.length||0,p=r&&r.length||0,f=void 0;for(f=Math.max(d-1,p-1);f>=0;f--)if(h&&r&&h[f]===r[f])break;for(var g=p-1;g>f;g--)s--,i=o[s-1];for(var m=f+1;m<d;m++){var v={};zt(h[m],v,e);var y=tt("g","clip-g-"+l++,v,[]);(i?i.children:n).push(y),o[s++]=y,i=y}r=h;var b=Nt(u,e);b&&(i?i.children:n).push(b)}}},t.prototype.resize=function(t,e){var n=this._opts,i=this.root,r=this._viewport;if(null!=t&&(n.width=t),null!=e&&(n.height=e),i&&r&&(r.style.display="none",t=Object(ue["b"])(i,0,n),e=Object(ue["b"])(i,1,n),r.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,r){var a=r.style;a.width=t+"px",a.height=e+"px"}if(Object(M["n"])(this._backgroundColor))this.refresh();else{var o=this._svgDom;o&&(o.setAttribute("width",t),o.setAttribute("height",e));var s=this._bgVNode&&this._bgVNode.elm;s&&(s.setAttribute("width",t),s.setAttribute("height",e))}}},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},t.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},t.prototype.toDataURL=function(t){var e=this.renderToString(),n="data:image/svg+xml;";return t?(e=Object(M["c"])(e),e&&n+"base64,"+e):n+"charset=UTF-8,"+encodeURIComponent(e)},t}();function pe(t){return function(){0}}function fe(t,e,n,i){var r;if(n&&"none"!==n)if(r=tt("rect","bg",{width:t,height:e,x:"0",y:"0",id:"0"}),Object(M["k"])(n))Vt({fill:n},r.attrs,"fill",i);else if(Object(M["n"])(n))Gt({style:{fill:n},dirty:V["noop"],getBoundingRect:function(){return{width:t,height:e}}},r.attrs,"fill",i);else{var a=Object(M["p"])(n),o=a.color,s=a.opacity;r.attrs.fill=o,s<1&&(r.attrs["fill-opacity"]=s)}return r}var ge=de;function me(t){t.registerPainter("svg",ge)}var ve=n("3620"),ye=n("9d57"),be=n("fdde"),xe=n("7fae"),_e=n("4f85"),we=n("1830"),Se=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.getInitialData=function(t,e){return Object(we["a"])(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,e,n){var i=this.coordinateSystem;if(i&&i.clampData){var r=i.clampData(t),a=i.dataToPoint(r);if(n)Object(V["each"])(i.getAxes(),(function(t,n){if("category"===t.type&&null!=e){var i=t.getTicksCoords(),o=r[n],s="x1"===e[n]||"y1"===e[n];if(s&&(o+=1),i.length<2)return;if(2===i.length)return void(a[n]=t.toGlobalCoord(t.getExtent()[s?1:0]));for(var l=void 0,c=void 0,u=1,h=0;h<i.length;h++){var d=i[h].coord,p=h===i.length-1?i[h-1].tickValue+u:i[h].tickValue;if(p===o){c=d;break}if(p<o)l=d;else if(null!=l&&p>o){c=(d+l)/2;break}1===h&&(u=p-i[0].tickValue)}null==c&&(l?l&&(c=i[i.length-1].coord):c=i[0].coord),a[n]=t.toGlobalCoord(c)}}));else{var o=this.getData(),s=o.getLayout("offset"),l=o.getLayout("size"),c=i.getBaseAxis().isHorizontal()?0:1;a[c]+=s+l/2}return a}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(_e["b"]);_e["b"].registerClass(Se);var Oe=Se,Ce=n("8918"),Ae=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.getInitialData=function(){return Object(we["a"])(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t},e.prototype.brushSelector=function(t,e,n){return n.rect(e.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Object(Ce["d"])(Oe.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(Oe),Me=Ae,Te=n("2dc5"),ke=n("2306"),Le=n("deca"),je=n("c7a2"),Ie=n("4aa2"),Ee=n("861c"),Pe=n("7d6c"),Re=n("7837"),De=n("88b3"),Fe=n("b0af"),Ne=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}return t}(),Be=function(t){function e(e){var n=t.call(this,e)||this;return n.type="sausage",n}return Object(xe["a"])(e,t),e.prototype.getDefaultShape=function(){return new Ne},e.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r0||0,0),a=Math.max(e.r,0),o=.5*(a-r),s=r+o,l=e.startAngle,c=e.endAngle,u=e.clockwise,h=2*Math.PI,d=u?c-l<h:l-c<h;d||(l=c-(u?h:-h));var p=Math.cos(l),f=Math.sin(l),g=Math.cos(c),m=Math.sin(c);d?(t.moveTo(p*r+n,f*r+i),t.arc(p*s+n,f*s+i,o,-Math.PI+l,l,!u)):t.moveTo(p*a+n,f*a+i),t.arc(n,i,a,l,c,!u),t.arc(g*s+n,m*s+i,o,c-2*Math.PI,c-Math.PI,!u),0!==r&&t.arc(n,i,r,c,l,u)},e}(T["b"]),Ve=Be,Ge=n("e887"),ze=n("5426"),Ue=n("c775");function He(t,e){e=e||{};var n=e.isRoundCap;return function(e,i,r){var a=i.position;if(!a||a instanceof Array)return Object(L["c"])(e,i,r);var o=t(a),s=null!=i.distance?i.distance:5,l=this.shape,c=l.cx,u=l.cy,h=l.r,d=l.r0,p=(h+d)/2,f=l.startAngle,g=l.endAngle,m=(f+g)/2,v=n?Math.abs(h-d)/2:0,y=Math.cos,b=Math.sin,x=c+h*y(f),_=u+h*b(f),w="left",S="top";switch(o){case"startArc":x=c+(d-s)*y(m),_=u+(d-s)*b(m),w="center",S="top";break;case"insideStartArc":x=c+(d+s)*y(m),_=u+(d+s)*b(m),w="center",S="bottom";break;case"startAngle":x=c+p*y(f)+Ye(f,s+v,!1),_=u+p*b(f)+Xe(f,s+v,!1),w="right",S="middle";break;case"insideStartAngle":x=c+p*y(f)+Ye(f,-s+v,!1),_=u+p*b(f)+Xe(f,-s+v,!1),w="left",S="middle";break;case"middle":x=c+p*y(m),_=u+p*b(m),w="center",S="middle";break;case"endArc":x=c+(h+s)*y(m),_=u+(h+s)*b(m),w="center",S="bottom";break;case"insideEndArc":x=c+(h-s)*y(m),_=u+(h-s)*b(m),w="center",S="top";break;case"endAngle":x=c+p*y(g)+Ye(g,s+v,!0),_=u+p*b(g)+Xe(g,s+v,!0),w="left",S="middle";break;case"insideEndAngle":x=c+p*y(g)+Ye(g,-s+v,!0),_=u+p*b(g)+Xe(g,-s+v,!0),w="right",S="middle";break;default:return Object(L["c"])(e,i,r)}return e=e||{},e.x=x,e.y=_,e.align=w,e.verticalAlign=S,e}}function We(t,e,n,i){if(Object(V["isNumber"])(i))t.setTextConfig({rotation:i});else if(Object(V["isArray"])(e))t.setTextConfig({rotation:0});else{var r,a=t.shape,o=a.clockwise?a.startAngle:a.endAngle,s=a.clockwise?a.endAngle:a.startAngle,l=(o+s)/2,c=n(e);switch(c){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":r=l;break;case"startAngle":case"insideStartAngle":r=o;break;case"endAngle":case"insideEndAngle":r=s;break;default:return void t.setTextConfig({rotation:0})}var u=1.5*Math.PI-r;"middle"===c&&u>Math.PI/2&&u<1.5*Math.PI&&(u-=Math.PI),t.setTextConfig({rotation:u})}}function Ye(t,e,n){return e*Math.sin(t)*(n?-1:1)}function Xe(t,e,n){return e*Math.cos(t)*(n?1:-1)}var qe=n("e4b8"),Ze=Math.max,Qe=Math.min;function Je(t,e){var n=t.getArea&&t.getArea();if(Object(ze["a"])(t,"cartesian2d")){var i=t.getBaseAxis();if("category"!==i.type||!i.onBand){var r=e.getLayout("bandWidth");i.isHorizontal()?(n.x-=r,n.width+=2*r):(n.y-=r,n.height+=2*r)}}return n}var Ke=function(t){function e(){var n=t.call(this)||this;return n.type=e.type,n._isFirstFrame=!0,n}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n,i){this._model=t,this._removeOnRenderedListener(n),this._updateDrawMode(t);var r=t.get("coordinateSystem");("cartesian2d"===r||"polar"===r)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,e,n):this._renderNormal(t,e,n,i))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,e){this._progressiveEls=[],this._incrementalRenderLarge(t,e)},e.prototype.eachRendered=function(t){Object(ke["traverseElements"])(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t,e,n,i){var r,a=this.group,o=t.getData(),s=this._data,l=t.coordinateSystem,c=l.getBaseAxis();"cartesian2d"===l.type?r=c.isHorizontal():"polar"===l.type&&(r="angle"===c.dim);var u=t.isAnimationEnabled()?t:null,h=en(t,l);h&&this._enableRealtimeSort(h,o,n);var d=t.get("clip",!0)||h,p=Je(l,o);a.removeClipPath();var f=t.get("roundCap",!0),g=t.get("showBackground",!0),m=t.getModel("backgroundStyle"),v=m.get("borderRadius")||0,y=[],b=this._backgroundEls,x=i&&i.isInitSort,_=i&&"changeAxisOrder"===i.type;function w(t){var e=ln[l.type](o,t),n=bn(l,r,e);return n.useStyle(m.getItemStyle()),"cartesian2d"===l.type?n.setShape("r",v):n.setShape("cornerRadius",v),y[t]=n,n}o.diff(s).add((function(e){var n=o.getItemModel(e),i=ln[l.type](o,e,n);if(g&&w(e),o.hasValue(e)&&sn[l.type](i)){var s=!1;d&&(s=$e[l.type](p,i));var m=tn[l.type](t,o,e,i,r,u,c.model,!1,f);h&&(m.forceLabelAnimation=!0),hn(m,o,e,n,i,t,r,"polar"===l.type),x?m.attr({shape:i}):h?nn(h,u,m,i,e,r,!1,!1):Object(Le["c"])(m,{shape:i},t,e),o.setItemGraphicEl(e,m),a.add(m),m.ignore=s}})).update((function(e,n){var i=o.getItemModel(e),S=ln[l.type](o,e,i);if(g){var O=void 0;0===b.length?O=w(n):(O=b[n],O.useStyle(m.getItemStyle()),"cartesian2d"===l.type?O.setShape("r",v):O.setShape("cornerRadius",v),y[e]=O);var C=ln[l.type](o,e),A=yn(r,C,l);Object(Le["h"])(O,{shape:A},u,e)}var M=s.getItemGraphicEl(n);if(o.hasValue(e)&&sn[l.type](S)){var T=!1;if(d&&(T=$e[l.type](p,S),T&&a.remove(M)),M?Object(Le["g"])(M):M=tn[l.type](t,o,e,S,r,u,c.model,!!M,f),h&&(M.forceLabelAnimation=!0),_){var k=M.getTextContent();if(k){var L=Object(Re["f"])(k);null!=L.prevValue&&(L.prevValue=L.value)}}else hn(M,o,e,i,S,t,r,"polar"===l.type);x?M.attr({shape:S}):h?nn(h,u,M,S,e,r,!0,_):Object(Le["h"])(M,{shape:S},t,e,null),o.setItemGraphicEl(e,M),M.ignore=T,a.add(M)}else a.remove(M)})).remove((function(e){var n=s.getItemGraphicEl(e);n&&Object(Le["f"])(n,t,e)})).execute();var S=this._backgroundGroup||(this._backgroundGroup=new Te["a"]);S.removeAll();for(var O=0;O<y.length;++O)S.add(y[O]);a.add(S),this._backgroundEls=y,this._data=o},e.prototype._renderLarge=function(t,e,n){this._clear(),gn(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,e){this._removeBackground(),gn(e,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var e=t.get("clip",!0)&&Object(Fe["a"])(t.coordinateSystem,!1,t),n=this.group;e?n.setClipPath(e):n.removeClipPath()},e.prototype._enableRealtimeSort=function(t,e,n){var i=this;if(e.count()){var r=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(e,t,n),this._isFirstFrame=!1;else{var a=function(t){var n=e.getItemGraphicEl(t),i=n&&n.shape;return i&&Math.abs(r.isHorizontal()?i.height:i.width)||0};this._onRendered=function(){i._updateSortWithinSameData(e,a,r,n)},n.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,e,n){var i=[];return t.each(t.mapDimension(e.dim),(function(t,e){var r=n(e);r=null==r?NaN:r,i.push({dataIndex:e,mappedValue:r,ordinalNumber:t})})),i.sort((function(t,e){return e.mappedValue-t.mappedValue})),{ordinalNumbers:Object(V["map"])(i,(function(t){return t.ordinalNumber}))}},e.prototype._isOrderChangedWithinSameData=function(t,e,n){for(var i=n.scale,r=t.mapDimension(n.dim),a=Number.MAX_VALUE,o=0,s=i.getOrdinalMeta().categories.length;o<s;++o){var l=t.rawIndexOf(r,i.getRawOrdinalNumber(o)),c=l<0?Number.MIN_VALUE:e(t.indexOfRawIndex(l));if(c>a)return!0;a=c}return!1},e.prototype._isOrderDifferentInView=function(t,e){for(var n=e.scale,i=n.getExtent(),r=Math.max(0,i[0]),a=Math.min(i[1],n.getOrdinalMeta().categories.length-1);r<=a;++r)if(t.ordinalNumbers[r]!==n.getRawOrdinalNumber(r))return!0},e.prototype._updateSortWithinSameData=function(t,e,n,i){if(this._isOrderChangedWithinSameData(t,e,n)){var r=this._dataSort(t,n,e);this._isOrderDifferentInView(r,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:r}))}},e.prototype._dispatchInitSort=function(t,e,n){var i=e.baseAxis,r=this._dataSort(t,i,(function(n){return t.get(t.mapDimension(e.otherAxis.dim),n)}));n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:r})},e.prototype.remove=function(t,e){this._clear(this._model),this._removeOnRenderedListener(e)},e.prototype.dispose=function(t,e){this._removeOnRenderedListener(e)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var e=this.group,n=this._data;t&&t.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl((function(e){Object(Le["f"])(e,t,Object(Ee["a"])(e).dataIndex)}))):e.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(Ge["a"]),$e={cartesian2d:function(t,e){var n=e.width<0?-1:1,i=e.height<0?-1:1;n<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height);var r=t.x+t.width,a=t.y+t.height,o=Ze(e.x,t.x),s=Qe(e.x+e.width,r),l=Ze(e.y,t.y),c=Qe(e.y+e.height,a),u=s<o,h=c<l;return e.x=u&&o>r?s:o,e.y=h&&l>a?c:l,e.width=u?0:s-o,e.height=h?0:c-l,n<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height),u||h},polar:function(t,e){var n=e.r0<=e.r?1:-1;if(n<0){var i=e.r;e.r=e.r0,e.r0=i}var r=Qe(e.r,t.r),a=Ze(e.r0,t.r0);e.r=r,e.r0=a;var o=r-a<0;if(n<0){i=e.r;e.r=e.r0,e.r0=i}return o}},tn={cartesian2d:function(t,e,n,i,r,a,o,s,l){var c=new je["a"]({shape:Object(V["extend"])({},i),z2:1});if(c.__dataIndex=n,c.name="item",a){var u=c.shape,h=r?"height":"width";u[h]=0}return c},polar:function(t,e,n,i,r,a,o,s,l){var c=!r&&l?Ve:Ie["a"],u=new c({shape:i,z2:1});u.name="item";var h=un(r);if(u.calculateTextPosition=He(h,{isRoundCap:c===Ve}),a){var d=u.shape,p=r?"r":"endAngle",f={};d[p]=r?i.r0:i.startAngle,f[p]=i[p],(s?Le["h"]:Le["c"])(u,{shape:f},a)}return u}};function en(t,e){var n=t.get("realtimeSort",!0),i=e.getBaseAxis();if(n&&"category"===i.type&&"cartesian2d"===e.type)return{baseAxis:i,otherAxis:e.getOtherAxis(i)}}function nn(t,e,n,i,r,a,o,s){var l,c;a?(c={x:i.x,width:i.width},l={y:i.y,height:i.height}):(c={y:i.y,height:i.height},l={x:i.x,width:i.width}),s||(o?Le["h"]:Le["c"])(n,{shape:l},e,r,null);var u=e?t.baseAxis.model:null;(o?Le["h"]:Le["c"])(n,{shape:c},u,r)}function rn(t,e){for(var n=0;n<e.length;n++)if(!isFinite(t[e[n]]))return!0;return!1}var an=["x","y","width","height"],on=["cx","cy","r","startAngle","endAngle"],sn={cartesian2d:function(t){return!rn(t,an)},polar:function(t){return!rn(t,on)}},ln={cartesian2d:function(t,e,n){var i=t.getItemLayout(e),r=n?dn(n,i):0,a=i.width>0?1:-1,o=i.height>0?1:-1;return{x:i.x+a*r/2,y:i.y+o*r/2,width:i.width-a*r,height:i.height-o*r}},polar:function(t,e,n){var i=t.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function cn(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}function un(t){return function(t){var e=t?"Arc":"Angle";return function(t){switch(t){case"start":case"insideStart":case"end":case"insideEnd":return t+e;default:return t}}}(t)}function hn(t,e,n,i,r,a,o,s){var l=e.getItemVisual(n,"style");if(s){if(!a.get("roundCap")){var c=t.shape,u=Object(qe["a"])(i.getModel("itemStyle"),c,!0);Object(V["extend"])(c,u),t.setShape(c)}}else{var h=i.get(["itemStyle","borderRadius"])||0;t.setShape("r",h)}t.useStyle(l);var d=i.getShallow("cursor");d&&t.attr("cursor",d);var p=s?o?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":o?r.height>=0?"bottom":"top":r.width>=0?"right":"left",f=Object(Re["e"])(i);Object(Re["g"])(t,f,{labelFetcher:a,labelDataIndex:n,defaultText:Object(Ue["b"])(a.getData(),n),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:p});var g=t.getTextContent();if(s&&g){var m=i.get(["label","position"]);t.textConfig.inside="middle"===m||null,We(t,"outside"===m?p:m,un(o),i.get(["label","rotate"]))}Object(Re["h"])(g,f,a.getRawValue(n),(function(t){return Object(Ue["a"])(e,t)}));var v=i.getModel(["emphasis"]);Object(Pe["J"])(t,v.get("focus"),v.get("blurScope"),v.get("disabled")),Object(Pe["I"])(t,i),cn(r)&&(t.style.fill="none",t.style.stroke="none",Object(V["each"])(t.states,(function(t){t.style&&(t.style.fill=t.style.stroke="none")})))}function dn(t,e){var n=t.get(["itemStyle","borderColor"]);if(!n||"none"===n)return 0;var i=t.get(["itemStyle","borderWidth"])||0,r=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),a=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(i,r,a)}var pn=function(){function t(){}return t}(),fn=function(t){function e(e){var n=t.call(this,e)||this;return n.type="largeBar",n}return Object(xe["a"])(e,t),e.prototype.getDefaultShape=function(){return new pn},e.prototype.buildPath=function(t,e){for(var n=e.points,i=this.baseDimIdx,r=1-this.baseDimIdx,a=[],o=[],s=this.barWidth,l=0;l<n.length;l+=3)o[i]=s,o[r]=n[l+2],a[i]=n[l+i],a[r]=n[l+r],t.rect(a[0],a[1],o[0],o[1])},e}(T["b"]);function gn(t,e,n,i){var r=t.getData(),a=r.getLayout("valueAxisHorizontal")?1:0,o=r.getLayout("largeDataIndices"),s=r.getLayout("size"),l=t.getModel("backgroundStyle"),c=r.getLayout("largeBackgroundPoints");if(c){var u=new fn({shape:{points:c},incremental:!!i,silent:!0,z2:0});u.baseDimIdx=a,u.largeDataIndices=o,u.barWidth=s,u.useStyle(l.getItemStyle()),e.add(u),n&&n.push(u)}var h=new fn({shape:{points:r.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=a,h.largeDataIndices=o,h.barWidth=s,e.add(h),h.useStyle(r.getVisual("style")),Object(Ee["a"])(h).seriesIndex=t.seriesIndex,t.get("silent")||(h.on("mousedown",mn),h.on("mousemove",mn)),n&&n.push(h)}var mn=Object(De["c"])((function(t){var e=this,n=vn(e,t.offsetX,t.offsetY);Object(Ee["a"])(e).dataIndex=n>=0?n:null}),30,!1);function vn(t,e,n){for(var i=t.baseDimIdx,r=1-i,a=t.shape.points,o=t.largeDataIndices,s=[],l=[],c=t.barWidth,u=0,h=a.length/3;u<h;u++){var d=3*u;if(l[i]=c,l[r]=a[d+2],s[i]=a[d+i],s[r]=a[d+r],l[r]<0&&(s[r]+=l[r],l[r]=-l[r]),e>=s[0]&&e<=s[0]+l[0]&&n>=s[1]&&n<=s[1]+l[1])return o[u]}return-1}function yn(t,e,n){if(Object(ze["a"])(n,"cartesian2d")){var i=e,r=n.getArea();return{x:t?i.x:r.x,y:t?r.y:i.y,width:t?i.width:r.width,height:t?r.height:i.height}}r=n.getArea();var a=e;return{cx:r.cx,cy:r.cy,r0:t?r.r0:a.r0,r:t?r.r:a.r,startAngle:t?a.startAngle:0,endAngle:t?a.endAngle:2*Math.PI}}function bn(t,e,n){var i="polar"===t.type?Ie["a"]:je["a"];return new i({shape:yn(e,n,t),silent:!0,z2:0})}var xn=Ke;function _n(t){t.registerChartView(xn),t.registerSeriesModel(Me),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,V["curry"](ye["c"],"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Object(ye["a"])("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,Object(be["a"])("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},(function(e){t.sortInfo&&e.axis.setCategorySortInfo(t.sortInfo)}))}))}var wn=n("49bb"),Sn=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return Object(xe["a"])(e,t),e.prototype.getInitialData=function(t,e){return Object(we["a"])(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},e.prototype.brushSelector=function(t,e,n){return n.point(e.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e}(_e["b"]),On=Sn,Cn=n("f706"),An=n("9850"),Mn=n("a15a"),Tn=4,kn=function(){function t(){}return t}(),Ln=function(t){function e(e){var n=t.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return Object(xe["a"])(e,t),e.prototype.getDefaultShape=function(){return new kn},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,e){var n,i=e.points,r=e.size,a=this.symbolProxy,o=a.shape,s=t.getContext?t.getContext():t,l=s&&r[0]<Tn,c=this.softClipShape;if(l)this._ctx=s;else{for(this._ctx=null,n=this._off;n<i.length;){var u=i[n++],h=i[n++];isNaN(u)||isNaN(h)||(c&&!c.contain(u,h)||(o.x=u-r[0]/2,o.y=h-r[1]/2,o.width=r[0],o.height=r[1],a.buildPath(t,o,!0)))}this.incremental&&(this._off=n,this.notClear=!0)}},e.prototype.afterBrush=function(){var t,e=this.shape,n=e.points,i=e.size,r=this._ctx,a=this.softClipShape;if(r){for(t=this._off;t<n.length;){var o=n[t++],s=n[t++];isNaN(o)||isNaN(s)||(a&&!a.contain(o,s)||r.fillRect(o-i[0]/2,s-i[1]/2,i[0],i[1]))}this.incremental&&(this._off=t,this.notClear=!0)}},e.prototype.findDataIndex=function(t,e){for(var n=this.shape,i=n.points,r=n.size,a=Math.max(r[0],4),o=Math.max(r[1],4),s=i.length/2-1;s>=0;s--){var l=2*s,c=i[l]-a/2,u=i[l+1]-o/2;if(t>=c&&e>=u&&t<=c+a&&e<=u+o)return s}return-1},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect();if(t=n[0],e=n[1],i.contain(t,e)){var r=this.hoverDataIdx=this.findDataIndex(t,e);return r>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var e=this.shape,n=e.points,i=e.size,r=i[0],a=i[1],o=1/0,s=1/0,l=-1/0,c=-1/0,u=0;u<n.length;){var h=n[u++],d=n[u++];o=Math.min(h,o),l=Math.max(h,l),s=Math.min(d,s),c=Math.max(d,c)}t=this._rect=new An["a"](o-r/2,s-a/2,l-o+r,c-s+a)}return t},e}(T["b"]),jn=function(){function t(){this.group=new Te["a"]}return t.prototype.updateData=function(t,e){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,e)},t.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild((function(t){if(null!=t.startIndex){var n=2*(t.endIndex-t.startIndex),i=4*t.startIndex*2;e=new Float32Array(e.buffer,i,n)}t.setShape("points",e),t.reset()}))},t.prototype.incrementalPrepareUpdate=function(t){this._clear()},t.prototype.incrementalUpdate=function(t,e,n){var i=this._newAdded[0],r=e.getLayout("points"),a=i&&i.shape.points;if(a&&a.length<2e4){var o=a.length,s=new Float32Array(o+r.length);s.set(a),s.set(r,o),i.endIndex=t.end,i.setShape({points:s})}else{this._newAdded=[];var l=this._create();l.startIndex=t.start,l.endIndex=t.end,l.incremental=!0,l.setShape({points:r}),this._setCommon(l,e,n)}},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new Ln({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},t.prototype._setCommon=function(t,e,n){var i=e.hostModel;n=n||{};var r=e.getVisual("symbolSize");t.setShape("size",r instanceof Array?r:[r,r]),t.softClipShape=n.clipShape||null,t.symbolProxy=Object(Mn["a"])(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var a=t.shape.size[0]<Tn;t.useStyle(i.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var o=e.getVisual("style"),s=o&&o.fill;s&&t.setColor(s);var l=Object(Ee["a"])(t);l.seriesIndex=i.seriesIndex,t.on("mousemove",(function(e){l.dataIndex=null;var n=t.hoverDataIdx;n>=0&&(l.dataIndex=n+(t.startIndex||0))}))},t.prototype.remove=function(){this._clear()},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),In=jn,En=n("87c3"),Pn=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),r=this._updateSymbolDraw(i,t);r.updateData(i,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,n){var i=t.getData(),r=this._updateSymbolDraw(i,t);r.incrementalPrepareUpdate(i),this._finished=!1},e.prototype.incrementalRender=function(t,e,n){this._symbolDraw.incrementalUpdate(t,e.getData(),{clipShape:this._getClipShape(e)}),this._finished=t.end===e.getData().count()},e.prototype.updateTransform=function(t,e,n){var i=t.getData();if(this.group.dirty(),!this._finished||i.count()>1e4)return{update:!0};var r=Object(En["a"])("").reset(t,e,n);r.progress&&r.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout(i)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){var e=t.coordinateSystem,n=e&&e.getArea&&e.getArea();return t.get("clip",!0)?n:null},e.prototype._updateSymbolDraw=function(t,e){var n=this._symbolDraw,i=e.pipelineContext,r=i.large;return n&&r===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=r?new In:new Cn["a"],this._isLargeDraw=r,this.group.removeAll()),this.group.add(n.group),n},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(Ge["a"]),Rn=Pn,Dn=n("8702");function Fn(t){Object(C["a"])(Dn["a"]),t.registerSeriesModel(On),t.registerChartView(Rn),t.registerLayout(Object(En["a"])("scatter"))}function Nn(t){t.eachSeriesByType("radar",(function(t){var e=t.getData(),n=[],i=t.coordinateSystem;if(i){var r=i.getIndicatorAxes();V["each"](r,(function(t,a){e.each(e.mapDimension(r[a].dim),(function(t,e){n[e]=n[e]||[];var r=i.dataToPoint(t,a);n[e][a]=Bn(r)?r:Vn(i)}))})),e.each((function(t){var r=V["find"](n[t],(function(t){return Bn(t)}))||Vn(i);n[t].push(r.slice()),e.setItemLayout(t,n[t])}))}}))}function Bn(t){return!isNaN(t[0])&&!isNaN(t[1])}function Vn(t){return[t.cx,t.cy]}var Gn=n("d3f4");function zn(t){var e=t.polar;if(e){V["isArray"](e)||(e=[e]);var n=[];V["each"](e,(function(e,i){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],V["isArray"](t.radar)||(t.radar=[t.radar]),t.radar.push(e)):n.push(e)})),t.polar=n}V["each"](t.series,(function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)}))}var Un=n("87b1"),Hn=n("d498"),Wn=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n){var i=t.coordinateSystem,r=this.group,a=t.getData(),o=this._data;function s(t,e){var n=t.getItemVisual(e,"symbol")||"circle";if("none"!==n){var i=Mn["c"](t.getItemVisual(e,"symbolSize")),r=Mn["a"](n,-1,-1,2,2),a=t.getItemVisual(e,"symbolRotate")||0;return r.attr({style:{strokeNoScale:!0},z2:100,scaleX:i[0]/2,scaleY:i[1]/2,rotation:a*Math.PI/180||0}),r}}function l(e,n,i,r,a,o){i.removeAll();for(var l=0;l<n.length-1;l++){var c=s(r,a);c&&(c.__dimIdx=l,e[l]?(c.setPosition(e[l]),ke[o?"initProps":"updateProps"](c,{x:n[l][0],y:n[l][1]},t,a)):c.setPosition(n[l]),i.add(c))}}function c(t){return V["map"](t,(function(t){return[i.cx,i.cy]}))}a.diff(o).add((function(e){var n=a.getItemLayout(e);if(n){var i=new Un["a"],r=new Hn["a"],o={shape:{points:n}};i.shape.points=c(n),r.shape.points=c(n),Le["c"](i,o,t,e),Le["c"](r,o,t,e);var s=new Te["a"],u=new Te["a"];s.add(r),s.add(i),s.add(u),l(r.shape.points,n,u,a,e,!0),a.setItemGraphicEl(e,s)}})).update((function(e,n){var i=o.getItemGraphicEl(n),r=i.childAt(0),s=i.childAt(1),c=i.childAt(2),u={shape:{points:a.getItemLayout(e)}};u.shape.points&&(l(r.shape.points,u.shape.points,c,a,e,!1),Object(Le["g"])(s),Object(Le["g"])(r),Le["h"](r,u,t),Le["h"](s,u,t),a.setItemGraphicEl(e,i))})).remove((function(t){r.remove(o.getItemGraphicEl(t))})).execute(),a.eachItemGraphicEl((function(t,e){var n=a.getItemModel(e),i=t.childAt(0),o=t.childAt(1),s=t.childAt(2),l=a.getItemVisual(e,"style"),c=l.fill;r.add(t),i.useStyle(V["defaults"](n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:c})),Object(Pe["I"])(i,n,"lineStyle"),Object(Pe["I"])(o,n,"areaStyle");var u=n.getModel("areaStyle"),h=u.isEmpty()&&u.parentModel.isEmpty();o.ignore=h,V["each"](["emphasis","select","blur"],(function(t){var e=n.getModel([t,"areaStyle"]),i=e.isEmpty()&&e.parentModel.isEmpty();o.ensureState(t).ignore=i&&h})),o.useStyle(V["defaults"](u.getAreaStyle(),{fill:c,opacity:.7,decal:l.decal}));var d=n.getModel("emphasis"),p=d.getModel("itemStyle").getItemStyle();s.eachChild((function(t){if(t instanceof k["a"]){var i=t.style;t.useStyle(V["extend"]({image:i.image,x:i.x,y:i.y,width:i.width,height:i.height},l))}else t.useStyle(l),t.setColor(c),t.style.strokeNoScale=!0;var r=t.ensureState("emphasis");r.style=V["clone"](p);var o=a.getStore().get(a.getDimensionIndex(t.__dimIdx),e);(null==o||isNaN(o))&&(o=""),Object(Re["g"])(t,Object(Re["e"])(n),{labelFetcher:a.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:o,inheritColor:c,defaultOpacity:l.opacity})})),Object(Pe["J"])(t,d.get("focus"),d.get("blurScope"),d.get("disabled"))})),this._data=a},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(Ge["a"]),Yn=Wn,Xn=n("3f23"),qn=n("c4a3"),Zn=n("217c"),Qn=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return Object(xe["a"])(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new qn["a"](V["bind"](this.getData,this),V["bind"](this.getRawData,this))},e.prototype.getInitialData=function(t,e){return Object(Xn["a"])(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,e,n){var i=this.getData(),r=this.coordinateSystem,a=r.getIndicatorAxes(),o=this.getData().getName(t),s=""===o?this.name:o,l=Object(Zn["e"])(this,t);return Object(Zn["c"])("section",{header:s,sortBlocks:!0,blocks:V["map"](a,(function(e){var n=i.get(i.mapDimension(e.dim),t);return Object(Zn["c"])("nameValue",{markerType:"subItem",markerColor:l,name:e.name,value:n,sortParam:n})}))})},e.prototype.getTooltipPosition=function(t){if(null!=t)for(var e=this.getData(),n=this.coordinateSystem,i=e.getValues(V["map"](n.dimensions,(function(t){return e.mapDimension(t)})),t),r=0,a=i.length;r<a;r++)if(!isNaN(i[r])){var o=n.getIndicatorAxes();return n.coordToPoint(o[r].dataToCoord(i[r]),r)}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(_e["b"]),Jn=Qn,Kn=n("71ad"),$n=n("4319"),ti=n("2023"),ei=n("6cb7"),ni=Kn["a"].value;function ii(t,e){return V["defaults"]({show:e},t)}var ri=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),n=this.get("scale"),i=this.get("axisLine"),r=this.get("axisTick"),a=this.get("axisLabel"),o=this.get("axisName"),s=this.get(["axisName","show"]),l=this.get(["axisName","formatter"]),c=this.get("axisNameGap"),u=this.get("triggerEvent"),h=V["map"](this.get("indicator")||[],(function(h){null!=h.max&&h.max>0&&!h.min?h.min=0:null!=h.min&&h.min<0&&!h.max&&(h.max=0);var d=o;null!=h.color&&(d=V["defaults"]({color:h.color},o));var p=V["merge"](V["clone"](h),{boundaryGap:t,splitNumber:e,scale:n,axisLine:i,axisTick:r,axisLabel:a,name:h.text,showName:s,nameLocation:"end",nameGap:c,nameTextStyle:d,triggerEvent:u},!1);if(V["isString"](l)){var f=p.name;p.name=l.replace("{value}",null!=f?f:"")}else V["isFunction"](l)&&(p.name=l(p.name,p));var g=new $n["a"](p,null,this.ecModel);return V["mixin"](g,ti["a"].prototype),g.mainType="radar",g.componentIndex=this.componentIndex,g}),this);this._indicatorModels=h},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:V["merge"]({lineStyle:{color:"#bbb"}},ni.axisLine),axisLabel:ii(ni.axisLabel,!1),axisTick:ii(ni.axisTick,!1),splitLine:ii(ni.splitLine,!0),splitArea:ii(ni.splitArea,!0),indicator:[]},e}(ei["a"]),ai=ri,oi=n("fab2"),si=n("d9fc"),li=n("4573"),ci=n("b12f"),ui=["axisLine","axisTickLabel","axisName"],hi=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n){var i=this.group;i.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes(),i=V["map"](n,(function(t){var n=t.model.get("showName")?t.name:"",i=new oi["a"](t.model,{axisName:n,position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return i}));V["each"](i,(function(t){V["each"](ui,t.add,t),this.group.add(t.getGroup())}),this)},e.prototype._buildSplitLineAndArea=function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes();if(n.length){var i=t.get("shape"),r=t.getModel("splitLine"),a=t.getModel("splitArea"),o=r.getModel("lineStyle"),s=a.getModel("areaStyle"),l=r.get("show"),c=a.get("show"),u=o.get("color"),h=s.get("color"),d=V["isArray"](u)?u:[u],p=V["isArray"](h)?h:[h],f=[],g=[];if("circle"===i)for(var m=n[0].getTicksCoords(),v=e.cx,y=e.cy,b=0;b<m.length;b++){if(l){var x=T(f,d,b);f[x].push(new si["a"]({shape:{cx:v,cy:y,r:m[b].coord}}))}if(c&&b<m.length-1){x=T(g,p,b);g[x].push(new li["a"]({shape:{cx:v,cy:y,r0:m[b].coord,r:m[b+1].coord}}))}}else{var _,w=V["map"](n,(function(t,n){var i=t.getTicksCoords();return _=null==_?i.length-1:Math.min(i.length-1,_),V["map"](i,(function(t){return e.coordToPoint(t.coord,n)}))})),S=[];for(b=0;b<=_;b++){for(var O=[],C=0;C<n.length;C++)O.push(w[C][b]);if(O[0]&&O.push(O[0].slice()),l){x=T(f,d,b);f[x].push(new Hn["a"]({shape:{points:O}}))}if(c&&S){x=T(g,p,b-1);g[x].push(new Un["a"]({shape:{points:O.concat(S)}}))}S=O.slice().reverse()}}var A=o.getLineStyle(),M=s.getAreaStyle();V["each"](g,(function(t,e){this.group.add(ke["mergePath"](t,{style:V["defaults"]({stroke:"none",fill:p[e%p.length]},M),silent:!0}))}),this),V["each"](f,(function(t,e){this.group.add(ke["mergePath"](t,{style:V["defaults"]({fill:"none",stroke:d[e%d.length]},A),silent:!0}))}),this)}function T(t,e,n){var i=n%e.length;return t[i]=t[i]||[],i}},e.type="radar",e}(ci["a"]),di=hi,pi=n("84ce"),fi=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return r.type="value",r.angle=0,r.name="",r}return Object(xe["a"])(e,t),e}(pi["a"]),gi=fi,mi=n("89e3"),vi=n("3842"),yi=n("b2a0"),bi=function(){function t(t,e,n){this.dimensions=[],this._model=t,this._indicatorAxes=Object(V["map"])(t.getIndicatorModels(),(function(t,e){var n="indicator_"+e,i=new gi(n,new mi["a"]);return i.name=t.get("name"),i.model=t,t.axis=i,this.dimensions.push(n),i}),this),this.resize(t,n)}return t.prototype.getIndicatorAxes=function(){return this._indicatorAxes},t.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},t.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e],i=n.angle,r=this.cx+t*Math.cos(i),a=this.cy-t*Math.sin(i);return[r,a]},t.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=Math.sqrt(e*e+n*n);e/=i,n/=i;for(var r,a=Math.atan2(-n,e),o=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var c=this._indicatorAxes[l],u=Math.abs(a-c.angle);u<o&&(r=c,s=l,o=u)}return[s,+(r&&r.coordToData(i))]},t.prototype.resize=function(t,e){var n=t.get("center"),i=e.getWidth(),r=e.getHeight(),a=Math.min(i,r)/2;this.cx=vi["q"](n[0],i),this.cy=vi["q"](n[1],r),this.startAngle=t.get("startAngle")*Math.PI/180;var o=t.get("radius");(Object(V["isString"])(o)||Object(V["isNumber"])(o))&&(o=[0,o]),this.r0=vi["q"](o[0],a),this.r=vi["q"](o[1],a),Object(V["each"])(this._indicatorAxes,(function(t,e){t.setExtent(this.r0,this.r);var n=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),t.angle=n}),this)},t.prototype.update=function(t,e){var n=this._indicatorAxes,i=this._model;Object(V["each"])(n,(function(t){t.scale.setExtent(1/0,-1/0)})),t.eachSeriesByType("radar",(function(e,r){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===i){var a=e.getData();Object(V["each"])(n,(function(t){t.scale.unionExtentFromData(a,a.mapDimension(t.dim))}))}}),this);var r=i.get("splitNumber"),a=new mi["a"];a.setExtent(0,r),a.setInterval(1),Object(V["each"])(n,(function(t,e){Object(yi["a"])(t.scale,t.model,a)}))},t.prototype.convertToPixel=function(t,e,n){return null},t.prototype.convertFromPixel=function(t,e,n){return null},t.prototype.containPoint=function(t){return!1},t.create=function(e,n){var i=[];return e.eachComponent("radar",(function(r){var a=new t(r,e,n);i.push(a),r.coordinateSystem=a})),e.eachSeriesByType("radar",(function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("radarIndex")||0])})),i},t.dimensions=[],t}(),xi=bi;function _i(t){t.registerCoordinateSystem("radar",xi),t.registerComponentModel(ai),t.registerComponentView(di),t.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each((function(t){e.setItemVisual(t,"legendIcon","roundRect")})),e.setVisual("legendIcon","roundRect")}})}function wi(t){Object(C["a"])(_i),t.registerChartView(Yn),t.registerSeriesModel(Jn),t.registerLayout(Nn),t.registerProcessor(Object(Gn["a"])("radar")),t.registerPreprocessor(zn)}var Si=n("6fd3"),Oi=n("607d"),Ci=n("1be7"),Ai="\0_ec_interaction_mutex";function Mi(t,e,n){var i=Li(t);i[e]=n}function Ti(t,e,n){var i=Li(t),r=i[e];r===n&&(i[e]=null)}function ki(t,e){return!!Li(t)[e]}function Li(t){return t[Ai]||(t[Ai]={})}Ci["m"]({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},V["noop"]);var ji=function(t){function e(e){var n=t.call(this)||this;n._zr=e;var i=Object(V["bind"])(n._mousedownHandler,n),r=Object(V["bind"])(n._mousemoveHandler,n),a=Object(V["bind"])(n._mouseupHandler,n),o=Object(V["bind"])(n._mousewheelHandler,n),s=Object(V["bind"])(n._pinchHandler,n);return n.enable=function(t,n){this.disable(),this._opt=Object(V["defaults"])(Object(V["clone"])(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",i),e.on("mousemove",r),e.on("mouseup",a)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",o),e.on("pinch",s))},n.disable=function(){e.off("mousedown",i),e.off("mousemove",r),e.off("mouseup",a),e.off("mousewheel",o),e.off("pinch",s)},n}return Object(xe["a"])(e,t),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!Oi["d"](t)){var e=t.target;while(e){if(e.draggable)return;e=e.__hostTarget||e.parent}var n=t.offsetX,i=t.offsetY;this.pointerChecker&&this.pointerChecker(t,n,i)&&(this._x=n,this._y=i,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&Pi("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!ki(this._zr,"globalPan")){var e=t.offsetX,n=t.offsetY,i=this._x,r=this._y,a=e-i,o=n-r;this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&Oi["g"](t.event),Ei(this,"pan","moveOnMouseMove",t,{dx:a,dy:o,oldX:i,oldY:r,newX:e,newY:n,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){Oi["d"](t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var e=Pi("zoomOnMouseWheel",t,this._opt),n=Pi("moveOnMouseWheel",t,this._opt),i=t.wheelDelta,r=Math.abs(i),a=t.offsetX,o=t.offsetY;if(0!==i&&(e||n)){if(e){var s=r>3?1.4:r>1?1.2:1.1,l=i>0?s:1/s;Ii(this,"zoom","zoomOnMouseWheel",t,{scale:l,originX:a,originY:o,isAvailableBehavior:null})}if(n){var c=Math.abs(i),u=(i>0?1:-1)*(c>3?.4:c>1?.15:.05);Ii(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:u,originX:a,originY:o,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){if(!ki(this._zr,"globalPan")){var e=t.pinchScale>1?1.1:1/1.1;Ii(this,"zoom",null,t,{scale:e,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e}(Si["a"]);function Ii(t,e,n,i,r){t.pointerChecker&&t.pointerChecker(i,r.originX,r.originY)&&(Oi["g"](i.event),Ei(t,e,n,i,r))}function Ei(t,e,n,i,r){r.isAvailableBehavior=Object(V["bind"])(Pi,null,n,i),t.trigger(e,r)}function Pi(t,e,n){var i=n[t];return!t||i&&(!Object(V["isString"])(i)||e.event[i+"Key"])}var Ri=ji;function Di(t,e,n){var i=t.target;i.x+=e,i.y+=n,i.dirty()}function Fi(t,e,n,i){var r=t.target,a=t.zoomLimit,o=t.zoom=t.zoom||1;if(o*=e,a){var s=a.min||0,l=a.max||1/0;o=Math.max(Math.min(l,o),s)}var c=o/t.zoom;t.zoom=o,r.x-=(n-r.x)*(c-1),r.y-=(i-r.y)*(c-1),r.scaleX*=c,r.scaleY*=c,r.dirty()}var Ni={axisPointer:1,tooltip:1,brush:1};function Bi(t,e,n){var i=e.getComponentByElement(t.topTarget),r=i&&i.coordinateSystem;return i&&i!==n&&!Ni.hasOwnProperty(i.mainType)&&r&&r.model!==n}var Vi,Gi=n("ae69"),zi=n("cb11"),Ui=n("1687"),Hi=n("342d"),Wi=n("48a9"),Yi=n("dded");function Xi(t){if(Object(V["isString"])(t)){var e=new DOMParser;t=e.parseFromString(t,"text/xml")}var n=t;9===n.nodeType&&(n=n.firstChild);while("svg"!==n.nodeName.toLowerCase()||1!==n.nodeType)n=n.nextSibling;return n}var qi={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},Zi=Object(V["keys"])(qi),Qi={"alignment-baseline":"textBaseline","stop-color":"stopColor"},Ji=Object(V["keys"])(Qi),Ki=function(){function t(){this._defs={},this._root=null}return t.prototype.parse=function(t,e){e=e||{};var n=Xi(t);this._defsUsePending=[];var i=new Te["a"];this._root=i;var r=[],a=n.getAttribute("viewBox")||"",o=parseFloat(n.getAttribute("width")||e.width),s=parseFloat(n.getAttribute("height")||e.height);isNaN(o)&&(o=null),isNaN(s)&&(s=null),rr(n,i,null,!0,!1);var l,c,u=n.firstChild;while(u)this._parseNode(u,i,r,null,!1,!1),u=u.nextSibling;if(lr(this._defs,this._defsUsePending),this._defsUsePending=[],a){var h=ur(a);h.length>=4&&(l={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(l&&null!=o&&null!=s&&(c=vr(l,{x:0,y:0,width:o,height:s}),!e.ignoreViewBox)){var d=i;i=new Te["a"],i.add(d),d.scaleX=d.scaleY=c.scale,d.x=c.x,d.y=c.y}return e.ignoreRootClip||null==o||null==s||i.setClipPath(new je["a"]({shape:{x:0,y:0,width:o,height:s}})),{root:i,width:o,height:s,viewBoxRect:l,viewBoxTransform:c,named:r}},t.prototype._parseNode=function(t,e,n,i,r,a){var o,s=t.nodeName.toLowerCase(),l=i;if("defs"===s&&(r=!0),"text"===s&&(a=!0),"defs"===s||"switch"===s)o=e;else{if(!r){var c=Vi[s];if(c&&Object(V["hasOwn"])(Vi,s)){o=c.call(this,t,e);var u=t.getAttribute("name");if(u){var h={name:u,namedFrom:null,svgNodeTagLower:s,el:o};n.push(h),"g"===s&&(l=h)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:s,el:o});e.add(o)}}var d=$i[s];if(d&&Object(V["hasOwn"])($i,s)){var p=d.call(this,t),f=t.getAttribute("id");f&&(this._defs[f]=p)}}if(o&&o.isGroup){var g=t.firstChild;while(g)1===g.nodeType?this._parseNode(g,o,n,l,r,a):3===g.nodeType&&a&&this._parseText(g,o),g=g.nextSibling}},t.prototype._parseText=function(t,e){var n=new j["a"]({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});nr(e,n),rr(t,n,this._defsUsePending,!1,!1),ar(n,e);var i=n.style,r=i.fontSize;r&&r<9&&(i.fontSize=9,n.scaleX*=r/9,n.scaleY*=r/9);var a=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=a;var o=n.getBoundingRect();return this._textX+=o.width,e.add(n),n},t.internalField=function(){Vi={g:function(t,e){var n=new Te["a"];return nr(e,n),rr(t,n,this._defsUsePending,!1,!1),n},rect:function(t,e){var n=new je["a"];return nr(e,n),rr(t,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(t,e){var n=new si["a"];return nr(e,n),rr(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),n.silent=!0,n},line:function(t,e){var n=new zi["a"];return nr(e,n),rr(t,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(t,e){var n=new Gi["a"];return nr(e,n),rr(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(t,e){var n,i=t.getAttribute("points");i&&(n=ir(i));var r=new Un["a"]({shape:{points:n||[]},silent:!0});return nr(e,r),rr(t,r,this._defsUsePending,!1,!1),r},polyline:function(t,e){var n,i=t.getAttribute("points");i&&(n=ir(i));var r=new Hn["a"]({shape:{points:n||[]},silent:!0});return nr(e,r),rr(t,r,this._defsUsePending,!1,!1),r},image:function(t,e){var n=new k["a"];return nr(e,n),rr(t,n,this._defsUsePending,!1,!1),n.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),n.silent=!0,n},text:function(t,e){var n=t.getAttribute("x")||"0",i=t.getAttribute("y")||"0",r=t.getAttribute("dx")||"0",a=t.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(r),this._textY=parseFloat(i)+parseFloat(a);var o=new Te["a"];return nr(e,o),rr(t,o,this._defsUsePending,!1,!0),o},tspan:function(t,e){var n=t.getAttribute("x"),i=t.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=i&&(this._textY=parseFloat(i));var r=t.getAttribute("dx")||"0",a=t.getAttribute("dy")||"0",o=new Te["a"];return nr(e,o),rr(t,o,this._defsUsePending,!1,!0),this._textX+=parseFloat(r),this._textY+=parseFloat(a),o},path:function(t,e){var n=t.getAttribute("d")||"",i=Object(Hi["b"])(n);return nr(e,i),rr(t,i,this._defsUsePending,!1,!1),i.silent=!0,i}}}(),t}(),$i={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||"0",10),n=parseInt(t.getAttribute("y1")||"0",10),i=parseInt(t.getAttribute("x2")||"10",10),r=parseInt(t.getAttribute("y2")||"0",10),a=new Wi["a"](e,n,i,r);return tr(t,a),er(t,a),a},radialgradient:function(t){var e=parseInt(t.getAttribute("cx")||"0",10),n=parseInt(t.getAttribute("cy")||"0",10),i=parseInt(t.getAttribute("r")||"0",10),r=new Yi["a"](e,n,i);return tr(t,r),er(t,r),r}};function tr(t,e){var n=t.getAttribute("gradientUnits");"userSpaceOnUse"===n&&(e.global=!0)}function er(t,e){var n=t.firstChild;while(n){if(1===n.nodeType&&"stop"===n.nodeName.toLocaleLowerCase()){var i=n.getAttribute("offset"),r=void 0;r=i&&i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var a={};gr(n,a,a);var o=a.stopColor||n.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:r,color:o})}n=n.nextSibling}}function nr(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),Object(V["defaults"])(e.__inheritedStyle,t.__inheritedStyle))}function ir(t){for(var e=ur(t),n=[],i=0;i<e.length;i+=2){var r=parseFloat(e[i]),a=parseFloat(e[i+1]);n.push([r,a])}return n}function rr(t,e,n,i,r){var a=e,o=a.__inheritedStyle=a.__inheritedStyle||{},s={};1===t.nodeType&&(pr(t,e),gr(t,o,s),i||mr(t,o,s)),a.style=a.style||{},null!=o.fill&&(a.style.fill=sr(a,"fill",o.fill,n)),null!=o.stroke&&(a.style.stroke=sr(a,"stroke",o.stroke,n)),Object(V["each"])(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(t){null!=o[t]&&(a.style[t]=parseFloat(o[t]))})),Object(V["each"])(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],(function(t){null!=o[t]&&(a.style[t]=o[t])})),r&&(a.__selfStyle=s),o.lineDash&&(a.style.lineDash=Object(V["map"])(ur(o.lineDash),(function(t){return parseFloat(t)}))),"hidden"!==o.visibility&&"collapse"!==o.visibility||(a.invisible=!0),"none"===o.display&&(a.ignore=!0)}function ar(t,e){var n=e.__selfStyle;if(n){var i=n.textBaseline,r=i;i&&"auto"!==i?"baseline"===i?r="alphabetic":"before-edge"===i||"text-before-edge"===i?r="top":"after-edge"===i||"text-after-edge"===i?r="bottom":"central"!==i&&"mathematical"!==i||(r="middle"):r="alphabetic",t.style.textBaseline=r}var a=e.__inheritedStyle;if(a){var o=a.textAlign,s=o;o&&("middle"===o&&(s="center"),t.style.textAlign=s)}}var or=/^url\(\s*#(.*?)\)/;function sr(t,e,n,i){var r=n&&n.match(or);if(!r)return"none"===n&&(n=null),n;var a=Object(V["trim"])(r[1]);i.push([t,e,a])}function lr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i[0].style[i[1]]=t[i[2]]}}var cr=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function ur(t){return t.match(cr)||[]}var hr=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,dr=Math.PI/180;function pr(t,e){var n=t.getAttribute("transform");if(n){n=n.replace(/,/g," ");var i=[],r=null;n.replace(hr,(function(t,e,n){return i.push(e,n),""}));for(var a=i.length-1;a>0;a-=2){var o=i[a],s=i[a-1],l=ur(o);switch(r=r||Ui["create"](),s){case"translate":Ui["translate"](r,r,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":Ui["scale"](r,r,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Ui["rotate"](r,r,-parseFloat(l[0])*dr);break;case"skewX":var c=Math.tan(parseFloat(l[0])*dr);Ui["mul"](r,[1,0,c,1,0,0],r);break;case"skewY":var u=Math.tan(parseFloat(l[0])*dr);Ui["mul"](r,[1,u,0,1,0,0],r);break;case"matrix":r[0]=parseFloat(l[0]),r[1]=parseFloat(l[1]),r[2]=parseFloat(l[2]),r[3]=parseFloat(l[3]),r[4]=parseFloat(l[4]),r[5]=parseFloat(l[5]);break}}e.setLocalTransform(r)}}var fr=/([^\s:;]+)\s*:\s*([^:;]+)/g;function gr(t,e,n){var i=t.getAttribute("style");if(i){var r;fr.lastIndex=0;while(null!=(r=fr.exec(i))){var a=r[1],o=Object(V["hasOwn"])(qi,a)?qi[a]:null;o&&(e[o]=r[2]);var s=Object(V["hasOwn"])(Qi,a)?Qi[a]:null;s&&(n[s]=r[2])}}}function mr(t,e,n){for(var i=0;i<Zi.length;i++){var r=Zi[i],a=t.getAttribute(r);null!=a&&(e[qi[r]]=a)}for(i=0;i<Ji.length;i++){r=Ji[i],a=t.getAttribute(r);null!=a&&(n[Qi[r]]=a)}}function vr(t,e){var n=e.width/t.width,i=e.height/t.height,r=Math.min(n,i);return{scale:r,x:-(t.x+t.width/2)*r+(e.x+e.width/2),y:-(t.y+t.height/2)*r+(e.y+e.height/2)}}function yr(t,e){var n=new Ki;return n.parse(t,e)}var br=n("f279"),xr=Object(V["createHashMap"])(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),_r=function(){function t(t,e){this.type="geoSVG",this._usedGraphicMap=Object(V["createHashMap"])(),this._freedGraphics=[],this._mapName=t,this._parsedXML=Xi(e)}return t.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=Sr(t.named),n=e.regions,i=e.regionsMap;this._regions=n,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},t.prototype._buildGraphic=function(t){var e,n;try{e=t&&yr(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},n=e.root,Object(V["assert"])(null!=n)}catch(g){throw new Error("Invalid svg format\n"+g.message)}var i=new Te["a"];i.add(n),i.isGeoSVGGraphicRoot=!0;var r=e.width,a=e.height,o=e.viewBoxRect,s=this._boundingRect;if(!s){var l=void 0,c=void 0,u=void 0,h=void 0;if(null!=r?(l=0,u=r):o&&(l=o.x,u=o.width),null!=a?(c=0,h=a):o&&(c=o.y,h=o.height),null==l||null==c){var d=n.getBoundingRect();null==l&&(l=d.x,u=d.width),null==c&&(c=d.y,h=d.height)}s=this._boundingRect=new An["a"](l,c,u,h)}if(o){var p=vr(o,s);n.scaleX=n.scaleY=p.scale,n.x=p.x,n.y=p.y}i.setClipPath(new je["a"]({shape:s.plain()}));var f=[];return Object(V["each"])(e.named,(function(t){null!=xr.get(t.svgNodeTagLower)&&(f.push(t),wr(t.el))})),{root:i,boundingRect:s,named:f}},t.prototype.useGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,n),n)},t.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);n&&(e.removeKey(t),this._freedGraphics.push(n))},t}();function wr(t){t.silent=!1,t.isGroup&&t.traverse((function(t){t.silent=!1}))}function Sr(t){var e=[],n=Object(V["createHashMap"])();return Object(V["each"])(t,(function(t){if(null==t.namedFrom){var i=new br["d"](t.name,t.el);e.push(i),n.set(t.name,i)}})),{regions:e,regionsMap:n}}for(var Or=n("bda7"),Cr=[126,25],Ar="南海诸岛",Mr=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Tr=0;Tr<Mr.length;Tr++)for(var kr=0;kr<Mr[Tr].length;kr++)Mr[Tr][kr][0]/=10.5,Mr[Tr][kr][1]/=-14,Mr[Tr][kr][0]+=Cr[0],Mr[Tr][kr][1]+=Cr[1];function Lr(t,e){if("china"===t){for(var n=0;n<e.length;n++)if(e[n].name===Ar)return;e.push(new br["c"](Ar,V["map"](Mr,(function(t){return{type:"polygon",exterior:t}})),Cr))}}var jr={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};function Ir(t,e){if("china"===t){var n=jr[e.name];if(n){var i=e.getCenter();i[0]+=n[0]/10.5,i[1]+=-n[1]/14,e.setCenter(i)}}}var Er=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function Pr(t,e){"china"===t&&"台湾"===e.name&&e.geometries.push({type:"polygon",exterior:Er[0]})}var Rr="name",Dr=function(){function t(t,e,n){this.type="geoJSON",this._parsedMap=Object(V["createHashMap"])(),this._mapName=t,this._specialAreas=n,this._geoJSON=Nr(e)}return t.prototype.load=function(t,e){e=e||Rr;var n=this._parsedMap.get(e);if(!n){var i=this._parseToRegions(e);n=this._parsedMap.set(e,{regions:i,boundingRect:Fr(i)})}var r=Object(V["createHashMap"])(),a=[];return Object(V["each"])(n.regions,(function(e){var n=e.name;t&&Object(V["hasOwn"])(t,n)&&(e=e.cloneShallow(n=t[n])),a.push(e),r.set(n,e)})),{regions:a,boundingRect:n.boundingRect||new An["a"](0,0,0,0),regionsMap:r}},t.prototype._parseToRegions=function(t){var e,n=this._mapName,i=this._geoJSON;try{e=i?Object(Or["a"])(i,t):[]}catch(r){throw new Error("Invalid geoJson format\n"+r.message)}return Lr(n,e),Object(V["each"])(e,(function(t){var e=t.name;Ir(n,t),Pr(n,t);var i=this._specialAreas&&this._specialAreas[e];i&&t.transformTo(i.left,i.top,i.width,i.height)}),this),e},t.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},t}();function Fr(t){for(var e,n=0;n<t.length;n++){var i=t[n].getBoundingRect();e=e||i.clone(),e.union(i)}return e}function Nr(t){return Object(V["isString"])(t)?"undefined"!==typeof JSON&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t}var Br=Object(V["createHashMap"])(),Vr={registerMap:function(t,e,n){if(e.svg){var i=new _r(t,e.svg);Br.set(t,i)}else{var r=e.geoJson||e.geoJSON;r&&!e.features?n=e.specialAreas:r=e;i=new Dr(t,r,n);Br.set(t,i)}},getGeoResource:function(t){return Br.get(t)},getMapForUser:function(t){var e=Br.get(t);return e&&"geoJSON"===e.type&&e.getMapForUser()},load:function(t,e,n){var i=Br.get(t);if(i)return i.load(e,n)}},Gr=n("b3c1"),zr=n("19eb"),Ur=n("e0d3"),Hr=["rect","circle","line","ellipse","polygon","polyline","path"],Wr=V["createHashMap"](Hr),Yr=V["createHashMap"](Hr.concat(["g"])),Xr=V["createHashMap"](Hr.concat(["g"])),qr=Object(Ur["o"])();function Zr(t){var e=t.getItemStyle(),n=t.get("areaColor");return null!=n&&(e.fill=n),e}function Qr(t){var e=t.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var Jr=function(){function t(t){var e=new Te["a"];this.uid=Object(Ce["c"])("ec_map_draw"),this._controller=new Ri(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new Te["a"]),e.add(this._svgGroup=new Te["a"])}return t.prototype.draw=function(t,e,n,i,r){var a="geo"===t.mainType,o=t.getData&&t.getData();a&&e.eachComponent({mainType:"series",subType:"map"},(function(e){o||e.getHostGeoModel()!==t||(o=e.getData())}));var s=t.coordinateSystem,l=this._regionsGroup,c=this.group,u=s.getTransformInfo(),h=u.raw,d=u.roam,p=!l.childAt(0)||r;p?(c.x=d.x,c.y=d.y,c.scaleX=d.scaleX,c.scaleY=d.scaleY,c.dirty()):Le["h"](c,d,t);var f=o&&o.getVisual("visualMeta")&&o.getVisual("visualMeta").length>0,g={api:n,geo:s,mapOrGeoModel:t,data:o,isVisualEncodedByVisualMap:f,isGeo:a,transformInfoRaw:h};"geoJSON"===s.resourceType?this._buildGeoJSON(g):"geoSVG"===s.resourceType&&this._buildSVG(g),this._updateController(t,e,n),this._updateMapSelectHandler(t,l,n,i)},t.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=V["createHashMap"](),n=V["createHashMap"](),i=this._regionsGroup,r=t.transformInfoRaw,a=t.mapOrGeoModel,o=t.data,s=t.geo.projection,l=s&&s.stream;function c(t,e){return e&&(t=e(t)),t&&[t[0]*r.scaleX+r.x,t[1]*r.scaleY+r.y]}function u(t){for(var e=[],n=!l&&s&&s.project,i=0;i<t.length;++i){var r=c(t[i],n);r&&e.push(r)}return e}function h(t){return{shape:{points:u(t)}}}i.removeAll(),V["each"](t.geo.regions,(function(r){var u=r.name,d=e.get(u),p=n.get(u)||{},f=p.dataIdx,g=p.regionModel;d||(d=e.set(u,new Te["a"]),i.add(d),f=o?o.indexOfName(u):null,g=t.isGeo?a.getRegionModel(u):o?o.getItemModel(f):null,n.set(u,{dataIdx:f,regionModel:g}));var m=[],v=[];V["each"](r.geometries,(function(t){if("polygon"===t.type){var e=[t.exterior].concat(t.interiors||[]);l&&(e=ia(e,l)),V["each"](e,(function(t){m.push(new Un["a"](h(t)))}))}else{var n=t.points;l&&(n=ia(n,l,!0)),V["each"](n,(function(t){v.push(new Hn["a"](h(t)))}))}}));var y=c(r.getCenter(),s&&s.project);function b(e,n){if(e.length){var i=new ut["a"]({culling:!0,segmentIgnoreThreshold:1,shape:{paths:e}});d.add(i),Kr(t,i,f,g),$r(t,i,u,g,a,f,y),n&&(Qr(i),V["each"](i.states,Qr))}}b(m),b(v,!0)})),e.each((function(e,i){var r=n.get(i),o=r.dataIdx,s=r.regionModel;ta(t,e,i,s,a,o),ea(t,e,i,s,a),na(t,e,i,s,a)}),this)},t.prototype._buildSVG=function(t){var e=t.geo.map,n=t.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var i=this._svgDispatcherMap=V["createHashMap"](),r=!1;V["each"](this._svgGraphicRecord.named,(function(e){var n=e.name,a=t.mapOrGeoModel,o=t.data,s=e.svgNodeTagLower,l=e.el,c=o?o.indexOfName(n):null,u=a.getRegionModel(n);if(null!=Wr.get(s)&&l instanceof zr["c"]&&Kr(t,l,c,u),l instanceof zr["c"]&&(l.culling=!0),l.z2EmphasisLift=0,!e.namedFrom&&(null!=Xr.get(s)&&$r(t,l,n,u,a,c,null),ta(t,l,n,u,a,c),ea(t,l,n,u,a),null!=Yr.get(s))){var h=na(t,l,n,u,a);"self"===h&&(r=!0);var d=i.get(n)||i.set(n,[]);d.push(l)}}),this),this._enableBlurEntireSVG(r,t)},t.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var n=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=n.opacity;this._svgGraphicRecord.root.traverse((function(t){if(!t.isGroup){Object(Pe["G"])(t);var e=t.ensureState("blur").style||{};null==e.opacity&&null!=i&&(e.opacity=i),t.ensureState("emphasis")}}))}},t.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},t.prototype.findHighDownDispatchers=function(t,e){if(null==t)return[];var n=e.coordinateSystem;if("geoJSON"===n.resourceType){var i=this._regionsGroupByName;if(i){var r=i.get(t);return r?[r]:[]}}else if("geoSVG"===n.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},t.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},t.prototype._useSVG=function(t){var e=Vr.getGeoResource(t);if(e&&"geoSVG"===e.type){var n=e.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=t}},t.prototype._freeSVG=function(){var t=this._svgMapName;if(null!=t){var e=Vr.getGeoResource(t);e&&"geoSVG"===e.type&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},t.prototype._updateController=function(t,e,n){var i=t.coordinateSystem,r=this._controller,a=this._controllerHost;a.zoomLimit=t.get("scaleLimit"),a.zoom=i.getZoom(),r.enable(t.get("roam")||!1);var o=t.mainType;function s(){var e={type:"geoRoam",componentType:o};return e[o+"Id"]=t.id,e}r.off("pan").on("pan",(function(t){this._mouseDownFlag=!1,Di(a,t.dx,t.dy),n.dispatchAction(V["extend"](s(),{dx:t.dx,dy:t.dy,animation:{duration:0}}))}),this),r.off("zoom").on("zoom",(function(t){this._mouseDownFlag=!1,Fi(a,t.scale,t.originX,t.originY),n.dispatchAction(V["extend"](s(),{zoom:t.scale,originX:t.originX,originY:t.originY,animation:{duration:0}}))}),this),r.setPointerChecker((function(e,r,a){return i.containPoint([r,a])&&!Bi(e,n,t)}))},t.prototype.resetForLabelLayout=function(){this.group.traverse((function(t){var e=t.getTextContent();e&&(e.ignore=qr(e).ignore)}))},t.prototype._updateMapSelectHandler=function(t,e,n,i){var r=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",(function(){r._mouseDownFlag=!0})),e.on("click",(function(t){r._mouseDownFlag&&(r._mouseDownFlag=!1)})))},t}();function Kr(t,e,n,i){var r=i.getModel("itemStyle"),a=i.getModel(["emphasis","itemStyle"]),o=i.getModel(["blur","itemStyle"]),s=i.getModel(["select","itemStyle"]),l=Zr(r),c=Zr(a),u=Zr(s),h=Zr(o),d=t.data;if(d){var p=d.getItemVisual(n,"style"),f=d.getItemVisual(n,"decal");t.isVisualEncodedByVisualMap&&p.fill&&(l.fill=p.fill),f&&(l.decal=Object(Gr["a"])(f,t.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=c,e.ensureState("select").style=u,e.ensureState("blur").style=h,Object(Pe["G"])(e)}function $r(t,e,n,i,r,a,o){var s=t.data,l=t.isGeo,c=s&&isNaN(s.get(s.mapDimension("value"),a)),u=s&&s.getItemLayout(a);if(l||c||u&&u.showLabel){var h=l?n:a,d=void 0;(!s||a>=0)&&(d=r);var p=o?{normal:{align:"center",verticalAlign:"middle"}}:null;Object(Re["g"])(e,Object(Re["e"])(i),{labelFetcher:d,labelDataIndex:h,defaultText:n},p);var f=e.getTextContent();if(f&&(qr(f).ignore=f.ignore,e.textConfig&&o)){var g=e.getBoundingRect().clone();e.textConfig.layoutRect=g,e.textConfig.position=[(o[0]-g.x)/g.width*100+"%",(o[1]-g.y)/g.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function ta(t,e,n,i,r,a){t.data?t.data.setItemGraphicEl(a,e):Object(Ee["a"])(e).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:n,region:i&&i.option||{}}}function ea(t,e,n,i,r){t.data||ke["setTooltipConfig"]({el:e,componentModel:r,itemName:n,itemTooltipOption:i.get("tooltip")})}function na(t,e,n,i,r){e.highDownSilentOnTouch=!!r.get("selectedMode");var a=i.getModel("emphasis"),o=a.get("focus");return Object(Pe["J"])(e,o,a.get("blurScope"),a.get("disabled")),t.isGeo&&Object(Pe["n"])(e,r,n),o}function ia(t,e,n){var i,r=[];function a(){i=[]}function o(){i.length&&(r.push(i),i=[])}var s=e({polygonStart:a,polygonEnd:o,lineStart:a,lineEnd:o,point:function(t,e){isFinite(t)&&isFinite(e)&&i.push([t,e])},sphere:function(){}});return!n&&s.polygonStart(),V["each"](t,(function(t){s.lineStart();for(var e=0;e<t.length;e++)s.point(t[e][0],t[e][1]);s.lineEnd()})),!n&&s.polygonEnd(),r}var ra=Jr,aa=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var r=this.group;if(r.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&i&&"geoRoam"===i.type&&this._mapDraw.resetForLabelLayout(),i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===t.id){a=this._mapDraw;a&&r.add(a.group)}else if(t.needsDrawMap){var a=this._mapDraw||new ra(n);r.add(a.group),a.draw(t,e,n,this,i),this._mapDraw=a}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,n)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,e,n){var i=t.originalData,r=this.group;i.each(i.mapDimension("value"),(function(e,n){if(!isNaN(e)){var a=i.getItemLayout(n);if(a&&a.point){var o=a.point,s=a.offset,l=new si["a"]({style:{fill:t.getData().getVisual("style").fill},shape:{cx:o[0]+9*s,cy:o[1],r:3},silent:!0,z2:8+(s?0:Pe["j"]+1)});if(!s){var c=t.mainSeries.getData(),u=i.getName(n),h=c.indexOfName(u),d=i.getItemModel(n),p=d.getModel("label"),f=c.getItemGraphicEl(h);Object(Re["g"])(l,Object(Re["e"])(d),{labelFetcher:{getFormattedLabel:function(e,n){return t.getFormattedLabel(h,n)}},defaultText:u}),l.disableLabelAnimation=!0,p.get("position")||l.setTextConfig({position:"bottom"}),f.onHoverStateChange=function(t){Object(Pe["H"])(l,t)}}r.add(l)}}}))},e.type="map",e}(Ge["a"]),oa=aa,sa=n("0f99"),la=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(t){if(null!=t){var e=this.getData().getName(t),n=this.coordinateSystem,i=n.getRegion(e);return i&&n.dataToPoint(i.getCenter())}},n}return Object(xe["a"])(e,t),e.prototype.getInitialData=function(t){for(var e=Object(Xn["a"])(this,{coordDimensions:["value"],encodeDefaulter:V["curry"](sa["d"],this)}),n=V["createHashMap"](),i=[],r=0,a=e.count();r<a;r++){var o=e.getName(r);n.set(o,!0)}var s=Vr.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return V["each"](s.regions,(function(t){var e=t.name;n.get(e)||i.push(e)})),e.appendValues([],i),e},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return null!=t?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var e=this.getData();return e.get(e.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},e.prototype.formatTooltip=function(t,e,n){for(var i=this.getData(),r=this.getRawValue(t),a=i.getName(t),o=this.seriesGroup,s=[],l=0;l<o.length;l++){var c=o[l].originalData.indexOfName(a),u=i.mapDimension("value");isNaN(o[l].originalData.get(u,c))||s.push(o[l].name)}return Object(Zn["c"])("section",{header:s.join(", "),noHeader:!s.length,blocks:[Object(Zn["c"])("nameValue",{name:a,value:r})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var e=t.icon||"roundRect",n=Object(Mn["a"])(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return n.setStyle(t.itemStyle),n.style.stroke="none",e.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(_e["b"]),ca=la;function ua(t,e){var n={};return V["each"](t,(function(t){t.each(t.mapDimension("value"),(function(e,i){var r="ec-"+t.getName(i);n[r]=n[r]||[],isNaN(e)||n[r].push(e)}))})),t[0].map(t[0].mapDimension("value"),(function(i,r){for(var a,o="ec-"+t[0].getName(r),s=0,l=1/0,c=-1/0,u=n[o].length,h=0;h<u;h++)l=Math.min(l,n[o][h]),c=Math.max(c,n[o][h]),s+=n[o][h];return a="min"===e?l:"max"===e?c:"average"===e?s/u:s,0===u?NaN:a}))}function ha(t){var e={};t.eachSeriesByType("map",(function(t){var n=t.getHostGeoModel(),i=n?"o"+n.id:"i"+t.getMapType();(e[i]=e[i]||[]).push(t)})),V["each"](e,(function(t,e){for(var n=ua(V["map"](t,(function(t){return t.getData()})),t[0].get("mapValueCalculation")),i=0;i<t.length;i++)t[i].originalData=t[i].getData();for(i=0;i<t.length;i++)t[i].seriesGroup=t,t[i].needsDrawMap=0===i&&!t[i].getHostGeoModel(),t[i].setData(n.cloneShallow()),t[i].mainSeries=t[0]}))}function da(t){var e={};t.eachSeriesByType("map",(function(n){var i=n.getMapType();if(!n.getHostGeoModel()&&!e[i]){var r={};V["each"](n.seriesGroup,(function(e){var n=e.coordinateSystem,i=e.originalData;e.get("showLegendSymbol")&&t.getComponent("legend")&&i.each(i.mapDimension("value"),(function(t,e){var a=i.getName(e),o=n.getRegion(a);if(o&&!isNaN(t)){var s=r[a]||0,l=n.dataToPoint(o.getCenter());r[a]=s+1,i.setItemLayout(e,{point:l,offset:s})}}))}));var a=n.getData();a.each((function(t){var e=a.getName(t),n=a.getItemLayout(t)||{};n.showLabel=!r[e],a.setItemLayout(t,n)})),e[i]=!0}}))}var pa=n("f3bb"),fa=n("401b"),ga=fa["applyTransform"],ma=function(t){function e(e){var n=t.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new lt["c"],n._rawTransformable=new lt["c"],n.name=e,n}return Object(xe["a"])(e,t),e.prototype.setBoundingRect=function(t,e,n,i){return this._rect=new An["a"](t,e,n,i),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,e,n,i){this._transformTo(t,e,n,i),this._viewRect=new An["a"](t,e,n,i)},e.prototype._transformTo=function(t,e,n,i){var r=this.getBoundingRect(),a=this._rawTransformable;a.transform=r.calculateTransform(new An["a"](t,e,n,i));var o=a.parent;a.parent=null,a.decomposeTransform(),a.parent=o,this._updateTransform()},e.prototype.setCenter=function(t,e){t&&(this._center=[Object(vi["q"])(t[0],e.getWidth()),Object(vi["q"])(t[1],e.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect(),e=t.x+t.width/2,n=t.y+t.height/2;return[e,n]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),r=this.getZoom();i=fa["applyTransform"]([],i,t),n=fa["applyTransform"]([],n,t),e.originX=i[0],e.originY=i[1],e.x=n[0]-i[0],e.y=n[1]-i[1],e.scaleX=e.scaleY=r,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),Ui["copy"](this.transform||(this.transform=[]),e.transform||Ui["create"]()),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],Ui["invert"](this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,e=this._roamTransformable,n=new lt["c"];return n.transform=e.transform,n.decomposeTransform(),{roam:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,e,n){var i=e?this._rawTransform:this.transform;return n=n||[],i?ga(n,t,i):fa["copy"](n,t)},e.prototype.pointToData=function(t){var e=this.invTransform;return e?ga([],t,e):[t[0],t[1]]},e.prototype.convertToPixel=function(t,e,n){var i=va(e);return i===this?i.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,e,n){var i=va(e);return i===this?i.pointToData(n):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(lt["c"]);function va(t){var e=t.seriesModel;return e?e.coordinateSystem:null}var ya=ma,ba={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},xa=["lng","lat"],_a=function(t){function e(e,n,i){var r=t.call(this,e)||this;r.dimensions=xa,r.type="geo",r._nameCoordMap=V["createHashMap"](),r.map=n;var a,o=i.projection,s=Vr.load(n,i.nameMap,i.nameProperty),l=Vr.getGeoResource(n),c=(r.resourceType=l?l.type:null,r.regions=s.regions),u=ba[l.type];if(r._regionsMap=s.regionsMap,r.regions=s.regions,r.projection=o,o)for(var h=0;h<c.length;h++){var d=c[h].getBoundingRect(o);a=a||d.clone(),a.union(d)}else a=s.boundingRect;return r.setBoundingRect(a.x,a.y,a.width,a.height),r.aspectScale=o?1:V["retrieve2"](i.aspectScale,u.aspectScale),r._invertLongitute=!o&&u.invertLongitute,r}return Object(xe["a"])(e,t),e.prototype._transformTo=function(t,e,n,i){var r=this.getBoundingRect(),a=this._invertLongitute;r=r.clone(),a&&(r.y=-r.y-r.height);var o=this._rawTransformable;o.transform=r.calculateTransform(new An["a"](t,e,n,i));var s=o.parent;o.parent=null,o.decomposeTransform(),o.parent=s,a&&(o.scaleY=-o.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var e=this.regions,n=0;n<e.length;n++){var i=e[n];if("geoJSON"===i.type&&i.contain(t))return e[n]}},e.prototype.addGeoCoord=function(t,e){this._nameCoordMap.set(t,e)},e.prototype.getGeoCoord=function(t){var e=this._regionsMap.get(t);return this._nameCoordMap.get(t)||e&&e.getCenter()},e.prototype.dataToPoint=function(t,e,n){if(V["isString"](t)&&(t=this.getGeoCoord(t)),t){var i=this.projection;return i&&(t=i.project(t)),t&&this.projectedToPoint(t,e,n)}},e.prototype.pointToData=function(t){var e=this.projection;return e&&(t=e.unproject(t)),t&&this.pointToProjected(t)},e.prototype.pointToProjected=function(e){return t.prototype.pointToData.call(this,e)},e.prototype.projectedToPoint=function(e,n,i){return t.prototype.dataToPoint.call(this,e,n,i)},e.prototype.convertToPixel=function(t,e,n){var i=wa(e);return i===this?i.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,e,n){var i=wa(e);return i===this?i.pointToData(n):null},e}(ya);function wa(t){var e=t.geoModel,n=t.seriesModel;return e?e.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",Ur["b"]).models[0]||{}).coordinateSystem:null}V["mixin"](_a,ya);var Sa=_a,Oa=n("f934");function Ca(t,e){var n=t.get("boundingCoords");if(null!=n){var i=n[0],r=n[1];if(isFinite(i[0])&&isFinite(i[1])&&isFinite(r[0])&&isFinite(r[1])){var a=this.projection;if(a){var o=i[0],s=i[1],l=r[0],c=r[1];i=[1/0,1/0],r=[-1/0,-1/0];var u=function(t,e,n,o){for(var s=n-t,l=o-e,c=0;c<=100;c++){var u=c/100,h=a.project([t+s*u,e+l*u]);fa["min"](i,i,h),fa["max"](r,r,h)}};u(o,s,l,s),u(l,s,l,c),u(l,c,o,c),u(o,c,l,s)}this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}else 0}var h,d,p,f=this.getBoundingRect(),g=t.get("layoutCenter"),m=t.get("layoutSize"),v=e.getWidth(),y=e.getHeight(),b=f.width/f.height*this.aspectScale,x=!1;if(g&&m&&(h=[vi["q"](g[0],v),vi["q"](g[1],y)],d=vi["q"](m,Math.min(v,y)),isNaN(h[0])||isNaN(h[1])||isNaN(d)||(x=!0)),x)p={},b>1?(p.width=d,p.height=d/b):(p.height=d,p.width=d*b),p.y=h[1]-p.height/2,p.x=h[0]-p.width/2;else{var _=t.getBoxLayoutParams();_.aspect=b,p=Oa["g"](_,{width:v,height:y})}this.setViewRect(p.x,p.y,p.width,p.height),this.setCenter(t.get("center"),e),this.setZoom(t.get("zoom"))}function Aa(t,e){V["each"](e.get("geoCoord"),(function(e,n){t.addGeoCoord(n,e)}))}var Ma=function(){function t(){this.dimensions=xa}return t.prototype.create=function(t,e){var n=[];function i(t){return{nameProperty:t.get("nameProperty"),aspectScale:t.get("aspectScale"),projection:t.get("projection")}}t.eachComponent("geo",(function(t,r){var a=t.get("map"),o=new Sa(a+r,a,V["extend"]({nameMap:t.get("nameMap")},i(t)));o.zoomLimit=t.get("scaleLimit"),n.push(o),t.coordinateSystem=o,o.model=t,o.resize=Ca,o.resize(t,e)})),t.eachSeries((function(t){var e=t.get("coordinateSystem");if("geo"===e){var i=t.get("geoIndex")||0;t.coordinateSystem=n[i]}}));var r={};return t.eachSeriesByType("map",(function(t){if(!t.getHostGeoModel()){var e=t.getMapType();r[e]=r[e]||[],r[e].push(t)}})),V["each"](r,(function(t,r){var a=V["map"](t,(function(t){return t.get("nameMap")})),o=new Sa(r,r,V["extend"]({nameMap:V["mergeAll"](a)},i(t[0])));o.zoomLimit=V["retrieve"].apply(null,V["map"](t,(function(t){return t.get("scaleLimit")}))),n.push(o),o.resize=Ca,o.resize(t[0],e),V["each"](t,(function(t){t.coordinateSystem=o,Aa(o,t)}))})),n},t.prototype.getFilledRegions=function(t,e,n,i){for(var r=(t||[]).slice(),a=V["createHashMap"](),o=0;o<r.length;o++)a.set(r[o].name,r[o]);var s=Vr.load(e,n,i);return V["each"](s.regions,(function(t){var e=t.name;!a.get(e)&&r.push({name:e})})),r},t}(),Ta=new Ma,ka=Ta,La=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.init=function(t,e,n){var i=Vr.getGeoResource(t.map);if(i&&"geoJSON"===i.type){var r=t.itemStyle=t.itemStyle||{};"color"in r||(r.color="#eee")}this.mergeDefaultAndTheme(t,n),Ur["f"](t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,e=this.option;e.regions=ka.getFilledRegions(e.regions,e.map,e.nameMap,e.nameProperty);var n={};this._optionModelMap=V["reduce"](e.regions||[],(function(e,i){var r=i.name;return r&&(e.set(r,new $n["a"](i,t,t.ecModel)),i.selected&&(n[r]=!0)),e}),V["createHashMap"]()),e.selectedMap||(e.selectedMap=n)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new $n["a"](null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,e){var n=this.getRegionModel(t),i="normal"===e?n.get(["label","formatter"]):n.get(["emphasis","label","formatter"]),r={name:t};return V["isFunction"](i)?(r.status=e,i(r)):V["isString"](i)?i.replace("{a}",null!=t?t:""):void 0},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var e=this.option,n=e.selectedMode;if(n){"multiple"!==n&&(e.selectedMap=null);var i=e.selectedMap||(e.selectedMap={});i[t]=!0}},e.prototype.unSelect=function(t){var e=this.option.selectedMap;e&&(e[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var e=this.option.selectedMap;return!(!e||!e[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(ei["a"]),ja=La;function Ia(t,e){return t.pointToProjected?t.pointToProjected(e):t.pointToData(e)}function Ea(t,e,n,i){var r=t.getZoom(),a=t.getCenter(),o=e.zoom,s=t.projectedToPoint?t.projectedToPoint(a):t.dataToPoint(a);if(null!=e.dx&&null!=e.dy&&(s[0]-=e.dx,s[1]-=e.dy,t.setCenter(Ia(t,s),i)),null!=o){if(n){var l=n.min||0,c=n.max||1/0;o=Math.max(Math.min(r*o,c),l)/r}t.scaleX*=o,t.scaleY*=o;var u=(e.originX-t.x)*(o-1),h=(e.originY-t.y)*(o-1);t.x-=u,t.y-=h,t.updateTransform(),t.setCenter(Ia(t,s),i),t.setZoom(o*r)}return{center:t.getCenter(),zoom:t.getZoom()}}var Pa=n("fadd"),Ra=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.focusBlurEnabled=!0,n}return Object(xe["a"])(e,t),e.prototype.init=function(t,e){this._api=e},e.prototype.render=function(t,e,n,i){if(this._model=t,!t.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new ra(n));var r=this._mapDraw;r.draw(t,e,n,this,i),r.group.on("click",this._handleRegionClick,this),r.group.silent=t.get("silent"),this.group.add(r.group),this.updateSelectStatus(t,e,n)},e.prototype._handleRegionClick=function(t){var e;Object(Pa["a"])(t.target,(function(t){return null!=(e=Object(Ee["a"])(t).eventData)}),!0),e&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:e.name})},e.prototype.updateSelectStatus=function(t,e,n){var i=this;this._mapDraw.group.traverse((function(t){var e=Object(Ee["a"])(t).eventData;if(e)return i._model.isSelected(e.name)?n.enterSelect(t):n.leaveSelect(t),!0}))},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(ci["a"]),Da=Ra;function Fa(t,e,n){Vr.registerMap(t,e,n)}function Na(t){function e(e,n){n.update="geo:updateSelectStatus",t.registerAction(n,(function(t,n){var i={},r=[];return n.eachComponent({mainType:"geo",query:t},(function(n){n[e](t.name);var a=n.coordinateSystem;Object(V["each"])(a.regions,(function(t){i[t.name]=n.isSelected(t.name)||!1}));var o=[];Object(V["each"])(i,(function(t,e){i[e]&&o.push(e)})),r.push({geoIndex:n.componentIndex,name:o})})),{selected:i,allSelected:r,name:t.name}}))}t.registerCoordinateSystem("geo",ka),t.registerComponentModel(ja),t.registerComponentView(Da),t.registerImpl("registerMap",Fa),t.registerImpl("getMap",(function(t){return Vr.getMapForUser(t)})),e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),t.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(t,e,n){var i=t.componentType||"series";e.eachComponent({mainType:i,query:t},(function(e){var r=e.coordinateSystem;if("geo"===r.type){var a=Ea(r,t,e.get("scaleLimit"),n);e.setCenter&&e.setCenter(a.center),e.setZoom&&e.setZoom(a.zoom),"series"===i&&Object(V["each"])(e.seriesGroup,(function(t){t.setCenter(a.center),t.setZoom(a.zoom)}))}}))}))}function Ba(t){Object(C["a"])(Na),t.registerChartView(oa),t.registerSeriesModel(ca),t.registerLayout(da),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,ha),Object(pa["a"])("map",t.registerAction)}var Va=n("ac0f"),Ga=n("1418");function za(t){var e=t;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var n,i,r=[e];while(n=r.pop())if(i=n.children,n.isExpand&&i.length)for(var a=i.length,o=a-1;o>=0;o--){var s=i[o];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},r.push(s)}}function Ua(t,e){var n=t.isExpand?t.children:[],i=t.parentNode.children,r=t.hierNode.i?i[t.hierNode.i-1]:null;if(n.length){qa(t);var a=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;r?(t.hierNode.prelim=r.hierNode.prelim+e(t,r),t.hierNode.modifier=t.hierNode.prelim-a):t.hierNode.prelim=a}else r&&(t.hierNode.prelim=r.hierNode.prelim+e(t,r));t.parentNode.hierNode.defaultAncestor=Za(t,r,t.parentNode.hierNode.defaultAncestor||i[0],e)}function Ha(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function Wa(t){return arguments.length?t:to}function Ya(t,e){return t-=Math.PI/2,{x:e*Math.cos(t),y:e*Math.sin(t)}}function Xa(t,e){return Oa["g"](t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function qa(t){var e=t.children,n=e.length,i=0,r=0;while(--n>=0){var a=e[n];a.hierNode.prelim+=i,a.hierNode.modifier+=i,r+=a.hierNode.change,i+=a.hierNode.shift+r}}function Za(t,e,n,i){if(e){var r=t,a=t,o=a.parentNode.children[0],s=e,l=r.hierNode.modifier,c=a.hierNode.modifier,u=o.hierNode.modifier,h=s.hierNode.modifier;while(s=Qa(s),a=Ja(a),s&&a){r=Qa(r),o=Ja(o),r.hierNode.ancestor=t;var d=s.hierNode.prelim+h-a.hierNode.prelim-c+i(s,a);d>0&&($a(Ka(s,t,n),t,d),c+=d,l+=d),h+=s.hierNode.modifier,c+=a.hierNode.modifier,l+=r.hierNode.modifier,u+=o.hierNode.modifier}s&&!Qa(r)&&(r.hierNode.thread=s,r.hierNode.modifier+=h-l),a&&!Ja(o)&&(o.hierNode.thread=a,o.hierNode.modifier+=c-u,n=t)}return n}function Qa(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function Ja(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function Ka(t,e,n){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:n}function $a(t,e,n){var i=n/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=i,e.hierNode.shift+=n,e.hierNode.modifier+=n,e.hierNode.prelim+=n,t.hierNode.change+=i}function to(t,e){return t.parentNode===e.parentNode?1:2}var eo=n("e263"),no=function(){function t(){this.parentPoint=[],this.childPoints=[]}return t}(),io=function(t){function e(e){return t.call(this,e)||this}return Object(xe["a"])(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new no},e.prototype.buildPath=function(t,e){var n=e.childPoints,i=n.length,r=e.parentPoint,a=n[0],o=n[i-1];if(1===i)return t.moveTo(r[0],r[1]),void t.lineTo(a[0],a[1]);var s=e.orient,l="TB"===s||"BT"===s?0:1,c=1-l,u=Object(vi["q"])(e.forkPosition,1),h=[];h[l]=r[l],h[c]=r[c]+(o[c]-r[c])*u,t.moveTo(r[0],r[1]),t.lineTo(h[0],h[1]),t.moveTo(a[0],a[1]),h[l]=a[l],t.lineTo(h[0],h[1]),h[l]=o[l],t.lineTo(h[0],h[1]),t.lineTo(o[0],o[1]);for(var d=1;d<i-1;d++){var p=n[d];t.moveTo(p[0],p[1]),h[l]=p[l],t.lineTo(h[0],h[1])}},e}(T["b"]),ro=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._mainGroup=new Te["a"],n}return Object(xe["a"])(e,t),e.prototype.init=function(t,e){this._controller=new Ri(e.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,e,n){var i=t.getData(),r=t.layoutInfo,a=this._mainGroup,o=t.get("layout");"radial"===o?(a.x=r.x+r.width/2,a.y=r.y+r.height/2):(a.x=r.x,a.y=r.y),this._updateViewCoordSys(t,n),this._updateController(t,e,n);var s=this._data;i.diff(s).add((function(e){ao(i,e)&&oo(i,e,null,a,t)})).update((function(e,n){var r=s.getItemGraphicEl(n);ao(i,e)?oo(i,e,r,a,t):r&&uo(s,n,r,a,t)})).remove((function(e){var n=s.getItemGraphicEl(e);n&&uo(s,e,n,a,t)})).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===t.get("expandAndCollapse")&&i.eachItemGraphicEl((function(e,i){e.off("click").on("click",(function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:i})}))})),this._data=i},e.prototype._updateViewCoordSys=function(t,e){var n=t.getData(),i=[];n.each((function(t){var e=n.getItemLayout(t);!e||isNaN(e.x)||isNaN(e.y)||i.push([+e.x,+e.y])}));var r=[],a=[];eo["d"](i,r,a);var o=this._min,s=this._max;a[0]-r[0]===0&&(r[0]=o?o[0]:r[0]-1,a[0]=s?s[0]:a[0]+1),a[1]-r[1]===0&&(r[1]=o?o[1]:r[1]-1,a[1]=s?s[1]:a[1]+1);var l=t.coordinateSystem=new ya;l.zoomLimit=t.get("scaleLimit"),l.setBoundingRect(r[0],r[1],a[0]-r[0],a[1]-r[1]),l.setCenter(t.get("center"),e),l.setZoom(t.get("zoom")),this.group.attr({x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY}),this._min=r,this._max=a},e.prototype._updateController=function(t,e,n){var i=this,r=this._controller,a=this._controllerHost,o=this.group;r.setPointerChecker((function(e,i,r){var a=o.getBoundingRect();return a.applyTransform(o.transform),a.contain(i,r)&&!Bi(e,n,t)})),r.enable(t.get("roam")),a.zoomLimit=t.get("scaleLimit"),a.zoom=t.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",(function(e){Di(a,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"treeRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){Fi(a,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),i._updateNodeAndLinkScale(t),n.updateLabelLayout()}))},e.prototype._updateNodeAndLinkScale=function(t){var e=t.getData(),n=this._getNodeGlobalScale(t);e.eachItemGraphicEl((function(t,e){t.setSymbolScale(n)}))},e.prototype._getNodeGlobalScale=function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=this._nodeScaleRatio,i=e.scaleX||1,r=e.getZoom(),a=(r-1)*n+1;return a/i},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(Ge["a"]);function ao(t,e){var n=t.getItemLayout(e);return n&&!isNaN(n.x)&&!isNaN(n.y)}function oo(t,e,n,i,r){var a=!n,o=t.tree.getNodeByDataIndex(e),s=o.getModel(),l=o.getVisual("style").fill,c=!1===o.isExpand&&0!==o.children.length?l:"#fff",u=t.tree.root,h=o.parentNode===u?o:o.parentNode||o,d=t.getItemGraphicEl(h.dataIndex),p=h.getLayout(),f=d?{x:d.__oldX,y:d.__oldY,rawX:d.__radialOldRawX,rawY:d.__radialOldRawY}:p,g=o.getLayout();a?(n=new Ga["a"](t,e,null,{symbolInnerColor:c,useNameLabel:!0}),n.x=f.x,n.y=f.y):n.updateData(t,e,null,{symbolInnerColor:c,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=g.rawX,n.__radialRawY=g.rawY,i.add(n),t.setItemGraphicEl(e,n),n.__oldX=n.x,n.__oldY=n.y,Le["h"](n,{x:g.x,y:g.y},r);var m=n.getSymbolPath();if("radial"===r.get("layout")){var v=u.children[0],y=v.getLayout(),b=v.children.length,x=void 0,_=void 0;if(g.x===y.x&&!0===o.isExpand&&v.children.length){var w={x:(v.children[0].getLayout().x+v.children[b-1].getLayout().x)/2,y:(v.children[0].getLayout().y+v.children[b-1].getLayout().y)/2};x=Math.atan2(w.y-y.y,w.x-y.x),x<0&&(x=2*Math.PI+x),_=w.x<y.x,_&&(x-=Math.PI)}else x=Math.atan2(g.y-y.y,g.x-y.x),x<0&&(x=2*Math.PI+x),0===o.children.length||0!==o.children.length&&!1===o.isExpand?(_=g.x<y.x,_&&(x-=Math.PI)):(_=g.x>y.x,_||(x-=Math.PI));var S=_?"left":"right",O=s.getModel("label"),C=O.get("rotate"),A=C*(Math.PI/180),M=m.getTextContent();M&&(m.setTextConfig({position:O.get("position")||S,rotation:null==C?-x:A,origin:"center"}),M.setStyle("verticalAlign","middle"))}var T=s.get(["emphasis","focus"]),k="relative"===T?V["concatArray"](o.getAncestorsIndices(),o.getDescendantIndices()):"ancestor"===T?o.getAncestorsIndices():"descendant"===T?o.getDescendantIndices():null;k&&(Object(Ee["a"])(n).focus=k),so(r,o,u,n,f,p,g,i),n.__edge&&(n.onHoverStateChange=function(e){if("blur"!==e){var i=o.parentNode&&t.getItemGraphicEl(o.parentNode.dataIndex);i&&i.hoverState===Pe["d"]||Object(Pe["H"])(n.__edge,e)}})}function so(t,e,n,i,r,a,o,s){var l=e.getModel(),c=t.get("edgeShape"),u=t.get("layout"),h=t.getOrient(),d=t.get(["lineStyle","curveness"]),p=t.get("edgeForkPosition"),f=l.getModel("lineStyle").getLineStyle(),g=i.__edge;if("curve"===c)e.parentNode&&e.parentNode!==n&&(g||(g=i.__edge=new Va["a"]({shape:ho(u,h,d,r,r)})),Le["h"](g,{shape:ho(u,h,d,a,o)},t));else if("polyline"===c)if("orthogonal"===u){if(e!==n&&e.children&&0!==e.children.length&&!0===e.isExpand){for(var m=e.children,v=[],y=0;y<m.length;y++){var b=m[y].getLayout();v.push([b.x,b.y])}g||(g=i.__edge=new io({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:h,forkPosition:p}})),Le["h"](g,{shape:{parentPoint:[o.x,o.y],childPoints:v}},t)}}else 0;g&&("polyline"!==c||e.isExpand)&&(g.useStyle(V["defaults"]({strokeNoScale:!0,fill:null},f)),Object(Pe["I"])(g,l,"lineStyle"),Object(Pe["G"])(g),s.add(g))}function lo(t,e,n,i,r){var a=e.tree.root,o=co(a,t),s=o.source,l=o.sourceLayout,c=e.getItemGraphicEl(t.dataIndex);if(c){var u=e.getItemGraphicEl(s.dataIndex),h=u.__edge,d=c.__edge||(!1===s.isExpand||1===s.children.length?h:void 0),p=i.get("edgeShape"),f=i.get("layout"),g=i.get("orient"),m=i.get(["lineStyle","curveness"]);d&&("curve"===p?Le["e"](d,{shape:ho(f,g,m,l,l),style:{opacity:0}},i,{cb:function(){n.remove(d)},removeOpt:r}):"polyline"===p&&"orthogonal"===i.get("layout")&&Le["e"](d,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},i,{cb:function(){n.remove(d)},removeOpt:r}))}}function co(t,e){var n,i=e.parentNode===t?e:e.parentNode||e;while(n=i.getLayout(),null==n)i=i.parentNode===t?i:i.parentNode||i;return{source:i,sourceLayout:n}}function uo(t,e,n,i,r){var a=t.tree.getNodeByDataIndex(e),o=t.tree.root,s=co(o,a).sourceLayout,l={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};Le["e"](n,{x:s.x+1,y:s.y+1},r,{cb:function(){i.remove(n),t.setItemGraphicEl(e,null)},removeOpt:l}),n.fadeOut(null,t.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach((function(e){lo(e,t,i,r,l)})),lo(a,t,i,r,l)}function ho(t,e,n,i,r){var a,o,s,l,c,u,h,d;if("radial"===t){c=i.rawX,h=i.rawY,u=r.rawX,d=r.rawY;var p=Ya(c,h),f=Ya(c,h+(d-h)*n),g=Ya(u,d+(h-d)*n),m=Ya(u,d);return{x1:p.x||0,y1:p.y||0,x2:m.x||0,y2:m.y||0,cpx1:f.x||0,cpy1:f.y||0,cpx2:g.x||0,cpy2:g.y||0}}return c=i.x,h=i.y,u=r.x,d=r.y,"LR"!==e&&"RL"!==e||(a=c+(u-c)*n,o=h,s=u+(c-u)*n,l=d),"TB"!==e&&"BT"!==e||(a=c,o=h+(d-h)*n,s=u,l=d+(h-d)*n),{x1:c,y1:h,x2:u,y2:d,cpx1:a,cpy1:o,cpx2:s,cpy2:l}}var po=ro,fo=Object(Ur["o"])();function go(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,wo(e,n,t),Object(V["each"])(n,(function(n){Object(V["each"])(e.TRANSFERABLE_METHODS,(function(e){n.wrapMethod(e,Object(V["curry"])(mo,t))}))})),e.wrapMethod("cloneShallow",Object(V["curry"])(yo,t)),Object(V["each"])(e.CHANGABLE_METHODS,(function(n){e.wrapMethod(n,Object(V["curry"])(vo,t))})),Object(V["assert"])(n[e.dataType]===e)}function mo(t,e){if(_o(this)){var n=Object(V["extend"])({},fo(this).datas);n[this.dataType]=e,wo(e,n,t)}else So(e,this.dataType,fo(this).mainData,t);return e}function vo(t,e){return t.struct&&t.struct.update(),e}function yo(t,e){return Object(V["each"])(fo(e).datas,(function(n,i){n!==e&&So(n.cloneShallow(),i,e,t)})),e}function bo(t){var e=fo(this).mainData;return null==t||null==e?e:fo(e).datas[t]}function xo(){var t=fo(this).mainData;return null==t?[{data:t}]:Object(V["map"])(Object(V["keys"])(fo(t).datas),(function(e){return{type:e,data:fo(t).datas[e]}}))}function _o(t){return fo(t).mainData===t}function wo(t,e,n){fo(t).datas={},Object(V["each"])(e,(function(e,i){So(e,i,t,n)}))}function So(t,e,n,i){fo(n).datas[e]=t,fo(t).mainData=n,t.dataType=e,i.struct&&(t[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=t),t.getLinkedData=bo,t.getLinkedDataAll=xo}var Oo=go,Co=n("b682"),Ao=n("b1d4"),Mo=function(){function t(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return t.prototype.isRemoved=function(){return this.dataIndex<0},t.prototype.eachNode=function(t,e,n){V["isFunction"](t)&&(n=e,e=t,t=null),t=t||{},V["isString"](t)&&(t={order:t});var i,r=t.order||"preorder",a=this[t.attr||"children"];"preorder"===r&&(i=e.call(n,this));for(var o=0;!i&&o<a.length;o++)a[o].eachNode(t,e,n);"postorder"===r&&e.call(n,this)},t.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},t.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,i=n.length;e<i;e++){var r=n[e].getNodeById(t);if(r)return r}},t.prototype.contains=function(t){if(t===this)return!0;for(var e=0,n=this.children,i=n.length;e<i;e++){var r=n[e].contains(t);if(r)return r}},t.prototype.getAncestors=function(t){var e=[],n=t?this:this.parentNode;while(n)e.push(n),n=n.parentNode;return e.reverse(),e},t.prototype.getAncestorsIndices=function(){var t=[],e=this;while(e)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},t.prototype.getDescendantIndices=function(){var t=[];return this.eachNode((function(e){t.push(e.dataIndex)})),t},t.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},t.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostTree,n=e.data.getItemModel(this.dataIndex);return n.getModel(t)}},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},t.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},t.prototype.isAncestorOf=function(t){var e=t.parentNode;while(e){if(e===this)return!0;e=e.parentNode}return!1},t.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},t}(),To=function(){function t(t){this.type="tree",this._nodes=[],this.hostModel=t}return t.prototype.eachNode=function(t,e,n){this.root.eachNode(t,e,n)},t.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},t.prototype.getNodeById=function(t){return this.root.getNodeById(t)},t.prototype.update=function(){for(var t=this.data,e=this._nodes,n=0,i=e.length;n<i;n++)e[n].dataIndex=-1;for(n=0,i=t.count();n<i;n++)e[t.getRawIndex(n)].dataIndex=n},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(e,n,i){var r=new t(n),a=[],o=1;function s(t,e){var n=t.value;o=Math.max(o,V["isArray"](n)?n.length:1),a.push(t);var i=new Mo(Object(Ur["e"])(t.name,""),r);e?ko(i,e):r.root=i,r._nodes.push(i);var l=t.children;if(l)for(var c=0;c<l.length;c++)s(l[c],i)}s(e),r.root.updateDepthAndHeight(0);var l=Object(Ao["b"])(a,{coordDimensions:["value"],dimensionsCount:o}).dimensions,c=new Co["a"](l,n);return c.initData(a),i&&i(c),Oo({mainData:c,struct:r,structAttr:"tree"}),r.update(),r},t}();function ko(t,e){var n=e.children;t.parentNode!==e&&(n.push(t),t.parentNode=e)}var Lo=To;function jo(t,e,n){if(t&&V["indexOf"](e,t.type)>=0){var i=n.getData().tree.root,r=t.targetNode;if(V["isString"](r)&&(r=i.getNodeById(r)),r&&i.contains(r))return{node:r};var a=t.targetNodeId;if(null!=a&&(r=i.getNodeById(a)))return{node:r}}}function Io(t){var e=[];while(t)t=t.parentNode,t&&e.push(t);return e.reverse()}function Eo(t,e){var n=Io(t);return V["indexOf"](n,e)>=0}function Po(t,e){var n=[];while(t){var i=t.dataIndex;n.push({name:t.name,dataIndex:i,value:e.getRawValue(i)}),t=t.parentNode}return n.reverse(),n}var Ro=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return Object(xe["a"])(e,t),e.prototype.getInitialData=function(t){var e={name:t.name,children:t.data},n=t.leaves||{},i=new $n["a"](n,this,this.ecModel),r=Lo.createTree(e,this,a);function a(t){t.wrapMethod("getItemModel",(function(t,e){var n=r.getNodeByDataIndex(e);return n&&n.children.length&&n.isExpand||(t.parentModel=i),t}))}var o=0;r.eachNode("preorder",(function(t){t.depth>o&&(o=t.depth)}));var s=t.expandAndCollapse,l=s&&t.initialTreeDepth>=0?t.initialTreeDepth:o;return r.root.eachNode("preorder",(function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=l})),r.data},e.prototype.getOrient=function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,e,n){var i=this.getData().tree,r=i.root.children[0],a=i.getNodeByDataIndex(t),o=a.getValue(),s=a.name;while(a&&a!==r)s=a.parentNode.name+"."+s,a=a.parentNode;return Object(Zn["c"])("nameValue",{name:s,value:o,noValue:isNaN(o)||null==o})},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=Po(i,this),n.collapsed=!i.isExpand,n},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(_e["b"]),Do=Ro;function Fo(t,e,n){var i,r=[t],a=[];while(i=r.pop())if(a.push(i),i.isExpand){var o=i.children;if(o.length)for(var s=0;s<o.length;s++)r.push(o[s])}while(i=a.pop())e(i,n)}function No(t,e){var n,i=[t];while(n=i.pop())if(e(n),n.isExpand){var r=n.children;if(r.length)for(var a=r.length-1;a>=0;a--)i.push(r[a])}}function Bo(t,e){t.eachSeriesByType("tree",(function(t){Vo(t,e)}))}function Vo(t,e){var n=Xa(t,e);t.layoutInfo=n;var i=t.get("layout"),r=0,a=0,o=null;"radial"===i?(r=2*Math.PI,a=Math.min(n.height,n.width)/2,o=Wa((function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth}))):(r=n.width,a=n.height,o=Wa());var s=t.getData().tree.root,l=s.children[0];if(l){za(s),Fo(l,Ua,o),s.hierNode.modifier=-l.hierNode.prelim,No(l,Ha);var c=l,u=l,h=l;No(l,(function(t){var e=t.getLayout().x;e<c.getLayout().x&&(c=t),e>u.getLayout().x&&(u=t),t.depth>h.depth&&(h=t)}));var d=c===u?1:o(c,u)/2,p=d-c.getLayout().x,f=0,g=0,m=0,v=0;if("radial"===i)f=r/(u.getLayout().x+d+p),g=a/(h.depth-1||1),No(l,(function(t){m=(t.getLayout().x+p)*f,v=(t.depth-1)*g;var e=Ya(m,v);t.setLayout({x:e.x,y:e.y,rawX:m,rawY:v},!0)}));else{var y=t.getOrient();"RL"===y||"LR"===y?(g=a/(u.getLayout().x+d+p),f=r/(h.depth-1||1),No(l,(function(t){v=(t.getLayout().x+p)*g,m="LR"===y?(t.depth-1)*f:r-(t.depth-1)*f,t.setLayout({x:m,y:v},!0)}))):"TB"!==y&&"BT"!==y||(f=r/(u.getLayout().x+d+p),g=a/(h.depth-1||1),No(l,(function(t){m=(t.getLayout().x+p)*f,v="TB"===y?(t.depth-1)*g:a-(t.depth-1)*g,t.setLayout({x:m,y:v},!0)})))}}}function Go(t){t.eachSeriesByType("tree",(function(t){var e=t.getData(),n=e.tree;n.eachNode((function(t){var n=t.getModel(),i=n.getModel("itemStyle").getItemStyle(),r=e.ensureUniqueItemVisual(t.dataIndex,"style");Object(V["extend"])(r,i)}))}))}function zo(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var n=t.dataIndex,i=e.getData().tree,r=i.getNodeByDataIndex(n);r.isExpand=!r.isExpand}))})),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(t,e,n){e.eachComponent({mainType:"series",subType:"tree",query:t},(function(e){var i=e.coordinateSystem,r=Ea(i,t,void 0,n);e.setCenter&&e.setCenter(r.center),e.setZoom&&e.setZoom(r.zoom)}))}))}function Uo(t){t.registerChartView(po),t.registerSeriesModel(Do),t.registerLayout(Bo),t.registerVisual(Go),zo(t)}var Ho=["treemapZoomToNode","treemapRender","treemapMove"];function Wo(t){for(var e=0;e<Ho.length;e++)t.registerAction({type:Ho[e],update:"updateView"},V["noop"]);t.registerAction({type:"treemapRootToNode",update:"updateView"},(function(t,e){function n(e,n){var i=["treemapZoomToNode","treemapRootToNode"],r=jo(t,i,e);if(r){var a=e.getViewRoot();a&&(t.direction=Eo(a,r.node)?"rollUp":"drillDown"),e.resetViewRoot(r.node)}}e.eachComponent({mainType:"series",subType:"treemap",query:t},n)}))}var Yo=n("4041");function Xo(t){var e=t.getData(),n=e.tree,i={};n.eachNode((function(e){var n=e;while(n&&n.depth>1)n=n.parentNode;var r=Object(Yo["b"])(t.ecModel,n.name||n.dataIndex+"",i);e.setVisual("decal",r)}))}var qo=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.preventUsingHoverLayer=!0,n}return Object(xe["a"])(e,t),e.prototype.getInitialData=function(t,e){var n={name:t.name,children:t.data};Zo(n);var i=t.levels||[],r=this.designatedVisualItemStyle={},a=new $n["a"]({itemStyle:r},this,e);i=t.levels=Qo(i,e);var o=V["map"](i||[],(function(t){return new $n["a"](t,a,e)}),this),s=Lo.createTree(n,this,l);function l(t){t.wrapMethod("getItemModel",(function(t,e){var n=s.getNodeByDataIndex(e),i=n?o[n.depth]:null;return t.parentModel=i||a,t}))}return s.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,e,n){var i=this.getData(),r=this.getRawValue(t),a=i.getName(t);return Object(Zn["c"])("nameValue",{name:a,value:r})},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=Po(i,this),n.treePathInfo=n.treeAncestors,n},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},V["extend"](this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=V["createHashMap"](),this._idIndexMapCount=0);var n=e.get(t);return null==n&&e.set(t,n=this._idIndexMapCount++),n},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){Xo(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(_e["b"]);function Zo(t){var e=0;V["each"](t.children,(function(t){Zo(t);var n=t.value;V["isArray"](n)&&(n=n[0]),e+=n}));var n=t.value;V["isArray"](n)&&(n=n[0]),(null==n||isNaN(n))&&(n=e),n<0&&(n=0),V["isArray"](t.value)?t.value[0]=n:t.value=n}function Qo(t,e){var n=Object(Ur["r"])(e.get("color")),i=Object(Ur["r"])(e.get(["aria","decal","decals"]));if(n){var r,a;t=t||[],V["each"](t,(function(t){var e=new $n["a"](t),n=e.get("color"),i=e.get("decal");(e.get(["itemStyle","color"])||n&&"none"!==n)&&(r=!0),(e.get(["itemStyle","decal"])||i&&"none"!==i)&&(a=!0)}));var o=t[0]||(t[0]={});return r||(o.color=n.slice()),!a&&i&&(o.decal=i.slice()),t}}var Jo=qo,Ko=n("80f0"),$o=8,ts=8,es=5,ns=function(){function t(t){this.group=new Te["a"],t.add(this.group)}return t.prototype.render=function(t,e,n,i){var r=t.getModel("breadcrumb"),a=this.group;if(a.removeAll(),r.get("show")&&n){var o=r.getModel("itemStyle"),s=r.getModel("emphasis"),l=o.getModel("textStyle"),c=s.getModel(["itemStyle","textStyle"]),u={pos:{left:r.get("left"),right:r.get("right"),top:r.get("top"),bottom:r.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:r.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,u,l),this._renderContent(t,u,o,s,l,c,i),Oa["i"](a,u.pos,u.box)}},t.prototype._prepare=function(t,e,n){for(var i=t;i;i=i.parentNode){var r=Object(Ur["e"])(i.getModel().get("name"),""),a=n.getTextRect(r),o=Math.max(a.width+2*$o,e.emptyItemWidth);e.totalWidth+=o+ts,e.renderList.push({node:i,text:r,width:o})}},t.prototype._renderContent=function(t,e,n,i,r,a,o){for(var s=0,l=e.emptyItemWidth,c=t.get(["breadcrumb","height"]),u=Oa["e"](e.pos,e.box),h=e.totalWidth,d=e.renderList,p=i.getModel("itemStyle").getItemStyle(),f=d.length-1;f>=0;f--){var g=d[f],m=g.node,v=g.width,y=g.text;h>u.width&&(h-=v-l,v=l,y=null);var b=new Un["a"]({shape:{points:is(s,0,v,c,f===d.length-1,0===f)},style:Object(V["defaults"])(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new _t["a"]({style:Object(Re["c"])(r,{text:y})}),textConfig:{position:"inside"},z2:1e4*Pe["j"],onclick:Object(V["curry"])(o,m)});b.disableLabelAnimation=!0,b.getTextContent().ensureState("emphasis").style=Object(Re["c"])(a,{text:y}),b.ensureState("emphasis").style=p,Object(Pe["J"])(b,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(b),rs(b,t,m),s+=v+ts}},t.prototype.remove=function(){this.group.removeAll()},t}();function is(t,e,n,i,r,a){var o=[[r?t:t-es,e],[t+n,e],[t+n,e+i],[r?t:t-es,e+i]];return!a&&o.splice(2,0,[t+n+es,e+i/2]),!r&&o.push([t,e+i/2]),o}function rs(t,e,n){Object(Ee["a"])(t).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&Po(n,e)}}var as=ns,os=function(){function t(){this._storage=[],this._elExistsMap={}}return t.prototype.add=function(t,e,n,i,r){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:n,delay:i,easing:r}),!0)},t.prototype.finished=function(t){return this._finishedCallback=t,this},t.prototype.start=function(){for(var t=this,e=this._storage.length,n=function(){e--,e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,r=this._storage.length;i<r;i++){var a=this._storage[i];a.el.animateTo(a.target,{duration:a.duration,delay:a.delay,easing:a.easing,setToFinal:!0,done:n,aborted:n})}return this},t}();function ss(){return new os}var ls=n("282b"),cs=n("eda2"),us=Te["a"],hs=je["a"],ds=3,ps="label",fs="upperLabel",gs=10*Pe["j"],ms=2*Pe["j"],vs=3*Pe["j"],ys=Object(ls["a"])([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),bs=function(t){var e=ys(t);return e.stroke=e.fill=e.lineWidth=null,e},xs=Object(Ur["o"])(),_s=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._state="ready",n._storage=ws(),n}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n,i){var r=e.findComponents({mainType:"series",subType:"treemap",query:i});if(!(Object(V["indexOf"])(r,t)<0)){this.seriesModel=t,this.api=n,this.ecModel=e;var a=["treemapZoomToNode","treemapRootToNode"],o=jo(i,a,t),s=i&&i.type,l=t.layoutInfo,c=!this._oldTree,u=this._storage,h="treemapRootToNode"===s&&o&&u?{rootNodeGroup:u.nodeGroup[o.node.getRawIndex()],direction:i.direction}:null,d=this._giveContainerGroup(l),p=t.get("animation"),f=this._doRender(d,t,h);!p||c||s&&"treemapZoomToNode"!==s&&"treemapRootToNode"!==s?f.renderFinally():this._doAnimation(d,f,t,h),this._resetController(n),this._renderBreadcrumb(t,n,o)}},e.prototype._giveContainerGroup=function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new us,this._initEvents(e),this.group.add(e)),e.x=t.x,e.y=t.y,e},e.prototype._doRender=function(t,e,n){var i=e.getData().tree,r=this._oldTree,a=ws(),o=ws(),s=this._storage,l=[];function c(t,i,r,c){return Ss(e,o,s,n,a,l,t,i,r,c)}h(i.root?[i.root]:[],r&&r.root?[r.root]:[],t,i===r||!r,0);var u=d(s);return this._oldTree=i,this._storage=o,{lastsForAnimation:a,willDeleteEls:u,renderFinally:p};function h(t,e,n,i,r){function a(t){return t.getId()}function o(a,o){var s=null!=a?t[a]:null,l=null!=o?e[o]:null,u=c(s,l,n,r);u&&h(s&&s.viewChildren||[],l&&l.viewChildren||[],u,i,r+1)}i?(e=t,Object(V["each"])(t,(function(t,e){!t.isRemoved()&&o(e,e)}))):new Ko["a"](e,t,a,a).add(o).update(o).remove(Object(V["curry"])(o,null)).execute()}function d(t){var e=ws();return t&&Object(V["each"])(t,(function(t,n){var i=e[n];Object(V["each"])(t,(function(t){t&&(i.push(t),xs(t).willDelete=!0)}))})),e}function p(){Object(V["each"])(u,(function(t){Object(V["each"])(t,(function(t){t.parent&&t.parent.remove(t)}))})),Object(V["each"])(l,(function(t){t.invisible=!0,t.dirty()}))}},e.prototype._doAnimation=function(t,e,n,i){var r=n.get("animationDurationUpdate"),a=n.get("animationEasing"),o=(Object(V["isFunction"])(r)?0:r)||0,s=(Object(V["isFunction"])(a)?null:a)||"cubicOut",l=ss();Object(V["each"])(e.willDeleteEls,(function(t,e){Object(V["each"])(t,(function(t,n){if(!t.invisible){var r,a=t.parent,c=xs(a);if(i&&"drillDown"===i.direction)r=a===i.rootNodeGroup?{shape:{x:0,y:0,width:c.nodeWidth,height:c.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var u=0,h=0;c.willDelete||(u=c.nodeWidth/2,h=c.nodeHeight/2),r="nodeGroup"===e?{x:u,y:h,style:{opacity:0}}:{shape:{x:u,y:h,width:0,height:0},style:{opacity:0}}}r&&l.add(t,r,o,0,s)}}))})),Object(V["each"])(this._storage,(function(t,n){Object(V["each"])(t,(function(t,i){var r=e.lastsForAnimation[n][i],a={};r&&(t instanceof Te["a"]?null!=r.oldX&&(a.x=t.x,a.y=t.y,t.x=r.oldX,t.y=r.oldY):(r.oldShape&&(a.shape=Object(V["extend"])({},t.shape),t.setShape(r.oldShape)),r.fadein?(t.setStyle("opacity",0),a.style={opacity:1}):1!==t.style.opacity&&(a.style={opacity:1})),l.add(t,a,o,0,s))}))}),this),this._state="animating",l.finished(Object(V["bind"])((function(){this._state="ready",e.renderFinally()}),this)).start()},e.prototype._resetController=function(t){var e=this._controller;e||(e=this._controller=new Ri(t.getZr()),e.enable(this.seriesModel.get("roam")),e.on("pan",Object(V["bind"])(this._onPan,this)),e.on("zoom",Object(V["bind"])(this._onZoom,this)));var n=new An["a"](0,0,t.getWidth(),t.getHeight());e.setPointerChecker((function(t,e,i){return n.contain(e,i)}))},e.prototype._clearController=function(){var t=this._controller;t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if("animating"!==this._state&&(Math.abs(t.dx)>ds||Math.abs(t.dy)>ds)){var e=this.seriesModel.getData().tree.root;if(!e)return;var n=e.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t.dx,y:n.y+t.dy,width:n.width,height:n.height}})}},e.prototype._onZoom=function(t){var e=t.originX,n=t.originY;if("animating"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;var a=new An["a"](r.x,r.y,r.width,r.height),o=this.seriesModel.layoutInfo;e-=o.x,n-=o.y;var s=Ui["create"]();Ui["translate"](s,s,[-e,-n]),Ui["scale"](s,s,[t.scale,t.scale]),Ui["translate"](s,s,[e,n]),a.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x,y:a.y,width:a.width,height:a.height}})}},e.prototype._initEvents=function(t){var e=this;t.on("click",(function(t){if("ready"===e._state){var n=e.seriesModel.get("nodeClick",!0);if(n){var i=e.findTarget(t.offsetX,t.offsetY);if(i){var r=i.node;if(r.getLayout().isLeafRoot)e._rootToNode(i);else if("zoomToNode"===n)e._zoomToNode(i);else if("link"===n){var a=r.hostTree.data.getItemModel(r.dataIndex),o=a.get("link",!0),s=a.get("target",!0)||"blank";o&&Object(cs["k"])(o,s)}}}}}),this)},e.prototype._renderBreadcrumb=function(t,e,n){var i=this;n||(n=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2),n||(n={node:t.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new as(this.group))).render(t,e,n.node,(function(e){"animating"!==i._state&&(Eo(t.getViewRoot(),e)?i._rootToNode({node:e}):i._zoomToNode({node:e}))}))},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=ws(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,e){var n,i=this.seriesModel.getViewRoot();return i.eachNode({attr:"viewChildren",order:"preorder"},(function(i){var r=this._storage.background[i.getRawIndex()];if(r){var a=r.transformCoordToLocal(t,e),o=r.shape;if(!(o.x<=a[0]&&a[0]<=o.x+o.width&&o.y<=a[1]&&a[1]<=o.y+o.height))return!1;n={node:i,offsetX:a[0],offsetY:a[1]}}}),this),n},e.type="treemap",e}(Ge["a"]);function ws(){return{nodeGroup:[],background:[],content:[]}}function Ss(t,e,n,i,r,a,o,s,l,c){if(o){var u=o.getLayout(),h=t.getData(),d=o.getModel();if(h.setItemGraphicEl(o.dataIndex,null),u&&u.isInView){var p=u.width,f=u.height,g=u.borderWidth,m=u.invisible,v=o.getRawIndex(),y=s&&s.getRawIndex(),b=o.viewChildren,x=u.upperHeight,_=b&&b.length,w=d.getModel("itemStyle"),S=d.getModel(["emphasis","itemStyle"]),O=d.getModel(["blur","itemStyle"]),C=d.getModel(["select","itemStyle"]),A=w.get("borderRadius")||0,M=G("nodeGroup",us);if(M){if(l.add(M),M.x=u.x||0,M.y=u.y||0,M.markRedraw(),xs(M).nodeWidth=p,xs(M).nodeHeight=f,u.isAboveViewRoot)return M;var T=G("background",hs,c,ms);T&&R(M,T,_&&u.upperLabelHeight);var k=d.getModel("emphasis"),L=k.get("focus"),j=k.get("blurScope"),I=k.get("disabled"),E="ancestor"===L?o.getAncestorsIndices():"descendant"===L?o.getDescendantIndices():L;if(_)Object(Pe["y"])(M)&&Object(Pe["F"])(M,!1),T&&(Object(Pe["F"])(T,!I),h.setItemGraphicEl(o.dataIndex,T),Object(Pe["p"])(T,E,j));else{var P=G("content",hs,c,vs);P&&D(M,P),T.disableMorphing=!0,T&&Object(Pe["y"])(T)&&Object(Pe["F"])(T,!1),Object(Pe["F"])(M,!I),h.setItemGraphicEl(o.dataIndex,M),Object(Pe["p"])(M,E,j)}return M}}}function R(e,n,i){var r=Object(Ee["a"])(n);if(r.dataIndex=o.dataIndex,r.seriesIndex=t.seriesIndex,n.setShape({x:0,y:0,width:p,height:f,r:A}),m)F(n);else{n.invisible=!1;var a=o.getVisual("style"),s=a.stroke,l=bs(w);l.fill=s;var c=ys(S);c.fill=S.get("borderColor");var u=ys(O);u.fill=O.get("borderColor");var h=ys(C);if(h.fill=C.get("borderColor"),i){var d=p-2*g;N(n,s,a.opacity,{x:g,y:0,width:d,height:x})}else n.removeTextContent();n.setStyle(l),n.ensureState("emphasis").style=c,n.ensureState("blur").style=u,n.ensureState("select").style=h,Object(Pe["G"])(n)}e.add(n)}function D(e,n){var i=Object(Ee["a"])(n);i.dataIndex=o.dataIndex,i.seriesIndex=t.seriesIndex;var r=Math.max(p-2*g,0),a=Math.max(f-2*g,0);if(n.culling=!0,n.setShape({x:g,y:g,width:r,height:a,r:A}),m)F(n);else{n.invisible=!1;var s=o.getVisual("style"),l=s.fill,c=bs(w);c.fill=l,c.decal=s.decal;var u=ys(S),h=ys(O),d=ys(C);N(n,l,s.opacity,null),n.setStyle(c),n.ensureState("emphasis").style=u,n.ensureState("blur").style=h,n.ensureState("select").style=d,Object(Pe["G"])(n)}e.add(n)}function F(t){!t.invisible&&a.push(t)}function N(e,n,i,r){var a=d.getModel(r?fs:ps),s=Object(Ur["e"])(d.get("name"),null),l=a.getShallow("show");Object(Re["g"])(e,Object(Re["e"])(d,r?fs:ps),{defaultText:l?s:null,inheritColor:n,defaultOpacity:i,labelFetcher:t,labelDataIndex:o.dataIndex});var c=e.getTextContent();if(c){var h=c.style,p=Object(V["normalizeCssArray"])(h.padding||0);r&&(e.setTextConfig({layoutRect:r}),c.disableLabelLayout=!0),c.beforeUpdate=function(){var t=Math.max((r?r.width:e.shape.width)-p[1]-p[3],0),n=Math.max((r?r.height:e.shape.height)-p[0]-p[2],0);h.width===t&&h.height===n||c.setStyle({width:t,height:n})},h.truncateMinChar=2,h.lineOverflow="truncate",B(h,r,u);var f=c.getState("emphasis");B(f?f.style:null,r,u)}}function B(e,n,i){var r=e?e.text:null;if(!n&&i.isLeafRoot&&null!=r){var a=t.get("drillDownIcon",!0);e.text=a?a+" "+r:r}}function G(t,i,a,o){var s=null!=y&&n[t][y],l=r[t];return s?(n[t][y]=null,z(l,s)):m||(s=new i,s instanceof zr["c"]&&(s.z2=Os(a,o)),U(l,s)),e[t][v]=s}function z(t,e){var n=t[v]={};e instanceof us?(n.oldX=e.x,n.oldY=e.y):n.oldShape=Object(V["extend"])({},e.shape)}function U(t,e){var n=t[v]={},a=o.parentNode,s=e instanceof Te["a"];if(a&&(!i||"drillDown"===i.direction)){var l=0,c=0,u=r.background[a.getRawIndex()];!i&&u&&u.oldShape&&(l=u.oldShape.width,c=u.oldShape.height),s?(n.oldX=0,n.oldY=c):n.oldShape={x:l,y:c,width:0,height:0}}n.fadein=!s}}function Os(t,e){return t*gs+e}var Cs=_s,As=n("41ef"),Ms=n("edae"),Ts=V["each"],ks=V["isObject"],Ls=-1,js=function(){function t(e){var n=e.mappingMethod,i=e.type,r=this.option=V["clone"](e);this.type=i,this.mappingMethod=n,this._normalizeData=Us[n];var a=t.visualHandlers[i];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[n],"piecewise"===n?(Ps(r),Is(r)):"category"===n?r.categories?Es(r):Ps(r,!0):(V["assert"]("linear"!==n||r.dataExtent),Ps(r))}return t.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},t.prototype.getNormalizer=function(){return V["bind"](this._normalizeData,this)},t.listVisualTypes=function(){return V["keys"](t.visualHandlers)},t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)},t.eachVisual=function(t,e,n){V["isObject"](t)?V["each"](t,e,n):e.call(n,t)},t.mapVisual=function(e,n,i){var r,a=V["isArray"](e)?[]:V["isObject"](e)?{}:(r=!0,null);return t.eachVisual(e,(function(t,e){var o=n.call(i,t,e);r?a=o:a[e]=o})),a},t.retrieveVisuals=function(e){var n,i={};return e&&Ts(t.visualHandlers,(function(t,r){e.hasOwnProperty(r)&&(i[r]=e[r],n=!0)})),n?i:null},t.prepareVisualTypes=function(t){if(V["isArray"](t))t=t.slice();else{if(!ks(t))return[];var e=[];Ts(t,(function(t,n){e.push(n)})),t=e}return t.sort((function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1})),t},t.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},t.findPieceIndex=function(t,e,n){for(var i,r=1/0,a=0,o=e.length;a<o;a++){var s=e[a].value;if(null!=s){if(s===t||V["isString"](s)&&s===t+"")return a;n&&h(s,a)}}for(a=0,o=e.length;a<o;a++){var l=e[a],c=l.interval,u=l.close;if(c){if(c[0]===-1/0){if(Hs(u[1],t,c[1]))return a}else if(c[1]===1/0){if(Hs(u[0],c[0],t))return a}else if(Hs(u[0],c[0],t)&&Hs(u[1],t,c[1]))return a;n&&h(c[0],a),n&&h(c[1],a)}}if(n)return t===1/0?e.length-1:t===-1/0?0:i;function h(e,n){var a=Math.abs(e-t);a<r&&(r=a,i=n)}},t.visualHandlers={color:{applyVisual:Fs("color"),getColorMapper:function(){var t=this.option;return V["bind"]("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),Ns.call(this,t)}:function(e,n,i){var r=!!i;return!n&&(e=this._normalizeData(e)),i=As["fastLerp"](e,t.parsedVisual,i),r?i:As["stringify"](i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return As["stringify"](As["fastLerp"](t,this.option.parsedVisual),"rgba")},category:Ns,piecewise:function(t,e){var n=Gs.call(this,e);return null==n&&(n=As["stringify"](As["fastLerp"](t,this.option.parsedVisual),"rgba")),n},fixed:Bs}},colorHue:Rs((function(t,e){return As["modifyHSL"](t,e)})),colorSaturation:Rs((function(t,e){return As["modifyHSL"](t,null,e)})),colorLightness:Rs((function(t,e){return As["modifyHSL"](t,null,null,e)})),colorAlpha:Rs((function(t,e){return As["modifyAlpha"](t,e)})),decal:{applyVisual:Fs("decal"),_normalizedToVisual:{linear:null,category:Ns,piecewise:null,fixed:null}},opacity:{applyVisual:Fs("opacity"),_normalizedToVisual:Vs([0,1])},liftZ:{applyVisual:Fs("liftZ"),_normalizedToVisual:{linear:Bs,category:Bs,piecewise:Bs,fixed:Bs}},symbol:{applyVisual:function(t,e,n){var i=this.mapValueToVisual(t);n("symbol",i)},_normalizedToVisual:{linear:Ds,category:Ns,piecewise:function(t,e){var n=Gs.call(this,e);return null==n&&(n=Ds.call(this,t)),n},fixed:Bs}},symbolSize:{applyVisual:Fs("symbolSize"),_normalizedToVisual:Vs([0,1])}},t}();function Is(t){var e=t.pieceList;t.hasSpecialVisual=!1,V["each"](e,(function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)}))}function Es(t){var e=t.categories,n=t.categoryMap={},i=t.visual;if(Ts(e,(function(t,e){n[t]=e})),!V["isArray"](i)){var r=[];V["isObject"](i)?Ts(i,(function(t,e){var i=n[e];r[null!=i?i:Ls]=t})):r[Ls]=i,i=zs(t,r)}for(var a=e.length-1;a>=0;a--)null==i[a]&&(delete n[e[a]],e.pop())}function Ps(t,e){var n=t.visual,i=[];V["isObject"](n)?Ts(n,(function(t){i.push(t)})):null!=n&&i.push(n);var r={color:1,symbol:1};e||1!==i.length||r.hasOwnProperty(t.type)||(i[1]=i[0]),zs(t,i)}function Rs(t){return{applyVisual:function(e,n,i){var r=this.mapValueToVisual(e);i("color",t(n("color"),r))},_normalizedToVisual:Vs([0,1])}}function Ds(t){var e=this.option.visual;return e[Math.round(Object(vi["m"])(t,[0,1],[0,e.length-1],!0))]||{}}function Fs(t){return function(e,n,i){i(t,this.mapValueToVisual(e))}}function Ns(t){var e=this.option.visual;return e[this.option.loop&&t!==Ls?t%e.length:t]}function Bs(){return this.option.visual[0]}function Vs(t){return{linear:function(e){return Object(vi["m"])(e,t,this.option.visual,!0)},category:Ns,piecewise:function(e,n){var i=Gs.call(this,n);return null==i&&(i=Object(vi["m"])(e,t,this.option.visual,!0)),i},fixed:Bs}}function Gs(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var i=js.findPieceIndex(t,n),r=n[i];if(r&&r.visual)return r.visual[this.type]}}function zs(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=V["map"](e,(function(t){var e=As["parse"](t);return e||[0,0,0,1]}))),e}var Us={linear:function(t){return Object(vi["m"])(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=js.findPieceIndex(t,e,!0);if(null!=n)return Object(vi["m"])(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?Ls:e},fixed:V["noop"]};function Hs(t,e,n){return t?e<=n:e<n}var Ws=js,Ys="itemStyle",Xs=Object(Ur["o"])(),qs={seriesType:"treemap",reset:function(t){var e=t.getData().tree,n=e.root;n.isRemoved()||Zs(n,{},t.getViewRoot().getAncestors(),t)}};function Zs(t,e,n,i){var r=t.getModel(),a=t.getLayout(),o=t.hostTree.data;if(a&&!a.invisible&&a.isInView){var s,l=r.getModel(Ys),c=Qs(l,e,i),u=o.ensureUniqueItemVisual(t.dataIndex,"style"),h=l.get("borderColor"),d=l.get("borderColorSaturation");null!=d&&(s=Js(c),h=Ks(d,s)),u.stroke=h;var p=t.viewChildren;if(p&&p.length){var f=tl(t,r,a,l,c,p);Object(V["each"])(p,(function(t,e){if(t.depth>=n.length||t===n[t.depth]){var a=nl(r,c,t,e,f,i);Zs(t,a,n,i)}}))}else s=Js(c),u.fill=s}}function Qs(t,e,n){var i=Object(V["extend"])({},e),r=n.designatedVisualItemStyle;return Object(V["each"])(["color","colorAlpha","colorSaturation"],(function(n){r[n]=e[n];var a=t.get(n);r[n]=null,null!=a&&(i[n]=a)})),i}function Js(t){var e=$s(t,"color");if(e){var n=$s(t,"colorAlpha"),i=$s(t,"colorSaturation");return i&&(e=Object(As["modifyHSL"])(e,null,null,i)),n&&(e=Object(As["modifyAlpha"])(e,n)),e}}function Ks(t,e){return null!=e?Object(As["modifyHSL"])(e,null,null,t):null}function $s(t,e){var n=t[e];if(null!=n&&"none"!==n)return n}function tl(t,e,n,i,r,a){if(a&&a.length){var o=el(e,"color")||null!=r.color&&"none"!==r.color&&(el(e,"colorAlpha")||el(e,"colorSaturation"));if(o){var s=e.get("visualMin"),l=e.get("visualMax"),c=n.dataExtent.slice();null!=s&&s<c[0]&&(c[0]=s),null!=l&&l>c[1]&&(c[1]=l);var u=e.get("colorMappingBy"),h={type:o.name,dataExtent:c,visual:o.range};"color"!==h.type||"index"!==u&&"id"!==u?h.mappingMethod="linear":(h.mappingMethod="category",h.loop=!0);var d=new Ws(h);return Xs(d).drColorMappingBy=u,d}}}function el(t,e){var n=t.get(e);return Object(V["isArray"])(n)&&n.length?{name:e,range:n}:null}function nl(t,e,n,i,r,a){var o=Object(V["extend"])({},e);if(r){var s=r.type,l="color"===s&&Xs(r).drColorMappingBy,c="index"===l?i:"id"===l?a.mapIdToIndex(n.getId()):n.getValue(t.get("visualDimension"));o[s]=r.mapValueToVisual(c)}return o}var il=Math.max,rl=Math.min,al=V["retrieve"],ol=V["each"],sl=["itemStyle","borderWidth"],ll=["itemStyle","gapWidth"],cl=["upperLabel","show"],ul=["upperLabel","height"],hl={seriesType:"treemap",reset:function(t,e,n,i){var r=n.getWidth(),a=n.getHeight(),o=t.option,s=Oa["g"](t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),l=o.size||[],c=Object(vi["q"])(al(s.width,l[0]),r),u=Object(vi["q"])(al(s.height,l[1]),a),h=i&&i.type,d=["treemapZoomToNode","treemapRootToNode"],p=jo(i,d,t),f="treemapRender"===h||"treemapMove"===h?i.rootRect:null,g=t.getViewRoot(),m=Io(g);if("treemapMove"!==h){var v="treemapZoomToNode"===h?bl(t,p,g,c,u):f?[f.width,f.height]:[c,u],y=o.sort;y&&"asc"!==y&&"desc"!==y&&(y="desc");var b={squareRatio:o.squareRatio,sort:y,leafDepth:o.leafDepth};g.hostTree.clearLayouts();var x={x:0,y:0,width:v[0],height:v[1],area:v[0]*v[1]};g.setLayout(x),dl(g,b,!1,0),x=g.getLayout(),ol(m,(function(t,e){var n=(m[e+1]||g).getValue();t.setLayout(V["extend"]({dataExtent:[n,n],borderWidth:0,upperHeight:0},x))}))}var _=t.getData().tree.root;_.setLayout(xl(s,f,p),!0),t.setLayoutInfo(s),_l(_,new An["a"](-s.x,-s.y,r,a),m,g,0)}};function dl(t,e,n,i){var r,a;if(!t.isRemoved()){var o=t.getLayout();r=o.width,a=o.height;var s=t.getModel(),l=s.get(sl),c=s.get(ll)/2,u=wl(s),h=Math.max(l,u),d=l-c,p=h-c;t.setLayout({borderWidth:l,upperHeight:h,upperLabelHeight:u},!0),r=il(r-2*d,0),a=il(a-d-p,0);var f=r*a,g=pl(t,s,f,e,n,i);if(g.length){var m={x:d,y:p,width:r,height:a},v=rl(r,a),y=1/0,b=[];b.area=0;for(var x=0,_=g.length;x<_;){var w=g[x];b.push(w),b.area+=w.getLayout().area;var S=vl(b,v,e.squareRatio);S<=y?(x++,y=S):(b.area-=b.pop().getLayout().area,yl(b,v,m,c,!1),v=rl(m.width,m.height),b.length=b.area=0,y=1/0)}if(b.length&&yl(b,v,m,c,!0),!n){var O=s.get("childrenVisibleMin");null!=O&&f<O&&(n=!0)}for(x=0,_=g.length;x<_;x++)dl(g[x],e,n,i+1)}}}function pl(t,e,n,i,r,a){var o=t.children||[],s=i.sort;"asc"!==s&&"desc"!==s&&(s=null);var l=null!=i.leafDepth&&i.leafDepth<=a;if(r&&!l)return t.viewChildren=[];o=V["filter"](o,(function(t){return!t.isRemoved()})),gl(o,s);var c=ml(e,o,s);if(0===c.sum)return t.viewChildren=[];if(c.sum=fl(e,n,c.sum,s,o),0===c.sum)return t.viewChildren=[];for(var u=0,h=o.length;u<h;u++){var d=o[u].getValue()/c.sum*n;o[u].setLayout({area:d})}return l&&(o.length&&t.setLayout({isLeafRoot:!0},!0),o.length=0),t.viewChildren=o,t.setLayout({dataExtent:c.dataExtent},!0),o}function fl(t,e,n,i,r){if(!i)return n;for(var a=t.get("visibleMin"),o=r.length,s=o,l=o-1;l>=0;l--){var c=r["asc"===i?o-l-1:l].getValue();c/n*e<a&&(s=l,n-=c)}return"asc"===i?r.splice(0,o-s):r.splice(s,o-s),n}function gl(t,e){return e&&t.sort((function(t,n){var i="asc"===e?t.getValue()-n.getValue():n.getValue()-t.getValue();return 0===i?"asc"===e?t.dataIndex-n.dataIndex:n.dataIndex-t.dataIndex:i})),t}function ml(t,e,n){for(var i=0,r=0,a=e.length;r<a;r++)i+=e[r].getValue();var o,s=t.get("visualDimension");return e&&e.length?"value"===s&&n?(o=[e[e.length-1].getValue(),e[0].getValue()],"asc"===n&&o.reverse()):(o=[1/0,-1/0],ol(e,(function(t){var e=t.getValue(s);e<o[0]&&(o[0]=e),e>o[1]&&(o[1]=e)}))):o=[NaN,NaN],{sum:i,dataExtent:o}}function vl(t,e,n){for(var i=0,r=1/0,a=0,o=void 0,s=t.length;a<s;a++)o=t[a].getLayout().area,o&&(o<r&&(r=o),o>i&&(i=o));var l=t.area*t.area,c=e*e*n;return l?il(c*i/l,l/(c*r)):1/0}function yl(t,e,n,i,r){var a=e===n.width?0:1,o=1-a,s=["x","y"],l=["width","height"],c=n[s[a]],u=e?t.area/e:0;(r||u>n[l[o]])&&(u=n[l[o]]);for(var h=0,d=t.length;h<d;h++){var p=t[h],f={},g=u?p.getLayout().area/u:0,m=f[l[o]]=il(u-2*i,0),v=n[s[a]]+n[l[a]]-c,y=h===d-1||v<g?v:g,b=f[l[a]]=il(y-2*i,0);f[s[o]]=n[s[o]]+rl(i,m/2),f[s[a]]=c+rl(i,b/2),c+=y,p.setLayout(f,!0)}n[s[o]]+=u,n[l[o]]-=u}function bl(t,e,n,i,r){var a,o=(e||{}).node,s=[i,r];if(!o||o===n)return s;var l=i*r,c=l*t.option.zoomToNodeRatio;while(a=o.parentNode){for(var u=0,h=a.children,d=0,p=h.length;d<p;d++)u+=h[d].getValue();var f=o.getValue();if(0===f)return s;c*=u/f;var g=a.getModel(),m=g.get(sl),v=Math.max(m,wl(g));c+=4*m*m+(3*m+v)*Math.pow(c,.5),c>vi["a"]&&(c=vi["a"]),o=a}c<l&&(c=l);var y=Math.pow(c/l,.5);return[i*y,r*y]}function xl(t,e,n){if(e)return{x:e.x,y:e.y};var i={x:0,y:0};if(!n)return i;var r=n.node,a=r.getLayout();if(!a)return i;var o=[a.width/2,a.height/2],s=r;while(s){var l=s.getLayout();o[0]+=l.x,o[1]+=l.y,s=s.parentNode}return{x:t.width/2-o[0],y:t.height/2-o[1]}}function _l(t,e,n,i,r){var a=t.getLayout(),o=n[r],s=o&&o===t;if(!(o&&!s||r===n.length&&t!==i)){t.setLayout({isInView:!0,invisible:!s&&!e.intersect(a),isAboveViewRoot:s},!0);var l=new An["a"](e.x-a.x,e.y-a.y,e.width,e.height);ol(t.viewChildren||[],(function(t){_l(t,l,n,i,r+1)}))}}function wl(t){return t.get(cl)?t.get(ul):0}function Sl(t){t.registerSeriesModel(Jo),t.registerChartView(Cs),t.registerVisual(qs),t.registerLayout(hl),Wo(t)}function Ol(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",(function(t){var n=t.getCategoriesData(),i=t.getGraph(),r=i.data,a=n.mapArray(n.getName);r.filterSelf((function(t){var n=r.getItemModel(t),i=n.getShallow("category");if(null!=i){Object(V["isNumber"])(i)&&(i=a[i]);for(var o=0;o<e.length;o++)if(!e[o].isSelected(i))return!1}return!0}))}))}function Cl(t){var e={};t.eachSeriesByType("graph",(function(t){var n=t.getCategoriesData(),i=t.getData(),r={};n.each((function(i){var a=n.getName(i);r["ec-"+a]=i;var o=n.getItemModel(i),s=o.getModel("itemStyle").getItemStyle();s.fill||(s.fill=t.getColorFromPalette(a,e)),n.setItemVisual(i,"style",s);for(var l=["symbol","symbolSize","symbolKeepAspect"],c=0;c<l.length;c++){var u=o.getShallow(l[c],!0);null!=u&&n.setItemVisual(i,l[c],u)}})),n.count()&&i.each((function(t){var e=i.getItemModel(t),a=e.getShallow("category");if(null!=a){Object(V["isString"])(a)&&(a=r["ec-"+a]);var o=n.getItemVisual(a,"style"),s=i.ensureUniqueItemVisual(t,"style");Object(V["extend"])(s,o);for(var l=["symbol","symbolSize","symbolKeepAspect"],c=0;c<l.length;c++)i.setItemVisual(t,l[c],n.getItemVisual(a,l[c]))}}))}))}function Al(t){return t instanceof Array||(t=[t,t]),t}function Ml(t){t.eachSeriesByType("graph",(function(t){var e=t.getGraph(),n=t.getEdgeData(),i=Al(t.get("edgeSymbol")),r=Al(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",r&&r[0]),n.setVisual("toSymbolSize",r&&r[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each((function(t){var i=n.getItemModel(t),r=e.getEdgeByIndex(t),a=Al(i.getShallow("symbol",!0)),o=Al(i.getShallow("symbolSize",!0)),s=i.getModel("lineStyle").getLineStyle(),l=n.ensureUniqueItemVisual(t,"style");switch(Object(V["extend"])(l,s),l.stroke){case"source":var c=r.node1.getVisual("style");l.stroke=c&&c.fill;break;case"target":c=r.node2.getVisual("style");l.stroke=c&&c.fill;break}a[0]&&r.setVisual("fromSymbol",a[0]),a[1]&&r.setVisual("toSymbol",a[1]),o[0]&&r.setVisual("fromSymbolSize",o[0]),o[1]&&r.setVisual("toSymbolSize",o[1])}))}))}var Tl="--\x3e",kl=function(t){return t.get("autoCurveness")||null},Ll=function(t,e){var n=kl(t),i=20,r=[];if(V["isNumber"](n))i=n;else if(V["isArray"](n))return void(t.__curvenessList=n);e>i&&(i=e);var a=i%2?i+2:i+3;r=[];for(var o=0;o<a;o++)r.push((o%2?o+1:o)/10*(o%2?-1:1));t.__curvenessList=r},jl=function(t,e,n){var i=[t.id,t.dataIndex].join("."),r=[e.id,e.dataIndex].join(".");return[n.uid,i,r].join(Tl)},Il=function(t){var e=t.split(Tl);return[e[0],e[2],e[1]].join(Tl)},El=function(t,e){var n=jl(t.node1,t.node2,e);return e.__edgeMap[n]},Pl=function(t,e){var n=Rl(jl(t.node1,t.node2,e),e),i=Rl(jl(t.node2,t.node1,e),e);return n+i},Rl=function(t,e){var n=e.__edgeMap;return n[t]?n[t].length:0};function Dl(t){kl(t)&&(t.__curvenessList=[],t.__edgeMap={},Ll(t))}function Fl(t,e,n,i){if(kl(n)){var r=jl(t,e,n),a=n.__edgeMap,o=a[Il(r)];a[r]&&!o?a[r].isForward=!0:o&&a[r]&&(o.isForward=!0,a[r].isForward=!1),a[r]=a[r]||[],a[r].push(i)}}function Nl(t,e,n,i){var r=kl(e),a=V["isArray"](r);if(!r)return null;var o=El(t,e);if(!o)return null;for(var s=-1,l=0;l<o.length;l++)if(o[l]===n){s=l;break}var c=Pl(t,e);Ll(e,c),t.lineStyle=t.lineStyle||{};var u=jl(t.node1,t.node2,e),h=e.__curvenessList,d=a||c%2?0:1;if(o.isForward)return h[d+s];var p=Il(u),f=Rl(p,e),g=h[s+f+d];return i?a?r&&0===r[0]?(f+d)%2?g:-g:((f%2?0:1)+d)%2?g:-g:(f+d)%2?g:-g:h[s+f+d]}function Bl(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=t.getGraph();n.eachNode((function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])})),Vl(n,t)}}function Vl(t,e){t.eachEdge((function(t,n){var i=V["retrieve3"](t.getModel().get(["lineStyle","curveness"]),-Nl(t,e,n,!0),0),r=fa["clone"](t.node1.getLayout()),a=fa["clone"](t.node2.getLayout()),o=[r,a];+i&&o.push([(r[0]+a[0])/2-(r[1]-a[1])*i,(r[1]+a[1])/2-(a[0]-r[0])*i]),t.setLayout(o)}))}function Gl(t,e){t.eachSeriesByType("graph",(function(t){var e=t.get("layout"),n=t.coordinateSystem;if(n&&"view"!==n.type){var i=t.getData(),r=[];Object(V["each"])(n.dimensions,(function(t){r=r.concat(i.mapDimensionsAll(t))}));for(var a=0;a<i.count();a++){for(var o=[],s=!1,l=0;l<r.length;l++){var c=i.get(r[l],a);isNaN(c)||(s=!0),o.push(c)}s?i.setItemLayout(a,n.dataToPoint(o)):i.setItemLayout(a,[NaN,NaN])}Vl(i.graph,t)}else e&&"none"!==e||Bl(t)}))}function zl(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=t.option.nodeScaleRatio,i=e.scaleX,r=e.getZoom(),a=(r-1)*n+1;return a/i}function Ul(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var Hl=Math.PI,Wl=[];function Yl(t,e,n,i){var r=t.coordinateSystem;if(!r||"view"===r.type){var a=r.getBoundingRect(),o=t.getData(),s=o.graph,l=a.width/2+a.x,c=a.height/2+a.y,u=Math.min(a.width,a.height)/2,h=o.count();if(o.setLayout({cx:l,cy:c}),h){if(n){var d=r.pointToData(i),p=d[0],f=d[1],g=[p-l,f-c];fa["normalize"](g,g),fa["scale"](g,g,u),n.setLayout([l+g[0],c+g[1]],!0);var m=t.get(["circular","rotateLabel"]);ql(n,m,l,c)}Xl[e](t,s,o,u,l,c,h),s.eachEdge((function(e,n){var i,r=V["retrieve3"](e.getModel().get(["lineStyle","curveness"]),Nl(e,t,n),0),a=fa["clone"](e.node1.getLayout()),o=fa["clone"](e.node2.getLayout()),s=(a[0]+o[0])/2,u=(a[1]+o[1])/2;+r&&(r*=3,i=[l*r+s*(1-r),c*r+u*(1-r)]),e.setLayout([a,o,i])}))}}}var Xl={value:function(t,e,n,i,r,a,o){var s=0,l=n.getSum("value"),c=2*Math.PI/(l||o);e.eachNode((function(t){var e=t.getValue("value"),n=c*(l?e:1)/2;s+=n,t.setLayout([i*Math.cos(s)+r,i*Math.sin(s)+a]),s+=n}))},symbolSize:function(t,e,n,i,r,a,o){var s=0;Wl.length=o;var l=zl(t);e.eachNode((function(t){var e=Ul(t);isNaN(e)&&(e=2),e<0&&(e=0),e*=l;var n=Math.asin(e/2/i);isNaN(n)&&(n=Hl/2),Wl[t.dataIndex]=n,s+=2*n}));var c=(2*Hl-s)/o/2,u=0;e.eachNode((function(t){var e=c+Wl[t.dataIndex];u+=e,(!t.getLayout()||!t.getLayout().fixed)&&t.setLayout([i*Math.cos(u)+r,i*Math.sin(u)+a]),u+=e}))}};function ql(t,e,n,i){var r=t.getGraphicEl();if(r){var a=t.getModel(),o=a.get(["label","rotate"])||0,s=r.getSymbolPath();if(e){var l=t.getLayout(),c=Math.atan2(l[1]-i,l[0]-n);c<0&&(c=2*Math.PI+c);var u=l[0]<n;u&&(c-=Math.PI);var h=u?"left":"right";s.setTextConfig({rotation:-c,position:h,origin:"center"});var d=s.ensureState("emphasis");V["extend"](d.textConfig||(d.textConfig={}),{position:h})}else s.setTextConfig({rotation:o*=Math.PI/180})}}function Zl(t){t.eachSeriesByType("graph",(function(t){"circular"===t.get("layout")&&Yl(t,"symbolSize")}))}var Ql=fa["scaleAndAdd"];function Jl(t,e,n){for(var i=t,r=e,a=n.rect,o=a.width,s=a.height,l=[a.x+o/2,a.y+s/2],c=null==n.gravity?.1:n.gravity,u=0;u<i.length;u++){var h=i[u];h.p||(h.p=fa["create"](o*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),h.pp=fa["clone"](h.p),h.edges=null}var d,p,f=null==n.friction?.6:n.friction,g=f;return{warmUp:function(){g=.8*f},setFixed:function(t){i[t].fixed=!0},setUnfixed:function(t){i[t].fixed=!1},beforeStep:function(t){d=t},afterStep:function(t){p=t},step:function(t){d&&d(i,r);for(var e=[],n=i.length,a=0;a<r.length;a++){var o=r[a];if(!o.ignoreForceLayout){var s=o.n1,u=o.n2;fa["sub"](e,u.p,s.p);var h=fa["len"](e)-o.d,f=u.w/(s.w+u.w);isNaN(f)&&(f=0),fa["normalize"](e,e),!s.fixed&&Ql(s.p,s.p,e,f*h*g),!u.fixed&&Ql(u.p,u.p,e,-(1-f)*h*g)}}for(a=0;a<n;a++){var m=i[a];m.fixed||(fa["sub"](e,l,m.p),Ql(m.p,m.p,e,c*g))}for(a=0;a<n;a++){s=i[a];for(var v=a+1;v<n;v++){u=i[v];fa["sub"](e,u.p,s.p);h=fa["len"](e);0===h&&(fa["set"](e,Math.random()-.5,Math.random()-.5),h=1);var y=(s.rep+u.rep)/h/h;!s.fixed&&Ql(s.pp,s.pp,e,y),!u.fixed&&Ql(u.pp,u.pp,e,-y)}}var b=[];for(a=0;a<n;a++){m=i[a];m.fixed||(fa["sub"](b,m.p,m.pp),Ql(m.p,m.p,b,g),fa["copy"](m.pp,m.p))}g*=.992;var x=g<.01;p&&p(i,r,x),t&&t(x)}}}function Kl(t){t.eachSeriesByType("graph",(function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var n=t.preservedPoints||{},i=t.getGraph(),r=i.data,a=i.edgeData,o=t.getModel("force"),s=o.get("initLayout");t.preservedPoints?r.each((function(t){var e=r.getId(t);r.setItemLayout(t,n[e]||[NaN,NaN])})):s&&"none"!==s?"circular"===s&&Yl(t,"value"):Bl(t);var l=r.getDataExtent("value"),c=a.getDataExtent("value"),u=o.get("repulsion"),h=o.get("edgeLength"),d=V["isArray"](u)?u:[u,u],p=V["isArray"](h)?h:[h,h];p=[p[1],p[0]];var f=r.mapArray("value",(function(t,e){var n=r.getItemLayout(e),i=Object(vi["m"])(t,l,d);return isNaN(i)&&(i=(d[0]+d[1])/2),{w:i,rep:i,fixed:r.getItemModel(e).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),g=a.mapArray("value",(function(e,n){var r=i.getEdgeByIndex(n),a=Object(vi["m"])(e,c,p);isNaN(a)&&(a=(p[0]+p[1])/2);var o=r.getModel(),s=V["retrieve3"](r.getModel().get(["lineStyle","curveness"]),-Nl(r,t,n,!0),0);return{n1:f[r.node1.dataIndex],n2:f[r.node2.dataIndex],d:a,curveness:s,ignoreForceLayout:o.get("ignoreForceLayout")}})),m=e.getBoundingRect(),v=Jl(f,g,{rect:m,gravity:o.get("gravity"),friction:o.get("friction")});v.beforeStep((function(t,e){for(var n=0,r=t.length;n<r;n++)t[n].fixed&&fa["copy"](t[n].p,i.getNodeByIndex(n).getLayout())})),v.afterStep((function(t,e,a){for(var o=0,s=t.length;o<s;o++)t[o].fixed||i.getNodeByIndex(o).setLayout(t[o].p),n[r.getId(o)]=t[o].p;for(o=0,s=e.length;o<s;o++){var l=e[o],c=i.getEdgeByIndex(o),u=l.n1.p,h=l.n2.p,d=c.getLayout();d=d?d.slice():[],d[0]=d[0]||[],d[1]=d[1]||[],fa["copy"](d[0],u),fa["copy"](d[1],h),+l.curveness&&(d[2]=[(u[0]+h[0])/2-(u[1]-h[1])*l.curveness,(u[1]+h[1])/2-(h[0]-u[0])*l.curveness]),c.setLayout(d)}})),t.forceLayout=v,t.preservedPoints=n,v.step()}else t.forceLayout=null}))}function $l(t,e,n){var i=Object(V["extend"])(t.getBoxLayoutParams(),{aspect:n});return Object(Oa["g"])(i,{width:e.getWidth(),height:e.getHeight()})}function tc(t,e){var n=[];return t.eachSeriesByType("graph",(function(t){var i=t.get("coordinateSystem");if(!i||"view"===i){var r=t.getData(),a=r.mapArray((function(t){var e=r.getItemModel(t);return[+e.get("x"),+e.get("y")]})),o=[],s=[];eo["d"](a,o,s),s[0]-o[0]===0&&(s[0]+=1,o[0]-=1),s[1]-o[1]===0&&(s[1]+=1,o[1]-=1);var l=(s[0]-o[0])/(s[1]-o[1]),c=$l(t,e,l);isNaN(l)&&(o=[c.x,c.y],s=[c.x+c.width,c.y+c.height]);var u=s[0]-o[0],h=s[1]-o[1],d=c.width,p=c.height,f=t.coordinateSystem=new ya;f.zoomLimit=t.get("scaleLimit"),f.setBoundingRect(o[0],o[1],u,h),f.setViewRect(c.x,c.y,d,p),f.setCenter(t.get("center"),e),f.setZoom(t.get("zoom")),n.push(f)}})),n}var ec=zi["a"].prototype,nc=Va["a"].prototype,ic=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}();(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(xe["a"])(e,t)})(ic);function rc(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var ac=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-line",n}return Object(xe["a"])(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new ic},e.prototype.buildPath=function(t,e){rc(e)?ec.buildPath.call(this,t,e):nc.buildPath.call(this,t,e)},e.prototype.pointAt=function(t){return rc(this.shape)?ec.pointAt.call(this,t):nc.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var e=this.shape,n=rc(e)?[e.x2-e.x1,e.y2-e.y1]:nc.tangentAt.call(this,t);return fa["normalize"](n,n)},e}(T["b"]),oc=ac,sc=["fromSymbol","toSymbol"];function lc(t){return"_"+t+"Type"}function cc(t,e,n){var i=e.getItemVisual(n,t);if(i&&"none"!==i){var r=e.getItemVisual(n,t+"Size"),a=e.getItemVisual(n,t+"Rotate"),o=e.getItemVisual(n,t+"Offset"),s=e.getItemVisual(n,t+"KeepAspect"),l=Mn["c"](r),c=Mn["b"](o||0,l),u=Mn["a"](i,-l[0]/2+c[0],-l[1]/2+c[1],l[0],l[1],null,s);return u.__specifiedRotation=null==a||isNaN(a)?void 0:+a*Math.PI/180||0,u.name=t,u}}function uc(t){var e=new oc({name:"line",subPixelOptimize:!0});return hc(e.shape,t),e}function hc(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var n=e[2];n?(t.cpx1=n[0],t.cpy1=n[1]):(t.cpx1=NaN,t.cpy1=NaN)}var dc=function(t){function e(e,n,i){var r=t.call(this)||this;return r._createLine(e,n,i),r}return Object(xe["a"])(e,t),e.prototype._createLine=function(t,e,n){var i=t.hostModel,r=t.getItemLayout(e),a=uc(r);a.shape.percent=0,Le["c"](a,{shape:{percent:1}},i,e),this.add(a),Object(V["each"])(sc,(function(n){var i=cc(n,t,e);this.add(i),this[lc(n)]=t.getItemVisual(e,n)}),this),this._updateCommonStl(t,e,n)},e.prototype.updateData=function(t,e,n){var i=t.hostModel,r=this.childOfName("line"),a=t.getItemLayout(e),o={shape:{}};hc(o.shape,a),Le["h"](r,o,i,e),Object(V["each"])(sc,(function(n){var i=t.getItemVisual(e,n),r=lc(n);if(this[r]!==i){this.remove(this.childOfName(n));var a=cc(n,t,e);this.add(a)}this[r]=i}),this),this._updateCommonStl(t,e,n)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,e,n){var i=t.hostModel,r=this.childOfName("line"),a=n&&n.emphasisLineStyle,o=n&&n.blurLineStyle,s=n&&n.selectLineStyle,l=n&&n.labelStatesModels,c=n&&n.emphasisDisabled,u=n&&n.focus,h=n&&n.blurScope;if(!n||t.hasItemOption){var d=t.getItemModel(e),p=d.getModel("emphasis");a=p.getModel("lineStyle").getLineStyle(),o=d.getModel(["blur","lineStyle"]).getLineStyle(),s=d.getModel(["select","lineStyle"]).getLineStyle(),c=p.get("disabled"),u=p.get("focus"),h=p.get("blurScope"),l=Object(Re["e"])(d)}var f=t.getItemVisual(e,"style"),g=f.stroke;r.useStyle(f),r.style.fill=null,r.style.strokeNoScale=!0,r.ensureState("emphasis").style=a,r.ensureState("blur").style=o,r.ensureState("select").style=s,Object(V["each"])(sc,(function(t){var e=this.childOfName(t);if(e){e.setColor(g),e.style.opacity=f.opacity;for(var n=0;n<Pe["g"].length;n++){var i=Pe["g"][n],a=r.getState(i);if(a){var o=a.style||{},s=e.ensureState(i),l=s.style||(s.style={});null!=o.stroke&&(l[e.__isEmptyBrush?"stroke":"fill"]=o.stroke),null!=o.opacity&&(l.opacity=o.opacity)}}e.markRedraw()}}),this);var m=i.getRawValue(e);Object(Re["g"])(this,l,{labelDataIndex:e,labelFetcher:{getFormattedLabel:function(e,n){return i.getFormattedLabel(e,n,t.dataType)}},inheritColor:g||"#000",defaultOpacity:f.opacity,defaultText:(null==m?t.getName(e):isFinite(m)?Object(vi["w"])(m):m)+""});var v=this.getTextContent();if(v){var y=l.normal;v.__align=v.style.align,v.__verticalAlign=v.style.verticalAlign,v.__position=y.get("position")||"middle";var b=y.get("distance");Object(V["isArray"])(b)||(b=[b,b]),v.__labelDistance=b}this.setTextConfig({position:null,local:!0,inside:!1}),Object(Pe["J"])(this,u,h,c)},e.prototype.highlight=function(){Object(Pe["r"])(this)},e.prototype.downplay=function(){Object(Pe["C"])(this)},e.prototype.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},e.prototype.setLinePoints=function(t){var e=this.childOfName("line");hc(e.shape,t),e.dirty()},e.prototype.beforeUpdate=function(){var t=this,e=t.childOfName("fromSymbol"),n=t.childOfName("toSymbol"),i=t.getTextContent();if(e||n||i&&!i.ignore){var r=1,a=this.parent;while(a)a.scaleX&&(r/=a.scaleX),a=a.parent;var o=t.childOfName("line");if(this.__dirty||o.__dirty){var s=o.shape.percent,l=o.pointAt(0),c=o.pointAt(s),u=fa["sub"]([],c,l);if(fa["normalize"](u,u),e&&(e.setPosition(l),S(e,0),e.scaleX=e.scaleY=r*s,e.markRedraw()),n&&(n.setPosition(c),S(n,1),n.scaleX=n.scaleY=r*s,n.markRedraw()),i&&!i.ignore){i.x=i.y=0,i.originX=i.originY=0;var h=void 0,d=void 0,p=i.__labelDistance,f=p[0]*r,g=p[1]*r,m=s/2,v=o.tangentAt(m),y=[v[1],-v[0]],b=o.pointAt(m);y[1]>0&&(y[0]=-y[0],y[1]=-y[1]);var x=v[0]<0?-1:1;if("start"!==i.__position&&"end"!==i.__position){var _=-Math.atan2(v[1],v[0]);c[0]<l[0]&&(_=Math.PI+_),i.rotation=_}var w=void 0;switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":w=-g,d="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":w=g,d="top";break;default:w=0,d="middle"}switch(i.__position){case"end":i.x=u[0]*f+c[0],i.y=u[1]*g+c[1],h=u[0]>.8?"left":u[0]<-.8?"right":"center",d=u[1]>.8?"top":u[1]<-.8?"bottom":"middle";break;case"start":i.x=-u[0]*f+l[0],i.y=-u[1]*g+l[1],h=u[0]>.8?"right":u[0]<-.8?"left":"center",d=u[1]>.8?"bottom":u[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":i.x=f*x+l[0],i.y=l[1]+w,h=v[0]<0?"right":"left",i.originX=-f*x,i.originY=-w;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":i.x=b[0],i.y=b[1]+w,h="center",i.originY=-w;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":i.x=-f*x+c[0],i.y=c[1]+w,h=v[0]>=0?"right":"left",i.originX=f*x,i.originY=-w;break}i.scaleX=i.scaleY=r,i.setStyle({verticalAlign:i.__verticalAlign||d,align:i.__align||h})}}}function S(t,e){var n=t.__specifiedRotation;if(null==n){var i=o.tangentAt(e);t.attr("rotation",(1===e?-1:1)*Math.PI/2-Math.atan2(i[1],i[0]))}else t.attr("rotation",n)}},e}(Te["a"]),pc=dc,fc=function(){function t(t){this.group=new Te["a"],this._LineCtor=t||pc}return t.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var n=this,i=n.group,r=n._lineData;n._lineData=t,r||i.removeAll();var a=mc(t);t.diff(r).add((function(n){e._doAdd(t,n,a)})).update((function(n,i){e._doUpdate(r,t,i,n,a)})).remove((function(t){i.remove(r.getItemGraphicEl(t))})).execute()},t.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl((function(e,n){e.updateLayout(t,n)}),this)},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=mc(t),this._lineData=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e){function n(t){t.isGroup||gc(t)||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var i=t.start;i<t.end;i++){var r=e.getItemLayout(i);if(yc(r)){var a=new this._LineCtor(e,i,this._seriesScope);a.traverse(n),this.group.add(a),e.setItemGraphicEl(i,a),this._progressiveEls.push(a)}}},t.prototype.remove=function(){this.group.removeAll()},t.prototype.eachRendered=function(t){ke["traverseElements"](this._progressiveEls||this.group,t)},t.prototype._doAdd=function(t,e,n){var i=t.getItemLayout(e);if(yc(i)){var r=new this._LineCtor(t,e,n);t.setItemGraphicEl(e,r),this.group.add(r)}},t.prototype._doUpdate=function(t,e,n,i,r){var a=t.getItemGraphicEl(n);yc(e.getItemLayout(i))?(a?a.updateData(e,i,r):a=new this._LineCtor(e,i,r),e.setItemGraphicEl(i,a),this.group.add(a)):this.group.remove(a)},t}();function gc(t){return t.animators&&t.animators.length>0}function mc(t){var e=t.hostModel,n=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:n.get("disabled"),blurScope:n.get("blurScope"),focus:n.get("focus"),labelStatesModels:Object(Re["e"])(e)}}function vc(t){return isNaN(t[0])||isNaN(t[1])}function yc(t){return t&&!vc(t[0])&&!vc(t[1])}var bc=fc,xc=n("4a3f"),_c=[],wc=[],Sc=[],Oc=xc["h"],Cc=fa["distSquare"],Ac=Math.abs;function Mc(t,e,n){for(var i,r=t[0],a=t[1],o=t[2],s=1/0,l=n*n,c=.1,u=.1;u<=.9;u+=.1){_c[0]=Oc(r[0],a[0],o[0],u),_c[1]=Oc(r[1],a[1],o[1],u);var h=Ac(Cc(_c,e)-l);h<s&&(s=h,i=u)}for(var d=0;d<32;d++){var p=i+c;wc[0]=Oc(r[0],a[0],o[0],i),wc[1]=Oc(r[1],a[1],o[1],i),Sc[0]=Oc(r[0],a[0],o[0],p),Sc[1]=Oc(r[1],a[1],o[1],p);h=Cc(wc,e)-l;if(Ac(h)<.01)break;var f=Cc(Sc,e)-l;c/=2,h<0?f>=0?i+=c:i-=c:f>=0?i-=c:i+=c}return i}function Tc(t,e){var n=[],i=xc["n"],r=[[],[],[]],a=[[],[]],o=[];e/=2,t.eachEdge((function(t,s){var l=t.getLayout(),c=t.getVisual("fromSymbol"),u=t.getVisual("toSymbol");l.__original||(l.__original=[fa["clone"](l[0]),fa["clone"](l[1])],l[2]&&l.__original.push(fa["clone"](l[2])));var h=l.__original;if(null!=l[2]){if(fa["copy"](r[0],h[0]),fa["copy"](r[1],h[2]),fa["copy"](r[2],h[1]),c&&"none"!==c){var d=Ul(t.node1),p=Mc(r,h[0],d*e);i(r[0][0],r[1][0],r[2][0],p,n),r[0][0]=n[3],r[1][0]=n[4],i(r[0][1],r[1][1],r[2][1],p,n),r[0][1]=n[3],r[1][1]=n[4]}if(u&&"none"!==u){d=Ul(t.node2),p=Mc(r,h[1],d*e);i(r[0][0],r[1][0],r[2][0],p,n),r[1][0]=n[1],r[2][0]=n[2],i(r[0][1],r[1][1],r[2][1],p,n),r[1][1]=n[1],r[2][1]=n[2]}fa["copy"](l[0],r[0]),fa["copy"](l[1],r[2]),fa["copy"](l[2],r[1])}else{if(fa["copy"](a[0],h[0]),fa["copy"](a[1],h[1]),fa["sub"](o,a[1],a[0]),fa["normalize"](o,o),c&&"none"!==c){d=Ul(t.node1);fa["scaleAndAdd"](a[0],a[0],o,d*e)}if(u&&"none"!==u){d=Ul(t.node2);fa["scaleAndAdd"](a[1],a[1],o,-d*e)}fa["copy"](l[0],a[0]),fa["copy"](l[1],a[1])}}))}function kc(t){return"view"===t.type}var Lc=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.init=function(t,e){var n=new Cn["a"],i=new bc,r=this.group;this._controller=new Ri(e.getZr()),this._controllerHost={target:r},r.add(n.group),r.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},e.prototype.render=function(t,e,n){var i=this,r=t.coordinateSystem;this._model=t;var a=this._symbolDraw,o=this._lineDraw,s=this.group;if(kc(r)){var l={x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY};this._firstRender?s.attr(l):Le["h"](s,l,t)}Tc(t.getGraph(),zl(t));var c=t.getData();a.updateData(c);var u=t.getEdgeData();o.updateData(u),this._updateNodeAndLinkScale(),this._updateController(t,e,n),clearTimeout(this._layoutTimeout);var h=t.forceLayout,d=t.get(["force","layoutAnimation"]);h&&this._startForceLayoutIteration(h,d);var p=t.get("layout");c.graph.eachNode((function(e){var n=e.dataIndex,r=e.getGraphicEl(),a=e.getModel();if(r){r.off("drag").off("dragend");var o=a.get("draggable");o&&r.on("drag",(function(a){switch(p){case"force":h.warmUp(),!i._layouting&&i._startForceLayoutIteration(h,d),h.setFixed(n),c.setItemLayout(n,[r.x,r.y]);break;case"circular":c.setItemLayout(n,[r.x,r.y]),e.setLayout({fixed:!0},!0),Yl(t,"symbolSize",e,[a.offsetX,a.offsetY]),i.updateLayout(t);break;case"none":default:c.setItemLayout(n,[r.x,r.y]),Vl(t.getGraph(),t),i.updateLayout(t);break}})).on("dragend",(function(){h&&h.setUnfixed(n)})),r.setDraggable(o,!!a.get("cursor"));var s=a.get(["emphasis","focus"]);"adjacency"===s&&(Object(Ee["a"])(r).focus=e.getAdjacentDataIndices())}})),c.graph.eachEdge((function(t){var e=t.getGraphicEl(),n=t.getModel().get(["emphasis","focus"]);e&&"adjacency"===n&&(Object(Ee["a"])(e).focus={edge:[t.dataIndex],node:[t.node1.dataIndex,t.node2.dataIndex]})}));var f="circular"===t.get("layout")&&t.get(["circular","rotateLabel"]),g=c.getLayout("cx"),m=c.getLayout("cy");c.graph.eachNode((function(t){ql(t,f,g,m)})),this._firstRender=!1},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,e){var n=this;(function i(){t.step((function(t){n.updateLayout(n._model),(n._layouting=!t)&&(e?n._layoutTimeout=setTimeout(i,16):i())}))})()},e.prototype._updateController=function(t,e,n){var i=this,r=this._controller,a=this._controllerHost,o=this.group;r.setPointerChecker((function(e,i,r){var a=o.getBoundingRect();return a.applyTransform(o.transform),a.contain(i,r)&&!Bi(e,n,t)})),kc(t.coordinateSystem)?(r.enable(t.get("roam")),a.zoomLimit=t.get("scaleLimit"),a.zoom=t.coordinateSystem.getZoom(),r.off("pan").off("zoom").on("pan",(function(e){Di(a,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){Fi(a,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),i._updateNodeAndLinkScale(),Tc(t.getGraph(),zl(t)),i._lineDraw.updateLayout(),n.updateLabelLayout()}))):r.disable()},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,e=t.getData(),n=zl(t);e.eachItemGraphicEl((function(t,e){t&&t.setSymbolScale(n)}))},e.prototype.updateLayout=function(t){Tc(t.getGraph(),zl(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(Ge["a"]),jc=Lc;function Ic(t){return"_EC_"+t}var Ec=function(){function t(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(t,e){t=null==t?""+e:""+t;var n=this._nodesMap;if(!n[Ic(t)]){var i=new Pc(t,e);return i.hostGraph=this,this.nodes.push(i),n[Ic(t)]=i,i}},t.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},t.prototype.getNodeById=function(t){return this._nodesMap[Ic(t)]},t.prototype.addEdge=function(t,e,n){var i=this._nodesMap,r=this._edgesMap;if(V["isNumber"](t)&&(t=this.nodes[t]),V["isNumber"](e)&&(e=this.nodes[e]),t instanceof Pc||(t=i[Ic(t)]),e instanceof Pc||(e=i[Ic(e)]),t&&e){var a=t.id+"-"+e.id,o=new Rc(t,e,n);return o.hostGraph=this,this._directed&&(t.outEdges.push(o),e.inEdges.push(o)),t.edges.push(o),t!==e&&e.edges.push(o),this.edges.push(o),r[a]=o,o}},t.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},t.prototype.getEdge=function(t,e){t instanceof Pc&&(t=t.id),e instanceof Pc&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},t.prototype.eachNode=function(t,e){for(var n=this.nodes,i=n.length,r=0;r<i;r++)n[r].dataIndex>=0&&t.call(e,n[r],r)},t.prototype.eachEdge=function(t,e){for(var n=this.edges,i=n.length,r=0;r<i;r++)n[r].dataIndex>=0&&n[r].node1.dataIndex>=0&&n[r].node2.dataIndex>=0&&t.call(e,n[r],r)},t.prototype.breadthFirstTraverse=function(t,e,n,i){if(e instanceof Pc||(e=this._nodesMap[Ic(e)]),e){for(var r="out"===n?"outEdges":"in"===n?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(i,e,null)){var o=[e];while(o.length){var s=o.shift(),l=s[r];for(a=0;a<l.length;a++){var c=l[a],u=c.node1===s?c.node2:c.node1;if(!u.__visited){if(t.call(i,u,s))return;o.push(u),u.__visited=!0}}}}}},t.prototype.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,i=this.edges,r=0,a=n.length;r<a;r++)n[r].dataIndex=-1;for(r=0,a=t.count();r<a;r++)n[t.getRawIndex(r)].dataIndex=r;e.filterSelf((function(t){var n=i[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0}));for(r=0,a=i.length;r<a;r++)i[r].dataIndex=-1;for(r=0,a=e.count();r<a;r++)i[e.getRawIndex(r)].dataIndex=r},t.prototype.clone=function(){for(var e=new t(this._directed),n=this.nodes,i=this.edges,r=0;r<n.length;r++)e.addNode(n[r].id,n[r].dataIndex);for(r=0;r<i.length;r++){var a=i[r];e.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return e},t}(),Pc=function(){function t(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==t?"":t,this.dataIndex=null==e?-1:e}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.data.getItemModel(this.dataIndex);return n.getModel(t)}},t.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var n=this.edges[e];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},t}(),Rc=function(){function t(t,e,n){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}return t.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.edgeData.getItemModel(this.dataIndex);return n.getModel(t)}},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t}();function Dc(t,e){return{getValue:function(n){var i=this[t][e];return i.getStore().get(i.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,i){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,i)},getVisual:function(n){return this[t][e].getItemVisual(this.dataIndex,n)},setLayout:function(n,i){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}V["mixin"](Pc,Dc("hostGraph","data")),V["mixin"](Rc,Dc("hostGraph","edgeData"));var Fc=Ec,Nc=n("1f39");function Bc(t,e,n,i,r){for(var a=new Fc(i),o=0;o<t.length;o++)a.addNode(V["retrieve"](t[o].id,t[o].name,o),o);var s=[],l=[],c=0;for(o=0;o<e.length;o++){var u=e[o],h=u.source,d=u.target;a.addEdge(h,d,c)&&(l.push(u),s.push(V["retrieve"](Object(Ur["e"])(u.id,null),h+" > "+d)),c++)}var p,f=n.get("coordinateSystem");if("cartesian2d"===f||"polar"===f)p=Object(we["a"])(t,n);else{var g=Nc["a"].get(f),m=g&&g.dimensions||[];V["indexOf"](m,"value")<0&&m.concat(["value"]);var v=Object(Ao["b"])(t,{coordDimensions:m,encodeDefine:n.getEncode()}).dimensions;p=new Co["a"](v,n),p.initData(t)}var y=new Co["a"](["value"],n);return y.initData(l,s),r&&r(p,y),Oo({mainData:p,struct:a,structAttr:"graph",datas:{node:p,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var Vc=n("f6d8"),Gc=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return Object(xe["a"])(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new qn["a"](i,i),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(e){t.prototype.mergeDefaultAndTheme.apply(this,arguments),Object(Ur["f"])(e,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,e){var n=t.edges||t.links||[],i=t.data||t.nodes||[],r=this;if(i&&n){Dl(this);var a=Bc(i,n,this,!0,o);return V["each"](a.edges,(function(t){Fl(t.node1,t.node2,this,t.dataIndex)}),this),a.data}function o(t,e){t.wrapMethod("getItemModel",(function(t){var e=r._categoriesModels,n=t.getShallow("category"),i=e[n];return i&&(i.parentModel=t.parentModel,t.parentModel=i),t}));var n=$n["a"].prototype.getModel;function i(t,e){var i=n.call(this,t,e);return i.resolveParentPath=a,i}function a(t){if(t&&("label"===t[0]||"label"===t[1])){var e=t.slice();return"label"===t[0]?e[0]="edgeLabel":"label"===t[1]&&(e[1]="edgeLabel"),e}return t}e.wrapMethod("getItemModel",(function(t){return t.resolveParentPath=a,t.getModel=i,t}))}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,e,n){if("edge"===n){var i=this.getData(),r=this.getDataParams(t,n),a=i.graph.getEdgeByIndex(t),o=i.getName(a.node1.dataIndex),s=i.getName(a.node2.dataIndex),l=[];return null!=o&&l.push(o),null!=s&&l.push(s),Object(Zn["c"])("nameValue",{name:l.join(" > "),value:r.value,noValue:null==r.value})}var c=Object(Vc["a"])({series:this,dataIndex:t,multipleSeries:e});return c},e.prototype._updateCategoriesData=function(){var t=V["map"](this.option.categories||[],(function(t){return null!=t.value?t:V["extend"]({value:0},t)})),e=new Co["a"](["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray((function(t){return e.getItemModel(t)}))},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(_e["b"]),zc=Gc,Uc={type:"graphRoam",event:"graphRoam",update:"none"};function Hc(t){t.registerChartView(jc),t.registerSeriesModel(zc),t.registerProcessor(Ol),t.registerVisual(Cl),t.registerVisual(Ml),t.registerLayout(Gl),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,Zl),t.registerLayout(Kl),t.registerCoordinateSystem("graphView",{dimensions:ya.dimensions,create:tc}),t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},V["noop"]),t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},V["noop"]),t.registerAction(Uc,(function(t,e,n){e.eachComponent({mainType:"series",query:t},(function(e){var i=e.coordinateSystem,r=Ea(i,t,void 0,n);e.setCenter&&e.setCenter(r.center),e.setZoom&&e.setZoom(r.zoom)}))}))}var Wc=function(){function t(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return t}(),Yc=function(t){function e(e){var n=t.call(this,e)||this;return n.type="pointer",n}return Object(xe["a"])(e,t),e.prototype.getDefaultShape=function(){return new Wc},e.prototype.buildPath=function(t,e){var n=Math.cos,i=Math.sin,r=e.r,a=e.width,o=e.angle,s=e.x-n(o)*a*(a>=r/3?1:2),l=e.y-i(o)*a*(a>=r/3?1:2);o=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+n(o)*a,e.y+i(o)*a),t.lineTo(e.x+n(e.angle)*r,e.y+i(e.angle)*r),t.lineTo(e.x-n(o)*a,e.y-i(o)*a),t.lineTo(s,l)},e}(T["b"]),Xc=Yc;function qc(t,e){var n=t.get("center"),i=e.getWidth(),r=e.getHeight(),a=Math.min(i,r),o=Object(vi["q"])(n[0],e.getWidth()),s=Object(vi["q"])(n[1],e.getHeight()),l=Object(vi["q"])(t.get("radius"),a/2);return{cx:o,cy:s,r:l}}function Zc(t,e){var n=null==t?"":t+"";return e&&(Object(V["isString"])(e)?n=e.replace("{value}",n):Object(V["isFunction"])(e)&&(n=e(t))),n}var Qc=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n){this.group.removeAll();var i=t.get(["axisLine","lineStyle","color"]),r=qc(t,n);this._renderMain(t,e,n,i,r),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,e,n,i,r){var a=this.group,o=t.get("clockwise"),s=-t.get("startAngle")/180*Math.PI,l=-t.get("endAngle")/180*Math.PI,c=t.getModel("axisLine"),u=c.get("roundCap"),h=u?Ve:Ie["a"],d=c.get("show"),p=c.getModel("lineStyle"),f=p.get("width"),g=[s,l];Object(ct["b"])(g,!o),s=g[0],l=g[1];for(var m=l-s,v=s,y=[],b=0;d&&b<i.length;b++){var x=Math.min(Math.max(i[b][0],0),1);l=s+m*x;var _=new h({shape:{startAngle:v,endAngle:l,cx:r.cx,cy:r.cy,clockwise:o,r0:r.r-f,r:r.r},silent:!0});_.setStyle({fill:i[b][1]}),_.setStyle(p.getLineStyle(["color","width"])),y.push(_),v=l}y.reverse(),Object(V["each"])(y,(function(t){return a.add(t)}));var w=function(t){if(t<=0)return i[0][1];var e;for(e=0;e<i.length;e++)if(i[e][0]>=t&&(0===e?0:i[e-1][0])<t)return i[e][1];return i[e-1][1]};this._renderTicks(t,e,n,w,r,s,l,o,f),this._renderTitleAndDetail(t,e,n,w,r),this._renderAnchor(t,r),this._renderPointer(t,e,n,w,r,s,l,o,f)},e.prototype._renderTicks=function(t,e,n,i,r,a,o,s,l){for(var c,u,h=this.group,d=r.cx,p=r.cy,f=r.r,g=+t.get("min"),m=+t.get("max"),v=t.getModel("splitLine"),y=t.getModel("axisTick"),b=t.getModel("axisLabel"),x=t.get("splitNumber"),_=y.get("splitNumber"),w=Object(vi["q"])(v.get("length"),f),S=Object(vi["q"])(y.get("length"),f),O=a,C=(o-a)/x,A=C/_,M=v.getModel("lineStyle").getLineStyle(),T=y.getModel("lineStyle").getLineStyle(),k=v.get("distance"),L=0;L<=x;L++){if(c=Math.cos(O),u=Math.sin(O),v.get("show")){var j=k?k+l:l,I=new zi["a"]({shape:{x1:c*(f-j)+d,y1:u*(f-j)+p,x2:c*(f-w-j)+d,y2:u*(f-w-j)+p},style:M,silent:!0});"auto"===M.stroke&&I.setStyle({stroke:i(L/x)}),h.add(I)}if(b.get("show")){j=b.get("distance")+k;var E=Zc(Object(vi["w"])(L/x*(m-g)+g),b.get("formatter")),P=i(L/x),R=c*(f-w-j)+d,D=u*(f-w-j)+p,F=b.get("rotate"),N=0;"radial"===F?(N=-O+2*Math.PI,N>Math.PI/2&&(N+=Math.PI)):"tangential"===F?N=-O-Math.PI/2:Object(V["isNumber"])(F)&&(N=F*Math.PI/180),0===N?h.add(new _t["a"]({style:Object(Re["c"])(b,{text:E,x:R,y:D,verticalAlign:u<-.8?"top":u>.8?"bottom":"middle",align:c<-.4?"left":c>.4?"right":"center"},{inheritColor:P}),silent:!0})):h.add(new _t["a"]({style:Object(Re["c"])(b,{text:E,x:R,y:D,verticalAlign:"middle",align:"center"},{inheritColor:P}),silent:!0,originX:R,originY:D,rotation:N}))}if(y.get("show")&&L!==x){j=y.get("distance");j=j?j+l:l;for(var B=0;B<=_;B++){c=Math.cos(O),u=Math.sin(O);var G=new zi["a"]({shape:{x1:c*(f-j)+d,y1:u*(f-j)+p,x2:c*(f-S-j)+d,y2:u*(f-S-j)+p},silent:!0,style:T});"auto"===T.stroke&&G.setStyle({stroke:i((L+B/_)/x)}),h.add(G),O+=A}O-=A}else O+=C}},e.prototype._renderPointer=function(t,e,n,i,r,a,o,s,l){var c=this.group,u=this._data,h=this._progressEls,d=[],p=t.get(["pointer","show"]),f=t.getModel("progress"),g=f.get("show"),m=t.getData(),v=m.mapDimension("value"),y=+t.get("min"),b=+t.get("max"),x=[y,b],_=[a,o];function w(e,n){var i,a=m.getItemModel(e),o=a.getModel("pointer"),s=Object(vi["q"])(o.get("width"),r.r),l=Object(vi["q"])(o.get("length"),r.r),c=t.get(["pointer","icon"]),u=o.get("offsetCenter"),h=Object(vi["q"])(u[0],r.r),d=Object(vi["q"])(u[1],r.r),p=o.get("keepAspect");return i=c?Object(Mn["a"])(c,h-s/2,d-l,s,l,null,p):new Xc({shape:{angle:-Math.PI/2,width:s,r:l,x:h,y:d}}),i.rotation=-(n+Math.PI/2),i.x=r.cx,i.y=r.cy,i}function S(t,e){var n=f.get("roundCap"),i=n?Ve:Ie["a"],o=f.get("overlap"),c=o?f.get("width"):l/m.count(),u=o?r.r-c:r.r-(t+1)*c,h=o?r.r:r.r-t*c,d=new i({shape:{startAngle:a,endAngle:e,cx:r.cx,cy:r.cy,clockwise:s,r0:u,r:h}});return o&&(d.z2=b-m.get(v,t)%b),d}(g||p)&&(m.diff(u).add((function(e){var n=m.get(v,e);if(p){var i=w(e,a);Le["c"](i,{rotation:-((isNaN(+n)?_[0]:Object(vi["m"])(n,x,_,!0))+Math.PI/2)},t),c.add(i),m.setItemGraphicEl(e,i)}if(g){var r=S(e,a),o=f.get("clip");Le["c"](r,{shape:{endAngle:Object(vi["m"])(n,x,_,o)}},t),c.add(r),Object(Ee["b"])(t.seriesIndex,m.dataType,e,r),d[e]=r}})).update((function(e,n){var i=m.get(v,e);if(p){var r=u.getItemGraphicEl(n),o=r?r.rotation:a,s=w(e,o);s.rotation=o,Le["h"](s,{rotation:-((isNaN(+i)?_[0]:Object(vi["m"])(i,x,_,!0))+Math.PI/2)},t),c.add(s),m.setItemGraphicEl(e,s)}if(g){var l=h[n],y=l?l.shape.endAngle:a,b=S(e,y),O=f.get("clip");Le["h"](b,{shape:{endAngle:Object(vi["m"])(i,x,_,O)}},t),c.add(b),Object(Ee["b"])(t.seriesIndex,m.dataType,e,b),d[e]=b}})).execute(),m.each((function(t){var e=m.getItemModel(t),n=e.getModel("emphasis"),r=n.get("focus"),a=n.get("blurScope"),o=n.get("disabled");if(p){var s=m.getItemGraphicEl(t),l=m.getItemVisual(t,"style"),c=l.fill;if(s instanceof k["a"]){var u=s.style;s.useStyle(Object(V["extend"])({image:u.image,x:u.x,y:u.y,width:u.width,height:u.height},l))}else s.useStyle(l),"pointer"!==s.type&&s.setColor(c);s.setStyle(e.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===s.style.fill&&s.setStyle("fill",i(Object(vi["m"])(m.get(v,t),x,[0,1],!0))),s.z2EmphasisLift=0,Object(Pe["I"])(s,e),Object(Pe["J"])(s,r,a,o)}if(g){var h=d[t];h.useStyle(m.getItemVisual(t,"style")),h.setStyle(e.getModel(["progress","itemStyle"]).getItemStyle()),h.z2EmphasisLift=0,Object(Pe["I"])(h,e),Object(Pe["J"])(h,r,a,o)}})),this._progressEls=d)},e.prototype._renderAnchor=function(t,e){var n=t.getModel("anchor"),i=n.get("show");if(i){var r=n.get("size"),a=n.get("icon"),o=n.get("offsetCenter"),s=n.get("keepAspect"),l=Object(Mn["a"])(a,e.cx-r/2+Object(vi["q"])(o[0],e.r),e.cy-r/2+Object(vi["q"])(o[1],e.r),r,r,null,s);l.z2=n.get("showAbove")?1:0,l.setStyle(n.getModel("itemStyle").getItemStyle()),this.group.add(l)}},e.prototype._renderTitleAndDetail=function(t,e,n,i,r){var a=this,o=t.getData(),s=o.mapDimension("value"),l=+t.get("min"),c=+t.get("max"),u=new Te["a"],h=[],d=[],p=t.isAnimationEnabled(),f=t.get(["pointer","showAbove"]);o.diff(this._data).add((function(t){h[t]=new _t["a"]({silent:!0}),d[t]=new _t["a"]({silent:!0})})).update((function(t,e){h[t]=a._titleEls[e],d[t]=a._detailEls[e]})).execute(),o.each((function(e){var n=o.getItemModel(e),a=o.get(s,e),g=new Te["a"],m=i(Object(vi["m"])(a,[l,c],[0,1],!0)),v=n.getModel("title");if(v.get("show")){var y=v.get("offsetCenter"),b=r.cx+Object(vi["q"])(y[0],r.r),x=r.cy+Object(vi["q"])(y[1],r.r),_=h[e];_.attr({z2:f?0:2,style:Object(Re["c"])(v,{x:b,y:x,text:o.getName(e),align:"center",verticalAlign:"middle"},{inheritColor:m})}),g.add(_)}var w=n.getModel("detail");if(w.get("show")){var S=w.get("offsetCenter"),O=r.cx+Object(vi["q"])(S[0],r.r),C=r.cy+Object(vi["q"])(S[1],r.r),A=Object(vi["q"])(w.get("width"),r.r),M=Object(vi["q"])(w.get("height"),r.r),T=t.get(["progress","show"])?o.getItemVisual(e,"style").fill:m,k=(_=d[e],w.get("formatter"));_.attr({z2:f?0:2,style:Object(Re["c"])(w,{x:O,y:C,text:Zc(a,k),width:isNaN(A)?null:A,height:isNaN(M)?null:M,align:"center",verticalAlign:"middle"},{inheritColor:T})}),Object(Re["h"])(_,{normal:w},a,(function(t){return Zc(t,k)})),p&&Object(Re["a"])(_,e,o,t,{getFormattedLabel:function(t,e,n,i,r,o){return Zc(o?o.interpolatedValue:a,k)}}),g.add(_)}u.add(g)})),this.group.add(u),this._titleEls=h,this._detailEls=d},e.type="gauge",e}(Ge["a"]),Jc=Qc,Kc=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="itemStyle",n}return Object(xe["a"])(e,t),e.prototype.getInitialData=function(t,e){return Object(Xn["a"])(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(_e["b"]),$c=Kc;function tu(t){t.registerChartView(Jc),t.registerSeriesModel($c)}var eu=n("dce8"),nu=n("89b6"),iu=["itemStyle","opacity"],ru=function(t){function e(e,n){var i=t.call(this)||this,r=i,a=new Hn["a"],o=new _t["a"];return r.setTextContent(o),i.setTextGuideLine(a),i.updateData(e,n,!0),i}return Object(xe["a"])(e,t),e.prototype.updateData=function(t,e,n){var i=this,r=t.hostModel,a=t.getItemModel(e),o=t.getItemLayout(e),s=a.getModel("emphasis"),l=a.get(iu);l=null==l?1:l,n||Object(Le["g"])(i),i.useStyle(t.getItemVisual(e,"style")),i.style.lineJoin="round",n?(i.setShape({points:o.points}),i.style.opacity=0,Le["c"](i,{style:{opacity:l}},r,e)):Le["h"](i,{style:{opacity:l},shape:{points:o.points}},r,e),Object(Pe["I"])(i,a),this._updateLabel(t,e),Object(Pe["J"])(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))},e.prototype._updateLabel=function(t,e){var n=this,i=this.getTextGuideLine(),r=n.getTextContent(),a=t.hostModel,o=t.getItemModel(e),s=t.getItemLayout(e),l=s.label,c=t.getItemVisual(e,"style"),u=c.fill;Object(Re["g"])(r,Object(Re["e"])(o),{labelFetcher:t.hostModel,labelDataIndex:e,defaultOpacity:c.opacity,defaultText:t.getName(e)},{normal:{align:l.textAlign,verticalAlign:l.verticalAlign}}),n.setTextConfig({local:!0,inside:!!l.inside,insideStroke:u,outsideFill:u});var h=l.linePoints;i.setShape({points:h}),n.textGuideLineConfig={anchor:h?new eu["a"](h[0][0],h[0][1]):null},Le["h"](r,{style:{x:l.x,y:l.y}},a,e),r.attr({rotation:l.rotation,originX:l.x,originY:l.y,z2:10}),Object(nu["d"])(n,Object(nu["a"])(o),{stroke:u})},e}(Un["a"]),au=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.ignoreLabelLineUpdate=!0,n}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),r=this._data,a=this.group;i.diff(r).add((function(t){var e=new ru(i,t);i.setItemGraphicEl(t,e),a.add(e)})).update((function(t,e){var n=r.getItemGraphicEl(e);n.updateData(i,t),a.add(n),i.setItemGraphicEl(t,n)})).remove((function(e){var n=r.getItemGraphicEl(e);Le["f"](n,t,e)})).execute(),this._data=i},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(Ge["a"]),ou=au,su=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new qn["a"](V["bind"](this.getData,this),V["bind"](this.getRawData,this)),this._defaultLabelLine(e)},e.prototype.getInitialData=function(t,e){return Object(Xn["a"])(this,{coordDimensions:["value"],encodeDefaulter:V["curry"](sa["d"],this)})},e.prototype._defaultLabelLine=function(t){Object(Ur["f"])(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},e.prototype.getDataParams=function(e){var n=this.getData(),i=t.prototype.getDataParams.call(this,e),r=n.mapDimension("value"),a=n.getSum(r);return i.percent=a?+(n.get(r,e)/a*100).toFixed(2):0,i.$vars.push("percent"),i},e.type="series.funnel",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(_e["b"]),lu=su;function cu(t,e){return Oa["g"](t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function uu(t,e){for(var n=t.mapDimension("value"),i=t.mapArray(n,(function(t){return t})),r=[],a="ascending"===e,o=0,s=t.count();o<s;o++)r[o]=o;return Object(V["isFunction"])(e)?r.sort(e):"none"!==e&&r.sort((function(t,e){return a?i[t]-i[e]:i[e]-i[t]})),r}function hu(t){var e=t.hostModel,n=e.get("orient");t.each((function(e){var i,r,a,o,s=t.getItemModel(e),l=s.getModel("label"),c=l.get("position"),u=s.getModel("labelLine"),h=t.getItemLayout(e),d=h.points,p="inner"===c||"inside"===c||"center"===c||"insideLeft"===c||"insideRight"===c;if(p)"insideLeft"===c?(r=(d[0][0]+d[3][0])/2+5,a=(d[0][1]+d[3][1])/2,i="left"):"insideRight"===c?(r=(d[1][0]+d[2][0])/2-5,a=(d[1][1]+d[2][1])/2,i="right"):(r=(d[0][0]+d[1][0]+d[2][0]+d[3][0])/4,a=(d[0][1]+d[1][1]+d[2][1]+d[3][1])/4,i="center"),o=[[r,a],[r,a]];else{var f=void 0,g=void 0,m=void 0,v=void 0,y=u.get("length");0,"left"===c?(f=(d[3][0]+d[0][0])/2,g=(d[3][1]+d[0][1])/2,m=f-y,r=m-5,i="right"):"right"===c?(f=(d[1][0]+d[2][0])/2,g=(d[1][1]+d[2][1])/2,m=f+y,r=m+5,i="left"):"top"===c?(f=(d[3][0]+d[0][0])/2,g=(d[3][1]+d[0][1])/2,v=g-y,a=v-5,i="center"):"bottom"===c?(f=(d[1][0]+d[2][0])/2,g=(d[1][1]+d[2][1])/2,v=g+y,a=v+5,i="center"):"rightTop"===c?(f="horizontal"===n?d[3][0]:d[1][0],g="horizontal"===n?d[3][1]:d[1][1],"horizontal"===n?(v=g-y,a=v-5,i="center"):(m=f+y,r=m+5,i="top")):"rightBottom"===c?(f=d[2][0],g=d[2][1],"horizontal"===n?(v=g+y,a=v+5,i="center"):(m=f+y,r=m+5,i="bottom")):"leftTop"===c?(f=d[0][0],g="horizontal"===n?d[0][1]:d[1][1],"horizontal"===n?(v=g-y,a=v-5,i="center"):(m=f-y,r=m-5,i="right")):"leftBottom"===c?(f="horizontal"===n?d[1][0]:d[3][0],g="horizontal"===n?d[1][1]:d[2][1],"horizontal"===n?(v=g+y,a=v+5,i="center"):(m=f-y,r=m-5,i="right")):(f=(d[1][0]+d[2][0])/2,g=(d[1][1]+d[2][1])/2,"horizontal"===n?(v=g+y,a=v+5,i="center"):(m=f+y,r=m+5,i="left")),"horizontal"===n?(m=f,r=m):(v=g,a=v),o=[[f,g],[m,v]]}h.label={linePoints:o,x:r,y:a,verticalAlign:"middle",textAlign:i,inside:p}}))}function du(t,e){t.eachSeriesByType("funnel",(function(t){var n=t.getData(),i=n.mapDimension("value"),r=t.get("sort"),a=cu(t,e),o=t.get("orient"),s=a.width,l=a.height,c=uu(n,r),u=a.x,h=a.y,d="horizontal"===o?[Object(vi["q"])(t.get("minSize"),l),Object(vi["q"])(t.get("maxSize"),l)]:[Object(vi["q"])(t.get("minSize"),s),Object(vi["q"])(t.get("maxSize"),s)],p=n.getDataExtent(i),f=t.get("min"),g=t.get("max");null==f&&(f=Math.min(p[0],0)),null==g&&(g=p[1]);var m=t.get("funnelAlign"),v=t.get("gap"),y="horizontal"===o?s:l,b=(y-v*(n.count()-1))/n.count(),x=function(t,e){if("horizontal"===o){var r=n.get(i,t)||0,a=Object(vi["m"])(r,[f,g],d,!0),c=void 0;switch(m){case"top":c=h;break;case"center":c=h+(l-a)/2;break;case"bottom":c=h+(l-a);break}return[[e,c],[e,c+a]]}var p,v=n.get(i,t)||0,y=Object(vi["m"])(v,[f,g],d,!0);switch(m){case"left":p=u;break;case"center":p=u+(s-y)/2;break;case"right":p=u+s-y;break}return[[p,e],[p+y,e]]};"ascending"===r&&(b=-b,v=-v,"horizontal"===o?u+=s:h+=l,c=c.reverse());for(var _=0;_<c.length;_++){var w=c[_],S=c[_+1],O=n.getItemModel(w);if("horizontal"===o){var C=O.get(["itemStyle","width"]);null==C?C=b:(C=Object(vi["q"])(C,s),"ascending"===r&&(C=-C));var A=x(w,u),M=x(S,u+C);u+=C+v,n.setItemLayout(w,{points:A.concat(M.slice().reverse())})}else{var T=O.get(["itemStyle","height"]);null==T?T=b:(T=Object(vi["q"])(T,l),"ascending"===r&&(T=-T));A=x(w,h),M=x(S,h+T);h+=T+v,n.setItemLayout(w,{points:A.concat(M.slice().reverse())})}}hu(n)}))}function pu(t){t.registerChartView(ou),t.registerSeriesModel(lu),t.registerLayout(du),t.registerProcessor(Object(Gn["a"])("funnel"))}var fu=.3,gu=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._dataGroup=new Te["a"],n._initialized=!1,n}return Object(xe["a"])(e,t),e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,e,n,i){this._progressiveEls=null;var r=this._dataGroup,a=t.getData(),o=this._data,s=t.coordinateSystem,l=s.dimensions,c=bu(t);function u(t){var e=yu(a,r,t,l,s);xu(e,a,t,c)}function h(e,n){var i=o.getItemGraphicEl(n),r=vu(a,e,l,s);a.setItemGraphicEl(e,i),Le["h"](i,{shape:{points:r}},t,e),Object(Le["g"])(i),xu(i,a,e,c)}function d(t){var e=o.getItemGraphicEl(t);r.remove(e)}if(a.diff(o).add(u).update(h).remove(d).execute(),!this._initialized){this._initialized=!0;var p=mu(s,t,(function(){setTimeout((function(){r.removeClipPath()}))}));r.setClipPath(p)}this._data=a},e.prototype.incrementalPrepareRender=function(t,e,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,e,n){for(var i=e.getData(),r=e.coordinateSystem,a=r.dimensions,o=bu(e),s=this._progressiveEls=[],l=t.start;l<t.end;l++){var c=yu(i,this._dataGroup,l,a,r);c.incremental=!0,xu(c,i,l,o),s.push(c)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(Ge["a"]);function mu(t,e,n){var i=t.model,r=t.getRect(),a=new je["a"]({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),o="horizontal"===i.get("layout")?"width":"height";return a.setShape(o,0),Le["c"](a,{shape:{width:r.width,height:r.height}},e,n),a}function vu(t,e,n,i){for(var r=[],a=0;a<n.length;a++){var o=n[a],s=t.get(t.mapDimension(o),e);_u(s,i.getAxis(o).type)||r.push(i.dataToPoint(s,o))}return r}function yu(t,e,n,i,r){var a=vu(t,n,i,r),o=new Hn["a"]({shape:{points:a},z2:10});return e.add(o),t.setItemGraphicEl(n,o),o}function bu(t){var e=t.get("smooth",!0);return!0===e&&(e=fu),e=Object(vi["o"])(e),Object(V["eqNaN"])(e)&&(e=0),{smooth:e}}function xu(t,e,n,i){t.useStyle(e.getItemVisual(n,"style")),t.style.fill=null,t.setShape("smooth",i.smooth);var r=e.getItemModel(n),a=r.getModel("emphasis");Object(Pe["I"])(t,r,"lineStyle"),Object(Pe["J"])(t,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function _u(t,e){return"category"===e?null==t:null==t||isNaN(t)}var wu=gu,Su=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return Object(xe["a"])(e,t),e.prototype.getInitialData=function(t,e){return Object(we["a"])(null,this,{useEncodeDefaulter:Object(V["bind"])(Ou,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var e=this.coordinateSystem,n=this.getData(),i=[];return e.eachActiveState(n,(function(e,r){t===e&&i.push(n.getRawIndex(r))})),i},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(_e["b"]);function Ou(t){var e=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(e){var n={};return Object(V["each"])(e.dimensions,(function(t){var e=Cu(t);n[t]=e})),n}}function Cu(t){return+t.replace("dim","")}var Au=Su,Mu=["lineStyle","opacity"],Tu={seriesType:"parallel",reset:function(t,e){var n=t.coordinateSystem,i={normal:t.get(["lineStyle","opacity"]),active:t.get("activeOpacity"),inactive:t.get("inactiveOpacity")};return{progress:function(t,e){n.eachActiveState(e,(function(t,n){var r=i[t];if("normal"===t&&e.hasItemOption){var a=e.getItemModel(n).get(Mu,!0);null!=a&&(r=a)}var o=e.ensureUniqueItemVisual(n,"style");o.opacity=r}),t.start,t.end)}}}},ku=Tu;function Lu(t){ju(t),Iu(t)}function ju(t){if(!t.parallel){var e=!1;V["each"](t.series,(function(t){t&&"parallel"===t.type&&(e=!0)})),e&&(t.parallel=[{}])}}function Iu(t){var e=Ur["r"](t.parallelAxis);V["each"](e,(function(e){if(V["isObject"](e)){var n=e.parallelIndex||0,i=Ur["r"](t.parallel)[n];i&&i.parallelAxisDefault&&V["merge"](e,i.parallelAxisDefault,!1)}}))}var Eu=5,Pu=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n){this._model=t,this._api=n,this._handlers||(this._handlers={},Object(V["each"])(Ru,(function(t,e){n.getZr().on(e,this._handlers[e]=Object(V["bind"])(t,this))}),this)),Object(De["b"])(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,e){Object(De["a"])(this,"_throttledDispatchExpand"),Object(V["each"])(this._handlers,(function(t,n){e.getZr().off(n,t)})),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(Object(V["extend"])({type:"parallelAxisExpand"},t))},e.type="parallel",e}(ci["a"]),Ru={mousedown:function(t){Du(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(Du(this,"click")&&e){var n=[t.offsetX,t.offsetY],i=Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2);if(i>Eu)return;var r=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==r.behavior&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&Du(this,"mousemove")){var e=this._model,n=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),i=n.behavior;"jump"===i&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===i?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===i?null:{duration:0}})}}};function Du(t,e){var n=t._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===e}var Fu=Pu,Nu=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.init=function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var e=this.option;t&&V["merge"](e,t,!0),this._initDimensions()},e.prototype.contains=function(t,e){var n=t.get("parallelIndex");return null!=n&&e.getComponent("parallel",n)===this},e.prototype.setAxisExpand=function(t){V["each"](["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])}),this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[],n=V["filter"](this.ecModel.queryComponents({mainType:"parallelAxis"}),(function(t){return(t.get("parallelIndex")||0)===this.componentIndex}),this);V["each"](n,(function(n){t.push("dim"+n.get("dim")),e.push(n.componentIndex)}))},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(ei["a"]),Bu=Nu,Vu=n("697e"),Gu=function(t){function e(e,n,i,r,a){var o=t.call(this,e,n,i)||this;return o.type=r||"value",o.axisIndex=a,o}return Object(xe["a"])(e,t),e.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},e}(pi["a"]),zu=Gu;function Uu(t,e,n,i,r,a){t=t||0;var o=n[1]-n[0];if(null!=r&&(r=Wu(r,[0,o])),null!=a&&(a=Math.max(a,null!=r?r:0)),"all"===i){var s=Math.abs(e[1]-e[0]);s=Wu(s,[0,o]),r=a=Wu(s,[r,a]),i=0}e[0]=Wu(e[0],n),e[1]=Wu(e[1],n);var l=Hu(e,i);e[i]+=t;var c,u=r||0,h=n.slice();return l.sign<0?h[0]+=u:h[1]-=u,e[i]=Wu(e[i],h),c=Hu(e,i),null!=r&&(c.sign!==l.sign||c.span<r)&&(e[1-i]=e[i]+l.sign*r),c=Hu(e,i),null!=a&&c.span>a&&(e[1-i]=e[i]+c.sign*a),e}function Hu(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function Wu(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}var Yu=V["each"],Xu=Math.min,qu=Math.max,Zu=Math.floor,Qu=Math.ceil,Ju=vi["w"],Ku=Math.PI,$u=function(){function t(t,e,n){this.type="parallel",this._axesMap=V["createHashMap"](),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,n)}return t.prototype._init=function(t,e,n){var i=t.dimensions,r=t.parallelAxisIndex;Yu(i,(function(t,n){var i=r[n],a=e.getComponent("parallelAxis",i),o=this._axesMap.set(t,new zu(t,Vu["a"](a),[0,0],a.get("type"),i)),s="category"===o.type;o.onBand=s&&a.get("boundaryGap"),o.inverse=a.get("inverse"),a.axis=o,o.model=a,o.coordinateSystem=a.coordinateSystem=this}),this)},t.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},t.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),n=e.axisBase,i=e.layoutBase,r=e.pixelDimIndex,a=t[1-r],o=t[r];return a>=n&&a<=n+e.axisLength&&o>=i&&o<=i+e.layoutLength},t.prototype.getModel=function(){return this._model},t.prototype._updateAxesFromSeries=function(t,e){e.eachSeries((function(n){if(t.contains(n,e)){var i=n.getData();Yu(this.dimensions,(function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(i,i.mapDimension(t)),Vu["i"](e.scale,e.model)}),this)}}),this)},t.prototype.resize=function(t,e){this._rect=Oa["g"](t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},t.prototype.getRect=function(){return this._rect},t.prototype._makeLayoutInfo=function(){var t,e=this._model,n=this._rect,i=["x","y"],r=["width","height"],a=e.get("layout"),o="horizontal"===a?0:1,s=n[r[o]],l=[0,s],c=this.dimensions.length,u=th(e.get("axisExpandWidth"),l),h=th(e.get("axisExpandCount")||0,[0,c]),d=e.get("axisExpandable")&&c>3&&c>h&&h>1&&u>0&&s>0,p=e.get("axisExpandWindow");if(p)t=th(p[1]-p[0],l),p[1]=p[0]+t;else{t=th(u*(h-1),l);var f=e.get("axisExpandCenter")||Zu(c/2);p=[u*f-t/2],p[1]=p[0]+t}var g=(s-t)/(c-h);g<3&&(g=0);var m=[Zu(Ju(p[0]/u,1))+1,Qu(Ju(p[1]/u,1))-1],v=g/u*p[0];return{layout:a,pixelDimIndex:o,layoutBase:n[i[o]],layoutLength:s,axisBase:n[i[1-o]],axisLength:n[r[1-o]],axisExpandable:d,axisExpandWidth:u,axisCollapseWidth:g,axisExpandWindow:p,axisCount:c,winInnerIndices:m,axisExpandWindow0Pos:v}},t.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),r=i.layout;e.each((function(t){var e=[0,i.axisLength],n=t.inverse?1:0;t.setExtent(e[n],e[1-n])})),Yu(n,(function(e,n){var a=(i.axisExpandable?nh:eh)(n,i),o={horizontal:{x:a.position,y:i.axisLength},vertical:{x:0,y:a.position}},s={horizontal:Ku/2,vertical:0},l=[o[r].x+t.x,o[r].y+t.y],c=s[r],u=Ui["create"]();Ui["rotate"](u,u,c),Ui["translate"](u,u,l),this._axesLayout[e]={position:l,rotation:c,transform:u,axisNameAvailableWidth:a.axisNameAvailableWidth,axisLabelShow:a.axisLabelShow,nameTruncateMaxWidth:a.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)},t.prototype.getAxis=function(t){return this._axesMap.get(t)},t.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},t.prototype.eachActiveState=function(t,e,n,i){null==n&&(n=0),null==i&&(i=t.count());var r=this._axesMap,a=this.dimensions,o=[],s=[];V["each"](a,(function(e){o.push(t.mapDimension(e)),s.push(r.get(e).model)}));for(var l=this.hasAxisBrushed(),c=n;c<i;c++){var u=void 0;if(l){u="active";for(var h=t.getValues(o,c),d=0,p=a.length;d<p;d++){var f=s[d].getActiveState(h[d]);if("inactive"===f){u="inactive";break}}}else u="normal";e(u,c)}},t.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,n=!1,i=0,r=t.length;i<r;i++)"normal"!==e.get(t[i]).model.getActiveState()&&(n=!0);return n},t.prototype.axisCoordToPoint=function(t,e){var n=this._axesLayout[e];return ke["applyTransform"]([t,0],n.transform)},t.prototype.getAxisLayout=function(t){return V["clone"](this._axesLayout[t])},t.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,i=e.axisExpandWindow.slice(),r=i[1]-i[0],a=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var o,s=t[n]-e.layoutBase-e.axisExpandWindow0Pos,l="slide",c=e.axisCollapseWidth,u=this._model.get("axisExpandSlideTriggerArea"),h=null!=u[0];if(c)h&&c&&s<r*u[0]?(l="jump",o=s-r*u[2]):h&&c&&s>r*(1-u[0])?(l="jump",o=s-r*(1-u[2])):(o=s-r*u[1])>=0&&(o=s-r*(1-u[1]))<=0&&(o=0),o*=e.axisExpandWidth/c,o?Uu(o,i,a,"all"):l="none";else{var d=i[1]-i[0],p=a[1]*s/d;i=[qu(0,p-d/2)],i[1]=Xu(a[1],i[0]+d),i[0]=i[1]-d}return{axisExpandWindow:i,behavior:l}},t}();function th(t,e){return Xu(qu(t,e[0]),e[1])}function eh(t,e){var n=e.layoutLength/(e.axisCount-1);return{position:n*t,axisNameAvailableWidth:n,axisLabelShow:!0}}function nh(t,e){var n,i,r=e.layoutLength,a=e.axisExpandWidth,o=e.axisCount,s=e.axisCollapseWidth,l=e.winInnerIndices,c=s,u=!1;return t<l[0]?(n=t*s,i=s):t<=l[1]?(n=e.axisExpandWindow0Pos+t*a-e.axisExpandWindow[0],c=a,u=!0):(n=r-(o-1-t)*s,i=s),{position:n,axisNameAvailableWidth:c,axisLabelShow:u,nameTruncateMaxWidth:i}}var ih=$u;function rh(t,e){var n=[];return t.eachComponent("parallel",(function(i,r){var a=new ih(i,t,e);a.name="parallel_"+r,a.resize(i,e),i.coordinateSystem=a,a.model=i,n.push(a)})),t.eachSeries((function(t){if("parallel"===t.get("coordinateSystem")){var e=t.getReferringComponents("parallel",Ur["b"]).models[0];t.coordinateSystem=e.coordinateSystem}})),n}var ah={create:rh},oh=ah,sh=n("9e47"),lh=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.activeIntervals=[],n}return Object(xe["a"])(e,t),e.prototype.getAreaSelectStyle=function(){return Object(ls["a"])([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var e=this.activeIntervals=V["clone"](t);if(e)for(var n=e.length-1;n>=0;n--)vi["c"](e[n])},e.prototype.getActiveState=function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t||isNaN(+t))return"inactive";if(1===e.length){var n=e[0];if(n[0]<=t&&t<=n[1])return"active"}else for(var i=0,r=e.length;i<r;i++)if(e[i][0]<=t&&t<=e[i][1])return"active";return"inactive"},e}(ei["a"]);V["mixin"](lh,ti["a"]);var ch=lh,uh=!0,hh=Math.min,dh=Math.max,ph=Math.pow,fh=1e4,gh=6,mh=6,vh="globalPan",yh={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},bh={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},xh={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},_h=0,wh=function(t){function e(e){var n=t.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=e,n.group=new Te["a"],n._uid="brushController_"+_h++,Object(V["each"])(td,(function(t,e){this._handlers[e]=Object(V["bind"])(t,this)}),n),n}return Object(xe["a"])(e,t),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var e=this._zr;this._enableGlobalPan||Mi(e,vh,this._uid),Object(V["each"])(this._handlers,(function(t,n){e.on(n,t)})),this._brushType=t.brushType,this._brushOption=Object(V["merge"])(Object(V["clone"])(xh),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;Ti(t,vh,this._uid),Object(V["each"])(this._handlers,(function(e,n){t.off(n,e)})),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var e=this._panels={};Object(V["each"])(t,(function(t){e[t.panelId]=Object(V["clone"])(t)}))}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=e.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=Object(V["map"])(t,(function(t){return Object(V["merge"])(Object(V["clone"])(xh),t,!0)}));var e="\0-brush-index-",n=this._covers,i=this._covers=[],r=this,a=this._creatingCover;return new Ko["a"](n,t,s,o).add(l).update(l).remove(c).execute(),this;function o(t,n){return(null!=t.id?t.id:e+n)+"-"+t.brushType}function s(t,e){return o(t.__brushOption,e)}function l(e,o){var s=t[e];if(null!=o&&n[o]===a)i[e]=n[o];else{var l=i[e]=null!=o?(n[o].__brushOption=s,n[o]):Oh(r,Sh(r,s));Mh(r,l)}}function c(t){n[t]!==a&&r.group.remove(n[t])}},e.prototype.unmount=function(){return this.enableBrush(!1),jh(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(Si["a"]);function Sh(t,e){var n=id[e.brushType].createCover(t,e);return n.__brushOption=e,Ah(n,e),t.group.add(n),n}function Oh(t,e){var n=Th(e);return n.endCreating&&(n.endCreating(t,e),Ah(e,e.__brushOption)),e}function Ch(t,e){var n=e.__brushOption;Th(e).updateCoverShape(t,e,n.range,n)}function Ah(t,e){var n=e.z;null==n&&(n=fh),t.traverse((function(t){t.z=n,t.z2=n}))}function Mh(t,e){Th(e).updateCommon(t,e),Ch(t,e)}function Th(t){return id[t.__brushOption.brushType]}function kh(t,e,n){var i,r=t._panels;if(!r)return uh;var a=t._transform;return Object(V["each"])(r,(function(t){t.isTargetByCursor(e,n,a)&&(i=t)})),i}function Lh(t,e){var n=t._panels;if(!n)return uh;var i=e.__brushOption.panelId;return null!=i?n[i]:uh}function jh(t){var e=t._covers,n=e.length;return Object(V["each"])(e,(function(e){t.group.remove(e)}),t),e.length=0,!!n}function Ih(t,e){var n=Object(V["map"])(t._covers,(function(t){var e=t.__brushOption,n=Object(V["clone"])(e.range);return{brushType:e.brushType,panelId:e.panelId,range:n}}));t.trigger("brush",{areas:n,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function Eh(t){var e=t._track;if(!e.length)return!1;var n=e[e.length-1],i=e[0],r=n[0]-i[0],a=n[1]-i[1],o=ph(r*r+a*a,.5);return o>gh}function Ph(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function Rh(t,e,n,i){var r=new Te["a"];return r.add(new je["a"]({name:"main",style:Bh(n),silent:!0,draggable:!0,cursor:"move",drift:Object(V["curry"])(Hh,t,e,r,["n","s","w","e"]),ondragend:Object(V["curry"])(Ih,e,{isEnd:!0})})),Object(V["each"])(i,(function(n){r.add(new je["a"]({name:n.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Object(V["curry"])(Hh,t,e,r,n),ondragend:Object(V["curry"])(Ih,e,{isEnd:!0})}))})),r}function Dh(t,e,n,i){var r=i.brushStyle.lineWidth||0,a=dh(r,mh),o=n[0][0],s=n[1][0],l=o-r/2,c=s-r/2,u=n[0][1],h=n[1][1],d=u-a+r/2,p=h-a+r/2,f=u-o,g=h-s,m=f+r,v=g+r;Nh(t,e,"main",o,s,f,g),i.transformable&&(Nh(t,e,"w",l,c,a,v),Nh(t,e,"e",d,c,a,v),Nh(t,e,"n",l,c,m,a),Nh(t,e,"s",l,p,m,a),Nh(t,e,"nw",l,c,a,a),Nh(t,e,"ne",d,c,a,a),Nh(t,e,"sw",l,p,a,a),Nh(t,e,"se",d,p,a,a))}function Fh(t,e){var n=e.__brushOption,i=n.transformable,r=e.childAt(0);r.useStyle(Bh(n)),r.attr({silent:!i,cursor:i?"move":"default"}),Object(V["each"])([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(n){var r=e.childOfName(n.join("")),a=1===n.length?zh(t,n[0]):Uh(t,n);r&&r.attr({silent:!i,invisible:!i,cursor:i?bh[a]+"-resize":null})}))}function Nh(t,e,n,i,r,a,o){var s=e.childOfName(n);s&&s.setShape(qh(Xh(t,e,[[i,r],[i+a,r+o]])))}function Bh(t){return Object(V["defaults"])({strokeNoScale:!0},t.brushStyle)}function Vh(t,e,n,i){var r=[hh(t,n),hh(e,i)],a=[dh(t,n),dh(e,i)];return[[r[0],a[0]],[r[1],a[1]]]}function Gh(t){return ke["getTransform"](t.group)}function zh(t,e){var n={w:"left",e:"right",n:"top",s:"bottom"},i={left:"w",right:"e",top:"n",bottom:"s"},r=ke["transformDirection"](n[e],Gh(t));return i[r]}function Uh(t,e){var n=[zh(t,e[0]),zh(t,e[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}function Hh(t,e,n,i,r,a){var o=n.__brushOption,s=t.toRectRange(o.range),l=Yh(e,r,a);Object(V["each"])(i,(function(t){var e=yh[t];s[e[0]][e[1]]+=l[e[0]]})),o.range=t.fromRectRange(Vh(s[0][0],s[1][0],s[0][1],s[1][1])),Mh(e,n),Ih(e,{isEnd:!1})}function Wh(t,e,n,i){var r=e.__brushOption.range,a=Yh(t,n,i);Object(V["each"])(r,(function(t){t[0]+=a[0],t[1]+=a[1]})),Mh(t,e),Ih(t,{isEnd:!1})}function Yh(t,e,n){var i=t.group,r=i.transformCoordToLocal(e,n),a=i.transformCoordToLocal(0,0);return[r[0]-a[0],r[1]-a[1]]}function Xh(t,e,n){var i=Lh(t,e);return i&&i!==uh?i.clipPath(n,t._transform):Object(V["clone"])(n)}function qh(t){var e=hh(t[0][0],t[1][0]),n=hh(t[0][1],t[1][1]),i=dh(t[0][0],t[1][0]),r=dh(t[0][1],t[1][1]);return{x:e,y:n,width:i-e,height:r-n}}function Zh(t,e,n){if(t._brushType&&!nd(t,e.offsetX,e.offsetY)){var i=t._zr,r=t._covers,a=kh(t,e,n);if(!t._dragging)for(var o=0;o<r.length;o++){var s=r[o].__brushOption;if(a&&(a===uh||s.panelId===a.panelId)&&id[s.brushType].contain(r[o],n[0],n[1]))return}a&&i.setCursorStyle("crosshair")}}function Qh(t){var e=t.event;e.preventDefault&&e.preventDefault()}function Jh(t,e,n){return t.childOfName("main").contain(e,n)}function Kh(t,e,n,i){var r,a=t._creatingCover,o=t._creatingPanel,s=t._brushOption;if(t._track.push(n.slice()),Eh(t)||a){if(o&&!a){"single"===s.brushMode&&jh(t);var l=Object(V["clone"])(s);l.brushType=$h(l.brushType,o),l.panelId=o===uh?null:o.panelId,a=t._creatingCover=Sh(t,l),t._covers.push(a)}if(a){var c=id[$h(t._brushType,o)],u=a.__brushOption;u.range=c.getCreatingRange(Xh(t,a,t._track)),i&&(Oh(t,a),c.updateCommon(t,a)),Ch(t,a),r={isEnd:i}}}else i&&"single"===s.brushMode&&s.removeOnClick&&kh(t,e,n)&&jh(t)&&(r={isEnd:i,removeOnClick:!0});return r}function $h(t,e){return"auto"===t?e.defaultBrushType:t}var td={mousedown:function(t){if(this._dragging)ed(this,t);else if(!t.target||!t.target.draggable){Qh(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null;var n=this._creatingPanel=kh(this,t,e);n&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,n=t.offsetY,i=this.group.transformCoordToLocal(e,n);if(Zh(this,t,i),this._dragging){Qh(t);var r=Kh(this,t,i,!1);r&&Ih(this,r)}},mouseup:function(t){ed(this,t)}};function ed(t,e){if(t._dragging){Qh(e);var n=e.offsetX,i=e.offsetY,r=t.group.transformCoordToLocal(n,i),a=Kh(t,e,r,!0);t._dragging=!1,t._track=[],t._creatingCover=null,a&&Ih(t,a)}}function nd(t,e,n){var i=t._zr;return e<0||e>i.getWidth()||n<0||n>i.getHeight()}var id={lineX:rd(0),lineY:rd(1),rect:{createCover:function(t,e){function n(t){return t}return Rh({toRectRange:n,fromRectRange:n},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=Ph(t);return Vh(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,i){Dh(t,e,n,i)},updateCommon:Fh,contain:Jh},polygon:{createCover:function(t,e){var n=new Te["a"];return n.add(new Hn["a"]({name:"main",style:Bh(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new Un["a"]({name:"main",draggable:!0,drift:Object(V["curry"])(Wh,t,e),ondragend:Object(V["curry"])(Ih,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,i){e.childAt(0).setShape({points:Xh(t,e,n)})},updateCommon:Fh,contain:Jh}};function rd(t){return{createCover:function(e,n){return Rh({toRectRange:function(e){var n=[e,[0,100]];return t&&n.reverse(),n},fromRectRange:function(e){return e[t]}},e,n,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var n=Ph(e),i=hh(n[0][t],n[1][t]),r=dh(n[0][t],n[1][t]);return[i,r]},updateCoverShape:function(e,n,i,r){var a,o=Lh(e,n);if(o!==uh&&o.getLinearBrushOtherExtent)a=o.getLinearBrushOtherExtent(t);else{var s=e._zr;a=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[i,a];t&&l.reverse(),Dh(e,n,l,r)},updateCommon:Fh,contain:Jh}}var ad=wh;function od(t){return t=cd(t),function(e){return ke["clipPointsByRect"](e,t)}}function sd(t,e){return t=cd(t),function(n){var i=null!=e?e:n,r=i?t.width:t.height,a=i?t.x:t.y;return[a,a+(r||0)]}}function ld(t,e,n){var i=cd(t);return function(t,r){return i.contain(r[0],r[1])&&!Bi(t,e,n)}}function cd(t){return An["a"].create(t)}var ud=["axisLine","axisTickLabel","axisName"],hd=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.init=function(e,n){t.prototype.init.apply(this,arguments),(this._brushController=new ad(n.getZr())).on("brush",V["bind"](this._onBrush,this))},e.prototype.render=function(t,e,n,i){if(!dd(t,e,i)){this.axisModel=t,this.api=n,this.group.removeAll();var r=this._axisGroup;if(this._axisGroup=new Te["a"],this.group.add(this._axisGroup),t.get("show")){var a=fd(t,e),o=a.coordinateSystem,s=t.getAreaSelectStyle(),l=s.width,c=t.axis.dim,u=o.getAxisLayout(c),h=V["extend"]({strokeContainThreshold:l},u),d=new oi["a"](t,h);V["each"](ud,d.add,d),this._axisGroup.add(d.getGroup()),this._refreshBrushController(h,s,t,a,l,n),ke["groupTransition"](r,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,e,n,i,r,a){var o=n.axis.getExtent(),s=o[1]-o[0],l=Math.min(30,.1*Math.abs(s)),c=An["a"].create({x:o[0],y:-r/2,width:s,height:r});c.x-=l,c.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:od(c),isTargetByCursor:ld(c,a,i),getLinearBrushOtherExtent:sd(c,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(pd(n))},e.prototype._onBrush=function(t){var e=t.areas,n=this.axisModel,i=n.axis,r=V["map"](e,(function(t){return[i.coordToData(t.range[0],!0),i.coordToData(t.range[1],!0)]}));(!n.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:r})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(ci["a"]);function dd(t,e,n){return n&&"axisAreaSelect"===n.type&&e.findComponents({mainType:"parallelAxis",query:n})[0]===t}function pd(t){var e=t.axis;return V["map"](t.activeIntervals,(function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}}))}function fd(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}var gd=hd,md={type:"axisAreaSelect",event:"axisAreaSelected"};function vd(t){t.registerAction(md,(function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},(function(e){e.axis.model.setActiveIntervals(t.intervals)}))})),t.registerAction("parallelAxisExpand",(function(t,e){e.eachComponent({mainType:"parallel",query:t},(function(e){e.setAxisExpand(t)}))}))}var yd={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function bd(t){t.registerComponentView(Fu),t.registerComponentModel(Bu),t.registerCoordinateSystem("parallel",oh),t.registerPreprocessor(Lu),t.registerComponentModel(ch),t.registerComponentView(gd),Object(sh["a"])(t,"parallel",ch,yd),vd(t)}function xd(t){Object(C["a"])(bd),t.registerChartView(wu),t.registerSeriesModel(Au),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,ku)}var _d=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return t}(),wd=function(t){function e(e){return t.call(this,e)||this}return Object(xe["a"])(e,t),e.prototype.getDefaultShape=function(){return new _d},e.prototype.buildPath=function(t,e){var n=e.extent;t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),"vertical"===e.orient?(t.lineTo(e.x2+n,e.y2),t.bezierCurveTo(e.cpx2+n,e.cpy2,e.cpx1+n,e.cpy1,e.x1+n,e.y1)):(t.lineTo(e.x2,e.y2+n),t.bezierCurveTo(e.cpx2,e.cpy2+n,e.cpx1,e.cpy1+n,e.x1,e.y1+n)),t.closePath()},e.prototype.highlight=function(){Object(Pe["r"])(this)},e.prototype.downplay=function(){Object(Pe["C"])(this)},e}(T["b"]),Sd=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._focusAdjacencyDisabled=!1,n}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n){var i=this,r=t.getGraph(),a=this.group,o=t.layoutInfo,s=o.width,l=o.height,c=t.getData(),u=t.getData("edge"),h=t.get("orient");this._model=t,a.removeAll(),a.x=o.x,a.y=o.y,r.eachEdge((function(e){var n=new wd,i=Object(Ee["a"])(n);i.dataIndex=e.dataIndex,i.seriesIndex=t.seriesIndex,i.dataType="edge";var r,o,c,d,p,f,g,m,v=e.getModel(),y=v.getModel("lineStyle"),b=y.get("curveness"),x=e.node1.getLayout(),_=e.node1.getModel(),w=_.get("localX"),S=_.get("localY"),O=e.node2.getLayout(),C=e.node2.getModel(),A=C.get("localX"),M=C.get("localY"),T=e.getLayout();switch(n.shape.extent=Math.max(1,T.dy),n.shape.orient=h,"vertical"===h?(r=(null!=w?w*s:x.x)+T.sy,o=(null!=S?S*l:x.y)+x.dy,c=(null!=A?A*s:O.x)+T.ty,d=null!=M?M*l:O.y,p=r,f=o*(1-b)+d*b,g=c,m=o*b+d*(1-b)):(r=(null!=w?w*s:x.x)+x.dx,o=(null!=S?S*l:x.y)+T.sy,c=null!=A?A*s:O.x,d=(null!=M?M*l:O.y)+T.ty,p=r*(1-b)+c*b,f=o,g=r*b+c*(1-b),m=d),n.setShape({x1:r,y1:o,x2:c,y2:d,cpx1:p,cpy1:f,cpx2:g,cpy2:m}),n.useStyle(y.getItemStyle()),n.style.fill){case"source":n.style.fill=e.node1.getVisual("color"),n.style.decal=e.node1.getVisual("style").decal;break;case"target":n.style.fill=e.node2.getVisual("color"),n.style.decal=e.node2.getVisual("style").decal;break;case"gradient":var k=e.node1.getVisual("color"),L=e.node2.getVisual("color");Object(V["isString"])(k)&&Object(V["isString"])(L)&&(n.style.fill=new Wi["a"](0,0,+("horizontal"===h),+("vertical"===h),[{color:k,offset:0},{color:L,offset:1}]))}Object(Re["g"])(n,Object(Re["e"])(v,"edgeLabel"),{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:""+v.get("value")}),n.setTextConfig({position:"inside"});var j=v.getModel("emphasis");Object(Pe["I"])(n,v,"lineStyle",(function(t){return t.getItemStyle()})),a.add(n),u.setItemGraphicEl(e.dataIndex,n);var I=j.get("focus");Object(Pe["J"])(n,"adjacency"===I?e.getAdjacentDataIndices():I,j.get("blurScope"),j.get("disabled")),Object(Ee["a"])(n).dataType="edge"})),r.eachNode((function(e){var n=e.getLayout(),i=e.getModel(),r=i.get("localX"),o=i.get("localY"),u=i.getModel("emphasis"),h=new je["a"]({shape:{x:null!=r?r*s:n.x,y:null!=o?o*l:n.y,width:n.dx,height:n.dy},style:i.getModel("itemStyle").getItemStyle(),z2:10});Object(Re["g"])(h,Object(Re["e"])(i),{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:e.id}),h.disableLabelAnimation=!0,h.setStyle("fill",e.getVisual("color")),h.setStyle("decal",e.getVisual("style").decal),Object(Pe["I"])(h,i),a.add(h),c.setItemGraphicEl(e.dataIndex,h),Object(Ee["a"])(h).dataType="node";var d=u.get("focus");Object(Pe["J"])(h,"adjacency"===d?e.getAdjacentDataIndices():d,u.get("blurScope"),u.get("disabled"))})),c.eachItemGraphicEl((function(e,r){var a=c.getItemModel(r);a.get("draggable")&&(e.drift=function(e,a){i._focusAdjacencyDisabled=!0,this.shape.x+=e,this.shape.y+=a,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:c.getRawIndex(r),localX:this.shape.x/s,localY:this.shape.y/l})},e.ondragend=function(){i._focusAdjacencyDisabled=!1},e.draggable=!0,e.cursor="move")})),!this._data&&t.isAnimationEnabled()&&a.setClipPath(Od(a.getBoundingRect(),t,(function(){a.removeClipPath()}))),this._data=t.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(Ge["a"]);function Od(t,e,n){var i=new je["a"]({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Le["c"](i,{shape:{width:t.width+20}},e,n),i}var Cd=Sd,Ad=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.getInitialData=function(t,e){var n=t.edges||t.links,i=t.data||t.nodes,r=t.levels;this.levelModels=[];for(var a=this.levelModels,o=0;o<r.length;o++)null!=r[o].depth&&r[o].depth>=0&&(a[r[o].depth]=new $n["a"](r[o],this,e));if(i&&n){var s=Bc(i,n,this,!0,l);return s.data}function l(t,e){t.wrapMethod("getItemModel",(function(t,e){var n=t.parentModel,i=n.getData().getItemLayout(e);if(i){var r=i.depth,a=n.levelModels[r];a&&(t.parentModel=a)}return t})),e.wrapMethod("getItemModel",(function(t,e){var n=t.parentModel,i=n.getGraph().getEdgeByIndex(e),r=i.node1.getLayout();if(r){var a=r.depth,o=n.levelModels[a];o&&(t.parentModel=o)}return t}))}},e.prototype.setNodePosition=function(t,e){var n=this.option.data||this.option.nodes,i=n[t];i.localX=e[0],i.localY=e[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,e,n){function i(t){return isNaN(t)||null==t}if("edge"===n){var r=this.getDataParams(t,n),a=r.data,o=r.value,s=a.source+" -- "+a.target;return Object(Zn["c"])("nameValue",{name:s,value:o,noValue:i(o)})}var l=this.getGraph().getNodeByIndex(t),c=l.getLayout().value,u=this.getDataParams(t,n).data.name;return Object(Zn["c"])("nameValue",{name:null!=u?u+"":null,value:c,noValue:i(c)})},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(e,n){var i=t.prototype.getDataParams.call(this,e,n);if(null==i.value&&"node"===n){var r=this.getGraph().getNodeByIndex(e),a=r.getLayout().value;i.value=a}return i},e.type="series.sankey",e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(_e["b"]),Md=Ad;function Td(t,e){t.eachSeriesByType("sankey",(function(t){var n=t.get("nodeWidth"),i=t.get("nodeGap"),r=kd(t,e);t.layoutInfo=r;var a=r.width,o=r.height,s=t.getGraph(),l=s.nodes,c=s.edges;jd(l);var u=V["filter"](l,(function(t){return 0===t.getLayout().value})),h=0!==u.length?0:t.get("layoutIterations"),d=t.get("orient"),p=t.get("nodeAlign");Ld(l,c,n,i,a,o,h,d,p)}))}function kd(t,e){return Oa["g"](t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Ld(t,e,n,i,r,a,o,s,l){Id(t,e,n,r,a,s,l),Fd(t,e,a,r,i,o,s),Qd(t,s)}function jd(t){V["each"](t,(function(t){var e=qd(t.outEdges,Xd),n=qd(t.inEdges,Xd),i=t.getValue()||0,r=Math.max(e,n,i);t.setLayout({value:r},!0)}))}function Id(t,e,n,i,r,a,o){for(var s=[],l=[],c=[],u=[],h=0,d=0;d<e.length;d++)s[d]=1;for(d=0;d<t.length;d++)l[d]=t[d].inEdges.length,0===l[d]&&c.push(t[d]);var p=-1;while(c.length){for(var f=0;f<c.length;f++){var g=c[f],m=g.hostGraph.data.getRawDataItem(g.dataIndex),v=null!=m.depth&&m.depth>=0;v&&m.depth>p&&(p=m.depth),g.setLayout({depth:v?m.depth:h},!0),"vertical"===a?g.setLayout({dy:n},!0):g.setLayout({dx:n},!0);for(var y=0;y<g.outEdges.length;y++){var b=g.outEdges[y],x=e.indexOf(b);s[x]=0;var _=b.node2,w=t.indexOf(_);0===--l[w]&&u.indexOf(_)<0&&u.push(_)}}++h,c=u,u=[]}for(d=0;d<s.length;d++)if(1===s[d])throw new Error("Sankey is a DAG, the original data has cycle!");var S=p>h-1?p:h-1;o&&"left"!==o&&Pd(t,o,a,S);var O="vertical"===a?(r-n)/S:(i-n)/S;Dd(t,O,a)}function Ed(t){var e=t.hostGraph.data.getRawDataItem(t.dataIndex);return null!=e.depth&&e.depth>=0}function Pd(t,e,n,i){if("right"===e){var r=[],a=t,o=0;while(a.length){for(var s=0;s<a.length;s++){var l=a[s];l.setLayout({skNodeHeight:o},!0);for(var c=0;c<l.inEdges.length;c++){var u=l.inEdges[c];r.indexOf(u.node1)<0&&r.push(u.node1)}}a=r,r=[],++o}V["each"](t,(function(t){Ed(t)||t.setLayout({depth:Math.max(0,i-t.getLayout().skNodeHeight)},!0)}))}else"justify"===e&&Rd(t,i)}function Rd(t,e){V["each"](t,(function(t){Ed(t)||t.outEdges.length||t.setLayout({depth:e},!0)}))}function Dd(t,e,n){V["each"](t,(function(t){var i=t.getLayout().depth*e;"vertical"===n?t.setLayout({y:i},!0):t.setLayout({x:i},!0)}))}function Fd(t,e,n,i,r,a,o){var s=Nd(t,o);Bd(s,e,n,i,r,o),Vd(s,r,n,i,o);for(var l=1;a>0;a--)l*=.99,Gd(s,l,o),Vd(s,r,n,i,o),Zd(s,l,o),Vd(s,r,n,i,o)}function Nd(t,e){var n=[],i="vertical"===e?"y":"x",r=Object(Ur["j"])(t,(function(t){return t.getLayout()[i]}));return r.keys.sort((function(t,e){return t-e})),V["each"](r.keys,(function(t){n.push(r.buckets.get(t))})),n}function Bd(t,e,n,i,r,a){var o=1/0;V["each"](t,(function(t){var e=t.length,s=0;V["each"](t,(function(t){s+=t.getLayout().value}));var l="vertical"===a?(i-(e-1)*r)/s:(n-(e-1)*r)/s;l<o&&(o=l)})),V["each"](t,(function(t){V["each"](t,(function(t,e){var n=t.getLayout().value*o;"vertical"===a?(t.setLayout({x:e},!0),t.setLayout({dx:n},!0)):(t.setLayout({y:e},!0),t.setLayout({dy:n},!0))}))})),V["each"](e,(function(t){var e=+t.getValue()*o;t.setLayout({dy:e},!0)}))}function Vd(t,e,n,i,r){var a="vertical"===r?"x":"y";V["each"](t,(function(t){var o,s,l;t.sort((function(t,e){return t.getLayout()[a]-e.getLayout()[a]}));for(var c=0,u=t.length,h="vertical"===r?"dx":"dy",d=0;d<u;d++)s=t[d],l=c-s.getLayout()[a],l>0&&(o=s.getLayout()[a]+l,"vertical"===r?s.setLayout({x:o},!0):s.setLayout({y:o},!0)),c=s.getLayout()[a]+s.getLayout()[h]+e;var p="vertical"===r?i:n;if(l=c-e-p,l>0){o=s.getLayout()[a]-l,"vertical"===r?s.setLayout({x:o},!0):s.setLayout({y:o},!0),c=o;for(d=u-2;d>=0;--d)s=t[d],l=s.getLayout()[a]+s.getLayout()[h]+e-c,l>0&&(o=s.getLayout()[a]-l,"vertical"===r?s.setLayout({x:o},!0):s.setLayout({y:o},!0)),c=s.getLayout()[a]}}))}function Gd(t,e,n){V["each"](t.slice().reverse(),(function(t){V["each"](t,(function(t){if(t.outEdges.length){var i=qd(t.outEdges,zd,n)/qd(t.outEdges,Xd);if(isNaN(i)){var r=t.outEdges.length;i=r?qd(t.outEdges,Ud,n)/r:0}if("vertical"===n){var a=t.getLayout().x+(i-Yd(t,n))*e;t.setLayout({x:a},!0)}else{var o=t.getLayout().y+(i-Yd(t,n))*e;t.setLayout({y:o},!0)}}}))}))}function zd(t,e){return Yd(t.node2,e)*t.getValue()}function Ud(t,e){return Yd(t.node2,e)}function Hd(t,e){return Yd(t.node1,e)*t.getValue()}function Wd(t,e){return Yd(t.node1,e)}function Yd(t,e){return"vertical"===e?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function Xd(t){return t.getValue()}function qd(t,e,n){var i=0,r=t.length,a=-1;while(++a<r){var o=+e(t[a],n);isNaN(o)||(i+=o)}return i}function Zd(t,e,n){V["each"](t,(function(t){V["each"](t,(function(t){if(t.inEdges.length){var i=qd(t.inEdges,Hd,n)/qd(t.inEdges,Xd);if(isNaN(i)){var r=t.inEdges.length;i=r?qd(t.inEdges,Wd,n)/r:0}if("vertical"===n){var a=t.getLayout().x+(i-Yd(t,n))*e;t.setLayout({x:a},!0)}else{var o=t.getLayout().y+(i-Yd(t,n))*e;t.setLayout({y:o},!0)}}}))}))}function Qd(t,e){var n="vertical"===e?"x":"y";V["each"](t,(function(t){t.outEdges.sort((function(t,e){return t.node2.getLayout()[n]-e.node2.getLayout()[n]})),t.inEdges.sort((function(t,e){return t.node1.getLayout()[n]-e.node1.getLayout()[n]}))})),V["each"](t,(function(t){var e=0,n=0;V["each"](t.outEdges,(function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy})),V["each"](t.inEdges,(function(t){t.setLayout({ty:n},!0),n+=t.getLayout().dy}))}))}function Jd(t){t.eachSeriesByType("sankey",(function(t){var e=t.getGraph(),n=e.nodes,i=e.edges;if(n.length){var r=1/0,a=-1/0;V["each"](n,(function(t){var e=t.getLayout().value;e<r&&(r=e),e>a&&(a=e)})),V["each"](n,(function(e){var n=new Ws({type:"color",mappingMethod:"linear",dataExtent:[r,a],visual:t.get("color")}),i=n.mapValueToVisual(e.getLayout().value),o=e.getModel().get(["itemStyle","color"]);null!=o?(e.setVisual("color",o),e.setVisual("style",{fill:o})):(e.setVisual("color",i),e.setVisual("style",{fill:i}))}))}i.length&&V["each"](i,(function(t){var e=t.getModel().get("lineStyle");t.setVisual("style",e)}))}))}function Kd(t){t.registerChartView(Cd),t.registerSeriesModel(Md),t.registerLayout(Td),t.registerVisual(Jd),t.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},(function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])}))}))}var $d=n("2f45"),tp=function(){function t(){}return t.prototype.getInitialData=function(t,e){var n,i,r=e.getComponent("xAxis",this.get("xAxisIndex")),a=e.getComponent("yAxis",this.get("yAxisIndex")),o=r.get("type"),s=a.get("type");"category"===o?(t.layout="horizontal",n=r.getOrdinalMeta(),i=!0):"category"===s?(t.layout="vertical",n=a.getOrdinalMeta(),i=!0):t.layout=t.layout||"horizontal";var l=["x","y"],c="horizontal"===t.layout?0:1,u=this._baseAxisDim=l[c],h=l[1-c],d=[r,a],p=d[c].get("type"),f=d[1-c].get("type"),g=t.data;if(g&&i){var m=[];V["each"](g,(function(t,e){var n;V["isArray"](t)?(n=t.slice(),t.unshift(e)):V["isArray"](t.value)?(n=V["extend"]({},t),n.value=n.value.slice(),t.value.unshift(e)):n=t,m.push(n)})),t.data=m}var v=this.defaultValueDimensions,y=[{name:u,type:Object($d["a"])(p),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:Object($d["a"])(f),dimsDef:v.slice()}];return Object(Xn["a"])(this,{coordDimensions:y,dimensionsCount:v.length+1,encodeDefaulter:V["curry"](sa["c"],y,this)})},t.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},t}(),ep=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return Object(xe["a"])(e,t),e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(_e["b"]);Object(V["mixin"])(ep,tp,!0);var np=ep,ip=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),r=this.group,a=this._data;this._data||r.removeAll();var o="horizontal"===t.get("layout")?1:0;i.diff(a).add((function(t){if(i.hasValue(t)){var e=i.getItemLayout(t),n=op(e,i,t,o,!0);i.setItemGraphicEl(t,n),r.add(n)}})).update((function(t,e){var n=a.getItemGraphicEl(e);if(i.hasValue(t)){var s=i.getItemLayout(t);n?(Object(Le["g"])(n),sp(s,n,i,t)):n=op(s,i,t,o),r.add(n),i.setItemGraphicEl(t,n)}else r.remove(n)})).remove((function(t){var e=a.getItemGraphicEl(t);e&&r.remove(e)})).execute(),this._data=i},e.prototype.remove=function(t){var e=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl((function(t){t&&e.remove(t)}))},e.type="boxplot",e}(Ge["a"]),rp=function(){function t(){}return t}(),ap=function(t){function e(e){var n=t.call(this,e)||this;return n.type="boxplotBoxPath",n}return Object(xe["a"])(e,t),e.prototype.getDefaultShape=function(){return new rp},e.prototype.buildPath=function(t,e){var n=e.points,i=0;for(t.moveTo(n[i][0],n[i][1]),i++;i<4;i++)t.lineTo(n[i][0],n[i][1]);for(t.closePath();i<n.length;i++)t.moveTo(n[i][0],n[i][1]),i++,t.lineTo(n[i][0],n[i][1])},e}(T["b"]);function op(t,e,n,i,r){var a=t.ends,o=new ap({shape:{points:r?lp(a,i,t):a}});return sp(t,o,e,n,r),o}function sp(t,e,n,i,r){var a=n.hostModel,o=ke[r?"initProps":"updateProps"];o(e,{shape:{points:t.ends}},a,i),e.useStyle(n.getItemVisual(i,"style")),e.style.strokeNoScale=!0,e.z2=100;var s=n.getItemModel(i),l=s.getModel("emphasis");Object(Pe["I"])(e,s),Object(Pe["J"])(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function lp(t,e,n){return V["map"](t,(function(t){return t=t.slice(),t[e]=n.initBaseline,t}))}var cp=ip,up=V["each"];function hp(t){var e=dp(t);up(e,(function(t){var e=t.seriesModels;e.length&&(pp(t),up(e,(function(e,n){fp(e,t.boxOffsetList[n],t.boxWidthList[n])})))}))}function dp(t){var e=[],n=[];return t.eachSeriesByType("boxplot",(function(t){var i=t.getBaseAxis(),r=V["indexOf"](n,i);r<0&&(r=n.length,n[r]=i,e[r]={axis:i,seriesModels:[]}),e[r].seriesModels.push(t)})),e}function pp(t){var e,n=t.axis,i=t.seriesModels,r=i.length,a=t.boxWidthList=[],o=t.boxOffsetList=[],s=[];if("category"===n.type)e=n.getBandWidth();else{var l=0;up(i,(function(t){l=Math.max(l,t.getData().count())}));var c=n.getExtent();e=Math.abs(c[1]-c[0])/l}up(i,(function(t){var n=t.get("boxWidth");V["isArray"](n)||(n=[n,n]),s.push([Object(vi["q"])(n[0],e)||0,Object(vi["q"])(n[1],e)||0])}));var u=.8*e-2,h=u/r*.3,d=(u-h*(r-1))/r,p=d/2-u/2;up(i,(function(t,e){o.push(p),p+=h+d,a.push(Math.min(Math.max(d,s[e][0]),s[e][1]))}))}function fp(t,e,n){var i=t.coordinateSystem,r=t.getData(),a=n/2,o="horizontal"===t.get("layout")?0:1,s=1-o,l=["x","y"],c=r.mapDimension(l[o]),u=r.mapDimensionsAll(l[s]);if(!(null==c||u.length<5))for(var h=0;h<r.count();h++){var d=r.get(c,h),p=b(d,u[2],h),f=b(d,u[0],h),g=b(d,u[1],h),m=b(d,u[3],h),v=b(d,u[4],h),y=[];x(y,g,!1),x(y,m,!0),y.push(f,g,v,m),_(y,f),_(y,v),_(y,p),r.setItemLayout(h,{initBaseline:p[s],ends:y})}function b(t,n,a){var l,c=r.get(n,a),u=[];return u[o]=t,u[s]=c,isNaN(t)||isNaN(c)?l=[NaN,NaN]:(l=i.dataToPoint(u),l[o]+=e),l}function x(t,e,n){var i=e.slice(),r=e.slice();i[o]+=a,r[o]-=a,n?t.push(i,r):t.push(r,i)}function _(t,e){var n=e.slice(),i=e.slice();n[o]-=a,i[o]+=a,t.push(n,i)}}function gp(t,e){e=e||{};for(var n=[],i=[],r=e.boundIQR,a="none"===r||0===r,o=0;o<t.length;o++){var s=Object(vi["c"])(t[o].slice()),l=Object(vi["r"])(s,.25),c=Object(vi["r"])(s,.5),u=Object(vi["r"])(s,.75),h=s[0],d=s[s.length-1],p=(null==r?1.5:r)*(u-l),f=a?h:Math.max(h,l-p),g=a?d:Math.min(d,u+p),m=e.itemNameFormatter,v=Object(V["isFunction"])(m)?m({value:o}):Object(V["isString"])(m)?m.replace("{value}",o+""):o+"";n.push([v,f,l,c,u,g]);for(var y=0;y<s.length;y++){var b=s[y];if(b<f||b>g){var x=[v,b];i.push(x)}}}return{boxData:n,outliers:i}}var mp=n("07fd"),vp={type:"echarts:boxplot",transform:function(t){var e=t.upstream;if(e.sourceFormat!==mp["c"]){var n="";0,Object(Ms["c"])(n)}var i=gp(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function yp(t){t.registerSeriesModel(np),t.registerChartView(cp),t.registerLayout(hp),t.registerTransform(vp)}var bp=["color","borderColor"],xp=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,e,n){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,e,n,i){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},e.prototype.eachRendered=function(t){ke["traverseElements"](this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t){var e=t.getData(),n=this._data,i=this.group,r=e.getLayout("isSimpleBox"),a=t.get("clip",!0),o=t.coordinateSystem,s=o.getArea&&o.getArea();this._data||i.removeAll(),e.diff(n).add((function(n){if(e.hasValue(n)){var o=e.getItemLayout(n);if(a&&Op(s,o))return;var l=Sp(o,n,!0);Le["c"](l,{shape:{points:o.ends}},t,n),Cp(l,e,n,r),i.add(l),e.setItemGraphicEl(n,l)}})).update((function(o,l){var c=n.getItemGraphicEl(l);if(e.hasValue(o)){var u=e.getItemLayout(o);a&&Op(s,u)?i.remove(c):(c?(Le["h"](c,{shape:{points:u.ends}},t,o),Object(Le["g"])(c)):c=Sp(u,o),Cp(c,e,o,r),i.add(c),e.setItemGraphicEl(o,c))}else i.remove(c)})).remove((function(t){var e=n.getItemGraphicEl(t);e&&i.remove(e)})).execute(),this._data=e},e.prototype._renderLarge=function(t){this._clear(),kp(t,this.group);var e=t.get("clip",!0)?Object(Fe["a"])(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,e){var n,i=e.getData(),r=i.getLayout("isSimpleBox");while(null!=(n=t.next())){var a=i.getItemLayout(n),o=Sp(a,n);Cp(o,i,n,r),o.incremental=!0,this.group.add(o),this._progressiveEls.push(o)}},e.prototype._incrementalRenderLarge=function(t,e){kp(e,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(Ge["a"]),_p=function(){function t(){}return t}(),wp=function(t){function e(e){var n=t.call(this,e)||this;return n.type="normalCandlestickBox",n}return Object(xe["a"])(e,t),e.prototype.getDefaultShape=function(){return new _p},e.prototype.buildPath=function(t,e){var n=e.points;this.__simpleBox?(t.moveTo(n[4][0],n[4][1]),t.lineTo(n[6][0],n[6][1])):(t.moveTo(n[0][0],n[0][1]),t.lineTo(n[1][0],n[1][1]),t.lineTo(n[2][0],n[2][1]),t.lineTo(n[3][0],n[3][1]),t.closePath(),t.moveTo(n[4][0],n[4][1]),t.lineTo(n[5][0],n[5][1]),t.moveTo(n[6][0],n[6][1]),t.lineTo(n[7][0],n[7][1]))},e}(T["b"]);function Sp(t,e,n){var i=t.ends;return new wp({shape:{points:n?Ap(i,t):i},z2:100})}function Op(t,e){for(var n=!0,i=0;i<e.ends.length;i++)if(t.contain(e.ends[i][0],e.ends[i][1])){n=!1;break}return n}function Cp(t,e,n,i){var r=e.getItemModel(n);t.useStyle(e.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.__simpleBox=i,Object(Pe["I"])(t,r)}function Ap(t,e){return V["map"](t,(function(t){return t=t.slice(),t[1]=e.initBaseline,t}))}var Mp=function(){function t(){}return t}(),Tp=function(t){function e(e){var n=t.call(this,e)||this;return n.type="largeCandlestickBox",n}return Object(xe["a"])(e,t),e.prototype.getDefaultShape=function(){return new Mp},e.prototype.buildPath=function(t,e){for(var n=e.points,i=0;i<n.length;)if(this.__sign===n[i++]){var r=n[i++];t.moveTo(r,n[i++]),t.lineTo(r,n[i++])}else i+=3},e}(T["b"]);function kp(t,e,n,i){var r=t.getData(),a=r.getLayout("largePoints"),o=new Tp({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});e.add(o);var s=new Tp({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});e.add(s);var l=new Tp({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});e.add(l),Lp(1,o,t,r),Lp(-1,s,t,r),Lp(0,l,t,r),i&&(o.incremental=!0,s.incremental=!0),n&&n.push(o,s)}function Lp(t,e,n,i){var r=n.get(["itemStyle",t>0?"borderColor":"borderColor0"])||n.get(["itemStyle",t>0?"color":"color0"]);0===t&&(r=n.get(["itemStyle","borderColorDoji"]));var a=n.getModel("itemStyle").getItemStyle(bp);e.useStyle(a),e.style.fill=null,e.style.stroke=r}var jp=xp,Ip=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return Object(xe["a"])(e,t),e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,e,n){var i=e.getItemLayout(t);return i&&n.rect(i.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(_e["b"]);Object(V["mixin"])(Ip,tp,!0);var Ep=Ip;function Pp(t){t&&V["isArray"](t.series)&&V["each"](t.series,(function(t){V["isObject"](t)&&"k"===t.type&&(t.type="candlestick")}))}var Rp=n("cccd"),Dp=["itemStyle","borderColor"],Fp=["itemStyle","borderColor0"],Np=["itemStyle","borderColorDoji"],Bp=["itemStyle","color"],Vp=["itemStyle","color0"],Gp={seriesType:"candlestick",plan:Object(Rp["a"])(),performRawSeries:!0,reset:function(t,e){function n(t,e){return e.get(t>0?Bp:Vp)}function i(t,e){return e.get(0===t?Np:t>0?Dp:Fp)}if(!e.isSeriesFiltered(t)){var r=t.pipelineContext.large;return!r&&{progress:function(t,e){var r;while(null!=(r=t.next())){var a=e.getItemModel(r),o=e.getItemLayout(r).sign,s=a.getItemStyle();s.fill=n(o,a),s.stroke=i(o,a)||s.fill;var l=e.ensureUniqueItemVisual(r,"style");Object(V["extend"])(l,s)}}}}}},zp=Gp,Up=n("f658"),Hp={seriesType:"candlestick",plan:Object(Rp["a"])(),reset:function(t){var e=t.coordinateSystem,n=t.getData(),i=Yp(t,n),r=0,a=1,o=["x","y"],s=n.getDimensionIndex(n.mapDimension(o[r])),l=Object(V["map"])(n.mapDimensionsAll(o[a]),n.getDimensionIndex,n),c=l[0],u=l[1],h=l[2],d=l[3];if(n.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),!(s<0||l.length<4))return{progress:t.pipelineContext.large?f:p};function p(t,n){var o,l=n.getStore();while(null!=(o=t.next())){var p=l.get(s,o),f=l.get(c,o),g=l.get(u,o),m=l.get(h,o),v=l.get(d,o),y=Math.min(f,g),b=Math.max(f,g),x=M(y,p),_=M(b,p),w=M(m,p),S=M(v,p),O=[];T(O,_,0),T(O,x,1),O.push(L(S),L(_),L(w),L(x));var C=n.getItemModel(o),A=!!C.get(["itemStyle","borderColorDoji"]);n.setItemLayout(o,{sign:Wp(l,o,f,g,u,A),initBaseline:f>g?_[a]:x[a],ends:O,brushRect:k(m,v,p)})}function M(t,n){var i=[];return i[r]=n,i[a]=t,isNaN(n)||isNaN(t)?[NaN,NaN]:e.dataToPoint(i)}function T(t,e,n){var a=e.slice(),o=e.slice();a[r]=Object(ke["subPixelOptimize"])(a[r]+i/2,1,!1),o[r]=Object(ke["subPixelOptimize"])(o[r]-i/2,1,!0),n?t.push(a,o):t.push(o,a)}function k(t,e,n){var o=M(t,n),s=M(e,n);return o[r]-=i/2,s[r]-=i/2,{x:o[0],y:o[1],width:a?i:s[0]-o[0],height:a?s[1]-o[1]:i}}function L(t){return t[r]=Object(ke["subPixelOptimize"])(t[r],1),t}}function f(n,i){var o,l,p=Object(Up["a"])(4*n.count),f=0,g=[],m=[],v=i.getStore(),y=!!t.get(["itemStyle","borderColorDoji"]);while(null!=(l=n.next())){var b=v.get(s,l),x=v.get(c,l),_=v.get(u,l),w=v.get(h,l),S=v.get(d,l);isNaN(b)||isNaN(w)||isNaN(S)?(p[f++]=NaN,f+=3):(p[f++]=Wp(v,l,x,_,u,y),g[r]=b,g[a]=w,o=e.dataToPoint(g,null,m),p[f++]=o?o[0]:NaN,p[f++]=o?o[1]:NaN,g[a]=S,o=e.dataToPoint(g,null,m),p[f++]=o?o[1]:NaN)}i.setLayout("largePoints",p)}}};function Wp(t,e,n,i,r,a){var o;return o=n>i?-1:n<i?1:a?0:e>0?t.get(r,e-1)<=i?1:-1:1,o}function Yp(t,e){var n,i=t.getBaseAxis(),r="category"===i.type?i.getBandWidth():(n=i.getExtent(),Math.abs(n[1]-n[0])/e.count()),a=Object(vi["q"])(Object(V["retrieve2"])(t.get("barMaxWidth"),r),r),o=Object(vi["q"])(Object(V["retrieve2"])(t.get("barMinWidth"),1),r),s=t.get("barWidth");return null!=s?Object(vi["q"])(s,r):Math.max(Math.min(r/2,a),o)}var Xp=Hp;function qp(t){t.registerChartView(jp),t.registerSeriesModel(Ep),t.registerPreprocessor(Pp),t.registerVisual(zp),t.registerLayout(Xp)}function Zp(t,e){var n=e.rippleEffectColor||e.color;t.eachChild((function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?n:null,fill:"fill"===e.brushType?n:null}})}))}var Qp=function(t){function e(e,n){var i=t.call(this)||this,r=new Ga["a"](e,n),a=new Te["a"];return i.add(r),i.add(a),i.updateData(e,n),i}return Object(xe["a"])(e,t),e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var e=t.symbolType,n=t.color,i=t.rippleNumber,r=this.childAt(1),a=0;a<i;a++){var o=Object(Mn["a"])(e,-1,-1,2,2,n);o.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var s=-a/i*t.period+t.effectOffset;o.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(s).start(),o.animateStyle(!0).when(t.period,{opacity:0}).delay(s).start(),r.add(o)}Zp(r,t)},e.prototype.updateEffectAnimation=function(t){for(var e=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale","rippleNumber"],r=0;r<i.length;r++){var a=i[r];if(e[a]!==t[a])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}Zp(n,t)},e.prototype.highlight=function(){Object(Pe["r"])(this)},e.prototype.downplay=function(){Object(Pe["C"])(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,e){var n=this,i=t.hostModel;this.childAt(0).updateData(t,e);var r=this.childAt(1),a=t.getItemModel(e),o=t.getItemVisual(e,"symbol"),s=Object(Mn["c"])(t.getItemVisual(e,"symbolSize")),l=t.getItemVisual(e,"style"),c=l&&l.fill,u=a.getModel("emphasis");r.setScale(s),r.traverse((function(t){t.setStyle("fill",c)}));var h=Object(Mn["b"])(t.getItemVisual(e,"symbolOffset"),s);h&&(r.x=h[0],r.y=h[1]);var d=t.getItemVisual(e,"symbolRotate");r.rotation=(d||0)*Math.PI/180||0;var p={};p.showEffectOn=i.get("showEffectOn"),p.rippleScale=a.get(["rippleEffect","scale"]),p.brushType=a.get(["rippleEffect","brushType"]),p.period=1e3*a.get(["rippleEffect","period"]),p.effectOffset=e/t.count(),p.z=i.getShallow("z")||0,p.zlevel=i.getShallow("zlevel")||0,p.symbolType=o,p.color=c,p.rippleEffectColor=a.get(["rippleEffect","color"]),p.rippleNumber=a.get(["rippleEffect","number"]),"render"===p.showEffectOn?(this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(t){"emphasis"===t?"render"!==p.showEffectOn&&n.startEffectAnimation(p):"normal"===t&&"render"!==p.showEffectOn&&n.stopEffectAnimation()}),this._effectCfg=p,Object(Pe["J"])(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e}(Te["a"]),Jp=Qp,Kp=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.init=function(){this._symbolDraw=new Cn["a"](Jp)},e.prototype.render=function(t,e,n){var i=t.getData(),r=this._symbolDraw;r.updateData(i,{clipShape:this._getClipShape(t)}),this.group.add(r.group)},e.prototype._getClipShape=function(t){var e=t.coordinateSystem,n=e&&e.getArea&&e.getArea();return t.get("clip",!0)?n:null},e.prototype.updateTransform=function(t,e,n){var i=t.getData();this.group.dirty();var r=Object(En["a"])("").reset(t,e,n);r.progress&&r.progress({start:0,end:i.count(),count:i.count()},i),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var e=t.coordinateSystem;e&&e.getRoamTransform&&(this.group.transform=Ui["clone"](e.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e}(Ge["a"]),$p=Kp,tf=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return Object(xe["a"])(e,t),e.prototype.getInitialData=function(t,e){return Object(we["a"])(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,e,n){return n.point(e.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e}(_e["b"]),ef=tf;function nf(t){t.registerChartView($p),t.registerSeriesModel(ef),t.registerLayout(Object(En["a"])("effectScatter"))}var rf=function(t){function e(e,n,i){var r=t.call(this)||this;return r.add(r.createLine(e,n,i)),r._updateEffectSymbol(e,n),r}return Object(xe["a"])(e,t),e.prototype.createLine=function(t,e,n){return new pc(t,e,n)},e.prototype._updateEffectSymbol=function(t,e){var n=t.getItemModel(e),i=n.getModel("effect"),r=i.get("symbolSize"),a=i.get("symbol");V["isArray"](r)||(r=[r,r]);var o=t.getItemVisual(e,"style"),s=i.get("color")||o&&o.stroke,l=this.childAt(1);this._symbolType!==a&&(this.remove(l),l=Object(Mn["a"])(a,-.5,-.5,1,1,s),l.z2=100,l.culling=!0,this.add(l)),l&&(l.setStyle("shadowColor",s),l.setStyle(i.getItemStyle(["color"])),l.scaleX=r[0],l.scaleY=r[1],l.setColor(s),this._symbolType=a,this._symbolScale=r,this._updateEffectAnimation(t,i,e))},e.prototype._updateEffectAnimation=function(t,e,n){var i=this.childAt(1);if(i){var r=t.getItemLayout(n),a=1e3*e.get("period"),o=e.get("loop"),s=e.get("roundTrip"),l=e.get("constantSpeed"),c=V["retrieve"](e.get("delay"),(function(e){return e/t.count()*a/3}));if(i.ignore=!0,this._updateAnimationPoints(i,r),l>0&&(a=this._getLineLength(i)/l*1e3),a!==this._period||o!==this._loop||s!==this._roundTrip){i.stopAnimation();var u=void 0;u=V["isFunction"](c)?c(n):c,i.__t>0&&(u=-a*i.__t),this._animateSymbol(i,a,u,o,s)}this._period=a,this._loop=o,this._roundTrip=s}},e.prototype._animateSymbol=function(t,e,n,i,r){if(e>0){t.__t=0;var a=this,o=t.animate("",i).when(r?2*e:e,{__t:r?2:1}).delay(n).during((function(){a._updateSymbolPosition(t)}));i||o.done((function(){a.remove(t)})),o.start()}},e.prototype._getLineLength=function(t){return fa["dist"](t.__p1,t.__cp1)+fa["dist"](t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},e.prototype.updateData=function(t,e,n){this.childAt(0).updateData(t,e,n),this._updateEffectSymbol(t,e)},e.prototype._updateSymbolPosition=function(t){var e=t.__p1,n=t.__p2,i=t.__cp1,r=t.__t<1?t.__t:2-t.__t,a=[t.x,t.y],o=a.slice(),s=xc["h"],l=xc["i"];a[0]=s(e[0],i[0],n[0],r),a[1]=s(e[1],i[1],n[1],r);var c=t.__t<1?l(e[0],i[0],n[0],r):l(n[0],i[0],e[0],1-r),u=t.__t<1?l(e[1],i[1],n[1],r):l(n[1],i[1],e[1],1-r);t.rotation=-Math.atan2(u,c)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==t.__lastT&&t.__lastT<t.__t?(t.scaleY=1.05*fa["dist"](o,a),1===r&&(a[0]=o[0]+(a[0]-o[0])/2,a[1]=o[1]+(a[1]-o[1])/2)):1===t.__lastT?t.scaleY=2*fa["dist"](e,a):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=a[0],t.y=a[1]},e.prototype.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var n=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,n,e)},e}(Te["a"]),af=rf,of=function(t){function e(e,n,i){var r=t.call(this)||this;return r._createPolyline(e,n,i),r}return Object(xe["a"])(e,t),e.prototype._createPolyline=function(t,e,n){var i=t.getItemLayout(e),r=new Hn["a"]({shape:{points:i}});this.add(r),this._updateCommonStl(t,e,n)},e.prototype.updateData=function(t,e,n){var i=t.hostModel,r=this.childAt(0),a={shape:{points:t.getItemLayout(e)}};Le["h"](r,a,i,e),this._updateCommonStl(t,e,n)},e.prototype._updateCommonStl=function(t,e,n){var i=this.childAt(0),r=t.getItemModel(e),a=n&&n.emphasisLineStyle,o=n&&n.focus,s=n&&n.blurScope,l=n&&n.emphasisDisabled;if(!n||t.hasItemOption){var c=r.getModel("emphasis");a=c.getModel("lineStyle").getLineStyle(),l=c.get("disabled"),o=c.get("focus"),s=c.get("blurScope")}i.useStyle(t.getItemVisual(e,"style")),i.style.fill=null,i.style.strokeNoScale=!0;var u=i.ensureState("emphasis");u.style=a,Object(Pe["J"])(this,o,s,l)},e.prototype.updateLayout=function(t,e){var n=this.childAt(0);n.setShape("points",t.getItemLayout(e))},e}(Te["a"]),sf=of,lf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return Object(xe["a"])(e,t),e.prototype.createLine=function(t,e,n){return new sf(t,e,n)},e.prototype._updateAnimationPoints=function(t,e){this._points=e;for(var n=[0],i=0,r=1;r<e.length;r++){var a=e[r-1],o=e[r];i+=fa["dist"](a,o),n.push(i)}if(0!==i){for(r=0;r<n.length;r++)n[r]/=i;this._offsets=n,this._length=i}else this._length=0},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var e=t.__t<1?t.__t:2-t.__t,n=this._points,i=this._offsets,r=n.length;if(i){var a,o=this._lastFrame;if(e<this._lastFramePercent){var s=Math.min(o+1,r-1);for(a=s;a>=0;a--)if(i[a]<=e)break;a=Math.min(a,r-2)}else{for(a=o;a<r;a++)if(i[a]>e)break;a=Math.min(a-1,r-2)}var l=(e-i[a])/(i[a+1]-i[a]),c=n[a],u=n[a+1];t.x=c[0]*(1-l)+l*u[0],t.y=c[1]*(1-l)+l*u[1];var h=t.__t<1?u[0]-c[0]:c[0]-u[0],d=t.__t<1?u[1]-c[1]:c[1]-u[1];t.rotation=-Math.atan2(d,h)-Math.PI/2,this._lastFrame=a,this._lastFramePercent=e,t.ignore=!1}},e}(af),cf=lf,uf=n("9680"),hf=n("68ab"),df=function(){function t(){this.polyline=!1,this.curveness=0,this.segs=[]}return t}(),pf=function(t){function e(e){var n=t.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return Object(xe["a"])(e,t),e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new df},e.prototype.buildPath=function(t,e){var n,i=e.segs,r=e.curveness;if(e.polyline)for(n=this._off;n<i.length;){var a=i[n++];if(a>0){t.moveTo(i[n++],i[n++]);for(var o=1;o<a;o++)t.lineTo(i[n++],i[n++])}}else for(n=this._off;n<i.length;){var s=i[n++],l=i[n++],c=i[n++],u=i[n++];if(t.moveTo(s,l),r>0){var h=(s+c)/2-(l-u)*r,d=(l+u)/2-(c-s)*r;t.quadraticCurveTo(h,d,c,u)}else t.lineTo(c,u)}this.incremental&&(this._off=n,this.notClear=!0)},e.prototype.findDataIndex=function(t,e){var n=this.shape,i=n.segs,r=n.curveness,a=this.style.lineWidth;if(n.polyline)for(var o=0,s=0;s<i.length;){var l=i[s++];if(l>0)for(var c=i[s++],u=i[s++],h=1;h<l;h++){var d=i[s++],p=i[s++];if(uf["a"](c,u,d,p,a,t,e))return o}o++}else for(o=0,s=0;s<i.length;){c=i[s++],u=i[s++],d=i[s++],p=i[s++];if(r>0){var f=(c+d)/2-(u-p)*r,g=(u+p)/2-(d-c)*r;if(hf["a"](c,u,f,g,d,p,a,t,e))return o}else if(uf["a"](c,u,d,p,a,t,e))return o;o++}return-1},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect();if(t=n[0],e=n[1],i.contain(t,e)){var r=this.hoverDataIdx=this.findDataIndex(t,e);return r>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var e=this.shape,n=e.segs,i=1/0,r=1/0,a=-1/0,o=-1/0,s=0;s<n.length;){var l=n[s++],c=n[s++];i=Math.min(l,i),a=Math.max(l,a),r=Math.min(c,r),o=Math.max(c,o)}t=this._rect=new An["a"](i,r,a,o)}return t},e}(T["b"]),ff=function(){function t(){this.group=new Te["a"]}return t.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},t.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},t.prototype.incrementalUpdate=function(t,e){var n=this._newAdded[0],i=e.getLayout("linesPoints"),r=n&&n.shape.segs;if(r&&r.length<2e4){var a=r.length,o=new Float32Array(a+i.length);o.set(r),o.set(i,a),n.setShape({segs:o})}else{this._newAdded=[];var s=this._create();s.incremental=!0,s.setShape({segs:i}),this._setCommon(s,e),s.__startIndex=t.start}},t.prototype.remove=function(){this._clear()},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new pf({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},t.prototype._setCommon=function(t,e,n){var i=e.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var r=e.getVisual("style");r&&r.stroke&&t.setStyle("stroke",r.stroke),t.setStyle("fill",null);var a=Object(Ee["a"])(t);a.seriesIndex=i.seriesIndex,t.on("mousemove",(function(e){a.dataIndex=null;var n=t.hoverDataIdx;n>0&&(a.dataIndex=n+t.__startIndex)}))},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),gf=ff,mf={seriesType:"lines",plan:Object(Rp["a"])(),reset:function(t){var e=t.coordinateSystem;if(e){var n=t.get("polyline"),i=t.pipelineContext.large;return{progress:function(r,a){var o=[];if(i){var s=void 0,l=r.end-r.start;if(n){for(var c=0,u=r.start;u<r.end;u++)c+=t.getLineCoordsCount(u);s=new Float32Array(l+2*c)}else s=new Float32Array(4*l);var h=0,d=[];for(u=r.start;u<r.end;u++){var p=t.getLineCoords(u,o);n&&(s[h++]=p);for(var f=0;f<p;f++)d=e.dataToPoint(o[f],!1,d),s[h++]=d[0],s[h++]=d[1]}a.setLayout("linesPoints",s)}else for(u=r.start;u<r.end;u++){var g=a.getItemModel(u),m=(p=t.getLineCoords(u,o),[]);if(n)for(var v=0;v<p;v++)m.push(e.dataToPoint(o[v]));else{m[0]=e.dataToPoint(o[0]),m[1]=e.dataToPoint(o[1]);var y=g.get(["lineStyle","curveness"]);+y&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*y,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*y])}a.setItemLayout(u,m)}}}}}},vf=mf,yf=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),r=this._updateLineDraw(i,t),a=t.get("zlevel"),o=t.get(["effect","trailLength"]),s=n.getZr(),l="svg"===s.painter.getType();l||s.painter.getLayer(a).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&o>0&&(l||s.configLayer(a,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(o/10+.9,1),0)})),r.updateData(i);var c=t.get("clip",!0)&&Object(Fe["a"])(t.coordinateSystem,!1,t);c?this.group.setClipPath(c):this.group.removeClipPath(),this._lastZlevel=a,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,e,n){var i=t.getData(),r=this._updateLineDraw(i,t);r.incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},e.prototype.incrementalRender=function(t,e,n){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,e,n){var i=t.getData(),r=t.pipelineContext;if(!this._finished||r.large||r.progressiveRender)return{update:!0};var a=vf.reset(t,e,n);a.progress&&a.progress({start:0,end:i.count(),count:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},e.prototype._updateLineDraw=function(t,e){var n=this._lineDraw,i=this._showEffect(e),r=!!e.get("polyline"),a=e.pipelineContext,o=a.large;return n&&i===this._hasEffet&&r===this._isPolyline&&o===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=o?new gf:new bc(r?i?cf:sf:i?af:pc),this._hasEffet=i,this._isPolyline=r,this._isLargeDraw=o),this.group.add(n.group),n},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var e=t.getZr(),n="svg"===e.painter.getType();n||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.type="lines",e}(Ge["a"]),bf=yf,xf="undefined"===typeof Uint32Array?Array:Uint32Array,_f="undefined"===typeof Float64Array?Array:Float64Array;function wf(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=Object(V["map"])(e,(function(t){var e=[t[0].coord,t[1].coord],n={coords:e};return t[0].name&&(n.fromName=t[0].name),t[1].name&&(n.toName=t[1].name),Object(V["mergeAll"])([n,t[0],t[1]])})))}var Sf=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return Object(xe["a"])(e,t),e.prototype.init=function(e){e.data=e.data||[],wf(e);var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),t.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(e){if(wf(e),e.data){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count))}t.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=Object(V["concatArray"])(this._flatCoords,e.flatCoords),this._flatCoordsOffset=Object(V["concatArray"])(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var e=this.getData().getItemModel(t),n=e.option instanceof Array?e.option:e.getShallow("coords");return n},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],i=this._flatCoordsOffset[2*t+1],r=0;r<i;r++)e[r]=e[r]||[],e[r][0]=this._flatCoords[n+2*r],e[r][1]=this._flatCoords[n+2*r+1];return i}var a=this._getCoordsFromItemModel(t);for(r=0;r<a.length;r++)e[r]=e[r]||[],e[r][0]=a[r][0],e[r][1]=a[r][1];return a.length},e.prototype._processFlatCoordsArray=function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),Object(V["isNumber"])(t[0])){for(var n=t.length,i=new xf(n),r=new _f(n),a=0,o=0,s=0,l=0;l<n;){s++;var c=t[l++];i[o++]=a+e,i[o++]=c;for(var u=0;u<c;u++){var h=t[l++],d=t[l++];r[a++]=h,r[a++]=d}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,o),flatCoords:r,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,e){var n=new Co["a"](["value"],this);return n.hasItemOption=!1,n.initData(t.data,[],(function(t,e,i,r){if(t instanceof Array)return NaN;n.hasItemOption=!0;var a=t.value;return null!=a?a instanceof Array?a[r]:a:void 0})),n},e.prototype.formatTooltip=function(t,e,n){var i=this.getData(),r=i.getItemModel(t),a=r.get("name");if(a)return a;var o=r.get("fromName"),s=r.get("toName"),l=[];return null!=o&&l.push(o),null!=s&&l.push(s),Object(Zn["c"])("nameValue",{name:l.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),e=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&e>0?e+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(_e["b"]),Of=Sf;function Cf(t){return t instanceof Array||(t=[t,t]),t}var Af={seriesType:"lines",reset:function(t){var e=Cf(t.get("symbol")),n=Cf(t.get("symbolSize")),i=t.getData();function r(t,e){var n=t.getItemModel(e),i=Cf(n.getShallow("symbol",!0)),r=Cf(n.getShallow("symbolSize",!0));i[0]&&t.setItemVisual(e,"fromSymbol",i[0]),i[1]&&t.setItemVisual(e,"toSymbol",i[1]),r[0]&&t.setItemVisual(e,"fromSymbolSize",r[0]),r[1]&&t.setItemVisual(e,"toSymbolSize",r[1])}return i.setVisual("fromSymbol",e&&e[0]),i.setVisual("toSymbol",e&&e[1]),i.setVisual("fromSymbolSize",n&&n[0]),i.setVisual("toSymbolSize",n&&n[1]),{dataEach:i.hasItemOption?r:null}}},Mf=Af;function Tf(t){t.registerChartView(bf),t.registerSeriesModel(Of),t.registerLayout(vf),t.registerVisual(Mf)}var kf=256,Lf=function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=wt["d"].createCanvas();this.canvas=t}return t.prototype.update=function(t,e,n,i,r,a){var o=this._getBrush(),s=this._getGradient(r,"inRange"),l=this._getGradient(r,"outOfRange"),c=this.pointSize+this.blurSize,u=this.canvas,h=u.getContext("2d"),d=t.length;u.width=e,u.height=n;for(var p=0;p<d;++p){var f=t[p],g=f[0],m=f[1],v=f[2],y=i(v);h.globalAlpha=y,h.drawImage(o,g-c,m-c)}if(!u.width||!u.height)return u;var b=h.getImageData(0,0,u.width,u.height),x=b.data,_=0,w=x.length,S=this.minOpacity,O=this.maxOpacity,C=O-S;while(_<w){y=x[_+3]/256;var A=4*Math.floor(y*(kf-1));if(y>0){var M=a(y)?s:l;y>0&&(y=y*C+S),x[_++]=M[A],x[_++]=M[A+1],x[_++]=M[A+2],x[_++]=M[A+3]*y*256}else _+=4}return h.putImageData(b,0,0),u},t.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=wt["d"].createCanvas()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var i=t.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-e,e,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),t},t.prototype._getGradient=function(t,e){for(var n=this._gradientPixels,i=n[e]||(n[e]=new Uint8ClampedArray(1024)),r=[0,0,0,0],a=0,o=0;o<256;o++)t[e](o/255,!0,r),i[a++]=r[0],i[a++]=r[1],i[a++]=r[2],i[a++]=r[3];return i},t}(),jf=Lf;function If(t,e,n){var i=t[1]-t[0];e=V["map"](e,(function(e){return{interval:[(e.interval[0]-t[0])/i,(e.interval[1]-t[0])/i]}}));var r=e.length,a=0;return function(t){var i;for(i=a;i<r;i++){var o=e[i].interval;if(o[0]<=t&&t<=o[1]){a=i;break}}if(i===r)for(i=a-1;i>=0;i--){o=e[i].interval;if(o[0]<=t&&t<=o[1]){a=i;break}}return i>=0&&i<r&&n[i]}}function Ef(t,e){var n=t[1]-t[0];return e=[(e[0]-t[0])/n,(e[1]-t[0])/n],function(t){return t>=e[0]&&t<=e[1]}}function Pf(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}var Rf=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n){var i;e.eachComponent("visualMap",(function(e){e.eachTargetSeries((function(n){n===t&&(i=e)}))})),this._progressiveEls=null,this.group.removeAll();var r=t.coordinateSystem;"cartesian2d"===r.type||"calendar"===r.type?this._renderOnCartesianAndCalendar(t,n,0,t.getData().count()):Pf(r)&&this._renderOnGeo(r,t,i,n)},e.prototype.incrementalPrepareRender=function(t,e,n){this.group.removeAll()},e.prototype.incrementalRender=function(t,e,n,i){var r=e.coordinateSystem;r&&(Pf(r)?this.render(e,n,i):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(e,i,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){ke["traverseElements"](this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,e,n,i,r){var a,o,s,l,c=t.coordinateSystem,u=Object(ze["a"])(c,"cartesian2d");if(u){var h=c.getAxis("x"),d=c.getAxis("y");0,a=h.getBandWidth()+.5,o=d.getBandWidth()+.5,s=h.scale.getExtent(),l=d.scale.getExtent()}for(var p=this.group,f=t.getData(),g=t.getModel(["emphasis","itemStyle"]).getItemStyle(),m=t.getModel(["blur","itemStyle"]).getItemStyle(),v=t.getModel(["select","itemStyle"]).getItemStyle(),y=t.get(["itemStyle","borderRadius"]),b=Object(Re["e"])(t),x=t.getModel("emphasis"),_=x.get("focus"),w=x.get("blurScope"),S=x.get("disabled"),O=u?[f.mapDimension("x"),f.mapDimension("y"),f.mapDimension("value")]:[f.mapDimension("time"),f.mapDimension("value")],C=n;C<i;C++){var A=void 0,M=f.getItemVisual(C,"style");if(u){var T=f.get(O[0],C),k=f.get(O[1],C);if(isNaN(f.get(O[2],C))||isNaN(T)||isNaN(k)||T<s[0]||T>s[1]||k<l[0]||k>l[1])continue;var L=c.dataToPoint([T,k]);A=new je["a"]({shape:{x:L[0]-a/2,y:L[1]-o/2,width:a,height:o},style:M})}else{if(isNaN(f.get(O[1],C)))continue;A=new je["a"]({z2:1,shape:c.dataToRect([f.get(O[0],C)]).contentShape,style:M})}if(f.hasItemOption){var j=f.getItemModel(C),I=j.getModel("emphasis");g=I.getModel("itemStyle").getItemStyle(),m=j.getModel(["blur","itemStyle"]).getItemStyle(),v=j.getModel(["select","itemStyle"]).getItemStyle(),y=j.get(["itemStyle","borderRadius"]),_=I.get("focus"),w=I.get("blurScope"),S=I.get("disabled"),b=Object(Re["e"])(j)}A.shape.r=y;var E=t.getRawValue(C),P="-";E&&null!=E[2]&&(P=E[2]+""),Object(Re["g"])(A,b,{labelFetcher:t,labelDataIndex:C,defaultOpacity:M.opacity,defaultText:P}),A.ensureState("emphasis").style=g,A.ensureState("blur").style=m,A.ensureState("select").style=v,Object(Pe["J"])(A,_,w,S),A.incremental=r,r&&(A.states.emphasis.hoverLayer=!0),p.add(A),f.setItemGraphicEl(C,A),this._progressiveEls&&this._progressiveEls.push(A)}},e.prototype._renderOnGeo=function(t,e,n,i){var r=n.targetVisuals.inRange,a=n.targetVisuals.outOfRange,o=e.getData(),s=this._hmLayer||this._hmLayer||new jf;s.blurSize=e.get("blurSize"),s.pointSize=e.get("pointSize"),s.minOpacity=e.get("minOpacity"),s.maxOpacity=e.get("maxOpacity");var l=t.getViewRect().clone(),c=t.getRoamTransform();l.applyTransform(c);var u=Math.max(l.x,0),h=Math.max(l.y,0),d=Math.min(l.width+l.x,i.getWidth()),p=Math.min(l.height+l.y,i.getHeight()),f=d-u,g=p-h,m=[o.mapDimension("lng"),o.mapDimension("lat"),o.mapDimension("value")],v=o.mapArray(m,(function(e,n,i){var r=t.dataToPoint([e,n]);return r[0]-=u,r[1]-=h,r.push(i),r})),y=n.getExtent(),b="visualMap.continuous"===n.type?Ef(y,n.option.range):If(y,n.getPieceList(),n.option.selected);s.update(v,f,g,r.color.getNormalizer(),{inRange:r.color.getColorMapper(),outOfRange:a.color.getColorMapper()},b);var x=new k["a"]({style:{width:f,height:g,x:u,y:h,image:s.canvas},silent:!0});this.group.add(x)},e.type="heatmap",e}(Ge["a"]),Df=Rf,Ff=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.getInitialData=function(t,e){return Object(we["a"])(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=Nc["a"].get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(_e["b"]),Nf=Ff;function Bf(t){t.registerChartView(Df),t.registerSeriesModel(Nf)}var Vf=["itemStyle","borderWidth"],Gf=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],zf=new si["a"],Uf=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n){var i=this.group,r=t.getData(),a=this._data,o=t.coordinateSystem,s=o.getBaseAxis(),l=s.isHorizontal(),c=o.master.getRect(),u={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:t,coordSys:o,coordSysExtent:[[c.x,c.x+c.width],[c.y,c.y+c.height]],isHorizontal:l,valueDim:Gf[+l],categoryDim:Gf[1-+l]};return r.diff(a).add((function(t){if(r.hasValue(t)){var e=eg(r,t),n=Hf(r,t,e,u),a=rg(r,u,n);r.setItemGraphicEl(t,a),i.add(a),ug(a,u,n)}})).update((function(t,e){var n=a.getItemGraphicEl(e);if(r.hasValue(t)){var o=eg(r,t),s=Hf(r,t,o,u),l=sg(r,s);n&&l!==n.__pictorialShapeStr&&(i.remove(n),r.setItemGraphicEl(t,null),n=null),n?ag(n,u,s):n=rg(r,u,s,!0),r.setItemGraphicEl(t,n),n.__pictorialSymbolMeta=s,i.add(n),ug(n,u,s)}else i.remove(n)})).remove((function(t){var e=a.getItemGraphicEl(t);e&&og(a,t,e.__pictorialSymbolMeta.animationModel,e)})).execute(),this._data=r,this.group},e.prototype.remove=function(t,e){var n=this.group,i=this._data;t.get("animation")?i&&i.eachItemGraphicEl((function(e){og(i,Object(Ee["a"])(e).dataIndex,t,e)})):n.removeAll()},e.type="pictorialBar",e}(Ge["a"]);function Hf(t,e,n,i){var r=t.getItemLayout(e),a=n.get("symbolRepeat"),o=n.get("symbolClip"),s=n.get("symbolPosition")||"start",l=n.get("symbolRotate"),c=(l||0)*Math.PI/180||0,u=n.get("symbolPatternSize")||2,h=n.isAnimationEnabled(),d={dataIndex:e,layout:r,itemModel:n,symbolType:t.getItemVisual(e,"symbol")||"circle",style:t.getItemVisual(e,"style"),symbolClip:o,symbolRepeat:a,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:c,animationModel:h?n:null,hoverScale:h&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};Wf(n,a,r,i,d),Xf(t,e,r,a,o,d.boundingLength,d.pxSign,u,i,d),qf(n,d.symbolScale,c,i,d);var p=d.symbolSize,f=Object(Mn["b"])(n.get("symbolOffset"),p);return Zf(n,p,r,a,o,f,s,d.valueLineWidth,d.boundingLength,d.repeatCutLength,i,d),d}function Wf(t,e,n,i,r){var a,o=i.valueDim,s=t.get("symbolBoundingData"),l=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),c=l.toGlobalCoord(l.dataToCoord(0)),u=1-+(n[o.wh]<=0);if(V["isArray"](s)){var h=[Yf(l,s[0])-c,Yf(l,s[1])-c];h[1]<h[0]&&h.reverse(),a=h[u]}else a=null!=s?Yf(l,s)-c:e?i.coordSysExtent[o.index][u]-c:n[o.wh];r.boundingLength=a,e&&(r.repeatCutLength=n[o.wh]),r.pxSign=a>0?1:-1}function Yf(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function Xf(t,e,n,i,r,a,o,s,l,c){var u,h=l.valueDim,d=l.categoryDim,p=Math.abs(n[d.wh]),f=t.getItemVisual(e,"symbolSize");u=V["isArray"](f)?f.slice():null==f?["100%","100%"]:[f,f],u[d.index]=Object(vi["q"])(u[d.index],p),u[h.index]=Object(vi["q"])(u[h.index],i?p:Math.abs(a)),c.symbolSize=u;var g=c.symbolScale=[u[0]/s,u[1]/s];g[h.index]*=(l.isHorizontal?-1:1)*o}function qf(t,e,n,i,r){var a=t.get(Vf)||0;a&&(zf.attr({scaleX:e[0],scaleY:e[1],rotation:n}),zf.updateTransform(),a/=zf.getLineScale(),a*=e[i.valueDim.index]),r.valueLineWidth=a||0}function Zf(t,e,n,i,r,a,o,s,l,c,u,h){var d=u.categoryDim,p=u.valueDim,f=h.pxSign,g=Math.max(e[p.index]+s,0),m=g;if(i){var v=Math.abs(l),y=V["retrieve"](t.get("symbolMargin"),"15%")+"",b=!1;y.lastIndexOf("!")===y.length-1&&(b=!0,y=y.slice(0,y.length-1));var x=Object(vi["q"])(y,e[p.index]),_=Math.max(g+2*x,0),w=b?0:2*x,S=Object(vi["k"])(i),O=S?i:hg((v+w)/_),C=v-O*g;x=C/2/(b?O:Math.max(O-1,1)),_=g+2*x,w=b?0:2*x,S||"fixed"===i||(O=c?hg((Math.abs(c)+w)/_):0),m=O*_-w,h.repeatTimes=O,h.symbolMargin=x}var A=f*(m/2),M=h.pathPosition=[];M[d.index]=n[d.wh]/2,M[p.index]="start"===o?A:"end"===o?l-A:l/2,a&&(M[0]+=a[0],M[1]+=a[1]);var T=h.bundlePosition=[];T[d.index]=n[d.xy],T[p.index]=n[p.xy];var k=h.barRectShape=V["extend"]({},n);k[p.wh]=f*Math.max(Math.abs(n[p.wh]),Math.abs(M[p.index]+A)),k[d.wh]=n[d.wh];var L=h.clipShape={};L[d.xy]=-n[d.xy],L[d.wh]=u.ecSize[d.wh],L[p.xy]=0,L[p.wh]=n[p.wh]}function Qf(t){var e=t.symbolPatternSize,n=Object(Mn["a"])(t.symbolType,-e/2,-e/2,e,e);return n.attr({culling:!0}),"image"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function Jf(t,e,n,i){var r=t.__pictorialBundle,a=n.symbolSize,o=n.valueLineWidth,s=n.pathPosition,l=e.valueDim,c=n.repeatTimes||0,u=0,h=a[e.valueDim.index]+o+2*n.symbolMargin;for(lg(t,(function(t){t.__pictorialAnimationIndex=u,t.__pictorialRepeatTimes=c,u<c?cg(t,null,f(u),n,i):cg(t,null,{scaleX:0,scaleY:0},n,i,(function(){r.remove(t)})),u++}));u<c;u++){var d=Qf(n);d.__pictorialAnimationIndex=u,d.__pictorialRepeatTimes=c,r.add(d);var p=f(u);cg(d,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},n,i)}function f(t){var e=s.slice(),i=n.pxSign,r=t;return("start"===n.symbolRepeatDirection?i>0:i<0)&&(r=c-1-t),e[l.index]=h*(r-c/2+.5)+s[l.index],{x:e[0],y:e[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function Kf(t,e,n,i){var r=t.__pictorialBundle,a=t.__pictorialMainPath;a?cg(a,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,i):(a=t.__pictorialMainPath=Qf(n),r.add(a),cg(a,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,i))}function $f(t,e,n){var i=V["extend"]({},e.barRectShape),r=t.__pictorialBarRect;r?cg(r,null,{shape:i},e,n):(r=t.__pictorialBarRect=new je["a"]({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),r.disableMorphing=!0,t.add(r))}function tg(t,e,n,i){if(n.symbolClip){var r=t.__pictorialClipPath,a=V["extend"]({},n.clipShape),o=e.valueDim,s=n.animationModel,l=n.dataIndex;if(r)Le["h"](r,{shape:a},s,l);else{a[o.wh]=0,r=new je["a"]({shape:a}),t.__pictorialBundle.setClipPath(r),t.__pictorialClipPath=r;var c={};c[o.wh]=n.clipShape[o.wh],ke[i?"updateProps":"initProps"](r,{shape:c},s,l)}}}function eg(t,e){var n=t.getItemModel(e);return n.getAnimationDelayParams=ng,n.isAnimationEnabled=ig,n}function ng(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function ig(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function rg(t,e,n,i){var r=new Te["a"],a=new Te["a"];return r.add(a),r.__pictorialBundle=a,a.x=n.bundlePosition[0],a.y=n.bundlePosition[1],n.symbolRepeat?Jf(r,e,n):Kf(r,e,n),$f(r,n,i),tg(r,e,n,i),r.__pictorialShapeStr=sg(t,n),r.__pictorialSymbolMeta=n,r}function ag(t,e,n){var i=n.animationModel,r=n.dataIndex,a=t.__pictorialBundle;Le["h"](a,{x:n.bundlePosition[0],y:n.bundlePosition[1]},i,r),n.symbolRepeat?Jf(t,e,n,!0):Kf(t,e,n,!0),$f(t,n,!0),tg(t,e,n,!0)}function og(t,e,n,i){var r=i.__pictorialBarRect;r&&r.removeTextContent();var a=[];lg(i,(function(t){a.push(t)})),i.__pictorialMainPath&&a.push(i.__pictorialMainPath),i.__pictorialClipPath&&(n=null),V["each"](a,(function(t){Le["e"](t,{scaleX:0,scaleY:0},n,e,(function(){i.parent&&i.parent.remove(i)}))})),t.setItemGraphicEl(e,null)}function sg(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function lg(t,e,n){V["each"](t.__pictorialBundle.children(),(function(i){i!==t.__pictorialBarRect&&e.call(n,i)}))}function cg(t,e,n,i,r,a){e&&t.attr(e),i.symbolClip&&!r?n&&t.attr(n):n&&ke[r?"updateProps":"initProps"](t,n,i.animationModel,i.dataIndex,a)}function ug(t,e,n){var i=n.dataIndex,r=n.itemModel,a=r.getModel("emphasis"),o=a.getModel("itemStyle").getItemStyle(),s=r.getModel(["blur","itemStyle"]).getItemStyle(),l=r.getModel(["select","itemStyle"]).getItemStyle(),c=r.getShallow("cursor"),u=a.get("focus"),h=a.get("blurScope"),d=a.get("scale");lg(t,(function(t){if(t instanceof k["a"]){var e=t.style;t.useStyle(V["extend"]({image:e.image,x:e.x,y:e.y,width:e.width,height:e.height},n.style))}else t.useStyle(n.style);var i=t.ensureState("emphasis");i.style=o,d&&(i.scaleX=1.1*t.scaleX,i.scaleY=1.1*t.scaleY),t.ensureState("blur").style=s,t.ensureState("select").style=l,c&&(t.cursor=c),t.z2=n.z2}));var p=e.valueDim.posDesc[+(n.boundingLength>0)],f=t.__pictorialBarRect;Object(Re["g"])(f,Object(Re["e"])(r),{labelFetcher:e.seriesModel,labelDataIndex:i,defaultText:Object(Ue["b"])(e.seriesModel.getData(),i),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:p}),Object(Pe["J"])(t,u,h,a.get("disabled"))}function hg(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}var dg=Uf,pg=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return Object(xe["a"])(e,t),e.prototype.getInitialData=function(e){return e.stack=null,t.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=Object(Ce["d"])(Oe.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(Oe),fg=pg;function gg(t){t.registerChartView(dg),t.registerSeriesModel(fg),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,Object(V["curry"])(ye["c"],"pictorialBar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Object(ye["a"])("pictorialBar"))}var mg=n("d4d1"),vg=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._layers=[],n}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n){var i=t.getData(),r=this,a=this.group,o=t.getLayerSeries(),s=i.getLayout("layoutInfo"),l=s.rect,c=s.boundaryGap;function u(t){return t.name}a.x=0,a.y=l.y+c[0];var h=new Ko["a"](this._layersSeries||[],o,u,u),d=[];function p(e,n,s){var l=r._layers;if("remove"!==e){for(var c,u,h=[],p=[],f=o[n].indices,g=0;g<f.length;g++){var m=i.getItemLayout(f[g]),v=m.x,y=m.y0,b=m.y;h.push(v,y),p.push(v,y+b),c=i.getItemVisual(f[g],"style")}var x=i.getItemLayout(f[0]),_=t.getModel("label"),w=_.get("margin"),S=t.getModel("emphasis");if("add"===e){var O=d[n]=new Te["a"];u=new mg["a"]({shape:{points:h,stackedOnPoints:p,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),O.add(u),a.add(O),t.isAnimationEnabled()&&u.setClipPath(yg(u.getBoundingRect(),t,(function(){u.removeClipPath()})))}else{O=l[s];u=O.childAt(0),a.add(O),d[n]=O,Le["h"](u,{shape:{points:h,stackedOnPoints:p}},t),Object(Le["g"])(u)}Object(Re["g"])(u,Object(Re["e"])(t),{labelDataIndex:f[g-1],defaultText:i.getName(f[g-1]),inheritColor:c.fill},{normal:{verticalAlign:"middle"}}),u.setTextConfig({position:null,local:!0});var C=u.getTextContent();C&&(C.x=x.x-w,C.y=x.y0+x.y/2),u.useStyle(c),i.setItemGraphicEl(n,u),Object(Pe["I"])(u,t),Object(Pe["J"])(u,S.get("focus"),S.get("blurScope"),S.get("disabled"))}else a.remove(l[n])}h.add(Object(V["bind"])(p,this,"add")).update(Object(V["bind"])(p,this,"update")).remove(Object(V["bind"])(p,this,"remove")).execute(),this._layersSeries=o,this._layers=d},e.type="themeRiver",e}(Ge["a"]);function yg(t,e,n){var i=new je["a"]({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Le["c"](i,{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},e,n),i}var bg=vg,xg=2,_g=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new qn["a"](V["bind"](this.getData,this),V["bind"](this.getRawData,this))},e.prototype.fixData=function(t){var e=t.length,n={},i=Object(Ur["j"])(t,(function(t){return n.hasOwnProperty(t[0]+"")||(n[t[0]+""]=-1),t[2]})),r=[];i.buckets.each((function(t,e){r.push({name:e,dataList:t})}));for(var a=r.length,o=0;o<a;++o){for(var s=r[o].name,l=0;l<r[o].dataList.length;++l){var c=r[o].dataList[l][0]+"";n[c]=o}for(var c in n)n.hasOwnProperty(c)&&n[c]!==o&&(n[c]=o,t[e]=[c,0,s],e++)}return t},e.prototype.getInitialData=function(t,e){for(var n=this.getReferringComponents("singleAxis",Ur["b"]).models[0],i=n.get("type"),r=V["filter"](t.data,(function(t){return void 0!==t[2]})),a=this.fixData(r||[]),o=[],s=this.nameMap=V["createHashMap"](),l=0,c=0;c<a.length;++c)o.push(a[c][xg]),s.get(a[c][xg])||(s.set(a[c][xg],l),l++);var u=Object(Ao["b"])(a,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Object($d["a"])(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,h=new Co["a"](u,this);return h.initData(a),h},e.prototype.getLayerSeries=function(){for(var t=this.getData(),e=t.count(),n=[],i=0;i<e;++i)n[i]=i;var r=t.mapDimension("single"),a=Object(Ur["j"])(n,(function(e){return t.get("name",e)})),o=[];return a.buckets.each((function(e,n){e.sort((function(e,n){return t.get(r,e)-t.get(r,n)})),o.push({name:n,indices:e})})),o},e.prototype.getAxisTooltipData=function(t,e,n){V["isArray"](t)||(t=t?[t]:[]);for(var i,r=this.getData(),a=this.getLayerSeries(),o=[],s=a.length,l=0;l<s;++l){for(var c=Number.MAX_VALUE,u=-1,h=a[l].indices.length,d=0;d<h;++d){var p=r.get(t[0],a[l].indices[d]),f=Math.abs(p-e);f<=c&&(i=p,c=f,u=a[l].indices[d])}o.push(u)}return{dataIndices:o,nestestValue:i}},e.prototype.formatTooltip=function(t,e,n){var i=this.getData(),r=i.getName(t),a=i.get(i.mapDimension("value"),t);return Object(Zn["c"])("nameValue",{name:r,value:a})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(_e["b"]),wg=_g;function Sg(t,e){t.eachSeriesByType("themeRiver",(function(t){var e=t.getData(),n=t.coordinateSystem,i={},r=n.getRect();i.rect=r;var a=t.get("boundaryGap"),o=n.getAxis();if(i.boundaryGap=a,"horizontal"===o.orient){a[0]=vi["q"](a[0],r.height),a[1]=vi["q"](a[1],r.height);var s=r.height-a[0]-a[1];Og(e,t,s)}else{a[0]=vi["q"](a[0],r.width),a[1]=vi["q"](a[1],r.width);var l=r.width-a[0]-a[1];Og(e,t,l)}e.setLayout("layoutInfo",i)}))}function Og(t,e,n){if(t.count())for(var i,r=e.coordinateSystem,a=e.getLayerSeries(),o=t.mapDimension("single"),s=t.mapDimension("value"),l=V["map"](a,(function(e){return V["map"](e.indices,(function(e){var n=r.dataToPoint(t.get(o,e));return n[1]=t.get(s,e),n}))})),c=Cg(l),u=c.y0,h=n/c.max,d=a.length,p=a[0].indices.length,f=0;f<p;++f){i=u[f]*h,t.setItemLayout(a[0].indices[f],{layerIndex:0,x:l[0][f][0],y0:i,y:l[0][f][1]*h});for(var g=1;g<d;++g)i+=l[g-1][f][1]*h,t.setItemLayout(a[g].indices[f],{layerIndex:g,x:l[g][f][0],y0:i,y:l[g][f][1]*h})}}function Cg(t){for(var e=t.length,n=t[0].length,i=[],r=[],a=0,o=0;o<n;++o){for(var s=0,l=0;l<e;++l)s+=t[l][o][1];s>a&&(a=s),i.push(s)}for(var c=0;c<n;++c)r[c]=(a-i[c])/2;a=0;for(var u=0;u<n;++u){var h=i[u]+r[u];h>a&&(a=h)}return{y0:r,max:a}}function Ag(t){t.registerChartView(bg),t.registerSeriesModel(wg),t.registerLayout(Sg),t.registerProcessor(Object(Gn["a"])("themeRiver"))}var Mg=n("857d"),Tg=2,kg=4,Lg=function(t){function e(e,n,i,r){var a=t.call(this)||this;a.z2=Tg,a.textConfig={inside:!0},Object(Ee["a"])(a).seriesIndex=n.seriesIndex;var o=new _t["a"]({z2:kg,silent:e.getModel().get(["label","silent"])});return a.setTextContent(o),a.updateData(!0,e,n,i,r),a}return Object(xe["a"])(e,t),e.prototype.updateData=function(t,e,n,i,r){this.node=e,e.piece=this,n=n||this._seriesModel,i=i||this._ecModel;var a=this;Object(Ee["a"])(a).dataIndex=e.dataIndex;var o=e.getModel(),s=o.getModel("emphasis"),l=e.getLayout(),c=V["extend"]({},l);c.label=null;var u=e.getVisual("style");u.lineJoin="bevel";var h=e.getVisual("decal");h&&(u.decal=Object(Gr["a"])(h,r));var d=Object(qe["a"])(o.getModel("itemStyle"),c,!0);V["extend"](c,d),V["each"](Pe["g"],(function(t){var e=a.ensureState(t),n=o.getModel([t,"itemStyle"]);e.style=n.getItemStyle();var i=Object(qe["a"])(n,c);i&&(e.shape=i)})),t?(a.setShape(c),a.shape.r=l.r0,Le["c"](a,{shape:{r:l.r}},n,e.dataIndex)):(Le["h"](a,{shape:c},n),Object(Le["g"])(a)),a.useStyle(u),this._updateLabel(n);var p=o.getShallow("cursor");p&&a.attr("cursor",p),this._seriesModel=n||this._seriesModel,this._ecModel=i||this._ecModel;var f=s.get("focus"),g="ancestor"===f?e.getAncestorsIndices():"descendant"===f?e.getDescendantIndices():f;Object(Pe["J"])(this,g,s.get("blurScope"),s.get("disabled"))},e.prototype._updateLabel=function(t){var e=this,n=this.node.getModel(),i=n.getModel("label"),r=this.node.getLayout(),a=r.endAngle-r.startAngle,o=(r.startAngle+r.endAngle)/2,s=Math.cos(o),l=Math.sin(o),c=this,u=c.getTextContent(),h=this.node.dataIndex,d=i.get("minAngle")/180*Math.PI,p=i.get("show")&&!(null!=d&&Math.abs(a)<d);function f(t,e){var n=t.get(e);return null==n?i.get(e):n}u.ignore=!p,V["each"](Pe["a"],(function(i){var d="normal"===i?n.getModel("label"):n.getModel([i,"label"]),p="normal"===i,g=p?u:u.ensureState(i),m=t.getFormattedLabel(h,i);p&&(m=m||e.node.name),g.style=Object(Re["c"])(d,{},null,"normal"!==i,!0),m&&(g.style.text=m);var v=d.get("show");null==v||p||(g.ignore=!v);var y,b=f(d,"position"),x=p?c:c.states[i],_=x.style.fill;x.textConfig={outsideFill:"inherit"===d.get("color")?_:null,inside:"outside"!==b};var w=f(d,"distance")||0,S=f(d,"align");"outside"===b?(y=r.r+w,S=o>Math.PI/2?"right":"left"):S&&"center"!==S?"left"===S?(y=r.r0+w,o>Math.PI/2&&(S="right")):"right"===S&&(y=r.r-w,o>Math.PI/2&&(S="left")):(y=a===2*Math.PI&&0===r.r0?0:(r.r+r.r0)/2,S="center"),g.style.align=S,g.style.verticalAlign=f(d,"verticalAlign")||"middle",g.x=y*s+r.cx,g.y=y*l+r.cy;var O=f(d,"rotate"),C=0;"radial"===O?(C=Object(Mg["a"])(-o),C>Math.PI/2&&C<1.5*Math.PI&&(C+=Math.PI)):"tangential"===O?(C=Math.PI/2-o,C>Math.PI/2?C-=Math.PI:C<-Math.PI/2&&(C+=Math.PI)):V["isNumber"](O)&&(C=O*Math.PI/180),g.rotation=C})),u.dirtyStyle()},e}(Ie["a"]),jg=Lg,Ig="sunburstRootToNode",Eg="sunburstHighlight",Pg="sunburstUnhighlight";function Rg(t){t.registerAction({type:Ig,update:"updateView"},(function(t,e){function n(e,n){var i=jo(t,[Ig],e);if(i){var r=e.getViewRoot();r&&(t.direction=Eo(r,i.node)?"rollUp":"drillDown"),e.resetViewRoot(i.node)}}e.eachComponent({mainType:"series",subType:"sunburst",query:t},n)})),t.registerAction({type:Eg,update:"none"},(function(t,e,n){function i(e){var n=jo(t,[Eg],e);n&&(t.dataIndex=n.node.dataIndex)}t=Object(V["extend"])({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},i),n.dispatchAction(Object(V["extend"])(t,{type:"highlight"}))})),t.registerAction({type:Pg,update:"updateView"},(function(t,e,n){t=Object(V["extend"])({},t),n.dispatchAction(Object(V["extend"])(t,{type:"downplay"}))}))}var Dg=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n,i){var r=this;this.seriesModel=t,this.api=n,this.ecModel=e;var a=t.getData(),o=a.tree.root,s=t.getViewRoot(),l=this.group,c=t.get("renderLabelForZeroData"),u=[];s.eachNode((function(t){u.push(t)}));var h=this._oldChildren||[];function d(t,e){function n(t){return t.getId()}function i(n,i){var r=null==n?null:t[n],a=null==i?null:e[i];p(r,a)}0===t.length&&0===e.length||new Ko["a"](e,t,n,n).add(i).update(i).remove(V["curry"](i,null)).execute()}function p(i,r){if(c||!i||i.getValue()||(i=null),i!==o&&r!==o)if(r&&r.piece)i?(r.piece.updateData(!1,i,t,e,n),a.setItemGraphicEl(i.dataIndex,r.piece)):f(r);else if(i){var s=new jg(i,t,e,n);l.add(s),a.setItemGraphicEl(i.dataIndex,s)}}function f(t){t&&t.piece&&(l.remove(t.piece),t.piece=null)}function g(i,a){a.depth>0?(r.virtualPiece?r.virtualPiece.updateData(!1,i,t,e,n):(r.virtualPiece=new jg(i,t,e,n),l.add(r.virtualPiece)),a.piece.off("click"),r.virtualPiece.on("click",(function(t){r._rootToNode(a.parentNode)}))):r.virtualPiece&&(l.remove(r.virtualPiece),r.virtualPiece=null)}d(u,h),g(o,s),this._initEvents(),this._oldChildren=u},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",(function(e){var n=!1,i=t.seriesModel.getViewRoot();i.eachNode((function(i){if(!n&&i.piece&&i.piece===e.target){var r=i.getModel().get("nodeClick");if("rootToNode"===r)t._rootToNode(i);else if("link"===r){var a=i.getModel(),o=a.get("link");if(o){var s=a.get("target",!0)||"_blank";Object(cs["k"])(o,s)}}n=!0}}))}))},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:Ig,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,e){var n=e.getData(),i=n.getItemLayout(0);if(i){var r=t[0]-i.cx,a=t[1]-i.cy,o=Math.sqrt(r*r+a*a);return o<=i.r&&o>=i.r0}},e.type="sunburst",e}(Ge["a"]),Fg=Dg,Ng=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.ignoreStyleOnData=!0,n}return Object(xe["a"])(e,t),e.prototype.getInitialData=function(t,e){var n={name:t.name,children:t.data};Bg(n);var i=this._levelModels=V["map"](t.levels||[],(function(t){return new $n["a"](t,this,e)}),this),r=Lo.createTree(n,this,a);function a(t){t.wrapMethod("getItemModel",(function(t,e){var n=r.getNodeByDataIndex(e),a=i[n.depth];return a&&(t.parentModel=a),t}))}return r.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(e){var n=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return n.treePathInfo=Po(i,this),n},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)},e.prototype.enableAriaDecal=function(){Xo(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e}(_e["b"]);function Bg(t){var e=0;V["each"](t.children,(function(t){Bg(t);var n=t.value;V["isArray"](n)&&(n=n[0]),e+=n}));var n=t.value;V["isArray"](n)&&(n=n[0]),(null==n||isNaN(n))&&(n=e),n<0&&(n=0),V["isArray"](t.value)?t.value[0]=n:t.value=n}var Vg=Ng,Gg=Math.PI/180;function zg(t,e,n){e.eachSeriesByType(t,(function(t){var e=t.get("center"),i=t.get("radius");V["isArray"](i)||(i=[0,i]),V["isArray"](e)||(e=[e,e]);var r=n.getWidth(),a=n.getHeight(),o=Math.min(r,a),s=Object(vi["q"])(e[0],r),l=Object(vi["q"])(e[1],a),c=Object(vi["q"])(i[0],o/2),u=Object(vi["q"])(i[1],o/2),h=-t.get("startAngle")*Gg,d=t.get("minAngle")*Gg,p=t.getData().tree.root,f=t.getViewRoot(),g=f.depth,m=t.get("sort");null!=m&&Ug(f,m);var v=0;V["each"](f.children,(function(t){!isNaN(t.getValue())&&v++}));var y=f.getValue(),b=Math.PI/(y||v)*2,x=f.depth>0,_=f.height-(x?-1:1),w=(u-c)/(_||1),S=t.get("clockwise"),O=t.get("stillShowZeroSum"),C=S?1:-1,A=function(e,n){if(e){var i=n;if(e!==p){var r=e.getValue(),a=0===y&&O?b:r*b;a<d&&(a=d),i=n+C*a;var u=e.depth-g-(x?-1:1),h=c+w*u,f=c+w*(u+1),m=t.getLevelModel(e);if(m){var v=m.get("r0",!0),_=m.get("r",!0),M=m.get("radius",!0);null!=M&&(v=M[0],_=M[1]),null!=v&&(h=Object(vi["q"])(v,o/2)),null!=_&&(f=Object(vi["q"])(_,o/2))}e.setLayout({angle:a,startAngle:n,endAngle:i,clockwise:S,cx:s,cy:l,r0:h,r:f})}if(e.children&&e.children.length){var T=0;V["each"](e.children,(function(t){T+=A(t,n+T)}))}return i-n}};if(x){var M=c,T=c+w,k=2*Math.PI;p.setLayout({angle:k,startAngle:h,endAngle:h+k,clockwise:S,cx:s,cy:l,r0:M,r:T})}A(f,h)}))}function Ug(t,e){var n=t.children||[];t.children=Hg(n,e),n.length&&V["each"](t.children,(function(t){Ug(t,e)}))}function Hg(t,e){if(V["isFunction"](e)){var n=V["map"](t,(function(t,e){var n=t.getValue();return{params:{depth:t.depth,height:t.height,dataIndex:t.dataIndex,getValue:function(){return n}},index:e}}));return n.sort((function(t,n){return e(t.params,n.params)})),V["map"](n,(function(e){return t[e.index]}))}var i="asc"===e;return t.sort((function(t,e){var n=(t.getValue()-e.getValue())*(i?1:-1);return 0===n?(t.dataIndex-e.dataIndex)*(i?-1:1):n}))}function Wg(t){var e={};function n(t,n,i){var r=t;while(r&&r.depth>1)r=r.parentNode;var a=n.getColorFromPalette(r.name||r.dataIndex+"",e);return t.depth>1&&Object(V["isString"])(a)&&(a=Object(As["lift"])(a,(t.depth-1)/(i-1)*.5)),a}t.eachSeriesByType("sunburst",(function(t){var e=t.getData(),i=e.tree;i.eachNode((function(r){var a=r.getModel(),o=a.getModel("itemStyle").getItemStyle();o.fill||(o.fill=n(r,t,i.root.height));var s=e.ensureUniqueItemVisual(r.dataIndex,"style");Object(V["extend"])(s,o)}))}))}function Yg(t){t.registerChartView(Fg),t.registerSeriesModel(Vg),t.registerLayout(Object(V["curry"])(zg,"sunburst")),t.registerProcessor(Object(V["curry"])(Gn["a"],"sunburst")),t.registerVisual(Wg),Rg(t)}var Xg={color:"fill",borderColor:"stroke"},qg={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Zg=Object(Ur["o"])(),Qg=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,e){return Object(we["a"])(null,this)},e.prototype.getDataParams=function(e,n,i){var r=t.prototype.getDataParams.call(this,e,n);return i&&(r.info=Zg(i).info),r},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e}(_e["b"]),Jg=Qg;function Kg(t,e){return e=e||[0,0],V["map"](["x","y"],(function(n,i){var r=this.getAxis(n),a=e[i],o=t[i]/2;return"category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(a-o)-r.dataToCoord(a+o))}),this)}function $g(t){var e=t.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:V["bind"](Kg,t)}}}function tm(t,e){return e=e||[0,0],V["map"]([0,1],(function(n){var i=e[n],r=t[n]/2,a=[],o=[];return a[n]=i-r,o[n]=i+r,a[1-n]=o[1-n]=e[1-n],Math.abs(this.dataToPoint(a)[n]-this.dataToPoint(o)[n])}),this)}function em(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(e){return t.dataToPoint(e)},size:V["bind"](tm,t)}}}function nm(t,e){var n=this.getAxis(),i=e instanceof Array?e[0]:e,r=(t instanceof Array?t[0]:t)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(i-r)-n.dataToCoord(i+r))}function im(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:Object(V["bind"])(nm,t)}}}function rm(t,e){return e=e||[0,0],V["map"](["Radius","Angle"],(function(n,i){var r="get"+n+"Axis",a=this[r](),o=e[i],s=t[i]/2,l="category"===a.type?a.getBandWidth():Math.abs(a.dataToCoord(o-s)-a.dataToCoord(o+s));return"Angle"===n&&(l=l*Math.PI/180),l}),this)}function am(t){var e=t.getRadiusAxis(),n=t.getAngleAxis(),i=e.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:i[1],r0:i[0]},api:{coord:function(i){var r=e.dataToRadius(i[0]),a=n.dataToAngle(i[1]),o=t.coordToPoint([r,a]);return o.push(r,a*Math.PI/180),o},size:V["bind"](rm,t)}}}function om(t){var e=t.getRect(),n=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(e,n){return t.dataToPoint(e,n)}}}}function sm(t,e,n,i){return t&&(t.legacy||!1!==t.legacy&&!n&&!i&&"tspan"!==e&&("text"===e||Object(V["hasOwn"])(t,"text")))}function lm(t,e,n){var i,r,a,o=t;if("text"===e)a=o;else{a={},Object(V["hasOwn"])(o,"text")&&(a.text=o.text),Object(V["hasOwn"])(o,"rich")&&(a.rich=o.rich),Object(V["hasOwn"])(o,"textFill")&&(a.fill=o.textFill),Object(V["hasOwn"])(o,"textStroke")&&(a.stroke=o.textStroke),Object(V["hasOwn"])(o,"fontFamily")&&(a.fontFamily=o.fontFamily),Object(V["hasOwn"])(o,"fontSize")&&(a.fontSize=o.fontSize),Object(V["hasOwn"])(o,"fontStyle")&&(a.fontStyle=o.fontStyle),Object(V["hasOwn"])(o,"fontWeight")&&(a.fontWeight=o.fontWeight),r={type:"text",style:a,silent:!0},i={};var s=Object(V["hasOwn"])(o,"textPosition");n?i.position=s?o.textPosition:"inside":s&&(i.position=o.textPosition),Object(V["hasOwn"])(o,"textPosition")&&(i.position=o.textPosition),Object(V["hasOwn"])(o,"textOffset")&&(i.offset=o.textOffset),Object(V["hasOwn"])(o,"textRotation")&&(i.rotation=o.textRotation),Object(V["hasOwn"])(o,"textDistance")&&(i.distance=o.textDistance)}return cm(a,t),Object(V["each"])(a.rich,(function(t){cm(t,t)})),{textConfig:i,textContent:r}}function cm(t,e){e&&(e.font=e.textFont||e.font,Object(V["hasOwn"])(e,"textStrokeWidth")&&(t.lineWidth=e.textStrokeWidth),Object(V["hasOwn"])(e,"textAlign")&&(t.align=e.textAlign),Object(V["hasOwn"])(e,"textVerticalAlign")&&(t.verticalAlign=e.textVerticalAlign),Object(V["hasOwn"])(e,"textLineHeight")&&(t.lineHeight=e.textLineHeight),Object(V["hasOwn"])(e,"textWidth")&&(t.width=e.textWidth),Object(V["hasOwn"])(e,"textHeight")&&(t.height=e.textHeight),Object(V["hasOwn"])(e,"textBackgroundColor")&&(t.backgroundColor=e.textBackgroundColor),Object(V["hasOwn"])(e,"textPadding")&&(t.padding=e.textPadding),Object(V["hasOwn"])(e,"textBorderColor")&&(t.borderColor=e.textBorderColor),Object(V["hasOwn"])(e,"textBorderWidth")&&(t.borderWidth=e.textBorderWidth),Object(V["hasOwn"])(e,"textBorderRadius")&&(t.borderRadius=e.textBorderRadius),Object(V["hasOwn"])(e,"textBoxShadowColor")&&(t.shadowColor=e.textBoxShadowColor),Object(V["hasOwn"])(e,"textBoxShadowBlur")&&(t.shadowBlur=e.textBoxShadowBlur),Object(V["hasOwn"])(e,"textBoxShadowOffsetX")&&(t.shadowOffsetX=e.textBoxShadowOffsetX),Object(V["hasOwn"])(e,"textBoxShadowOffsetY")&&(t.shadowOffsetY=e.textBoxShadowOffsetY))}function um(t,e,n){var i=t;i.textPosition=i.textPosition||n.position||"inside",null!=n.offset&&(i.textOffset=n.offset),null!=n.rotation&&(i.textRotation=n.rotation),null!=n.distance&&(i.textDistance=n.distance);var r=i.textPosition.indexOf("inside")>=0,a=t.fill||"#000";hm(i,e);var o=null==i.textFill;return r?o&&(i.textFill=n.insideFill||"#fff",!i.textStroke&&n.insideStroke&&(i.textStroke=n.insideStroke),!i.textStroke&&(i.textStroke=a),null==i.textStrokeWidth&&(i.textStrokeWidth=2)):(o&&(i.textFill=t.fill||n.outsideFill||"#000"),!i.textStroke&&n.outsideStroke&&(i.textStroke=n.outsideStroke)),i.text=e.text,i.rich=e.rich,Object(V["each"])(e.rich,(function(t){hm(t,t)})),i}function hm(t,e){e&&(Object(V["hasOwn"])(e,"fill")&&(t.textFill=e.fill),Object(V["hasOwn"])(e,"stroke")&&(t.textStroke=e.fill),Object(V["hasOwn"])(e,"lineWidth")&&(t.textStrokeWidth=e.lineWidth),Object(V["hasOwn"])(e,"font")&&(t.font=e.font),Object(V["hasOwn"])(e,"fontStyle")&&(t.fontStyle=e.fontStyle),Object(V["hasOwn"])(e,"fontWeight")&&(t.fontWeight=e.fontWeight),Object(V["hasOwn"])(e,"fontSize")&&(t.fontSize=e.fontSize),Object(V["hasOwn"])(e,"fontFamily")&&(t.fontFamily=e.fontFamily),Object(V["hasOwn"])(e,"align")&&(t.textAlign=e.align),Object(V["hasOwn"])(e,"verticalAlign")&&(t.textVerticalAlign=e.verticalAlign),Object(V["hasOwn"])(e,"lineHeight")&&(t.textLineHeight=e.lineHeight),Object(V["hasOwn"])(e,"width")&&(t.textWidth=e.width),Object(V["hasOwn"])(e,"height")&&(t.textHeight=e.height),Object(V["hasOwn"])(e,"backgroundColor")&&(t.textBackgroundColor=e.backgroundColor),Object(V["hasOwn"])(e,"padding")&&(t.textPadding=e.padding),Object(V["hasOwn"])(e,"borderColor")&&(t.textBorderColor=e.borderColor),Object(V["hasOwn"])(e,"borderWidth")&&(t.textBorderWidth=e.borderWidth),Object(V["hasOwn"])(e,"borderRadius")&&(t.textBorderRadius=e.borderRadius),Object(V["hasOwn"])(e,"shadowColor")&&(t.textBoxShadowColor=e.shadowColor),Object(V["hasOwn"])(e,"shadowBlur")&&(t.textBoxShadowBlur=e.shadowBlur),Object(V["hasOwn"])(e,"shadowOffsetX")&&(t.textBoxShadowOffsetX=e.shadowOffsetX),Object(V["hasOwn"])(e,"shadowOffsetY")&&(t.textBoxShadowOffsetY=e.shadowOffsetY),Object(V["hasOwn"])(e,"textShadowColor")&&(t.textShadowColor=e.textShadowColor),Object(V["hasOwn"])(e,"textShadowBlur")&&(t.textShadowBlur=e.textShadowBlur),Object(V["hasOwn"])(e,"textShadowOffsetX")&&(t.textShadowOffsetX=e.textShadowOffsetX),Object(V["hasOwn"])(e,"textShadowOffsetY")&&(t.textShadowOffsetY=e.textShadowOffsetY))}var dm=n("06ad"),pm={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},fm=Object(V["keys"])(pm),gm=(Object(V["reduce"])(lt["a"],(function(t,e){return t[e]=1,t}),{}),lt["a"].join(", "),["","style","shape","extra"]),mm=Object(Ur["o"])();function vm(t,e,n,i,r){var a=t+"Animation",o=Object(Le["a"])(t,i,r)||{},s=mm(e).userDuring;return o.duration>0&&(o.during=s?Object(V["bind"])(Mm,{el:e,userDuring:s}):null,o.setToFinal=!0,o.scope=t),Object(V["extend"])(o,n[a]),o}function ym(t,e,n,i){i=i||{};var r=i.dataIndex,a=i.isInit,o=i.clearStyle,s=n.isAnimationEnabled(),l=mm(t),c=e.style;l.userDuring=e.during;var u={},h={};if(jm(t,e,h),km("shape",e,h),km("extra",e,h),!a&&s&&(Lm(t,e,u),Tm("shape",t,e,u),Tm("extra",t,e,u),Im(t,e,c,u)),h.style=c,wm(t,h,o),Om(t,e),s)if(a){var d={};Object(V["each"])(gm,(function(t){var n=t?e[t]:e;n&&n.enterFrom&&(t&&(d[t]=d[t]||{}),Object(V["extend"])(t?d[t]:d,n.enterFrom))}));var p=vm("enter",t,e,n,r);p.duration>0&&t.animateFrom(d,p)}else Sm(t,e,r||0,n,u);bm(t,e),c?t.dirty():t.markRedraw()}function bm(t,e){for(var n=mm(t).leaveToProps,i=0;i<gm.length;i++){var r=gm[i],a=r?e[r]:e;a&&a.leaveTo&&(n||(n=mm(t).leaveToProps={}),r&&(n[r]=n[r]||{}),Object(V["extend"])(r?n[r]:n,a.leaveTo))}}function xm(t,e,n,i){if(t){var r=t.parent,a=mm(t).leaveToProps;if(a){var o=vm("update",t,e,n,0);o.done=function(){r.remove(t),i&&i()},t.animateTo(a,o)}else r.remove(t),i&&i()}}function _m(t){return"all"===t}function wm(t,e,n){var i=e.style;if(!t.isGroup&&i){if(n){t.useStyle({});for(var r=t.animators,a=0;a<r.length;a++){var o=r[a];"style"===o.targetName&&o.changeTarget(t.style)}}t.setStyle(i)}e&&(e.style=null,e&&t.attr(e),e.style=i)}function Sm(t,e,n,i,r){if(r){var a=vm("update",t,e,i,n);a.duration>0&&t.animateFrom(r,a)}}function Om(t,e){Object(V["hasOwn"])(e,"silent")&&(t.silent=e.silent),Object(V["hasOwn"])(e,"ignore")&&(t.ignore=e.ignore),t instanceof zr["c"]&&Object(V["hasOwn"])(e,"invisible")&&(t.invisible=e.invisible),t instanceof T["b"]&&Object(V["hasOwn"])(e,"autoBatch")&&(t.autoBatch=e.autoBatch)}var Cm={},Am={setTransform:function(t,e){return Cm.el[t]=e,this},getTransform:function(t){return Cm.el[t]},setShape:function(t,e){var n=Cm.el,i=n.shape||(n.shape={});return i[t]=e,n.dirtyShape&&n.dirtyShape(),this},getShape:function(t){var e=Cm.el.shape;if(e)return e[t]},setStyle:function(t,e){var n=Cm.el,i=n.style;return i&&(i[t]=e,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(t){var e=Cm.el.style;if(e)return e[t]},setExtra:function(t,e){var n=Cm.el.extra||(Cm.el.extra={});return n[t]=e,this},getExtra:function(t){var e=Cm.el.extra;if(e)return e[t]}};function Mm(){var t=this,e=t.el;if(e){var n=mm(e).userDuring,i=t.userDuring;n===i?(Cm.el=e,i(Am)):t.el=t.userDuring=null}}function Tm(t,e,n,i){var r=n[t];if(r){var a,o=e[t];if(o){var s=n.transition,l=r.transition;if(l)if(!a&&(a=i[t]={}),_m(l))Object(V["extend"])(a,o);else for(var c=Object(Ur["r"])(l),u=0;u<c.length;u++){var h=c[u],d=o[h];a[h]=d}else if(_m(s)||Object(V["indexOf"])(s,t)>=0){!a&&(a=i[t]={});var p=Object(V["keys"])(o);for(u=0;u<p.length;u++){h=p[u],d=o[h];Em(r[h],d)&&(a[h]=d)}}}}}function km(t,e,n){var i=e[t];if(i)for(var r=n[t]={},a=Object(V["keys"])(i),o=0;o<a.length;o++){var s=a[o];r[s]=Object(dm["a"])(i[s])}}function Lm(t,e,n){for(var i=e.transition,r=_m(i)?lt["a"]:Object(Ur["r"])(i||[]),a=0;a<r.length;a++){var o=r[a];if("style"!==o&&"shape"!==o&&"extra"!==o){var s=t[o];0,n[o]=s}}}function jm(t,e,n){for(var i=0;i<fm.length;i++){var r=fm[i],a=pm[r],o=e[r];o&&(n[a[0]]=o[0],n[a[1]]=o[1])}for(i=0;i<lt["a"].length;i++){var s=lt["a"][i];null!=e[s]&&(n[s]=e[s])}}function Im(t,e,n,i){if(n){var r,a=t.style;if(a){var o=n.transition,s=e.transition;if(o&&!_m(o)){var l=Object(Ur["r"])(o);!r&&(r=i.style={});for(var c=0;c<l.length;c++){var u=l[c],h=a[u];r[u]=h}}else if(t.getAnimationStyleProps&&(_m(s)||_m(o)||Object(V["indexOf"])(s,"style")>=0)){var d=t.getAnimationStyleProps(),p=d?d.style:null;if(p){!r&&(r=i.style={});var f=Object(V["keys"])(n);for(c=0;c<f.length;c++){u=f[c];if(p[u]){h=a[u];r[u]=h}}}}}}}function Em(t,e){return Object(V["isArrayLike"])(t)?t!==e:null!=t&&isFinite(t)}var Pm=Object(Ur["o"])(),Rm=["percent","easing","shape","style","extra"];function Dm(t){t.stopAnimation("keyframe"),t.attr(Pm(t))}function Fm(t,e,n){if(n.isAnimationEnabled()&&e)if(Object(V["isArray"])(e))Object(V["each"])(e,(function(e){Fm(t,e,n)}));else{var i=e.keyframes,r=e.duration;if(n&&null==r){var a=Object(Le["a"])("enter",n,0);r=a&&a.duration}if(i&&r){var o=Pm(t);Object(V["each"])(gm,(function(n){if(!n||t[n]){var a;i.sort((function(t,e){return t.percent-e.percent})),Object(V["each"])(i,(function(i){var s=t.animators,l=n?i[n]:i;if(l){var c=Object(V["keys"])(l);if(n||(c=Object(V["filter"])(c,(function(t){return Object(V["indexOf"])(Rm,t)<0}))),c.length){a||(a=t.animate(n,e.loop,!0),a.scope="keyframe");for(var u=0;u<s.length;u++)s[u]!==a&&s[u].targetName===a.targetName&&s[u].stopTracks(c);n&&(o[n]=o[n]||{});var h=n?o[n]:o;Object(V["each"])(c,(function(e){h[e]=((n?t[n]:t)||{})[e]})),a.whenWithKeys(r*i.percent,l,c,i.easing)}}})),a&&a.delay(e.delay||0).duration(r).start(e.easing)}}))}}}var Nm="emphasis",Bm="normal",Vm="blur",Gm="select",zm=[Bm,Nm,Vm,Gm],Um={normal:["itemStyle"],emphasis:[Nm,"itemStyle"],blur:[Vm,"itemStyle"],select:[Gm,"itemStyle"]},Hm={normal:["label"],emphasis:[Nm,"label"],blur:[Vm,"label"],select:[Gm,"label"]},Wm=["x","y"],Ym="e\0\0",Xm={normal:{},emphasis:{},blur:{},select:{}},qm={cartesian2d:$g,geo:em,single:im,polar:am,calendar:om};function Zm(t){return t instanceof T["b"]}function Qm(t){return t instanceof zr["c"]}function Jm(t,e){e.copyTransform(t),Qm(e)&&Qm(t)&&(e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel,e.invisible=t.invisible,e.ignore=t.ignore,Zm(e)&&Zm(t)&&e.setShape(t.shape))}var Km=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n,i){this._progressiveEls=null;var r=this._data,a=t.getData(),o=this.group,s=av(t,a,e,n);r||o.removeAll(),a.diff(r).add((function(e){sv(n,null,e,s(e,i),t,o,a)})).remove((function(e){var n=r.getItemGraphicEl(e);n&&xm(n,Zg(n).option,t)})).update((function(e,l){var c=r.getItemGraphicEl(l);sv(n,c,e,s(e,i),t,o,a)})).execute();var l=t.get("clip",!0)?Object(Fe["a"])(t.coordinateSystem,!1,t):null;l?o.setClipPath(l):o.removeClipPath(),this._data=a},e.prototype.incrementalPrepareRender=function(t,e,n){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,e,n,i,r){var a=e.getData(),o=av(e,a,n,i),s=this._progressiveEls=[];function l(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}for(var c=t.start;c<t.end;c++){var u=sv(null,null,c,o(c,r),e,this.group,a);u&&(u.traverse(l),s.push(u))}},e.prototype.eachRendered=function(t){ke["traverseElements"](this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,e,n,i){var r=e.element;if(null==r||n.name===r)return!0;while((n=n.__hostTarget||n.parent)&&n!==this.group)if(n.name===r)return!0;return!1},e.type="custom",e}(Ge["a"]),$m=Km;function tv(t){var e,n=t.type;if("path"===n){var i=t.shape,r=null!=i.width&&null!=i.height?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,a=_v(i);e=ke["makePath"](a,null,r,i.layout||"center"),Zg(e).customPathData=a}else if("image"===n)e=new k["a"]({}),Zg(e).customImagePath=t.style.image;else if("text"===n)e=new _t["a"]({});else if("group"===n)e=new Te["a"];else{if("compoundPath"===n)throw new Error('"compoundPath" is not supported yet.');var o=ke["getShapeClass"](n);if(!o){var s="";0,Object(Ms["c"])(s)}e=new o}return Zg(e).customGraphicType=n,e.name=t.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function ev(t,e,n,i,r,a,o){Dm(e);var s=r&&r.normal.cfg;s&&e.setTextConfig(s),i&&null==i.transition&&(i.transition=Wm);var l=i&&i.style;if(l){if("text"===e.type){var c=l;Object(V["hasOwn"])(c,"textFill")&&(c.fill=c.textFill),Object(V["hasOwn"])(c,"textStroke")&&(c.stroke=c.textStroke)}var u=void 0,h=Zm(e)?l.decal:null;t&&h&&(h.dirty=!0,u=Object(Gr["a"])(h,t)),l.__decalPattern=u}if(Qm(e)&&l){u=l.__decalPattern;u&&(l.decal=u)}ym(e,i,a,{dataIndex:n,isInit:o,clearStyle:!0}),Fm(e,i.keyframeAnimation,a)}function nv(t,e,n,i,r){var a=e.isGroup?null:e,o=r&&r[t].cfg;if(a){var s=a.ensureState(t);if(!1===i){var l=a.getState(t);l&&(l.style=null)}else s.style=i||null;o&&(s.textConfig=o),Object(Pe["G"])(a)}}function iv(t,e,n){if(!t.isGroup){var i=t,r=n.currentZ,a=n.currentZLevel;i.z=r,i.zlevel=a;var o=e.z2;null!=o&&(i.z2=o||0);for(var s=0;s<zm.length;s++)rv(i,e,zm[s])}}function rv(t,e,n){var i,r=n===Bm,a=r?e:pv(e,n),o=a?a.z2:null;null!=o&&(i=r?t:t.ensureState(n),i.z2=o||0)}function av(t,e,n,i){var r=t.get("renderItem"),a=t.coordinateSystem,o={};a&&(o=a.prepareCustoms?a.prepareCustoms(a):qm[a.type](a));for(var s,l,c=Object(V["defaults"])({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:x,style:w,ordinalRawValue:_,styleEmphasis:S,visual:A,barLayout:M,currentSeriesIndices:T,font:k},o.api||{}),u={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:o.coordSys,dataInsideLength:e.count(),encode:ov(t.getData())},h={},d={},p={},f={},g=0;g<zm.length;g++){var m=zm[g];p[m]=t.getModel(Um[m]),f[m]=t.getModel(Hm[m])}function v(t){return t===s?l||(l=e.getItemModel(t)):e.getItemModel(t)}function y(t,n){return e.hasItemOption?t===s?h[n]||(h[n]=v(t).getModel(Um[n])):v(t).getModel(Um[n]):p[n]}function b(t,n){return e.hasItemOption?t===s?d[n]||(d[n]=v(t).getModel(Hm[n])):v(t).getModel(Hm[n]):f[n]}return function(t,n){return s=t,l=null,h={},d={},r&&r(Object(V["defaults"])({dataIndexInside:t,dataIndex:e.getRawIndex(t),actionType:n?n.type:null},u),c)};function x(t,n){return null==n&&(n=s),e.getStore().get(e.getDimensionIndex(t||0),n)}function _(t,n){null==n&&(n=s),t=t||0;var i=e.getDimensionInfo(t);if(!i){var r=e.getDimensionIndex(t);return r>=0?e.getStore().get(r,n):void 0}var a=e.get(i.name,n),o=i&&i.ordinalMeta;return o?o.categories[a]:a}function w(n,i){null==i&&(i=s);var r=e.getItemVisual(i,"style"),a=r&&r.fill,o=r&&r.opacity,l=y(i,Bm).getItemStyle();null!=a&&(l.fill=a),null!=o&&(l.opacity=o);var c={inheritColor:Object(V["isString"])(a)?a:"#000"},u=b(i,Bm),h=Re["c"](u,null,c,!1,!0);h.text=u.getShallow("show")?Object(V["retrieve2"])(t.getFormattedLabel(i,Bm),Object(Ue["b"])(e,i)):null;var d=Re["b"](u,c,!1);return C(n,l),l=um(l,h,d),n&&O(l,n),l.legacy=!0,l}function S(n,i){null==i&&(i=s);var r=y(i,Nm).getItemStyle(),a=b(i,Nm),o=Re["c"](a,null,null,!0,!0);o.text=a.getShallow("show")?Object(V["retrieve3"])(t.getFormattedLabel(i,Nm),t.getFormattedLabel(i,Bm),Object(Ue["b"])(e,i)):null;var l=Re["b"](a,null,!0);return C(n,r),r=um(r,o,l),n&&O(r,n),r.legacy=!0,r}function O(t,e){for(var n in e)Object(V["hasOwn"])(e,n)&&(t[n]=e[n])}function C(t,e){t&&(t.textFill&&(e.textFill=t.textFill),t.textPosition&&(e.textPosition=t.textPosition))}function A(t,n){if(null==n&&(n=s),Object(V["hasOwn"])(Xg,t)){var i=e.getItemVisual(n,"style");return i?i[Xg[t]]:null}if(Object(V["hasOwn"])(qg,t))return e.getItemVisual(n,t)}function M(t){if("cartesian2d"===a.type){var e=a.getBaseAxis();return Object(ye["b"])(Object(V["defaults"])({axis:e},t))}}function T(){return n.getCurrentSeriesIndices()}function k(t){return Re["d"](t,n)}}function ov(t){var e={};return Object(V["each"])(t.dimensions,(function(n){var i=t.getDimensionInfo(n);if(!i.isExtraCoord){var r=i.coordDim,a=e[r]=e[r]||[];a[i.coordDimIndex]=t.getDimensionIndex(n)}})),e}function sv(t,e,n,i,r,a,o){if(i){var s=lv(t,e,n,i,r,a);return s&&o.setItemGraphicEl(n,s),s&&Object(Pe["J"])(s,i.focus,i.blurScope,i.emphasisDisabled),s}a.remove(e)}function lv(t,e,n,i,r,a){var o=-1,s=e;e&&cv(e,i,r)&&(o=Object(V["indexOf"])(a.childrenRef(),e),e=null);var l=!e,c=e;c?c.clearStates():(c=tv(i),s&&Jm(s,c)),!1===i.morph?c.disableMorphing=!0:c.disableMorphing&&(c.disableMorphing=!1),Xm.normal.cfg=Xm.normal.conOpt=Xm.emphasis.cfg=Xm.emphasis.conOpt=Xm.blur.cfg=Xm.blur.conOpt=Xm.select.cfg=Xm.select.conOpt=null,Xm.isLegacy=!1,hv(c,n,i,r,l,Xm),uv(c,n,i,r,l),ev(t,c,n,i,Xm,r,l),Object(V["hasOwn"])(i,"info")&&(Zg(c).info=i.info);for(var u=0;u<zm.length;u++){var h=zm[u];if(h!==Bm){var d=pv(i,h),p=fv(i,d,h);nv(h,c,d,p,Xm)}}return iv(c,i,r),"group"===i.type&&gv(t,c,n,i,r),o>=0?a.replaceAt(c,o):a.add(c),c}function cv(t,e,n){var i=Zg(t),r=e.type,a=e.shape,o=e.style;return n.isUniversalTransitionEnabled()||null!=r&&r!==i.customGraphicType||"path"===r&&wv(a)&&_v(a)!==i.customPathData||"image"===r&&Object(V["hasOwn"])(o,"image")&&o.image!==i.customImagePath}function uv(t,e,n,i,r){var a=n.clipPath;if(!1===a)t&&t.getClipPath()&&t.removeClipPath();else if(a){var o=t.getClipPath();o&&cv(o,a,i)&&(o=null),o||(o=tv(a),t.setClipPath(o)),ev(null,o,e,a,null,i,r)}}function hv(t,e,n,i,r,a){if(!t.isGroup){dv(n,null,a),dv(n,Nm,a);var o=a.normal.conOpt,s=a.emphasis.conOpt,l=a.blur.conOpt,c=a.select.conOpt;if(null!=o||null!=s||null!=c||null!=l){var u=t.getTextContent();if(!1===o)u&&t.removeTextContent();else{o=a.normal.conOpt=o||{type:"text"},u?u.clearStates():(u=tv(o),t.setTextContent(u)),ev(null,u,e,o,null,i,r);for(var h=o&&o.style,d=0;d<zm.length;d++){var p=zm[d];if(p!==Bm){var f=a[p].conOpt;nv(p,u,f,fv(o,f,p),null)}}h?u.dirty():u.markRedraw()}}}}function dv(t,e,n){var i=e?pv(t,e):t,r=e?fv(t,i,Nm):t.style,a=t.type,o=i?i.textConfig:null,s=t.textContent,l=s?e?pv(s,e):s:null;if(r&&(n.isLegacy||sm(r,a,!!o,!!l))){n.isLegacy=!0;var c=lm(r,a,!e);!o&&c.textConfig&&(o=c.textConfig),!l&&c.textContent&&(l=c.textContent)}if(!e&&l){var u=l;!u.type&&(u.type="text")}var h=e?n[e]:n.normal;h.cfg=o,h.conOpt=l}function pv(t,e){return e?t?t[e]:null:t}function fv(t,e,n){var i=e&&e.style;return null==i&&n===Nm&&t&&(i=t.styleEmphasis),i}function gv(t,e,n,i,r){var a=i.children,o=a?a.length:0,s=i.$mergeChildren,l="byName"===s||i.diffChildrenByName,c=!1===s;if(o||l||c)if(l)vv({api:t,oldChildren:e.children()||[],newChildren:a||[],dataIndex:n,seriesModel:r,group:e});else{c&&e.removeAll();for(var u=0;u<o;u++){var h=a[u],d=e.childAt(u);h?(null==h.ignore&&(h.ignore=!1),lv(t,d,n,h,r,e)):d.ignore=!0}for(var p=e.childCount()-1;p>=u;p--){var f=e.childAt(p);mv(e,f,r)}}}function mv(t,e,n){e&&xm(e,Zg(t).option,n)}function vv(t){new Ko["a"](t.oldChildren,t.newChildren,yv,yv,t).add(bv).update(bv).remove(xv).execute()}function yv(t,e){var n=t&&t.name;return null!=n?n:Ym+e}function bv(t,e){var n=this.context,i=null!=t?n.newChildren[t]:null,r=null!=e?n.oldChildren[e]:null;lv(n.api,r,n.dataIndex,i,n.seriesModel,n.group)}function xv(t){var e=this.context,n=e.oldChildren[t];n&&xm(n,Zg(n).option,e.seriesModel)}function _v(t){return t&&(t.pathData||t.d)}function wv(t){return t&&(Object(V["hasOwn"])(t,"pathData")||Object(V["hasOwn"])(t,"d"))}function Sv(t){t.registerChartView($m),t.registerSeriesModel(Jg)}var Ov=n("4b2a"),Cv=n("bb6f");function Av(t,e){e=e||{};var n=t.coordinateSystem,i=t.axis,r={},a=i.position,o=i.orient,s=n.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],c={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};r.position=["vertical"===o?c.vertical[a]:l[0],"horizontal"===o?c.horizontal[a]:l[3]];var u={horizontal:0,vertical:1};r.rotation=Math.PI/2*u[o];var h={top:-1,bottom:1,right:1,left:-1};r.labelDirection=r.tickDirection=r.nameDirection=h[a],t.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),V["retrieve"](e.labelInside,t.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var d=e.rotate;return null==d&&(d=t.get(["axisLabel","rotate"])),r.labelRotation="top"===a?-d:d,r.z2=1,r}var Mv=n("6679"),Tv=n("58df"),kv=["axisLine","axisTickLabel","axisName"],Lv=["splitArea","splitLine"],jv=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="SingleAxisPointer",n}return Object(xe["a"])(e,t),e.prototype.render=function(e,n,i,r){var a=this.group;a.removeAll();var o=this._axisGroup;this._axisGroup=new Te["a"];var s=Av(e),l=new oi["a"](e,s);V["each"](kv,l.add,l),a.add(this._axisGroup),a.add(l.getGroup()),V["each"](Lv,(function(t){e.get([t,"show"])&&Iv[t](this,this.group,this._axisGroup,e)}),this),ke["groupTransition"](o,this._axisGroup,e),t.prototype.render.call(this,e,n,i,r)},e.prototype.remove=function(){Object(Tv["b"])(this)},e.type="singleAxis",e}(Mv["a"]),Iv={splitLine:function(t,e,n,i){var r=i.axis;if(!r.scale.isBlank()){var a=i.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=s instanceof Array?s:[s];for(var l=o.get("width"),c=i.coordinateSystem.getRect(),u=r.isHorizontal(),h=[],d=0,p=r.getTicksCoords({tickModel:a}),f=[],g=[],m=0;m<p.length;++m){var v=r.toGlobalCoord(p[m].coord);u?(f[0]=v,f[1]=c.y,g[0]=v,g[1]=c.y+c.height):(f[0]=c.x,f[1]=v,g[0]=c.x+c.width,g[1]=v);var y=new zi["a"]({shape:{x1:f[0],y1:f[1],x2:g[0],y2:g[1]},silent:!0});ke["subPixelOptimizeLine"](y.shape,l);var b=d++%s.length;h[b]=h[b]||[],h[b].push(y)}var x=o.getLineStyle(["color"]);for(m=0;m<h.length;++m)e.add(ke["mergePath"](h[m],{style:V["defaults"]({stroke:s[m%s.length]},x),silent:!0}))}},splitArea:function(t,e,n,i){Object(Tv["a"])(t,n,i,i)}},Ev=jv,Pv=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(ei["a"]);Object(V["mixin"])(Pv,ti["a"].prototype);var Rv=Pv,Dv=function(t){function e(e,n,i,r,a){var o=t.call(this,e,n,i)||this;return o.type=r||"value",o.position=a||"bottom",o}return Object(xe["a"])(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.pointToData=function(t,e){return this.coordinateSystem.pointToData(t)[0]},e}(pi["a"]),Fv=Dv,Nv=["single"],Bv=function(){function t(t,e,n){this.type="single",this.dimension="single",this.dimensions=Nv,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,n)}return t.prototype._init=function(t,e,n){var i=this.dimension,r=new Fv(i,Vu["a"](t),[0,0],t.get("type"),t.get("position")),a="category"===r.type;r.onBand=a&&t.get("boundaryGap"),r.inverse=t.get("inverse"),r.orient=t.get("orient"),t.axis=r,r.model=t,r.coordinateSystem=this,this._axis=r},t.prototype.update=function(t,e){t.eachSeries((function(t){if(t.coordinateSystem===this){var e=t.getData();Object(V["each"])(e.mapDimensionsAll(this.dimension),(function(t){this._axis.scale.unionExtentFromData(e,t)}),this),Vu["i"](this._axis.scale,this._axis.model)}}),this)},t.prototype.resize=function(t,e){this._rect=Object(Oa["g"])({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},t.prototype.getRect=function(){return this._rect},t.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),i=n?[0,t.width]:[0,t.height],r=e.inverse?1:0;e.setExtent(i[r],i[1-r]),this._updateAxisTransform(e,n?t.x:t.y)},t.prototype._updateAxisTransform=function(t,e){var n=t.getExtent(),i=n[0]+n[1],r=t.isHorizontal();t.toGlobalCoord=r?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord=r?function(t){return t-e}:function(t){return i-t+e}},t.prototype.getAxis=function(){return this._axis},t.prototype.getBaseAxis=function(){return this._axis},t.prototype.getAxes=function(){return[this._axis]},t.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},t.prototype.containPoint=function(t){var e=this.getRect(),n=this.getAxis(),i=n.orient;return"horizontal"===i?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},t.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},t.prototype.dataToPoint=function(t){var e=this.getAxis(),n=this.getRect(),i=[],r="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),i[r]=e.toGlobalCoord(e.dataToCoord(+t)),i[1-r]=0===r?n.y+n.height/2:n.x+n.width/2,i},t.prototype.convertToPixel=function(t,e,n){var i=Vv(e);return i===this?this.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){var i=Vv(e);return i===this?this.pointToData(n):null},t}();function Vv(t){var e=t.seriesModel,n=t.singleAxisModel;return n&&n.coordinateSystem||e&&e.coordinateSystem}var Gv=Bv;function zv(t,e){var n=[];return t.eachComponent("singleAxis",(function(i,r){var a=new Gv(i,t,e);a.name="single_"+r,a.resize(i,e),i.coordinateSystem=a,n.push(a)})),t.eachSeries((function(t){if("singleAxis"===t.get("coordinateSystem")){var e=t.getReferringComponents("singleAxis",Ur["b"]).models[0];t.coordinateSystem=e&&e.coordinateSystem}})),n}var Uv={create:zv,dimensions:Nv},Hv=Uv,Wv=n("af5c"),Yv=n("dcb3"),Xv=n("ff2e"),qv=["x","y"],Zv=["width","height"],Qv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(xe["a"])(e,t),e.prototype.makeElOption=function(t,e,n,i,r){var a=n.axis,o=a.coordinateSystem,s=$v(o,1-Kv(a)),l=o.dataToPoint(e)[0],c=i.get("type");if(c&&"none"!==c){var u=Xv["b"](i),h=Jv[c](a,l,s);h.style=u,t.graphicKey=h.type,t.pointer=h}var d=Av(n);Xv["a"](e,t,d,n,i,r)},e.prototype.getHandleTransform=function(t,e,n){var i=Av(e,{labelInside:!1});i.labelMargin=n.get(["handle","margin"]);var r=Xv["d"](e.axis,t,i);return{x:r[0],y:r[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,n,i){var r=n.axis,a=r.coordinateSystem,o=Kv(r),s=$v(a,o),l=[t.x,t.y];l[o]+=e[o],l[o]=Math.min(s[1],l[o]),l[o]=Math.max(s[0],l[o]);var c=$v(a,1-o),u=(c[1]+c[0])/2,h=[u,u];return h[o]=l[o],{x:l[0],y:l[1],rotation:t.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}},e}(Yv["a"]),Jv={line:function(t,e,n){var i=Xv["f"]([e,n[0]],[e,n[1]],Kv(t));return{type:"Line",subPixelOptimize:!0,shape:i}},shadow:function(t,e,n){var i=t.getBandWidth(),r=n[1]-n[0];return{type:"Rect",shape:Xv["g"]([e-i/2,n[0]],[i,r],Kv(t))}}};function Kv(t){return t.isHorizontal()?0:1}function $v(t,e){var n=t.getRect();return[n[qv[e]],n[qv[e]]+n[Zv[e]]]}var ty=Qv,ey=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.type="single",e}(ci["a"]);function ny(t){Object(C["a"])(Wv["a"]),Mv["a"].registerAxisPointerClass("SingleAxisPointer",ty),t.registerComponentView(ey),t.registerComponentView(Ev),t.registerComponentModel(Rv),Object(sh["a"])(t,"single",Rv,Rv.defaultOption),t.registerCoordinateSystem("single",Hv)}var iy=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.init=function(e,n,i){var r=Object(Oa["f"])(e);t.prototype.init.apply(this,arguments),ry(e,r)},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),ry(this.option,e)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(ei["a"]);function ry(t,e){var n,i=t.cellSize;n=V["isArray"](i)?i:t.cellSize=[i,i],1===n.length&&(n[1]=n[0]);var r=V["map"]([0,1],(function(t){return Object(Oa["j"])(e,t)&&(n[t]="auto"),null!=n[t]&&"auto"!==n[t]}));Object(Oa["h"])(t,e,{type:"box",ignoreSize:r})}var ay=iy,oy=n("ef59"),sy=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n){var i=this.group;i.removeAll();var r=t.coordinateSystem,a=r.getRangeInfo(),o=r.getOrient(),s=e.getLocaleModel();this._renderDayRect(t,a,i),this._renderLines(t,a,o,i),this._renderYearText(t,a,o,i),this._renderMonthText(t,s,o,i),this._renderWeekText(t,s,a,o,i)},e.prototype._renderDayRect=function(t,e,n){for(var i=t.coordinateSystem,r=t.getModel("itemStyle").getItemStyle(),a=i.getCellWidth(),o=i.getCellHeight(),s=e.start.time;s<=e.end.time;s=i.getNextNDay(s,1).time){var l=i.dataToRect([s],!1).tl,c=new je["a"]({shape:{x:l[0],y:l[1],width:a,height:o},cursor:"default",style:r});n.add(c)}},e.prototype._renderLines=function(t,e,n,i){var r=this,a=t.coordinateSystem,o=t.getModel(["splitLine","lineStyle"]).getLineStyle(),s=t.get(["splitLine","show"]),l=o.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=e.start,u=0;c.time<=e.end.time;u++){d(c.formatedDate),0===u&&(c=a.getDateInfo(e.start.y+"-"+e.start.m));var h=c.date;h.setMonth(h.getMonth()+1),c=a.getDateInfo(h)}function d(e){r._firstDayOfMonth.push(a.getDateInfo(e)),r._firstDayPoints.push(a.dataToRect([e],!1).tl);var l=r._getLinePointsOfOneWeek(t,e,n);r._tlpoints.push(l[0]),r._blpoints.push(l[l.length-1]),s&&r._drawSplitline(l,o,i)}d(a.getNextNDay(e.end.time,1).formatedDate),s&&this._drawSplitline(r._getEdgesPoints(r._tlpoints,l,n),o,i),s&&this._drawSplitline(r._getEdgesPoints(r._blpoints,l,n),o,i)},e.prototype._getEdgesPoints=function(t,e,n){var i=[t[0].slice(),t[t.length-1].slice()],r="horizontal"===n?0:1;return i[0][r]=i[0][r]-e/2,i[1][r]=i[1][r]+e/2,i},e.prototype._drawSplitline=function(t,e,n){var i=new Hn["a"]({z2:20,shape:{points:t},style:e});n.add(i)},e.prototype._getLinePointsOfOneWeek=function(t,e,n){for(var i=t.coordinateSystem,r=i.getDateInfo(e),a=[],o=0;o<7;o++){var s=i.getNextNDay(r.time,o),l=i.dataToRect([s.time],!1);a[2*s.day]=l.tl,a[2*s.day+1]=l["horizontal"===n?"bl":"tr"]}return a},e.prototype._formatterLabel=function(t,e){return Object(V["isString"])(t)&&t?Object(cs["f"])(t,e):Object(V["isFunction"])(t)?t(e):e.nameMap},e.prototype._yearTextPositionControl=function(t,e,n,i,r){var a=e[0],o=e[1],s=["center","bottom"];"bottom"===i?(o+=r,s=["center","top"]):"left"===i?a-=r:"right"===i?(a+=r,s=["center","top"]):o-=r;var l=0;return"left"!==i&&"right"!==i||(l=Math.PI/2),{rotation:l,x:a,y:o,style:{align:s[0],verticalAlign:s[1]}}},e.prototype._renderYearText=function(t,e,n,i){var r=t.getModel("yearLabel");if(r.get("show")){var a=r.get("margin"),o=r.get("position");o||(o="horizontal"!==n?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,c=(s[0][1]+s[1][1])/2,u="horizontal"===n?0:1,h={top:[l,s[u][1]],bottom:[l,s[1-u][1]],left:[s[1-u][0],c],right:[s[u][0],c]},d=e.start.y;+e.end.y>+e.start.y&&(d=d+"-"+e.end.y);var p=r.get("formatter"),f={start:e.start.y,end:e.end.y,nameMap:d},g=this._formatterLabel(p,f),m=new _t["a"]({z2:30,style:Object(Re["c"])(r,{text:g})});m.attr(this._yearTextPositionControl(m,h[o],n,o,a)),i.add(m)}},e.prototype._monthTextPositionControl=function(t,e,n,i,r){var a="left",o="top",s=t[0],l=t[1];return"horizontal"===n?(l+=r,e&&(a="center"),"start"===i&&(o="bottom")):(s+=r,e&&(o="middle"),"start"===i&&(a="right")),{x:s,y:l,align:a,verticalAlign:o}},e.prototype._renderMonthText=function(t,e,n,i){var r=t.getModel("monthLabel");if(r.get("show")){var a=r.get("nameMap"),o=r.get("margin"),s=r.get("position"),l=r.get("align"),c=[this._tlpoints,this._blpoints];a&&!Object(V["isString"])(a)||(a&&(e=Object(oy["d"])(a)||e),a=e.get(["time","monthAbbr"])||[]);var u="start"===s?0:1,h="horizontal"===n?0:1;o="start"===s?-o:o;for(var d="center"===l,p=0;p<c[u].length-1;p++){var f=c[u][p].slice(),g=this._firstDayOfMonth[p];if(d){var m=this._firstDayPoints[p];f[h]=(m[h]+c[0][p+1][h])/2}var v=r.get("formatter"),y=a[+g.m-1],b={yyyy:g.y,yy:(g.y+"").slice(2),MM:g.m,M:+g.m,nameMap:y},x=this._formatterLabel(v,b),_=new _t["a"]({z2:30,style:Object(V["extend"])(Object(Re["c"])(r,{text:x}),this._monthTextPositionControl(f,d,n,s,o))});i.add(_)}}},e.prototype._weekTextPositionControl=function(t,e,n,i,r){var a="center",o="middle",s=t[0],l=t[1],c="start"===n;return"horizontal"===e?(s=s+i+(c?1:-1)*r[0]/2,a=c?"right":"left"):(l=l+i+(c?1:-1)*r[1]/2,o=c?"bottom":"top"),{x:s,y:l,align:a,verticalAlign:o}},e.prototype._renderWeekText=function(t,e,n,i,r){var a=t.getModel("dayLabel");if(a.get("show")){var o=t.coordinateSystem,s=a.get("position"),l=a.get("nameMap"),c=a.get("margin"),u=o.getFirstDayOfWeek();if(!l||Object(V["isString"])(l)){l&&(e=Object(oy["d"])(l)||e);var h=e.get(["time","dayOfWeekShort"]);l=h||Object(V["map"])(e.get(["time","dayOfWeekAbbr"]),(function(t){return t[0]}))}var d=o.getNextNDay(n.end.time,7-n.lweek).time,p=[o.getCellWidth(),o.getCellHeight()];c=Object(vi["q"])(c,Math.min(p[1],p[0])),"start"===s&&(d=o.getNextNDay(n.start.time,-(7+n.fweek)).time,c=-c);for(var f=0;f<7;f++){var g=o.getNextNDay(d,f),m=o.dataToRect([g.time],!1).center,v=f;v=Math.abs((f+u)%7);var y=new _t["a"]({z2:30,style:Object(V["extend"])(Object(Re["c"])(a,{text:l[v]}),this._weekTextPositionControl(m,i,s,c,p))});r.add(y)}}},e.type="calendar",e}(ci["a"]),ly=sy,cy=864e5,uy=function(){function t(e,n,i){this.type="calendar",this.dimensions=t.dimensions,this.getDimensionsInfo=t.getDimensionsInfo,this._model=e}return t.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},t.prototype.getRangeInfo=function(){return this._rangeInfo},t.prototype.getModel=function(){return this._model},t.prototype.getRect=function(){return this._rect},t.prototype.getCellWidth=function(){return this._sw},t.prototype.getCellHeight=function(){return this._sh},t.prototype.getOrient=function(){return this._orient},t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},t.prototype.getDateInfo=function(t){t=vi["p"](t);var e=t.getFullYear(),n=t.getMonth()+1,i=n<10?"0"+n:""+n,r=t.getDate(),a=r<10?"0"+r:""+r,o=t.getDay();return o=Math.abs((o+7-this.getFirstDayOfWeek())%7),{y:e+"",m:i,d:a,day:o,time:t.getTime(),formatedDate:e+"-"+i+"-"+a,date:t}},t.prototype.getNextNDay=function(t,e){return e=e||0,0===e||(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+e)),this.getDateInfo(t)},t.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],r=this._model.getCellSize().slice(),a=this._model.getBoxLayoutParams(),o="horizontal"===this._orient?[n,7]:[7,n];V["each"]([0,1],(function(t){c(r,t)&&(a[i[t]]=r[t]*o[t])}));var s={width:e.getWidth(),height:e.getHeight()},l=this._rect=Oa["g"](a,s);function c(t,e){return null!=t[e]&&"auto"!==t[e]}V["each"]([0,1],(function(t){c(r,t)||(r[t]=l[i[t]]/o[t])})),this._sw=r[0],this._sh=r[1]},t.prototype.dataToPoint=function(t,e){V["isArray"](t)&&(t=t[0]),null==e&&(e=!0);var n=this.getDateInfo(t),i=this._rangeInfo,r=n.formatedDate;if(e&&!(n.time>=i.start.time&&n.time<i.end.time+cy))return[NaN,NaN];var a=n.day,o=this._getRangeInfo([i.start.time,r]).nthWeek;return"vertical"===this._orient?[this._rect.x+a*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]:[this._rect.x+o*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]},t.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},t.prototype.dataToRect=function(t,e){var n=this.dataToPoint(t,e);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},t.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,e-1,i):this._getDateByWeeksAndDay(e,n-1,i)},t.prototype.convertToPixel=function(t,e,n){var i=hy(e);return i===this?i.dataToPoint(n):null},t.prototype.convertFromPixel=function(t,e,n){var i=hy(e);return i===this?i.pointToData(n):null},t.prototype.containPoint=function(t){return!1},t.prototype._initRangeOption=function(){var t,e=this._model.get("range");if(V["isArray"](e)&&1===e.length&&(e=e[0]),V["isArray"](e))t=e;else{var n=e.toString();if(/^\d{4}$/.test(n)&&(t=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var i=this.getDateInfo(n),r=i.date;r.setMonth(r.getMonth()+1);var a=this.getNextNDay(r,-1);t=[i.formatedDate,a.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(t=[n,n])}if(!t)return e;var o=this._getRangeInfo(t);return o.start.time>o.end.time&&t.reverse(),t},t.prototype._getRangeInfo=function(t){var e,n=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];n[0].time>n[1].time&&(e=!0,n.reverse());var i=Math.floor(n[1].time/cy)-Math.floor(n[0].time/cy)+1,r=new Date(n[0].time),a=r.getDate(),o=n[1].date.getDate();r.setDate(a+i-1);var s=r.getDate();if(s!==o){var l=r.getTime()-n[1].time>0?1:-1;while((s=r.getDate())!==o&&(r.getTime()-n[1].time)*l>0)i-=l,r.setDate(s-l)}var c=Math.floor((i+n[0].day+6)/7),u=e?1-c:c-1;return e&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:i,weeks:c,nthWeek:u,fweek:n[0].day,lweek:n[1].day}},t.prototype._getDateByWeeksAndDay=function(t,e,n){var i=this._getRangeInfo(n);if(t>i.weeks||0===t&&e<i.fweek||t===i.weeks&&e>i.lweek)return null;var r=7*(t-1)-i.fweek+e,a=new Date(i.start.time);return a.setDate(+i.start.d+r),this.getDateInfo(a)},t.create=function(e,n){var i=[];return e.eachComponent("calendar",(function(r){var a=new t(r,e,n);i.push(a),r.coordinateSystem=a})),e.eachSeries((function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("calendarIndex")||0])})),i},t.dimensions=["time","value"],t}();function hy(t){var e=t.calendarModel,n=t.seriesModel,i=e?e.coordinateSystem:n?n.coordinateSystem:null;return i}var dy=uy;function py(t){t.registerComponentModel(ay),t.registerComponentView(ly),t.registerCoordinateSystem("calendar",dy)}function fy(t,e){var n=t.existing;if(e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),null==e.parentId){var i=e.parentOption;i?e.parentId=i.id:n&&(e.parentId=n.parentId)}e.parentOption=null}function gy(t,e){var n;return V["each"](e,(function(e){null!=t[e]&&"auto"!==t[e]&&(n=!0)})),n}function my(t,e,n){var i=V["extend"]({},n),r=t[e],a=n.$action||"merge";"merge"===a?r?(V["merge"](r,i,!0),Object(Oa["h"])(r,i,{ignoreSize:!0}),Object(Oa["c"])(n,r),by(n,r),by(n,r,"shape"),by(n,r,"style"),by(n,r,"extra"),n.clipPath=r.clipPath):t[e]=i:"replace"===a?t[e]=i:"remove"===a&&r&&(t[e]=null)}var vy=["transition","enterFrom","leaveTo"],yy=vy.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function by(t,e,n){if(n&&(!t[n]&&e[n]&&(t[n]={}),t=t[n],e=e[n]),t&&e)for(var i=n?vy:yy,r=0;r<i.length;r++){var a=i[r];null==t[a]&&null!=e[a]&&(t[a]=e[a])}}function xy(t,e){if(t&&(t.hv=e.hv=[gy(e,["left","right"]),gy(e,["top","bottom"])],"group"===t.type)){var n=t,i=e;null==n.width&&(n.width=i.width=0),null==n.height&&(n.height=i.height=0)}}var _y=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.preventAutoZ=!0,n}return Object(xe["a"])(e,t),e.prototype.mergeOption=function(e,n){var i=this.option.elements;this.option.elements=null,t.prototype.mergeOption.call(this,e,n),this.option.elements=i},e.prototype.optionUpdated=function(t,e){var n=this.option,i=(e?n:t).elements,r=n.elements=e?[]:n.elements,a=[];this._flatten(i,a,null);var o=Ur["q"](r,a,"normalMerge"),s=this._elOptionsToUpdate=[];V["each"](o,(function(t,e){var n=t.newOption;n&&(s.push(n),fy(t,n),my(r,e,n),xy(r[e],n))}),this),n.elements=V["filter"](r,(function(t){return t&&delete t.$action,null!=t}))},e.prototype._flatten=function(t,e,n){V["each"](t,(function(t){if(t){n&&(t.parentOption=n),e.push(t);var i=t.children;i&&i.length&&this._flatten(i,e,t),delete t.children}}),this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(ei["a"]),wy={path:null,compoundPath:null,group:Te["a"],image:k["a"],text:_t["a"]},Sy=Ur["o"](),Oy=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.init=function(){this._elMap=V["createHashMap"]()},e.prototype.render=function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,n)},e.prototype._updateElements=function(t){var e=t.useElOptionsToUpdate();if(e){var n=this._elMap,i=this.group,r=t.get("z"),a=t.get("zlevel");V["each"](e,(function(e){var o=Ur["e"](e.id,null),s=null!=o?n.get(o):null,l=Ur["e"](e.parentId,null),c=null!=l?n.get(l):i,u=e.type,h=e.style;"text"===u&&h&&e.hv&&e.hv[1]&&(h.textVerticalAlign=h.textBaseline=h.verticalAlign=h.align=null);var d=e.textContent,p=e.textConfig;if(h&&sm(h,u,!!p,!!d)){var f=lm(h,u,!0);!p&&f.textConfig&&(p=e.textConfig=f.textConfig),!d&&f.textContent&&(d=f.textContent)}var g=ky(e);var m=e.$action||"merge",v="merge"===m,y="replace"===m;if(v){var b=!s,x=s;b?x=Ay(o,c,e.type,n):(x&&(Sy(x).isNew=!1),Dm(x)),x&&(ym(x,g,t,{isInit:b}),Ty(x,e,r,a))}else if(y){My(s,e,n,t);var _=Ay(o,c,e.type,n);_&&(ym(_,g,t,{isInit:!0}),Ty(_,e,r,a))}else"remove"===m&&(bm(s,e),My(s,e,n,t));var w=n.get(o);if(w&&d)if(v){var S=w.getTextContent();S?S.attr(d):w.setTextContent(new _t["a"](d))}else y&&w.setTextContent(new _t["a"](d));if(w){var O=e.clipPath;if(O){var C=O.type,A=void 0;b=!1;if(v){var M=w.getClipPath();b=!M||Sy(M).type!==C,A=b?Cy(C):M}else y&&(b=!0,A=Cy(C));w.setClipPath(A),ym(A,O,t,{isInit:b}),Fm(A,O.keyframeAnimation,t)}var T=Sy(w);w.setTextConfig(p),T.option=e,Ly(w,t,e),ke["setTooltipConfig"]({el:w,componentModel:t,itemName:w.name,itemTooltipOption:e.tooltip}),Fm(w,e.keyframeAnimation,t)}}))}},e.prototype._relocate=function(t,e){for(var n=t.option.elements,i=this.group,r=this._elMap,a=e.getWidth(),o=e.getHeight(),s=["x","y"],l=0;l<n.length;l++){var c=n[l],u=Ur["e"](c.id,null),h=null!=u?r.get(u):null;if(h&&h.isGroup){var d=h.parent,p=d===i,f=Sy(h),g=Sy(d);f.width=Object(vi["q"])(f.option.width,p?a:g.width)||0,f.height=Object(vi["q"])(f.option.height,p?o:g.height)||0}}for(l=n.length-1;l>=0;l--){c=n[l],u=Ur["e"](c.id,null),h=null!=u?r.get(u):null;if(h){d=h.parent,g=Sy(d);var m=d===i?{width:a,height:o}:{width:g.width,height:g.height},v={},y=Oa["i"](h,c,m,null,{hv:c.hv,boundingMode:c.bounding},v);if(!Sy(h).isNew&&y){for(var b=c.transition,x={},_=0;_<s.length;_++){var w=s[_],S=v[w];b&&(_m(b)||V["indexOf"](b,w)>=0)?x[w]=S:h[w]=S}Object(Le["h"])(h,x,t,0)}else h.attr(v)}}},e.prototype._clear=function(){var t=this,e=this._elMap;e.each((function(n){My(n,Sy(n).option,e,t._lastGraphicModel)})),this._elMap=V["createHashMap"]()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(ci["a"]);function Cy(t){var e=V["hasOwn"](wy,t)?wy[t]:ke["getShapeClass"](t);var n=new e({});return Sy(n).type=t,n}function Ay(t,e,n,i){var r=Cy(n);return e.add(r),i.set(t,r),Sy(r).id=t,Sy(r).isNew=!0,r}function My(t,e,n,i){var r=t&&t.parent;r&&("group"===t.type&&t.traverse((function(t){My(t,e,n,i)})),xm(t,e,i),n.removeKey(Sy(t).id))}function Ty(t,e,n,i){t.isGroup||V["each"]([["cursor",zr["c"].prototype.cursor],["zlevel",i||0],["z",n||0],["z2",0]],(function(n){var i=n[0];V["hasOwn"](e,i)?t[i]=V["retrieve2"](e[i],n[1]):null==t[i]&&(t[i]=n[1])})),V["each"](V["keys"](e),(function(n){if(0===n.indexOf("on")){var i=e[n];t[n]=V["isFunction"](i)?i:null}})),V["hasOwn"](e,"draggable")&&(t.draggable=e.draggable),null!=e.name&&(t.name=e.name),null!=e.id&&(t.id=e.id)}function ky(t){return t=V["extend"]({},t),V["each"](["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(Oa["a"]),(function(e){delete t[e]})),t}function Ly(t,e,n){var i=Object(Ee["a"])(t).eventData;t.silent||t.ignore||i||(i=Object(Ee["a"])(t).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name}),i&&(i.info=n.info)}function jy(t){t.registerComponentModel(_y),t.registerComponentView(Oy),t.registerPreprocessor((function(t){var e=t.graphic;Object(V["isArray"])(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])}))}var Iy=["x","y","radius","angle","single"],Ey=["cartesian2d","polar","singleAxis"];function Py(t){var e=t.get("coordinateSystem");return Object(V["indexOf"])(Ey,e)>=0}function Ry(t){return t+"Axis"}function Dy(t,e){var n,i=Object(V["createHashMap"])(),r=[],a=Object(V["createHashMap"])();t.eachComponent({mainType:"dataZoom",query:e},(function(t){a.get(t.uid)||s(t)}));do{n=!1,t.eachComponent("dataZoom",o)}while(n);function o(t){!a.get(t.uid)&&l(t)&&(s(t),n=!0)}function s(t){a.set(t.uid,!0),r.push(t),c(t)}function l(t){var e=!1;return t.eachTargetAxis((function(t,n){var r=i.get(t);r&&r[n]&&(e=!0)})),e}function c(t){t.eachTargetAxis((function(t,e){(i.get(t)||i.set(t,[]))[e]=!0}))}return r}function Fy(t){var e=t.ecModel,n={infoList:[],infoMap:Object(V["createHashMap"])()};return t.eachTargetAxis((function(t,i){var r=e.getComponent(Ry(t),i);if(r){var a=r.getCoordSysModel();if(a){var o=a.uid,s=n.infoMap.get(o);s||(s={model:a,axisModels:[]},n.infoList.push(s),n.infoMap.set(o,s)),s.axisModels.push(r)}}})),n}var Ny=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},t}(),By=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return Object(xe["a"])(e,t),e.prototype.init=function(t,e,n){var i=Vy(t);this.settledOption=i,this.mergeDefaultAndTheme(t,n),this._doInit(i)},e.prototype.mergeOption=function(t){var e=Vy(t);Object(V["merge"])(this.option,t,!0),Object(V["merge"])(this.settledOption,e,!0),this._doInit(e)},e.prototype._doInit=function(t){var e=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var n=this.settledOption;Object(V["each"])([["start","startValue"],["end","endValue"]],(function(t,i){"value"===this._rangePropMode[i]&&(e[t[0]]=n[t[0]]=null)}),this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),e=this._targetAxisInfoMap=Object(V["createHashMap"])(),n=this._fillSpecifiedTargetAxis(e);n?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(e,this._orient)),this._noTarget=!0,e.each((function(t){t.indexList.length&&(this._noTarget=!1)}),this)},e.prototype._fillSpecifiedTargetAxis=function(t){var e=!1;return Object(V["each"])(Iy,(function(n){var i=this.getReferringComponents(Ry(n),Ur["a"]);if(i.specified){e=!0;var r=new Ny;Object(V["each"])(i.models,(function(t){r.add(t.componentIndex)})),t.set(n,r)}}),this),e},e.prototype._fillAutoTargetAxisByOrient=function(t,e){var n=this.ecModel,i=!0;if(i){var r="vertical"===e?"y":"x",a=n.findComponents({mainType:r+"Axis"});o(a,r)}if(i){a=n.findComponents({mainType:"singleAxis",filter:function(t){return t.get("orient",!0)===e}});o(a,"single")}function o(e,n){var r=e[0];if(r){var a=new Ny;if(a.add(r.componentIndex),t.set(n,a),i=!1,"x"===n||"y"===n){var o=r.getReferringComponents("grid",Ur["b"]).models[0];o&&Object(V["each"])(e,(function(t){r.componentIndex!==t.componentIndex&&o===t.getReferringComponents("grid",Ur["b"]).models[0]&&a.add(t.componentIndex)}))}}}i&&Object(V["each"])(Iy,(function(e){if(i){var r=n.findComponents({mainType:Ry(e),filter:function(t){return"category"===t.get("type",!0)}});if(r[0]){var a=new Ny;a.add(r[0].componentIndex),t.set(e,a),i=!1}}}),this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis((function(e){!t&&(t=e)}),this),"y"===t?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var e=this._rangePropMode,n=this.get("rangeMode");Object(V["each"])([["start","startValue"],["end","endValue"]],(function(i,r){var a=null!=t[i[0]],o=null!=t[i[1]];a&&!o?e[r]="percent":!a&&o?e[r]="value":n?e[r]=n[r]:a&&(e[r]="percent")}))},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis((function(e,n){null==t&&(t=this.ecModel.getComponent(Ry(e),n))}),this),t},e.prototype.eachTargetAxis=function(t,e){this._targetAxisInfoMap.each((function(n,i){Object(V["each"])(n.indexList,(function(n){t.call(e,i,n)}))}))},e.prototype.getAxisProxy=function(t,e){var n=this.getAxisModel(t,e);if(n)return n.__dzAxisProxy},e.prototype.getAxisModel=function(t,e){var n=this._targetAxisInfoMap.get(t);if(n&&n.indexMap[e])return this.ecModel.getComponent(Ry(t),e)},e.prototype.setRawRange=function(t){var e=this.option,n=this.settledOption;Object(V["each"])([["start","startValue"],["end","endValue"]],(function(i){null==t[i[0]]&&null==t[i[1]]||(e[i[0]]=n[i[0]]=t[i[0]],e[i[1]]=n[i[1]]=t[i[1]])}),this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var e=this.option;Object(V["each"])(["start","startValue","end","endValue"],(function(n){e[n]=t[n]}))},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var e,n=this._targetAxisInfoMap.keys(),i=0;i<n.length;i++)for(var r=n[i],a=this._targetAxisInfoMap.get(r),o=0;o<a.indexList.length;o++){var s=this.getAxisProxy(r,a.indexList[o]);if(s.hostedBy(this))return s;e||(e=s)}return e},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(ei["a"]);function Vy(t){var e={};return Object(V["each"])(["start","end","startValue","endValue","throttle"],(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e}var Gy=By,zy=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.type="dataZoom.select",e}(Gy),Uy=zy,Hy=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n,i){this.dataZoomModel=t,this.ecModel=e,this.api=n},e.type="dataZoom",e}(ci["a"]),Wy=Hy,Yy=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.type="dataZoom.select",e}(Wy),Xy=Yy,qy=n("538f"),Zy=V["each"],Qy=vi["c"],Jy=function(){function t(t,e,n,i){this._dimName=t,this._axisIndex=e,this.ecModel=i,this._dataZoomModel=n}return t.prototype.hostedBy=function(t){return this._dataZoomModel===t},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries((function(e){if(Py(e)){var n=Ry(this._dimName),i=e.getReferringComponents(n,Ur["b"]).models[0];i&&this._axisIndex===i.componentIndex&&t.push(e)}}),this),t},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return V["clone"](this._minMaxSpan)},t.prototype.calculateDataWindow=function(t){var e,n=this._dataExtent,i=this.getAxisModel(),r=i.axis.scale,a=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[];Zy(["start","end"],(function(i,c){var u=t[i],h=t[i+"Value"];"percent"===a[c]?(null==u&&(u=o[c]),h=r.parse(vi["m"](u,o,n))):(e=!0,h=null==h?n[c]:r.parse(h),u=vi["m"](h,n,o)),l[c]=null==h||isNaN(h)?n[c]:h,s[c]=null==u||isNaN(u)?o[c]:u})),Qy(l),Qy(s);var c=this._minMaxSpan;function u(t,e,n,i,a){var o=a?"Span":"ValueSpan";Uu(0,t,n,"all",c["min"+o],c["max"+o]);for(var s=0;s<2;s++)e[s]=vi["m"](t[s],n,i,!0),a&&(e[s]=r.parse(e[s]))}return e?u(l,s,n,o,!1):u(s,l,o,n,!0),{valueWindow:l,percentWindow:s}},t.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=Ky(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var n=this._dimName,i=this.getTargetSeriesModels(),r=t.get("filterMode"),a=this._valueWindow;"none"!==r&&Zy(i,(function(t){var e=t.getData(),i=e.mapDimensionsAll(n);if(i.length){if("weakFilter"===r){var s=e.getStore(),l=V["map"](i,(function(t){return e.getDimensionIndex(t)}),e);e.filterSelf((function(t){for(var e,n,r,o=0;o<i.length;o++){var c=s.get(l[o],t),u=!isNaN(c),h=c<a[0],d=c>a[1];if(u&&!h&&!d)return!0;u&&(r=!0),h&&(e=!0),d&&(n=!0)}return r&&e&&n}))}else Zy(i,(function(n){if("empty"===r)t.setData(e=e.map(n,(function(t){return o(t)?t:NaN})));else{var i={};i[n]=a,e.selectRange(i)}}));Zy(i,(function(t){e.setApproximateExtent(a,t)}))}}))}function o(t){return t>=a[0]&&t<=a[1]}},t.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;Zy(["min","max"],(function(i){var r=e.get(i+"Span"),a=e.get(i+"ValueSpan");null!=a&&(a=this.getAxisModel().axis.scale.parse(a)),null!=a?r=vi["m"](n[0]+a,n,[0,100],!0):null!=r&&(a=vi["m"](r,[0,100],n,!0)-n[0]),t[i+"Span"]=r,t[i+"ValueSpan"]=a}),this)},t.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(e){var i=vi["g"](n,[0,500]);i=Math.min(i,20);var r=t.axis.scale.rawExtentInfo;0!==e[0]&&r.setDeterminedMinMax("min",+n[0].toFixed(i)),100!==e[1]&&r.setDeterminedMinMax("max",+n[1].toFixed(i)),r.freeze()}},t}();function Ky(t,e,n){var i=[1/0,-1/0];Zy(n,(function(t){Object(Vu["k"])(i,t.getData(),e)}));var r=t.getAxisModel(),a=Object(qy["a"])(r.axis.scale,r,i).calculate();return[a.min,a.max]}var $y=Jy,tb={getTargetSeries:function(t){function e(e){t.eachComponent("dataZoom",(function(n){n.eachTargetAxis((function(i,r){var a=t.getComponent(Ry(i),r);e(i,r,a,n)}))}))}e((function(t,e,n,i){n.__dzAxisProxy=null}));var n=[];e((function(e,i,r,a){r.__dzAxisProxy||(r.__dzAxisProxy=new $y(e,i,a,t),n.push(r.__dzAxisProxy))}));var i=Object(V["createHashMap"])();return Object(V["each"])(n,(function(t){Object(V["each"])(t.getTargetSeriesModels(),(function(t){i.set(t.uid,t)}))})),i},overallReset:function(t,e){t.eachComponent("dataZoom",(function(t){t.eachTargetAxis((function(e,n){t.getAxisProxy(e,n).reset(t)})),t.eachTargetAxis((function(n,i){t.getAxisProxy(n,i).filterData(t,e)}))})),t.eachComponent("dataZoom",(function(t){var e=t.findRepresentativeAxisProxy();if(e){var n=e.getDataPercentWindow(),i=e.getDataValueWindow();t.setCalculatedRange({start:n[0],end:n[1],startValue:i[0],endValue:i[1]})}}))}},eb=tb;function nb(t){t.registerAction("dataZoom",(function(t,e){var n=Dy(e,t);Object(V["each"])(n,(function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})}))}))}var ib=!1;function rb(t){ib||(ib=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,eb),nb(t),t.registerSubTypeDefaulter("dataZoom",(function(){return"slider"})))}function ab(t){t.registerComponentModel(Uy),t.registerComponentView(Xy),rb(t)}var ob=function(){function t(){}return t}(),sb={};function lb(t,e){sb[t]=e}function cb(t){return sb[t]}var ub=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;V["each"](this.option.feature,(function(t,n){var i=cb(n);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(e)),V["merge"](t,i.defaultOption))}))},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(ei["a"]),hb=ub;function db(t,e,n){var i=e.getBoxLayoutParams(),r=e.get("padding"),a={width:n.getWidth(),height:n.getHeight()},o=Object(Oa["g"])(i,a,r);Object(Oa["b"])(e.get("orient"),t,e.get("itemGap"),o.width,o.height),Object(Oa["i"])(t,i,a,r)}function pb(t,e){var n=cs["i"](e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),t=new je["a"]({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1}),t}var fb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n,i){var r=this.group;if(r.removeAll(),t.get("show")){var a=+t.get("itemSize"),o="vertical"===t.get("orient"),s=t.get("feature")||{},l=this._features||(this._features={}),c=[];V["each"](s,(function(t,e){c.push(e)})),new Ko["a"](this._featureNames||[],c).add(u).update(u).remove(V["curry"](u,null)).execute(),this._featureNames=c,db(r,t,n),r.add(pb(r.getBoundingRect(),t)),o||r.eachChild((function(t){var e=t.__title,i=t.ensureState("emphasis"),o=i.textConfig||(i.textConfig={}),s=t.getTextContent(),l=s&&s.ensureState("emphasis");if(l&&!V["isFunction"](l)&&e){var c=l.style||(l.style={}),u=L["d"](e,_t["a"].makeFont(c)),h=t.x+r.x,d=t.y+r.y+a,p=!1;d+u.height>n.getHeight()&&(o.position="top",p=!0);var f=p?-5-u.height:a+10;h+u.width/2>n.getWidth()?(o.position=["100%",f],c.align="right"):h-u.width/2<0&&(o.position=[0,f],c.align="left")}}))}function u(r,a){var o,u=c[r],d=c[a],p=s[u],f=new $n["a"](p,t,t.ecModel);if(i&&null!=i.newTitle&&i.featureName===u&&(p.title=i.newTitle),u&&!d){if(gb(u))o={onclick:f.option.onclick,featureName:u};else{var g=cb(u);if(!g)return;o=new g}l[u]=o}else if(o=l[d],!o)return;o.uid=Object(Ce["c"])("toolbox-feature"),o.model=f,o.ecModel=e,o.api=n;var m=o instanceof ob;u||!d?!f.get("show")||m&&o.unusable?m&&o.remove&&o.remove(e,n):(h(f,o,u),f.setIconStatus=function(t,e){var n=this.option,i=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,i[t]&&("emphasis"===e?Pe["r"]:Pe["C"])(i[t])},o instanceof ob&&o.render&&o.render(f,e,n,i)):m&&o.dispose&&o.dispose(e,n)}function h(i,s,l){var c,u,h=i.getModel("iconStyle"),d=i.getModel(["emphasis","iconStyle"]),p=s instanceof ob&&s.getIcons?s.getIcons():i.get("icon"),f=i.get("title")||{};V["isString"](p)?(c={},c[l]=p):c=p,V["isString"](f)?(u={},u[l]=f):u=f;var g=i.iconPaths={};V["each"](c,(function(l,c){var p=ke["createIcon"](l,{},{x:-a/2,y:-a/2,width:a,height:a});p.setStyle(h.getItemStyle());var f=p.ensureState("emphasis");f.style=d.getItemStyle();var m=new _t["a"]({style:{text:u[c],align:d.get("textAlign"),borderRadius:d.get("textBorderRadius"),padding:d.get("textPadding"),fill:null},ignore:!0});p.setTextContent(m),ke["setTooltipConfig"]({el:p,componentModel:t,itemName:c,formatterParamsExtra:{title:u[c]}}),p.__title=u[c],p.on("mouseover",(function(){var e=d.getItemStyle(),i=o?null==t.get("right")&&"right"!==t.get("left")?"right":"left":null==t.get("bottom")&&"bottom"!==t.get("top")?"bottom":"top";m.setStyle({fill:d.get("textFill")||e.fill||e.stroke||"#000",backgroundColor:d.get("textBackgroundColor")}),p.setTextConfig({position:d.get("textPosition")||i}),m.ignore=!t.get("showTitle"),n.enterEmphasis(this)})).on("mouseout",(function(){"emphasis"!==i.get(["iconStatus",c])&&n.leaveEmphasis(this),m.hide()})),("emphasis"===i.get(["iconStatus",c])?Pe["r"]:Pe["C"])(p),r.add(p),p.on("click",V["bind"](s.onclick,s,e,n,c)),g[c]=p}))}},e.prototype.updateView=function(t,e,n,i){V["each"](this._features,(function(t){t instanceof ob&&t.updateView&&t.updateView(t.model,e,n,i)}))},e.prototype.remove=function(t,e){V["each"](this._features,(function(n){n instanceof ob&&n.remove&&n.remove(t,e)})),this.group.removeAll()},e.prototype.dispose=function(t,e){V["each"](this._features,(function(n){n instanceof ob&&n.dispose&&n.dispose(t,e)}))},e.type="toolbox",e}(ci["a"]);function gb(t){return 0===t.indexOf("my")}var mb=fb,vb=n("22d1"),yb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(xe["a"])(e,t),e.prototype.onclick=function(t,e){var n=this.model,i=n.get("name")||t.get("title.0.text")||"echarts",r="svg"===e.getZr().painter.getType(),a=r?"svg":n.get("type",!0)||"png",o=e.getConnectedDataURL({type:a,backgroundColor:n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")}),s=vb["a"].browser;if(Object(V["isFunction"])(MouseEvent)&&(s.newEdge||!s.ie&&!s.edge)){var l=document.createElement("a");l.download=i+"."+a,l.target="_blank",l.href=o;var c=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});l.dispatchEvent(c)}else if(window.navigator.msSaveOrOpenBlob||r){var u=o.split(","),h=u[0].indexOf("base64")>-1,d=r?decodeURIComponent(u[1]):u[1];h&&(d=window.atob(d));var p=i+"."+a;if(window.navigator.msSaveOrOpenBlob){var f=d.length,g=new Uint8Array(f);while(f--)g[f]=d.charCodeAt(f);var m=new Blob([g]);window.navigator.msSaveOrOpenBlob(m,p)}else{var v=document.createElement("iframe");document.body.appendChild(v);var y=v.contentWindow,b=y.document;b.open("image/svg+xml","replace"),b.write(d),b.close(),y.focus(),b.execCommand("SaveAs",!0,p),document.body.removeChild(v)}}else{var x=n.get("lang"),_='<body style="margin:0;"><img src="'+o+'" style="max-width:100%;" title="'+(x&&x[0]||"")+'" /></body>',w=window.open();w.document.write(_),w.document.title=i}},e.getDefaultOption=function(t){var e={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return e},e}(ob),bb=yb,xb="__ec_magicType_stack__",_b=[["line","bar"],["stack"]],wb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(xe["a"])(e,t),e.prototype.getIcons=function(){var t=this.model,e=t.get("icon"),n={};return V["each"](t.get("type"),(function(t){e[t]&&(n[t]=e[t])})),n},e.getDefaultOption=function(t){var e={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return e},e.prototype.onclick=function(t,e,n){var i=this.model,r=i.get(["seriesIndex",n]);if(Sb[n]){var a,o={series:[]},s=function(t){var e=t.subType,r=t.id,a=Sb[n](e,r,t,i);a&&(V["defaults"](a,t.option),o.series.push(a));var s=t.coordinateSystem;if(s&&"cartesian2d"===s.type&&("line"===n||"bar"===n)){var l=s.getAxesByScale("ordinal")[0];if(l){var c=l.dim,u=c+"Axis",h=t.getReferringComponents(u,Ur["b"]).models[0],d=h.componentIndex;o[u]=o[u]||[];for(var p=0;p<=d;p++)o[u][d]=o[u][d]||{};o[u][d].boundaryGap="bar"===n}}};V["each"](_b,(function(t){V["indexOf"](t,n)>=0&&V["each"](t,(function(t){i.setIconStatus(t,"normal")}))})),i.setIconStatus(n,"emphasis"),t.eachComponent({mainType:"series",query:null==r?null:{seriesIndex:r}},s);var l=n;"stack"===n&&(a=V["merge"]({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),"emphasis"!==i.get(["iconStatus",n])&&(l="tiled")),e.dispatchAction({type:"changeMagicType",currentType:l,newOption:o,newTitle:a,featureName:"magicType"})}},e}(ob),Sb={line:function(t,e,n,i){if("bar"===t)return V["merge"]({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(t,e,n,i){if("line"===t)return V["merge"]({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(t,e,n,i){var r=n.get("stack")===xb;if("line"===t||"bar"===t)return i.setIconStatus("stack",r?"normal":"emphasis"),V["merge"]({id:e,stack:r?"":xb},i.get(["option","stack"])||{},!0)}};Ci["m"]({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(t,e){e.mergeOption(t.newOption)}));var Ob=wb,Cb=new Array(60).join("-"),Ab="\t";function Mb(t){var e={},n=[],i=[];return t.eachRawSeries((function(t){var r=t.coordinateSystem;if(!r||"cartesian2d"!==r.type&&"polar"!==r.type)n.push(t);else{var a=r.getBaseAxis();if("category"===a.type){var o=a.dim+"_"+a.index;e[o]||(e[o]={categoryAxis:a,valueAxis:r.getOtherAxis(a),series:[]},i.push({axisDim:a.dim,axisIndex:a.index})),e[o].series.push(t)}else n.push(t)}})),{seriesGroupByCategoryAxis:e,other:n,meta:i}}function Tb(t){var e=[];return V["each"](t,(function(t,n){var i=t.categoryAxis,r=t.valueAxis,a=r.dim,o=[" "].concat(V["map"](t.series,(function(t){return t.name}))),s=[i.model.getCategories()];V["each"](t.series,(function(t){var e=t.getRawData();s.push(t.getRawData().mapArray(e.mapDimension(a),(function(t){return t})))}));for(var l=[o.join(Ab)],c=0;c<s[0].length;c++){for(var u=[],h=0;h<s.length;h++)u.push(s[h][c]);l.push(u.join(Ab))}e.push(l.join("\n"))})),e.join("\n\n"+Cb+"\n\n")}function kb(t){return V["map"](t,(function(t){var e=t.getRawData(),n=[t.name],i=[];return e.each(e.dimensions,(function(){for(var t=arguments.length,r=arguments[t-1],a=e.getName(r),o=0;o<t-1;o++)i[o]=arguments[o];n.push((a?a+Ab:"")+i.join(Ab))})),n.join("\n")})).join("\n\n"+Cb+"\n\n")}function Lb(t){var e=Mb(t);return{value:V["filter"]([Tb(e.seriesGroupByCategoryAxis),kb(e.other)],(function(t){return!!t.replace(/[\n\t\s]/g,"")})).join("\n\n"+Cb+"\n\n"),meta:e.meta}}function jb(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ib(t){var e=t.slice(0,t.indexOf("\n"));if(e.indexOf(Ab)>=0)return!0}var Eb=new RegExp("["+Ab+"]+","g");function Pb(t){for(var e=t.split(/\n+/g),n=jb(e.shift()).split(Eb),i=[],r=V["map"](n,(function(t){return{name:t,data:[]}})),a=0;a<e.length;a++){var o=jb(e[a]).split(Eb);i.push(o.shift());for(var s=0;s<o.length;s++)r[s]&&(r[s].data[a]=o[s])}return{series:r,categories:i}}function Rb(t){for(var e=t.split(/\n+/g),n=jb(e.shift()),i=[],r=0;r<e.length;r++){var a=jb(e[r]);if(a){var o=a.split(Eb),s="",l=void 0,c=!1;isNaN(o[0])?(c=!0,s=o[0],o=o.slice(1),i[r]={name:s,value:[]},l=i[r].value):l=i[r]=[];for(var u=0;u<o.length;u++)l.push(+o[u]);1===l.length&&(c?i[r].value=l[0]:i[r]=l[0])}}return{name:n,data:i}}function Db(t,e){var n=t.split(new RegExp("\n*"+Cb+"\n*","g")),i={series:[]};return V["each"](n,(function(t,n){if(Ib(t)){var r=Pb(t),a=e[n],o=a.axisDim+"Axis";a&&(i[o]=i[o]||[],i[o][a.axisIndex]={data:r.categories},i.series=i.series.concat(r.series))}else{r=Rb(t);i.series.push(r)}})),i}var Fb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(xe["a"])(e,t),e.prototype.onclick=function(t,e){setTimeout((function(){e.dispatchAction({type:"hideTip"})}));var n=e.getDom(),i=this.model;this._dom&&n.removeChild(this._dom);var r=document.createElement("div");r.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",r.style.backgroundColor=i.get("backgroundColor")||"#fff";var a=document.createElement("h4"),o=i.get("lang")||[];a.innerHTML=o[0]||i.get("title"),a.style.cssText="margin:10px 20px",a.style.color=i.get("textColor");var s=document.createElement("div"),l=document.createElement("textarea");s.style.cssText="overflow:auto";var c=i.get("optionToContent"),u=i.get("contentToOption"),h=Lb(t);if(V["isFunction"](c)){var d=c(e.getOption());V["isString"](d)?s.innerHTML=d:V["isDom"](d)&&s.appendChild(d)}else{l.readOnly=i.get("readOnly");var p=l.style;p.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",p.color=i.get("textColor"),p.borderColor=i.get("textareaBorderColor"),p.backgroundColor=i.get("textareaColor"),l.value=h.value,s.appendChild(l)}var f=h.meta,g=document.createElement("div");g.style.cssText="position:absolute;bottom:5px;left:0;right:0";var m="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",v=document.createElement("div"),y=document.createElement("div");m+=";background-color:"+i.get("buttonColor"),m+=";color:"+i.get("buttonTextColor");var b=this;function x(){n.removeChild(r),b._dom=null}Object(Oi["a"])(v,"click",x),Object(Oi["a"])(y,"click",(function(){if(null==u&&null!=c||null!=u&&null==c)x();else{var t;try{t=V["isFunction"](u)?u(s,e.getOption()):Db(l.value,f)}catch(n){throw x(),new Error("Data view format error "+n)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),x()}})),v.innerHTML=o[1],y.innerHTML=o[2],y.style.cssText=v.style.cssText=m,!i.get("readOnly")&&g.appendChild(y),g.appendChild(v),r.appendChild(a),r.appendChild(s),r.appendChild(g),s.style.height=n.clientHeight-80+"px",n.appendChild(r),this._dom=r},e.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.getDefaultOption=function(t){var e={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return e},e}(ob);function Nb(t,e){return V["map"](t,(function(t,n){var i=e&&e[n];if(V["isObject"](i)&&!V["isArray"](i)){var r=V["isObject"](t)&&!V["isArray"](t);r||(t={value:t});var a=null!=i.name&&null==t.name;return t=V["defaults"](t,i),a&&delete t.name,t}return t}))}Ci["m"]({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(t,e){var n=[];V["each"](t.newOption.series,(function(t){var i=e.getSeriesByName(t.name)[0];if(i){var r=i.get("data");n.push({name:t.name,data:Nb(t.data,r)})}else n.push(V["extend"]({type:"scatter"},t))})),e.mergeOption(V["defaults"]({series:n},t.newOption))}));var Bb=Fb,Vb=V["each"],Gb=Object(Ur["o"])();function zb(t,e){var n=Yb(t);Vb(e,(function(e,i){for(var r=n.length-1;r>=0;r--){var a=n[r];if(a[i])break}if(r<0){var o=t.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(o){var s=o.getPercentRange();n[0][i]={dataZoomId:i,start:s[0],end:s[1]}}}})),n.push(e)}function Ub(t){var e=Yb(t),n=e[e.length-1];e.length>1&&e.pop();var i={};return Vb(n,(function(t,n){for(var r=e.length-1;r>=0;r--)if(t=e[r][n],t){i[n]=t;break}})),i}function Hb(t){Gb(t).snapshots=null}function Wb(t){return Yb(t).length}function Yb(t){var e=Gb(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var Xb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(xe["a"])(e,t),e.prototype.onclick=function(t,e){Hb(t),e.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var e={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return e},e}(ob);Ci["m"]({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(t,e){e.resetOption("recreate")}));var qb=Xb,Zb=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Qb=function(){function t(t,e,n){var i=this;this._targetInfoList=[];var r=Kb(e,t);Object(V["each"])($b,(function(t,e){(!n||!n.include||Object(V["indexOf"])(n.include,e)>=0)&&t(r,i._targetInfoList)}))}return t.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,(function(t,e,n){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var i=nx[t.brushType](0,n,e);t.__rangeOffset={offset:rx[t.brushType](i.values,t.range,[1,1]),xyMinMax:i.xyMinMax}}})),t},t.prototype.matchOutputRanges=function(t,e,n){Object(V["each"])(t,(function(t){var i=this.findTargetInfo(t,e);i&&!0!==i&&Object(V["each"])(i.coordSyses,(function(i){var r=nx[t.brushType](1,i,t.range,!0);n(t,r.values,i,e)}))}),this)},t.prototype.setInputRanges=function(t,e){Object(V["each"])(t,(function(t){var n=this.findTargetInfo(t,e);if(t.range=t.range||[],n&&!0!==n){t.panelId=n.panelId;var i=nx[t.brushType](0,n.coordSys,t.coordRange),r=t.__rangeOffset;t.range=r?rx[t.brushType](i.values,r.offset,ox(i.xyMinMax,r.xyMinMax)):i.values}}),this)},t.prototype.makePanelOpts=function(t,e){return Object(V["map"])(this._targetInfoList,(function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:od(i),isTargetByCursor:ld(i,t,n.coordSysModel),getLinearBrushOtherExtent:sd(i)}}))},t.prototype.controlSeries=function(t,e,n){var i=this.findTargetInfo(t,n);return!0===i||i&&Object(V["indexOf"])(i.coordSyses,e.coordinateSystem)>=0},t.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,i=Kb(e,t),r=0;r<n.length;r++){var a=n[r],o=t.panelId;if(o){if(a.panelId===o)return a}else for(var s=0;s<tx.length;s++)if(tx[s](i,a))return a}return!0},t}();function Jb(t){return t[0]>t[1]&&t.reverse(),t}function Kb(t,e){return Object(Ur["s"])(t,e,{includeMainTypes:Zb})}var $b={grid:function(t,e){var n=t.xAxisModels,i=t.yAxisModels,r=t.gridModels,a=Object(V["createHashMap"])(),o={},s={};(n||i||r)&&(Object(V["each"])(n,(function(t){var e=t.axis.grid.model;a.set(e.id,e),o[e.id]=!0})),Object(V["each"])(i,(function(t){var e=t.axis.grid.model;a.set(e.id,e),s[e.id]=!0})),Object(V["each"])(r,(function(t){a.set(t.id,t),o[t.id]=!0,s[t.id]=!0})),a.each((function(t){var r=t.coordinateSystem,a=[];Object(V["each"])(r.getCartesians(),(function(t,e){(Object(V["indexOf"])(n,t.getAxis("x").model)>=0||Object(V["indexOf"])(i,t.getAxis("y").model)>=0)&&a.push(t)})),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:a[0],coordSyses:a,getPanelRect:ex.grid,xAxisDeclared:o[t.id],yAxisDeclared:s[t.id]})})))},geo:function(t,e){Object(V["each"])(t.geoModels,(function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:ex.geo})}))}},tx=[function(t,e){var n=t.xAxisModel,i=t.yAxisModel,r=t.gridModel;return!r&&n&&(r=n.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===e.gridModel},function(t,e){var n=t.geoModel;return n&&n===e.geoModel}],ex={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(ke["getTransform"](t)),e}},nx={lineX:Object(V["curry"])(ix,0),lineY:Object(V["curry"])(ix,1),rect:function(t,e,n,i){var r=t?e.pointToData([n[0][0],n[1][0]],i):e.dataToPoint([n[0][0],n[1][0]],i),a=t?e.pointToData([n[0][1],n[1][1]],i):e.dataToPoint([n[0][1],n[1][1]],i),o=[Jb([r[0],a[0]]),Jb([r[1],a[1]])];return{values:o,xyMinMax:o}},polygon:function(t,e,n,i){var r=[[1/0,-1/0],[1/0,-1/0]],a=Object(V["map"])(n,(function(n){var a=t?e.pointToData(n,i):e.dataToPoint(n,i);return r[0][0]=Math.min(r[0][0],a[0]),r[1][0]=Math.min(r[1][0],a[1]),r[0][1]=Math.max(r[0][1],a[0]),r[1][1]=Math.max(r[1][1],a[1]),a}));return{values:a,xyMinMax:r}}};function ix(t,e,n,i){var r=n.getAxis(["x","y"][t]),a=Jb(Object(V["map"])([0,1],(function(t){return e?r.coordToData(r.toLocalCoord(i[t]),!0):r.toGlobalCoord(r.dataToCoord(i[t]))}))),o=[];return o[t]=a,o[1-t]=[NaN,NaN],{values:a,xyMinMax:o}}var rx={lineX:Object(V["curry"])(ax,0),lineY:Object(V["curry"])(ax,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,e,n){return Object(V["map"])(t,(function(t,i){return[t[0]-n[0]*e[i][0],t[1]-n[1]*e[i][1]]}))}};function ax(t,e,n,i){return[e[0]-i[t]*n[0],e[1]-i[t]*n[1]]}function ox(t,e){var n=sx(t),i=sx(e),r=[n[0]/i[0],n[1]/i[1]];return isNaN(r[0])&&(r[0]=1),isNaN(r[1])&&(r[1]=1),r}function sx(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var lx=Qb,cx=n("2f1f"),ux=V["each"],hx=Object(Ur["p"])("toolbox-dataZoom_"),dx=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n,i){this._brushController||(this._brushController=new ad(n.getZr()),this._brushController.on("brush",V["bind"](this._onBrush,this)).mount()),mx(t,e,this,i,n),gx(t,e)},e.prototype.onclick=function(t,e,n){px[n].call(this)},e.prototype.remove=function(t,e){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,e){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var e=t.areas;if(t.isEnd&&e.length){var n={},i=this.ecModel;this._brushController.updateCovers([]);var r=new lx(fx(this.model),i,{include:["grid"]});r.matchOutputRanges(e,i,(function(t,e,n){if("cartesian2d"===n.type){var i=t.brushType;"rect"===i?(a("x",n,e[0]),a("y",n,e[1])):a({lineX:"x",lineY:"y"}[i],n,e)}})),zb(i,n),this._dispatchZoomAction(n)}function a(t,e,r){var a=e.getAxis(t),s=a.model,l=o(t,s,i),c=l.findRepresentativeAxisProxy(s).getMinMaxSpan();null==c.minValueSpan&&null==c.maxValueSpan||(r=Uu(0,r.slice(),a.scale.getExtent(),0,c.minValueSpan,c.maxValueSpan)),l&&(n[l.id]={dataZoomId:l.id,startValue:r[0],endValue:r[1]})}function o(t,e,n){var i;return n.eachComponent({mainType:"dataZoom",subType:"select"},(function(n){var r=n.getAxisModel(t,e.componentIndex);r&&(i=n)})),i}},e.prototype._dispatchZoomAction=function(t){var e=[];ux(t,(function(t,n){e.push(V["clone"](t))})),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},e.getDefaultOption=function(t){var e={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return e},e}(ob),px={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(Ub(this.ecModel))}};function fx(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return null==e.xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex="all"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex="all"),e}function gx(t,e){t.setIconStatus("back",Wb(e)>1?"emphasis":"normal")}function mx(t,e,n,i,r){var a=n._isZoomActive;i&&"takeGlobalCursor"===i.type&&(a="dataZoomSelect"===i.key&&i.dataZoomSelectActive),n._isZoomActive=a,t.setIconStatus("zoom",a?"emphasis":"normal");var o=new lx(fx(t),e,{include:["grid"]}),s=o.makePanelOpts(r,(function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"}));n._brushController.setPanels(s).enableBrush(!(!a||!s.length)&&{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()})}Object(cx["b"])("dataZoom",(function(t){var e=t.getComponent("toolbox",0),n=["feature","dataZoom"];if(e&&null!=e.get(n)){var i=e.getModel(n),r=[],a=fx(i),o=Object(Ur["s"])(t,a);return ux(o.xAxisModels,(function(t){return s(t,"xAxis","xAxisIndex")})),ux(o.yAxisModels,(function(t){return s(t,"yAxis","yAxisIndex")})),r}function s(t,e,n){var a=t.componentIndex,o={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:hx+e+a};o[n]=a,r.push(o)}}));var vx=dx;function yx(t){t.registerComponentModel(hb),t.registerComponentView(mb),lb("saveAsImage",bb),lb("magicType",Ob),lb("dataView",Bb),lb("dataZoom",vx),lb("restore",qb),Object(C["a"])(ab)}var bx=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(ei["a"]),xx=bx;function _x(t){var e=t.get("confine");return null!=e?!!e:"richText"===t.get("renderMode")}function wx(t){if(vb["a"].domSupported)for(var e=document.documentElement.style,n=0,i=t.length;n<i;n++)if(t[n]in e)return t[n]}var Sx=wx(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ox=wx(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Cx(t,e){if(!t)return e;e=Object(cs["j"])(e,!0);var n=t.indexOf(e);return t=-1===n?e:"-"+t.slice(0,n)+"-"+e,t.toLowerCase()}function Ax(t,e){var n=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return n?e?n[e]:n:null}var Mx=Cx(Ox,"transition"),Tx=Cx(Sx,"transform"),kx="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(vb["a"].transform3dSupported?"will-change:transform;":"");function Lx(t){return t="left"===t?"right":"right"===t?"left":"top"===t?"bottom":"top",t}function jx(t,e,n){if(!Object(V["isString"])(n)||"inside"===n)return"";var i=t.get("backgroundColor"),r=t.get("borderWidth");e=Object(cs["c"])(e);var a,o=Lx(n),s=Math.max(1.5*Math.round(r),6),l="",c=Tx+":";Object(V["indexOf"])(["left","right"],o)>-1?(l+="top:50%",c+="translateY(-50%) rotate("+(a="left"===o?-225:-45)+"deg)"):(l+="left:50%",c+="translateX(-50%) rotate("+(a="top"===o?225:45)+"deg)");var u=a*Math.PI/180,h=s+r,d=h*Math.abs(Math.cos(u))+h*Math.abs(Math.sin(u)),p=Math.round(100*((d-Math.SQRT2*r)/2+Math.SQRT2*r-(d-h)/2))/100;l+=";"+o+":-"+p+"px";var f=e+" solid "+r+"px;",g=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",l+";"+c+";","border-bottom:"+f,"border-right:"+f,"background-color:"+i+";"];return'<div style="'+g.join("")+'"></div>'}function Ix(t,e){var n="cubic-bezier(0.23,1,0.32,1)",i=" "+t/2+"s "+n,r="opacity"+i+",visibility"+i;return e||(i=" "+t+"s "+n,r+=vb["a"].transformSupported?","+Tx+i:",left"+i+",top"+i),Mx+":"+r}function Ex(t,e,n){var i=t.toFixed(0)+"px",r=e.toFixed(0)+"px";if(!vb["a"].transformSupported)return n?"top:"+r+";left:"+i+";":[["top",r],["left",i]];var a=vb["a"].transform3dSupported,o="translate"+(a?"3d":"")+"("+i+","+r+(a?",0":"")+")";return n?"top:0;left:0;"+Tx+":"+o+";":[["top",0],["left",0],[Sx,o]]}function Px(t){var e=[],n=t.get("fontSize"),i=t.getTextColor();i&&e.push("color:"+i),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(3*n/2)+"px");var r=t.get("textShadowColor"),a=t.get("textShadowBlur")||0,o=t.get("textShadowOffsetX")||0,s=t.get("textShadowOffsetY")||0;return r&&a&&e.push("text-shadow:"+o+"px "+s+"px "+a+"px "+r),Object(V["each"])(["decoration","align"],(function(n){var i=t.get(n);i&&e.push("text-"+n+":"+i)})),e.join(";")}function Rx(t,e,n){var i=[],r=t.get("transitionDuration"),a=t.get("backgroundColor"),o=t.get("shadowBlur"),s=t.get("shadowColor"),l=t.get("shadowOffsetX"),c=t.get("shadowOffsetY"),u=t.getModel("textStyle"),h=Object(Zn["d"])(t,"html"),d=l+"px "+c+"px "+o+"px "+s;return i.push("box-shadow:"+d),e&&r&&i.push(Ix(r,n)),a&&i.push("background-color:"+a),Object(V["each"])(["width","color","radius"],(function(e){var n="border-"+e,r=Object(cs["j"])(n),a=t.get(r);null!=a&&i.push(n+":"+a+("color"===e?"":"px"))})),i.push(Px(u)),null!=h&&i.push("padding:"+Object(cs["i"])(h).join("px ")+"px"),i.join(";")+";"}function Dx(t,e,n,i,r){var a=e&&e.painter;if(n){var o=a&&a.getViewportRoot();o&&Object(q["d"])(t,o,document.body,i,r)}else{t[0]=i,t[1]=r;var s=a&&a.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var Fx=function(){function t(t,e,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,vb["a"].wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var r=this._zr=e.getZr(),a=this._appendToBody=n&&n.appendToBody;Dx(this._styleCoord,r,a,e.getWidth()/2,e.getHeight()/2),a?document.body.appendChild(i):t.appendChild(i),this._container=t;var o=this;i.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},i.onmousemove=function(t){if(t=t||window.event,!o._enterable){var e=r.handler,n=r.painter.getViewportRoot();Object(Oi["e"])(n,t,!0),e.dispatch("mousemove",t)}},i.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}return t.prototype.update=function(t){var e=this._container,n=Ax(e,"position"),i=e.style;"absolute"!==i.position&&"absolute"!==n&&(i.position="relative");var r=t.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r,this.el.className=t.get("className")||""},t.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,r=this._styleCoord;n.innerHTML?i.cssText=kx+Rx(t,!this._firstShow,this._longHide)+Ex(r[0],r[1],!0)+"border-color:"+Object(cs["c"])(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(t,e,n,i,r){var a=this.el;if(null!=t){var o="";if(Object(V["isString"])(r)&&"item"===n.get("trigger")&&!_x(n)&&(o=jx(n,i,r)),Object(V["isString"])(t))a.innerHTML=t+o;else if(t){a.innerHTML="",Object(V["isArray"])(t)||(t=[t]);for(var s=0;s<t.length;s++)Object(V["isDom"])(t[s])&&t[s].parentNode!==a&&a.appendChild(t[s]);if(o&&a.childNodes.length){var l=document.createElement("div");l.innerHTML=o,a.appendChild(l)}}}else a.innerHTML=""},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},t.prototype.moveTo=function(t,e){var n=this._styleCoord;if(Dx(n,this._zr,this._appendToBody,t,e),null!=n[0]&&null!=n[1]){var i=this.el.style,r=Ex(n[0],n[1]);Object(V["each"])(r,(function(t){i[t[0]]=t[1]}))}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",vb["a"].transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return t._longHide=!0}),500)},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Object(V["bind"])(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t}(),Nx=Fx,Bx=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),zx(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(t,e,n,i,r){var a=this;V["isObject"](t)&&Object(Ms["c"])(""),this.el&&this._zr.remove(this.el);var o=n.getModel("textStyle");this.el=new _t["a"]({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:o.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:Object(Zn["d"])(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),V["each"](["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],(function(t){a.el.style[t]=n.get(t)})),V["each"](["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],(function(t){a.el.style[t]=o.get(t)||0})),this._zr.add(this.el);var s=this;this.el.on("mouseover",(function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0})),this.el.on("mouseout",(function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1}))},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),n=Gx(t.style);return[e.width+n.left+n.right,e.height+n.top+n.bottom]},t.prototype.moveTo=function(t,e){var n=this.el;if(n){var i=this._styleCoord;zx(i,this._zr,t,e),t=i[0],e=i[1];var r=n.style,a=Vx(r.borderWidth||0),o=Gx(r);n.x=t+a+o.left,n.y=e+a+o.top,n.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(V["bind"](this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function Vx(t){return Math.max(0,t)}function Gx(t){var e=Vx(t.shadowBlur||0),n=Vx(t.shadowOffsetX||0),i=Vx(t.shadowOffsetY||0);return{left:Vx(e-n),right:Vx(e+n),top:Vx(e-i),bottom:Vx(e+i)}}function zx(t,e,n,i){t[0]=n,t[1]=i,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var Ux=Bx,Hx=n("133d"),Wx=n("17d6"),Yx=n("f876"),Xx=n("38a2"),qx=new je["a"]({shape:{x:-1,y:-1,width:2,height:2}}),Zx=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.init=function(t,e){if(!vb["a"].node&&e.getDom()){var n=t.getComponent("tooltip"),i=this._renderMode=Object(Ur["i"])(n.get("renderMode"));this._tooltipContent="richText"===i?new Ux(e):new Nx(e.getDom(),e,{appendToBody:n.get("appendToBody",!0)})}},e.prototype.render=function(t,e,n){if(!vb["a"].node&&n.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n;var i=this._tooltipContent;i.update(t),i.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&t.get("transitionDuration")?Object(De["b"])(this,"_updatePosition",50,"fixRate"):Object(De["a"])(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,e=t.get("triggerOn");Wx["a"]("itemTooltip",this._api,Object(V["bind"])((function(t,n,i){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(n,i):"leave"===t&&this._hide(i))}),this))},e.prototype._keepShow=function(){var t=this._tooltipModel,e=this._ecModel,n=this._api,i=t.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==i&&"click"!==i){var r=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!n.isDisposed()&&r.manuallyShowTip(t,e,n,{x:r._lastX,y:r._lastY,dataByCoordSys:r._lastDataByCoordSys})}))}},e.prototype.manuallyShowTip=function(t,e,n,i){if(i.from!==this.uid&&!vb["a"].node&&n.getDom()){var r=Jx(i,n);this._ticket="";var a=i.dataByCoordSys,o=n_(i,e,n);if(o){var s=o.el.getBoundingRect().clone();s.applyTransform(o.el.transform),this._tryShow({offsetX:s.x+s.width/2,offsetY:s.y+s.height/2,target:o.el,position:i.position,positionDefault:"bottom"},r)}else if(i.tooltip&&null!=i.x&&null!=i.y){var l=qx;l.x=i.x,l.y=i.y,l.update(),Object(Ee["a"])(l).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:l},r)}else if(a)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:a,tooltipOption:i.tooltipOption},r);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(t,e,n,i))return;var c=Object(Hx["a"])(i,e),u=c.point[0],h=c.point[1];null!=u&&null!=h&&this._tryShow({offsetX:u,offsetY:h,target:c.el,position:i.position,positionDefault:"bottom"},r)}else null!=i.x&&null!=i.y&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target},r))}},e.prototype.manuallyHideTip=function(t,e,n,i){var r=this._tooltipContent;this._tooltipModel&&r.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(Jx(i,n))},e.prototype._manuallyAxisShowTip=function(t,e,n,i){var r=i.seriesIndex,a=i.dataIndex,o=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=r&&null!=a&&null!=o){var s=e.getSeriesByIndex(r);if(s){var l=s.getData(),c=Qx([l.getItemModel(a),s,(s.coordinateSystem||{}).model],this._tooltipModel);if("axis"===c.get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:r,dataIndex:a,position:i.position}),!0}}},e.prototype._tryShow=function(t,e){var n=t.target,i=this._tooltipModel;if(i){this._lastX=t.offsetX,this._lastY=t.offsetY;var r=t.dataByCoordSys;if(r&&r.length)this._showAxisTooltip(r,t);else if(n){var a,o;this._lastDataByCoordSys=null,Object(Pa["a"])(n,(function(t){return null!=Object(Ee["a"])(t).dataIndex?(a=t,!0):null!=Object(Ee["a"])(t).tooltipConfig?(o=t,!0):void 0}),!0),a?this._showSeriesItemTooltip(t,a,e):o?this._showComponentItemTooltip(t,o,e):this._hide(e)}else this._lastDataByCoordSys=null,this._hide(e)}},e.prototype._showOrMove=function(t,e){var n=t.get("showDelay");e=Object(V["bind"])(e,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(e,n):e()},e.prototype._showAxisTooltip=function(t,e){var n=this._ecModel,i=this._tooltipModel,r=[e.offsetX,e.offsetY],a=Qx([e.tooltipOption],i),o=this._renderMode,s=[],l=Object(Zn["c"])("section",{blocks:[],noHeader:!0}),c=[],u=new Zn["a"];Object(V["each"])(t,(function(t){Object(V["each"])(t.dataByAxis,(function(t){var e=n.getComponent(t.axisDim+"Axis",t.axisIndex),r=t.value;if(e&&null!=r){var a=Xv["e"](r,e.axis,n,t.seriesDataIndices,t.valueLabelOpt),h=Object(Zn["c"])("section",{header:a,noHeader:!Object(V["trim"])(a),sortBlocks:!0,blocks:[]});l.blocks.push(h),Object(V["each"])(t.seriesDataIndices,(function(l){var d=n.getSeriesByIndex(l.seriesIndex),p=l.dataIndexInside,f=d.getDataParams(p);if(!(f.dataIndex<0)){f.axisDim=t.axisDim,f.axisIndex=t.axisIndex,f.axisType=t.axisType,f.axisId=t.axisId,f.axisValue=Vu["c"](e.axis,{value:r}),f.axisValueLabel=a,f.marker=u.makeTooltipMarker("item",Object(cs["c"])(f.color),o);var g=Object(Xx["b"])(d.formatTooltip(p,!0,null)),m=g.frag;if(m){var v=Qx([d],i).get("valueFormatter");h.blocks.push(v?Object(V["extend"])({valueFormatter:v},m):m)}g.text&&c.push(g.text),s.push(f)}}))}}))})),l.blocks.reverse(),c.reverse();var h=e.position,d=a.get("order"),p=Object(Zn["b"])(l,u,o,d,n.get("useUTC"),a.get("textStyle"));p&&c.unshift(p);var f="richText"===o?"\n\n":"<br/>",g=c.join(f);this._showOrMove(a,(function(){this._updateContentNotChangedOnAxis(t,s)?this._updatePosition(a,h,r[0],r[1],this._tooltipContent,s):this._showTooltipContent(a,g,s,Math.random()+"",r[0],r[1],h,null,u)}))},e.prototype._showSeriesItemTooltip=function(t,e,n){var i=this._ecModel,r=Object(Ee["a"])(e),a=r.seriesIndex,o=i.getSeriesByIndex(a),s=r.dataModel||o,l=r.dataIndex,c=r.dataType,u=s.getData(c),h=this._renderMode,d=t.positionDefault,p=Qx([u.getItemModel(l),s,o&&(o.coordinateSystem||{}).model],this._tooltipModel,d?{position:d}:null),f=p.get("trigger");if(null==f||"item"===f){var g=s.getDataParams(l,c),m=new Zn["a"];g.marker=m.makeTooltipMarker("item",Object(cs["c"])(g.color),h);var v=Object(Xx["b"])(s.formatTooltip(l,!1,c)),y=p.get("order"),b=p.get("valueFormatter"),x=v.frag,_=x?Object(Zn["b"])(b?Object(V["extend"])({valueFormatter:b},x):x,m,h,y,i.get("useUTC"),p.get("textStyle")):v.text,w="item_"+s.name+"_"+l;this._showOrMove(p,(function(){this._showTooltipContent(p,_,g,w,t.offsetX,t.offsetY,t.position,t.target,m)})),n({type:"showTip",dataIndexInside:l,dataIndex:u.getRawIndex(l),seriesIndex:a,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,e,n){var i=Object(Ee["a"])(e),r=i.tooltipConfig,a=r.option||{};if(Object(V["isString"])(a)){var o=a;a={content:o,formatter:o}}var s=[a],l=this._ecModel.getComponent(i.componentMainType,i.componentIndex);l&&s.push(l),s.push({formatter:a.content});var c=t.positionDefault,u=Qx(s,this._tooltipModel,c?{position:c}:null),h=u.get("content"),d=Math.random()+"",p=new Zn["a"];this._showOrMove(u,(function(){var n=Object(V["clone"])(u.get("formatterParams")||{});this._showTooltipContent(u,h,n,d,t.offsetX,t.offsetY,t.position,e,p)})),n({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,e,n,i,r,a,o,s,l){if(this._ticket="",t.get("showContent")&&t.get("show")){var c=this._tooltipContent;c.setEnterable(t.get("enterable"));var u=t.get("formatter");o=o||t.get("position");var h=e,d=this._getNearestPoint([r,a],n,t.get("trigger"),t.get("borderColor")),p=d.color;if(u)if(Object(V["isString"])(u)){var f=t.ecModel.get("useUTC"),g=Object(V["isArray"])(n)?n[0]:n,m=g&&g.axisType&&g.axisType.indexOf("time")>=0;h=u,m&&(h=Object(Yx["h"])(g.axisValue,h,f)),h=Object(cs["e"])(h,n,!0)}else if(Object(V["isFunction"])(u)){var v=Object(V["bind"])((function(e,i){e===this._ticket&&(c.setContent(i,l,t,p,o),this._updatePosition(t,o,r,a,c,n,s))}),this);this._ticket=i,h=u(n,i,v)}else h=u;c.setContent(h,l,t,p,o),c.show(t,p),this._updatePosition(t,o,r,a,c,n,s)}},e.prototype._getNearestPoint=function(t,e,n,i){return"axis"===n||Object(V["isArray"])(e)?{color:i||("html"===this._renderMode?"#fff":"none")}:Object(V["isArray"])(e)?void 0:{color:i||e.color||e.borderColor}},e.prototype._updatePosition=function(t,e,n,i,r,a,o){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var c=r.getSize(),u=t.get("align"),h=t.get("verticalAlign"),d=o&&o.getBoundingRect().clone();if(o&&d.applyTransform(o.transform),Object(V["isFunction"])(e)&&(e=e([n,i],a,r.el,d,{viewSize:[s,l],contentSize:c.slice()})),Object(V["isArray"])(e))n=Object(vi["q"])(e[0],s),i=Object(vi["q"])(e[1],l);else if(Object(V["isObject"])(e)){var p=e;p.width=c[0],p.height=c[1];var f=Object(Oa["g"])(p,{width:s,height:l});n=f.x,i=f.y,u=null,h=null}else if(Object(V["isString"])(e)&&o){var g=t_(e,d,c,t.get("borderWidth"));n=g[0],i=g[1]}else{g=Kx(n,i,r,s,l,u?null:20,h?null:20);n=g[0],i=g[1]}if(u&&(n-=e_(u)?c[0]/2:"right"===u?c[0]:0),h&&(i-=e_(h)?c[1]/2:"bottom"===h?c[1]:0),_x(t)){g=$x(n,i,r,s,l);n=g[0],i=g[1]}r.moveTo(n,i)},e.prototype._updateContentNotChangedOnAxis=function(t,e){var n=this._lastDataByCoordSys,i=this._cbParamsList,r=!!n&&n.length===t.length;return r&&Object(V["each"])(n,(function(n,a){var o=n.dataByAxis||[],s=t[a]||{},l=s.dataByAxis||[];r=r&&o.length===l.length,r&&Object(V["each"])(o,(function(t,n){var a=l[n]||{},o=t.seriesDataIndices||[],s=a.seriesDataIndices||[];r=r&&t.value===a.value&&t.axisType===a.axisType&&t.axisId===a.axisId&&o.length===s.length,r&&Object(V["each"])(o,(function(t,e){var n=s[e];r=r&&t.seriesIndex===n.seriesIndex&&t.dataIndex===n.dataIndex})),i&&Object(V["each"])(t.seriesDataIndices,(function(t){var n=t.seriesIndex,a=e[n],o=i[n];a&&o&&o.data!==a.data&&(r=!1)}))}))})),this._lastDataByCoordSys=t,this._cbParamsList=e,!!r},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,e){!vb["a"].node&&e.getDom()&&(Object(De["a"])(this,"_updatePosition"),this._tooltipContent.dispose(),Wx["b"]("itemTooltip",e))},e.type="tooltip",e}(ci["a"]);function Qx(t,e,n){var i,r=e.ecModel;n?(i=new $n["a"](n,r,r),i=new $n["a"](e.option,i,r)):i=e;for(var a=t.length-1;a>=0;a--){var o=t[a];o&&(o instanceof $n["a"]&&(o=o.get("tooltip",!0)),Object(V["isString"])(o)&&(o={formatter:o}),o&&(i=new $n["a"](o,i,r)))}return i}function Jx(t,e){return t.dispatchAction||Object(V["bind"])(e.dispatchAction,e)}function Kx(t,e,n,i,r,a,o){var s=n.getSize(),l=s[0],c=s[1];return null!=a&&(t+l+a+2>i?t-=l+a:t+=a),null!=o&&(e+c+o>r?e-=c+o:e+=o),[t,e]}function $x(t,e,n,i,r){var a=n.getSize(),o=a[0],s=a[1];return t=Math.min(t+o,i)-o,e=Math.min(e+s,r)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function t_(t,e,n,i){var r=n[0],a=n[1],o=Math.ceil(Math.SQRT2*i)+8,s=0,l=0,c=e.width,u=e.height;switch(t){case"inside":s=e.x+c/2-r/2,l=e.y+u/2-a/2;break;case"top":s=e.x+c/2-r/2,l=e.y-a-o;break;case"bottom":s=e.x+c/2-r/2,l=e.y+u+o;break;case"left":s=e.x-r-o,l=e.y+u/2-a/2;break;case"right":s=e.x+c+o,l=e.y+u/2-a/2}return[s,l]}function e_(t){return"center"===t||"middle"===t}function n_(t,e,n){var i=Object(Ur["t"])(t).queryOptionMap,r=i.keys()[0];if(r&&"series"!==r){var a=Object(Ur["v"])(e,r,i.get(r),{useDefault:!1,enableAll:!1,enableNone:!1}),o=a.models[0];if(o){var s,l=n.getViewOfComponentModel(o);return l.group.traverse((function(e){var n=Object(Ee["a"])(e).tooltipConfig;if(n&&n.name===t.name)return s=e,!0})),s?{componentMainType:r,componentIndex:o.componentIndex,el:s}:void 0}}}var i_=Zx;function r_(t){Object(C["a"])(Wv["a"]),t.registerComponentModel(xx),t.registerComponentView(i_),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},V["noop"]),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},V["noop"])}var a_=["rect","polygon","keep","clear"];function o_(t,e){var n=Object(Ur["r"])(t?t.brush:[]);if(n.length){var i=[];V["each"](n,(function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(i=i.concat(e))}));var r=t&&t.toolbox;V["isArray"](r)&&(r=r[0]),r||(r={feature:{}},t.toolbox=[r]);var a=r.feature||(r.feature={}),o=a.brush||(a.brush={}),s=o.type||(o.type=[]);s.push.apply(s,i),s_(s),e&&!s.length&&s.push.apply(s,a_)}}function s_(t){var e={};V["each"](t,(function(t){e[t]=1})),t.length=0,V["each"](e,(function(e,n){t.push(n)}))}var l_=n("0924"),c_=V["each"];function u_(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function h_(t,e,n){var i={};return c_(e,(function(e){var a=i[e]=r();c_(t[e],(function(t,i){if(Ws.isValidType(i)){var r={type:i,visual:t};n&&n(r,e),a[i]=new Ws(r),"opacity"===i&&(r=V["clone"](r),r.type="colorAlpha",a.__hidden.__alphaForOpacity=new Ws(r))}}))})),i;function r(){var t=function(){};t.prototype.__hidden=t.prototype;var e=new t;return e}}function d_(t,e,n){var i;V["each"](n,(function(t){e.hasOwnProperty(t)&&u_(e[t])&&(i=!0)})),i&&V["each"](n,(function(n){e.hasOwnProperty(n)&&u_(e[n])?t[n]=V["clone"](e[n]):delete t[n]}))}function p_(t,e,n,i,r,a){var o,s={};function l(t){return Object(l_["a"])(n,o,t)}function c(t,e){Object(l_["c"])(n,o,t,e)}function u(t,u){o=null==a?t:u;var h=n.getRawDataItem(o);if(!h||!1!==h.visualMap)for(var d=i.call(r,t),p=e[d],f=s[d],g=0,m=f.length;g<m;g++){var v=f[g];p[v]&&p[v].applyVisual(t,l,c)}}V["each"](t,(function(t){var n=Ws.prepareVisualTypes(e[t]);s[t]=n})),null==a?n.each(u):n.each([a],u)}function f_(t,e,n,i){var r={};return V["each"](t,(function(t){var n=Ws.prepareVisualTypes(e[t]);r[t]=n})),{progress:function(t,a){var o,s;function l(t){return Object(l_["a"])(a,s,t)}function c(t,e){Object(l_["c"])(a,s,t,e)}null!=i&&(o=a.getDimensionIndex(i));var u=a.getStore();while(null!=(s=t.next())){var h=a.getRawDataItem(s);if(!h||!1!==h.visualMap)for(var d=null!=i?u.get(o,s):s,p=n(d),f=e[p],g=r[p],m=0,v=g.length;m<v;m++){var y=g[m];f[y]&&f[y].applyVisual(d,l,c)}}}}}var g_=n("0655");function m_(t){var e=t.brushType,n={point:function(i){return v_[e].point(i,n,t)},rect:function(i){return v_[e].rect(i,n,t)}};return n}var v_={lineX:y_(0),lineY:y_(1),rect:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])},rect:function(t,e,n){return t&&n.boundingRect.intersect(t)}},polygon:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])&&g_["a"](n.range,t[0],t[1])},rect:function(t,e,n){var i=n.range;if(!t||i.length<=1)return!1;var r=t.x,a=t.y,o=t.width,s=t.height,l=i[0];return!!(g_["a"](i,r,a)||g_["a"](i,r+o,a)||g_["a"](i,r,a+s)||g_["a"](i,r+o,a+s)||An["a"].create(t).contain(l[0],l[1])||Object(ke["linePolygonIntersect"])(r,a,r+o,a,i)||Object(ke["linePolygonIntersect"])(r,a,r,a+s,i)||Object(ke["linePolygonIntersect"])(r+o,a,r+o,a+s,i)||Object(ke["linePolygonIntersect"])(r,a+s,r+o,a+s,i))||void 0}}};function y_(t){var e=["x","y"],n=["width","height"];return{point:function(e,n,i){if(e){var r=i.range,a=e[t];return b_(a,r)}},rect:function(i,r,a){if(i){var o=a.range,s=[i[e[t]],i[e[t]]+i[n[t]]];return s[1]<s[0]&&s.reverse(),b_(s[0],o)||b_(s[1],o)||b_(o[0],s)||b_(o[1],s)}}}}function b_(t,e){return e[0]<=t&&t<=e[1]}var x_=["inBrush","outOfBrush"],__="__ecBrushSelect",w_="__ecInBrushSelectEvent";function S_(t){t.eachComponent({mainType:"brush"},(function(e){var n=e.brushTargetManager=new lx(e.option,t);n.setInputRanges(e.areas,t)}))}function O_(t,e,n){var i,r,a=[];t.eachComponent({mainType:"brush"},(function(t){n&&"takeGlobalCursor"===n.type&&t.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1})})),S_(t),t.eachComponent({mainType:"brush"},(function(e,n){var o={brushId:e.id,brushIndex:n,brushName:e.name,areas:V["clone"](e.areas),selected:[]};a.push(o);var s=e.option,l=s.brushLink,c=[],u=[],h=[],d=!1;n||(i=s.throttleType,r=s.throttleDelay);var p=V["map"](e.areas,(function(t){var e=k_[t.brushType],n=V["defaults"]({boundingRect:e?e(t):void 0},t);return n.selectors=m_(n),n})),f=h_(e.option,x_,(function(t){t.mappingMethod="fixed"}));function g(t){return"all"===l||!!c[t]}function m(t){return!!t.length}function v(t,e){var n=t.coordinateSystem;d=d||n.hasAxisBrushed(),g(e)&&n.eachActiveState(t.getData(),(function(t,e){"active"===t&&(u[e]=1)}))}function y(n,i,r){if(n.brushSelector&&!T_(e,i)&&(V["each"](p,(function(i){e.brushTargetManager.controlSeries(i,n,t)&&r.push(i),d=d||m(r)})),g(i)&&m(r))){var a=n.getData();a.each((function(t){M_(n,r,a,t)&&(u[t]=1)}))}}V["isArray"](l)&&V["each"](l,(function(t){c[t]=1})),t.eachSeries((function(t,e){var n=h[e]=[];"parallel"===t.subType?v(t,e):y(t,e,n)})),t.eachSeries((function(t,e){var n={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};o.selected.push(n);var i=h[e],r=t.getData(),a=g(e)?function(t){return u[t]?(n.dataIndex.push(r.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(e){return M_(t,i,r,e)?(n.dataIndex.push(r.getRawIndex(e)),"inBrush"):"outOfBrush"};(g(e)?d:m(i))&&p_(x_,f,r,a)}))})),C_(e,i,r,a,n)}function C_(t,e,n,i,r){if(r){var a=t.getZr();if(!a[w_]){a[__]||(a[__]=A_);var o=De["b"](a,__,n,e);o(t,i)}}}function A_(t,e){if(!t.isDisposed()){var n=t.getZr();n[w_]=!0,t.dispatchAction({type:"brushSelect",batch:e}),n[w_]=!1}}function M_(t,e,n,i){for(var r=0,a=e.length;r<a;r++){var o=e[r];if(t.brushSelector(i,n,o.selectors,o))return!0}}function T_(t,e){var n=t.option.seriesIndex;return null!=n&&"all"!==n&&(V["isArray"](n)?V["indexOf"](n,e)<0:e!==n)}var k_={rect:function(t){return L_(t.range)},polygon:function(t){for(var e,n=t.range,i=0,r=n.length;i<r;i++){e=e||[[1/0,-1/0],[1/0,-1/0]];var a=n[i];a[0]<e[0][0]&&(e[0][0]=a[0]),a[0]>e[0][1]&&(e[0][1]=a[0]),a[1]<e[1][0]&&(e[1][0]=a[1]),a[1]>e[1][1]&&(e[1][1]=a[1])}return e&&L_(e)}};function L_(t){return new An["a"](t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var j_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new ad(e.getZr())).on("brush",V["bind"](this._onBrush,this)).mount()},e.prototype.render=function(t,e,n,i){this.model=t,this._updateController(t,e,n,i)},e.prototype.updateTransform=function(t,e,n,i){S_(e),this._updateController(t,e,n,i)},e.prototype.updateVisual=function(t,e,n,i){this.updateTransform(t,e,n,i)},e.prototype.updateView=function(t,e,n,i){this._updateController(t,e,n,i)},e.prototype._updateController=function(t,e,n,i){(!i||i.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(n)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var e=this.model.id,n=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:e,areas:V["clone"](n),$from:e}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:e,areas:V["clone"](n),$from:e})},e.type="brush",e}(ci["a"]),I_=j_,E_="#ddd",P_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.areas=[],n.brushOption={},n}return Object(xe["a"])(e,t),e.prototype.optionUpdated=function(t,e){var n=this.option;!e&&d_(n,t,["inBrush","outOfBrush"]);var i=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:E_},i.hasOwnProperty("liftZ")||(i.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=V["map"](t,(function(t){return R_(this.option,t)}),this))},e.prototype.setBrushOption=function(t){this.brushOption=R_(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(ei["a"]);function R_(t,e){return V["merge"]({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new $n["a"](t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}var D_=P_,F_=["rect","polygon","lineX","lineY","keep","clear"],N_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n){var i,r,a;e.eachComponent({mainType:"brush"},(function(t){i=t.brushType,r=t.brushOption.brushMode||"single",a=a||!!t.areas.length})),this._brushType=i,this._brushMode=r,V["each"](t.get("type",!0),(function(e){t.setIconStatus(e,("keep"===e?"multiple"===r:"clear"===e?a:e===i)?"emphasis":"normal")}))},e.prototype.updateView=function(t,e,n){this.render(t,e,n)},e.prototype.getIcons=function(){var t=this.model,e=t.get("icon",!0),n={};return V["each"](t.get("type",!0),(function(t){e[t]&&(n[t]=e[t])})),n},e.prototype.onclick=function(t,e,n){var i=this._brushType,r=this._brushMode;"clear"===n?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?i:i!==n&&n,brushMode:"keep"===n?"multiple"===r?"single":"multiple":r}})},e.getDefaultOption=function(t){var e={show:!0,type:F_.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])};return e},e}(ob),B_=N_;function V_(t){t.registerComponentView(I_),t.registerComponentModel(D_),t.registerPreprocessor(o_),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,O_),t.registerAction({type:"brush",event:"brush",update:"updateVisual"},(function(t,e){e.eachComponent({mainType:"brush",query:t},(function(e){e.setAreas(t.areas)}))})),t.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},V["noop"]),t.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},V["noop"]),lb("brush",B_)}var G_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return Object(xe["a"])(e,t),e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(ei["a"]),z_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.render=function(t,e,n){if(this.group.removeAll(),t.get("show")){var i=this.group,r=t.getModel("textStyle"),a=t.getModel("subtextStyle"),o=t.get("textAlign"),s=V["retrieve2"](t.get("textBaseline"),t.get("textVerticalAlign")),l=new _t["a"]({style:Object(Re["c"])(r,{text:t.get("text"),fill:r.getTextColor()},{disableBox:!0}),z2:10}),c=l.getBoundingRect(),u=t.get("subtext"),h=new _t["a"]({style:Object(Re["c"])(a,{text:u,fill:a.getTextColor(),y:c.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),d=t.get("link"),p=t.get("sublink"),f=t.get("triggerEvent",!0);l.silent=!d&&!f,h.silent=!p&&!f,d&&l.on("click",(function(){Object(cs["k"])(d,"_"+t.get("target"))})),p&&h.on("click",(function(){Object(cs["k"])(p,"_"+t.get("subtarget"))})),Object(Ee["a"])(l).eventData=Object(Ee["a"])(h).eventData=f?{componentType:"title",componentIndex:t.componentIndex}:null,i.add(l),u&&i.add(h);var g=i.getBoundingRect(),m=t.getBoxLayoutParams();m.width=g.width,m.height=g.height;var v=Object(Oa["g"])(m,{width:n.getWidth(),height:n.getHeight()},t.get("padding"));o||(o=t.get("left")||t.get("right"),"middle"===o&&(o="center"),"right"===o?v.x+=v.width:"center"===o&&(v.x+=v.width/2)),s||(s=t.get("top")||t.get("bottom"),"center"===s&&(s="middle"),"bottom"===s?v.y+=v.height:"middle"===s&&(v.y+=v.height/2),s=s||"top"),i.x=v.x,i.y=v.y,i.markRedraw();var y={align:o,verticalAlign:s};l.setStyle(y),h.setStyle(y),g=i.getBoundingRect();var b=v.margin,x=t.getItemStyle(["color","opacity"]);x.fill=t.get("backgroundColor");var _=new je["a"]({shape:{x:g.x-b[3],y:g.y-b[0],width:g.width+b[1]+b[3],height:g.height+b[0]+b[2],r:t.get("borderRadius")},style:x,subPixelOptimize:!0,silent:!0});i.add(_)}},e.type="title",e}(ci["a"]);function U_(t){t.registerComponentModel(G_),t.registerComponentView(z_)}var H_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode="box",n}return Object(xe["a"])(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),this._initData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t,e=this.option,n=e.data||[],i=e.axisType,r=this._names=[];"category"===i?(t=[],Object(V["each"])(n,(function(e,n){var i,a=Object(Ur["e"])(Object(Ur["h"])(e),"");Object(V["isObject"])(e)?(i=Object(V["clone"])(e),i.value=n):i=n,t.push(i),r.push(a)}))):t=n;var a={category:"ordinal",time:"time",value:"number"}[i]||"number",o=this._data=new Co["a"]([{name:"value",type:a}],this);o.initData(t,r)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(ei["a"]),W_=H_,Y_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.type="timeline.slider",e.defaultOption=Object(Ce["d"])(W_.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(W_);Object(V["mixin"])(Y_,Xx["a"].prototype);var X_=Y_,q_=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.type="timeline",e}(ci["a"]),Z_=q_,Q_=function(t){function e(e,n,i,r){var a=t.call(this,e,n,i)||this;return a.type=r||"value",a}return Object(xe["a"])(e,t),e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},e}(pi["a"]),J_=Q_,K_=n("18c0"),$_=n("216a"),tw=Math.PI,ew=Object(Ur["o"])(),nw=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.init=function(t,e){this.api=e},e.prototype.render=function(t,e,n){if(this.model=t,this.api=n,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var i=this._layout(t,n),r=this._createGroup("_mainGroup"),a=this._createGroup("_labelGroup"),o=this._axis=this._createAxis(i,t);t.formatTooltip=function(t){var e=o.scale.getLabel({value:t});return Object(Zn["c"])("nameValue",{noName:!0,value:e})},Object(V["each"])(["AxisLine","AxisTick","Control","CurrentPointer"],(function(e){this["_render"+e](i,r,o,t)}),this),this._renderAxisLabel(i,a,o,t),this._position(i,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,e){var n,i=t.get(["label","position"]),r=t.get("orient"),a=rw(t,e);n=null==i||"auto"===i?"horizontal"===r?a.y+a.height/2<e.getHeight()/2?"-":"+":a.x+a.width/2<e.getWidth()/2?"+":"-":Object(V["isString"])(i)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[r][i]:i;var o,s,l,c={horizontal:"center",vertical:n>=0||"+"===n?"left":"right"},u={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"},h={horizontal:0,vertical:tw/2},d="vertical"===r?a.height:a.width,p=t.getModel("controlStyle"),f=p.get("show",!0),g=f?p.get("itemSize"):0,m=f?p.get("itemGap"):0,v=g+m,y=t.get(["label","rotate"])||0;y=y*tw/180;var b=p.get("position",!0),x=f&&p.get("showPlayBtn",!0),_=f&&p.get("showPrevBtn",!0),w=f&&p.get("showNextBtn",!0),S=0,O=d;"left"===b||"bottom"===b?(x&&(o=[0,0],S+=v),_&&(s=[S,0],S+=v),w&&(l=[O-g,0],O-=v)):(x&&(o=[O-g,0],O-=v),_&&(s=[0,0],S+=v),w&&(l=[O-g,0],O-=v));var C=[S,O];return t.get("inverse")&&C.reverse(),{viewRect:a,mainLength:d,orient:r,rotation:h[r],labelRotation:y,labelPosOpt:n,labelAlign:t.get(["label","align"])||c[r],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||u[r],playPosition:o,prevBtnPosition:s,nextBtnPosition:l,axisExtent:C,controlSize:g,controlGap:m}},e.prototype._position=function(t,e){var n=this._mainGroup,i=this._labelGroup,r=t.viewRect;if("vertical"===t.orient){var a=Ui["create"](),o=r.x,s=r.y+r.height;Ui["translate"](a,a,[-o,-s]),Ui["rotate"](a,a,-tw/2),Ui["translate"](a,a,[o,s]),r=r.clone(),r.applyTransform(a)}var l=m(r),c=m(n.getBoundingRect()),u=m(i.getBoundingRect()),h=[n.x,n.y],d=[i.x,i.y];d[0]=h[0]=l[0][0];var p=t.labelPosOpt;if(null==p||Object(V["isString"])(p)){var f="+"===p?0:1;v(h,c,l,1,f),v(d,u,l,1,1-f)}else{f=p>=0?0:1;v(h,c,l,1,f),d[1]=h[1]+p}function g(t){t.originX=l[0][0]-t.x,t.originY=l[1][0]-t.y}function m(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function v(t,e,n,i,r){t[i]+=n[i][r]-e[i][r]}n.setPosition(h),i.setPosition(d),n.rotation=i.rotation=t.rotation,g(n),g(i)},e.prototype._createAxis=function(t,e){var n=e.getData(),i=e.get("axisType"),r=iw(e,i);r.getTicks=function(){return n.mapArray(["value"],(function(t){return{value:t}}))};var a=n.getDataExtent("value");r.setExtent(a[0],a[1]),r.calcNiceTicks();var o=new J_("value",r,t.axisExtent,i);return o.model=e,o},e.prototype._createGroup=function(t){var e=this[t]=new Te["a"];return this.group.add(e),e},e.prototype._renderAxisLine=function(t,e,n,i){var r=n.getExtent();if(i.get(["lineStyle","show"])){var a=new zi["a"]({shape:{x1:r[0],y1:0,x2:r[1],y2:0},style:Object(V["extend"])({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});e.add(a);var o=this._progressLine=new zi["a"]({shape:{x1:r[0],x2:this._currentPointer?this._currentPointer.x:r[0],y1:0,y2:0},style:Object(V["defaults"])({lineCap:"round",lineWidth:a.style.lineWidth},i.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});e.add(o)}},e.prototype._renderAxisTick=function(t,e,n,i){var r=this,a=i.getData(),o=n.scale.getTicks();this._tickSymbols=[],Object(V["each"])(o,(function(t){var o=n.dataToCoord(t.value),s=a.getItemModel(t.value),l=s.getModel("itemStyle"),c=s.getModel(["emphasis","itemStyle"]),u=s.getModel(["progress","itemStyle"]),h={x:o,y:0,onclick:Object(V["bind"])(r._changeTimeline,r,t.value)},d=ow(s,l,e,h);d.ensureState("emphasis").style=c.getItemStyle(),d.ensureState("progress").style=u.getItemStyle(),Object(Pe["o"])(d);var p=Object(Ee["a"])(d);s.get("tooltip")?(p.dataIndex=t.value,p.dataModel=i):p.dataIndex=p.dataModel=null,r._tickSymbols.push(d)}))},e.prototype._renderAxisLabel=function(t,e,n,i){var r=this,a=n.getLabelModel();if(a.get("show")){var o=i.getData(),s=n.getViewLabels();this._tickLabels=[],Object(V["each"])(s,(function(i){var a=i.tickValue,s=o.getItemModel(a),l=s.getModel("label"),c=s.getModel(["emphasis","label"]),u=s.getModel(["progress","label"]),h=n.dataToCoord(i.tickValue),d=new _t["a"]({x:h,y:0,rotation:t.labelRotation-t.rotation,onclick:Object(V["bind"])(r._changeTimeline,r,a),silent:!1,style:Object(Re["c"])(l,{text:i.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});d.ensureState("emphasis").style=Object(Re["c"])(c),d.ensureState("progress").style=Object(Re["c"])(u),e.add(d),Object(Pe["o"])(d),ew(d).dataIndex=a,r._tickLabels.push(d)}))}},e.prototype._renderControl=function(t,e,n,i){var r=t.controlSize,a=t.rotation,o=i.getModel("controlStyle").getItemStyle(),s=i.getModel(["emphasis","controlStyle"]).getItemStyle(),l=i.getPlayState(),c=i.get("inverse",!0);function u(t,n,l,c){if(t){var u=Object(L["g"])(Object(V["retrieve2"])(i.get(["controlStyle",n+"BtnSize"]),r),r),h=[0,-u/2,u,u],d=aw(i,n+"Icon",h,{x:t[0],y:t[1],originX:r/2,originY:0,rotation:c?-a:0,rectHover:!0,style:o,onclick:l});d.ensureState("emphasis").style=s,e.add(d),Object(Pe["o"])(d)}}u(t.nextBtnPosition,"next",Object(V["bind"])(this._changeTimeline,this,c?"-":"+")),u(t.prevBtnPosition,"prev",Object(V["bind"])(this._changeTimeline,this,c?"+":"-")),u(t.playPosition,l?"stop":"play",Object(V["bind"])(this._handlePlayClick,this,!l),!0)},e.prototype._renderCurrentPointer=function(t,e,n,i){var r=i.getData(),a=i.getCurrentIndex(),o=r.getItemModel(a).getModel("checkpointStyle"),s=this,l={onCreate:function(t){t.draggable=!0,t.drift=Object(V["bind"])(s._handlePointerDrag,s),t.ondragend=Object(V["bind"])(s._handlePointerDragend,s),sw(t,s._progressLine,a,n,i,!0)},onUpdate:function(t){sw(t,s._progressLine,a,n,i)}};this._currentPointer=ow(o,o,this._mainGroup,{},this._currentPointer,l)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,e,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,e){var n=this._toAxisCoord(t)[0],i=this._axis,r=vi["c"](i.getExtent().slice());n>r[1]&&(n=r[1]),n<r[0]&&(n=r[0]),this._currentPointer.x=n,this._currentPointer.markRedraw();var a=this._progressLine;a&&(a.shape.x2=n,a.dirty());var o=this._findNearestTick(n),s=this.model;(e||o!==s.getCurrentIndex()&&s.get("realtime"))&&this._changeTimeline(o)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout((function(){var e=t.model;t._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))}),this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var e=this._mainGroup.getLocalTransform();return ke["applyTransform"](t,e,!0)},e.prototype._findNearestTick=function(t){var e,n=this.model.getData(),i=1/0,r=this._axis;return n.each(["value"],(function(n,a){var o=r.dataToCoord(n),s=Math.abs(o-t);s<i&&(i=s,e=a)})),e},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),e=this._tickSymbols,n=this._tickLabels;if(e)for(var i=0;i<e.length;i++)e&&e[i]&&e[i].toggleState("progress",i<t);if(n)for(i=0;i<n.length;i++)n&&n[i]&&n[i].toggleState("progress",ew(n[i]).dataIndex<=t)},e.type="timeline.slider",e}(Z_);function iw(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new K_["a"]({ordinalMeta:t.getCategories(),extent:[1/0,-1/0]});case"time":return new $_["a"]({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new mi["a"]}}function rw(t,e){return Oa["g"](t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}function aw(t,e,n,i){var r=i.style,a=ke["createIcon"](t.get(["controlStyle",e]),i||{},new An["a"](n[0],n[1],n[2],n[3]));return r&&a.setStyle(r),a}function ow(t,e,n,i,r,a){var o=e.get("color");if(r)r.setColor(o),n.add(r),a&&a.onUpdate(r);else{var s=t.get("symbol");r=Object(Mn["a"])(s,-1,-1,2,2,o),r.setStyle("strokeNoScale",!0),n.add(r),a&&a.onCreate(r)}var l=e.getItemStyle(["color"]);r.setStyle(l),i=Object(V["merge"])({rectHover:!0,z2:100},i,!0);var c=Object(Mn["c"])(t.get("symbolSize"));i.scaleX=c[0]/2,i.scaleY=c[1]/2;var u=Object(Mn["b"])(t.get("symbolOffset"),c);u&&(i.x=(i.x||0)+u[0],i.y=(i.y||0)+u[1]);var h=t.get("symbolRotate");return i.rotation=(h||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function sw(t,e,n,i,r,a){if(!t.dragging){var o=r.getModel("checkpointStyle"),s=i.dataToCoord(r.getData().get("value",n));if(a||!o.get("animation",!0))t.attr({x:s,y:0}),e&&e.attr({shape:{x2:s}});else{var l={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};t.stopAnimation(null,!0),t.animateTo({x:s,y:0},l),e&&e.animateTo({shape:{x2:s}},l)}}}var lw=nw;function cw(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(t,e,n){var i=e.getComponent("timeline");return i&&null!=t.currentIndex&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),e.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),Object(V["defaults"])({currentIndex:i.option.currentIndex},t)})),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(t,e){var n=e.getComponent("timeline");n&&null!=t.playState&&n.setPlayState(t.playState)}))}function uw(t){var e=t&&t.timeline;V["isArray"](e)||(e=e?[e]:[]),V["each"](e,(function(t){t&&hw(t)}))}function hw(t){var e=t.type,n={number:"value",time:"time"};if(n[e]&&(t.axisType=n[e],delete t.type),dw(t),pw(t,"controlPosition")){var i=t.controlStyle||(t.controlStyle={});pw(i,"position")||(i.position=t.controlPosition),"none"!==i.position||pw(i,"show")||(i.show=!1,delete i.position),delete t.controlPosition}V["each"](t.data||[],(function(t){V["isObject"](t)&&!V["isArray"](t)&&(!pw(t,"value")&&pw(t,"name")&&(t.value=t.name),dw(t))}))}function dw(t){var e=t.itemStyle||(t.itemStyle={}),n=e.emphasis||(e.emphasis={}),i=t.label||t.label||{},r=i.normal||(i.normal={}),a={normal:1,emphasis:1};V["each"](i,(function(t,e){a[e]||pw(r,e)||(r[e]=t)})),n.label&&!pw(i,"emphasis")&&(i.emphasis=n.label,delete n.label)}function pw(t,e){return t.hasOwnProperty(e)}function fw(t){t.registerComponentModel(X_),t.registerComponentView(lw),t.registerSubTypeDefaulter("timeline",(function(){return"slider"})),cw(t),t.registerPreprocessor(uw)}function gw(t,e){if(!t)return!1;for(var n=Object(V["isArray"])(t)?t:[t],i=0;i<n.length;i++)if(n[i]&&n[i][e])return!0;return!1}function mw(t){Object(Ur["f"])(t,"label",["show"])}var vw=Object(Ur["o"])(),yw=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.createdBySelf=!1,n}return Object(xe["a"])(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),this._mergeOption(t,n,!1,!0)},e.prototype.isAnimationEnabled=function(){if(vb["a"].node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,e){this._mergeOption(t,e,!1,!1)},e.prototype._mergeOption=function(t,e,n,i){var r=this.mainType;n||e.eachSeries((function(t){var n=t.get(this.mainType,!0),a=vw(t)[r];n&&n.data?(a?a._mergeOption(n,e,!0):(i&&mw(n),V["each"](n.data,(function(t){t instanceof Array?(mw(t[0]),mw(t[1])):mw(t)})),a=this.createMarkerModelFromSeries(n,this,e),V["extend"](a,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),a.__hostSeries=t),vw(t)[r]=a):vw(t)[r]=null}),this)},e.prototype.formatTooltip=function(t,e,n){var i=this.getData(),r=this.getRawValue(t),a=i.getName(t);return Object(Zn["c"])("section",{header:this.name,blocks:[Object(Zn["c"])("nameValue",{name:a,value:r,noName:!a,noValue:null==r})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.getMarkerModelFromSeries=function(t,e){return vw(t)[e]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(ei["a"]);V["mixin"](yw,Xx["a"].prototype);var bw=yw,xw=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(bw),_w=xw,ww=n("ee1a"),Sw=n("b7d9");function Ow(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function Cw(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}function Aw(t,e,n,i,r,a){var o=[],s=Object(ww["c"])(e,i),l=s?e.getCalculationInfo("stackResultDimension"):i,c=Pw(e,l,t),u=e.indicesOfNearest(l,c)[0];o[r]=e.get(n,u),o[a]=e.get(l,u);var h=e.get(i,u),d=vi["h"](e.get(i,u));return d=Math.min(d,20),d>=0&&(o[a]=+o[a].toFixed(d)),[o,h]}var Mw={min:Object(V["curry"])(Aw,"min"),max:Object(V["curry"])(Aw,"max"),average:Object(V["curry"])(Aw,"average"),median:Object(V["curry"])(Aw,"median")};function Tw(t,e){if(e){var n=t.getData(),i=t.coordinateSystem,r=i&&i.dimensions;if(!Cw(e)&&!Object(V["isArray"])(e.coord)&&Object(V["isArray"])(r)){var a=kw(e,n,i,t);if(e=Object(V["clone"])(e),e.type&&Mw[e.type]&&a.baseAxis&&a.valueAxis){var o=Object(V["indexOf"])(r,a.baseAxis.dim),s=Object(V["indexOf"])(r,a.valueAxis.dim),l=Mw[e.type](n,a.baseDataDim,a.valueDataDim,o,s);e.coord=l[0],e.value=l[1]}else e.coord=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis]}if(null!=e.coord&&Object(V["isArray"])(r))for(var c=e.coord,u=0;u<2;u++)Mw[c[u]]&&(c[u]=Pw(n,n.mapDimension(r[u]),c[u]));else e.coord=[];return e}}function kw(t,e,n,i){var r={};return null!=t.valueIndex||null!=t.valueDim?(r.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,r.valueAxis=n.getAxis(Lw(i,r.valueDataDim)),r.baseAxis=n.getOtherAxis(r.valueAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=n.getOtherAxis(r.baseAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim),r.valueDataDim=e.mapDimension(r.valueAxis.dim)),r}function Lw(t,e){var n=t.getData().getDimensionInfo(e);return n&&n.coordDim}function jw(t,e){return!(t&&t.containData&&e.coord&&!Ow(e))||t.containData(e.coord)}function Iw(t,e,n){return!(t&&t.containZone&&e.coord&&n.coord&&!Ow(e)&&!Ow(n))||t.containZone(e.coord,n.coord)}function Ew(t,e){return t?function(t,n,i,r){var a=r<2?t.coord&&t.coord[r]:t.value;return Object(Sw["d"])(a,e[r])}:function(t,n,i,r){return Object(Sw["d"])(t.value,e[r])}}function Pw(t,e,n){if("average"===n){var i=0,r=0;return t.each(e,(function(t,e){isNaN(t)||(i+=t,r++)})),i/r}return"median"===n?t.getMedian(e):t.getDataExtent(e)["max"===n?1:0]}var Rw=Object(Ur["o"])(),Dw=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.init=function(){this.markerGroupMap=Object(V["createHashMap"])()},e.prototype.render=function(t,e,n){var i=this,r=this.markerGroupMap;r.each((function(t){Rw(t).keep=!1})),e.eachSeries((function(t){var r=bw.getMarkerModelFromSeries(t,i.type);r&&i.renderSeries(t,r,e,n)})),r.each((function(t){!Rw(t).keep&&i.group.remove(t.group)}))},e.prototype.markKeep=function(t){Rw(t).keep=!0},e.prototype.toggleBlurSeries=function(t,e){var n=this;Object(V["each"])(t,(function(t){var i=bw.getMarkerModelFromSeries(t,n.type);if(i){var r=i.getData();r.eachItemGraphicEl((function(t){t&&(e?Object(Pe["q"])(t):Object(Pe["B"])(t))}))}}))},e.type="marker",e}(ci["a"]),Fw=Dw;function Nw(t,e,n){var i=e.coordinateSystem;t.each((function(r){var a,o=t.getItemModel(r),s=vi["q"](o.get("x"),n.getWidth()),l=vi["q"](o.get("y"),n.getHeight());if(isNaN(s)||isNaN(l)){if(e.getMarkerPosition)a=e.getMarkerPosition(t.getValues(t.dimensions,r));else if(i){var c=t.get(i.dimensions[0],r),u=t.get(i.dimensions[1],r);a=i.dataToPoint([c,u])}}else a=[s,l];isNaN(s)||(a[0]=s),isNaN(l)||(a[1]=l),t.setItemLayout(r,a)}))}var Bw=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e=bw.getMarkerModelFromSeries(t,"markPoint");e&&(Nw(e.getData(),t,n),this.markerGroupMap.get(t.id).updateLayout())}),this)},e.prototype.renderSeries=function(t,e,n,i){var r=t.coordinateSystem,a=t.id,o=t.getData(),s=this.markerGroupMap,l=s.get(a)||s.set(a,new Cn["a"]),c=Vw(r,t,e);e.setData(c),Nw(e.getData(),t,i),c.each((function(t){var n=c.getItemModel(t),i=n.getShallow("symbol"),r=n.getShallow("symbolSize"),a=n.getShallow("symbolRotate"),s=n.getShallow("symbolOffset"),l=n.getShallow("symbolKeepAspect");if(Object(V["isFunction"])(i)||Object(V["isFunction"])(r)||Object(V["isFunction"])(a)||Object(V["isFunction"])(s)){var u=e.getRawValue(t),h=e.getDataParams(t);Object(V["isFunction"])(i)&&(i=i(u,h)),Object(V["isFunction"])(r)&&(r=r(u,h)),Object(V["isFunction"])(a)&&(a=a(u,h)),Object(V["isFunction"])(s)&&(s=s(u,h))}var d=n.getModel("itemStyle").getItemStyle(),p=Object(l_["b"])(o,"color");d.fill||(d.fill=p),c.setItemVisual(t,{symbol:i,symbolSize:r,symbolRotate:a,symbolOffset:s,symbolKeepAspect:l,style:d})})),l.updateData(c),this.group.add(l.group),c.eachItemGraphicEl((function(t){t.traverse((function(t){Object(Ee["a"])(t).dataModel=e}))})),this.markKeep(l),l.group.silent=e.get("silent")||t.get("silent")},e.type="markPoint",e}(Fw);function Vw(t,e,n){var i;i=t?Object(V["map"])(t&&t.dimensions,(function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return Object(V["extend"])(Object(V["extend"])({},n),{name:t,ordinalMeta:null})})):[{name:"value",type:"float"}];var r=new Co["a"](i,n),a=Object(V["map"])(n.get("data"),Object(V["curry"])(Tw,e));t&&(a=Object(V["filter"])(a,Object(V["curry"])(jw,t)));var o=Ew(!!t,i);return r.initData(a,null,o),r}var Gw=Bw;function zw(t){t.registerComponentModel(_w),t.registerComponentView(Gw),t.registerPreprocessor((function(t){gw(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})}))}var Uw=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(bw),Hw=Uw,Ww=Object(Ur["o"])(),Yw=function(t,e,n,i){var r,a=t.getData();if(Object(V["isArray"])(i))r=i;else{var o=i.type;if("min"===o||"max"===o||"average"===o||"median"===o||null!=i.xAxis||null!=i.yAxis){var s=void 0,l=void 0;if(null!=i.yAxis||null!=i.xAxis)s=e.getAxis(null!=i.yAxis?"y":"x"),l=Object(V["retrieve"])(i.yAxis,i.xAxis);else{var c=kw(i,a,e,t);s=c.valueAxis;var u=Object(ww["b"])(a,c.valueDataDim);l=Pw(a,u,o)}var h="x"===s.dim?0:1,d=1-h,p=Object(V["clone"])(i),f={coord:[]};p.type=null,p.coord=[],p.coord[d]=-1/0,f.coord[d]=1/0;var g=n.get("precision");g>=0&&Object(V["isNumber"])(l)&&(l=+l.toFixed(Math.min(g,20))),p.coord[h]=f.coord[h]=l,r=[p,f,{type:o,valueIndex:i.valueIndex,value:l}]}else r=[]}var m=[Tw(t,r[0]),Tw(t,r[1]),Object(V["extend"])({},r[2])];return m[2].type=m[2].type||null,Object(V["merge"])(m[2],m[0]),Object(V["merge"])(m[2],m[1]),m};function Xw(t){return!isNaN(t)&&!isFinite(t)}function qw(t,e,n,i){var r=1-t,a=i.dimensions[t];return Xw(e[r])&&Xw(n[r])&&e[t]===n[t]&&i.getAxis(a).containData(e[t])}function Zw(t,e){if("cartesian2d"===t.type){var n=e[0].coord,i=e[1].coord;if(n&&i&&(qw(1,n,i,t)||qw(0,n,i,t)))return!0}return jw(t,e[0])&&jw(t,e[1])}function Qw(t,e,n,i,r){var a,o=i.coordinateSystem,s=t.getItemModel(e),l=vi["q"](s.get("x"),r.getWidth()),c=vi["q"](s.get("y"),r.getHeight());if(isNaN(l)||isNaN(c)){if(i.getMarkerPosition)a=i.getMarkerPosition(t.getValues(t.dimensions,e));else{var u=o.dimensions,h=t.get(u[0],e),d=t.get(u[1],e);a=o.dataToPoint([h,d])}if(Object(ze["a"])(o,"cartesian2d")){var p=o.getAxis("x"),f=o.getAxis("y");u=o.dimensions;Xw(t.get(u[0],e))?a[0]=p.toGlobalCoord(p.getExtent()[n?0:1]):Xw(t.get(u[1],e))&&(a[1]=f.toGlobalCoord(f.getExtent()[n?0:1]))}isNaN(l)||(a[0]=l),isNaN(c)||(a[1]=c)}else a=[l,c];t.setItemLayout(e,a)}var Jw=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e=bw.getMarkerModelFromSeries(t,"markLine");if(e){var i=e.getData(),r=Ww(e).from,a=Ww(e).to;r.each((function(e){Qw(r,e,!0,t,n),Qw(a,e,!1,t,n)})),i.each((function(t){i.setItemLayout(t,[r.getItemLayout(t),a.getItemLayout(t)])})),this.markerGroupMap.get(t.id).updateLayout()}}),this)},e.prototype.renderSeries=function(t,e,n,i){var r=t.coordinateSystem,a=t.id,o=t.getData(),s=this.markerGroupMap,l=s.get(a)||s.set(a,new bc);this.group.add(l.group);var c=Kw(r,t,e),u=c.from,h=c.to,d=c.line;Ww(e).from=u,Ww(e).to=h,e.setData(d);var p=e.get("symbol"),f=e.get("symbolSize"),g=e.get("symbolRotate"),m=e.get("symbolOffset");function v(e,n,r){var a=e.getItemModel(n);Qw(e,n,r,t,i);var s=a.getModel("itemStyle").getItemStyle();null==s.fill&&(s.fill=Object(l_["b"])(o,"color")),e.setItemVisual(n,{symbolKeepAspect:a.get("symbolKeepAspect"),symbolOffset:Object(V["retrieve2"])(a.get("symbolOffset",!0),m[r?0:1]),symbolRotate:Object(V["retrieve2"])(a.get("symbolRotate",!0),g[r?0:1]),symbolSize:Object(V["retrieve2"])(a.get("symbolSize"),f[r?0:1]),symbol:Object(V["retrieve2"])(a.get("symbol",!0),p[r?0:1]),style:s})}Object(V["isArray"])(p)||(p=[p,p]),Object(V["isArray"])(f)||(f=[f,f]),Object(V["isArray"])(g)||(g=[g,g]),Object(V["isArray"])(m)||(m=[m,m]),c.from.each((function(t){v(u,t,!0),v(h,t,!1)})),d.each((function(t){var e=d.getItemModel(t).getModel("lineStyle").getLineStyle();d.setItemLayout(t,[u.getItemLayout(t),h.getItemLayout(t)]),null==e.stroke&&(e.stroke=u.getItemVisual(t,"style").fill),d.setItemVisual(t,{fromSymbolKeepAspect:u.getItemVisual(t,"symbolKeepAspect"),fromSymbolOffset:u.getItemVisual(t,"symbolOffset"),fromSymbolRotate:u.getItemVisual(t,"symbolRotate"),fromSymbolSize:u.getItemVisual(t,"symbolSize"),fromSymbol:u.getItemVisual(t,"symbol"),toSymbolKeepAspect:h.getItemVisual(t,"symbolKeepAspect"),toSymbolOffset:h.getItemVisual(t,"symbolOffset"),toSymbolRotate:h.getItemVisual(t,"symbolRotate"),toSymbolSize:h.getItemVisual(t,"symbolSize"),toSymbol:h.getItemVisual(t,"symbol"),style:e})})),l.updateData(d),c.line.eachItemGraphicEl((function(t){Object(Ee["a"])(t).dataModel=e,t.traverse((function(t){Object(Ee["a"])(t).dataModel=e}))})),this.markKeep(l),l.group.silent=e.get("silent")||t.get("silent")},e.type="markLine",e}(Fw);function Kw(t,e,n){var i;i=t?Object(V["map"])(t&&t.dimensions,(function(t){var n=e.getData().getDimensionInfo(e.getData().mapDimension(t))||{};return Object(V["extend"])(Object(V["extend"])({},n),{name:t,ordinalMeta:null})})):[{name:"value",type:"float"}];var r=new Co["a"](i,n),a=new Co["a"](i,n),o=new Co["a"]([],n),s=Object(V["map"])(n.get("data"),Object(V["curry"])(Yw,e,t,n));t&&(s=Object(V["filter"])(s,Object(V["curry"])(Zw,t)));var l=Ew(!!t,i);return r.initData(Object(V["map"])(s,(function(t){return t[0]})),null,l),a.initData(Object(V["map"])(s,(function(t){return t[1]})),null,l),o.initData(Object(V["map"])(s,(function(t){return t[2]}))),o.hasItemOption=!0,{from:r,to:a,line:o}}var $w=Jw;function tS(t){t.registerComponentModel(Hw),t.registerComponentView($w),t.registerPreprocessor((function(t){gw(t.series,"markLine")&&(t.markLine=t.markLine||{})}))}var eS=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(bw),nS=eS,iS=Object(Ur["o"])(),rS=function(t,e,n,i){var r=i[0],a=i[1];if(r&&a){var o=Tw(t,r),s=Tw(t,a),l=o.coord,c=s.coord;l[0]=Object(V["retrieve"])(l[0],-1/0),l[1]=Object(V["retrieve"])(l[1],-1/0),c[0]=Object(V["retrieve"])(c[0],1/0),c[1]=Object(V["retrieve"])(c[1],1/0);var u=Object(V["mergeAll"])([{},o,s]);return u.coord=[o.coord,s.coord],u.x0=o.x,u.y0=o.y,u.x1=s.x,u.y1=s.y,u}};function aS(t){return!isNaN(t)&&!isFinite(t)}function oS(t,e,n,i){var r=1-t;return aS(e[r])&&aS(n[r])}function sS(t,e){var n=e.coord[0],i=e.coord[1],r={coord:n,x:e.x0,y:e.y0},a={coord:i,x:e.x1,y:e.y1};return Object(ze["a"])(t,"cartesian2d")?!(!n||!i||!oS(1,n,i,t)&&!oS(0,n,i,t))||Iw(t,r,a):jw(t,r)||jw(t,a)}function lS(t,e,n,i,r){var a,o=i.coordinateSystem,s=t.getItemModel(e),l=vi["q"](s.get(n[0]),r.getWidth()),c=vi["q"](s.get(n[1]),r.getHeight());if(isNaN(l)||isNaN(c)){if(i.getMarkerPosition){var u=t.getValues(["x0","y0"],e),h=t.getValues(["x1","y1"],e),d=o.clampData(u),p=o.clampData(h),f=[];"x0"===n[0]?f[0]=d[0]>p[0]?h[0]:u[0]:f[0]=d[0]>p[0]?u[0]:h[0],"y0"===n[1]?f[1]=d[1]>p[1]?h[1]:u[1]:f[1]=d[1]>p[1]?u[1]:h[1],a=i.getMarkerPosition(f,n,!0)}else{var g=t.get(n[0],e),m=t.get(n[1],e),v=[g,m];o.clampData&&o.clampData(v,v),a=o.dataToPoint(v,!0)}if(Object(ze["a"])(o,"cartesian2d")){var y=o.getAxis("x"),b=o.getAxis("y");g=t.get(n[0],e),m=t.get(n[1],e);aS(g)?a[0]=y.toGlobalCoord(y.getExtent()["x0"===n[0]?0:1]):aS(m)&&(a[1]=b.toGlobalCoord(b.getExtent()["y0"===n[1]?0:1]))}isNaN(l)||(a[0]=l),isNaN(c)||(a[1]=c)}else a=[l,c];return a}var cS=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],uS=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e=bw.getMarkerModelFromSeries(t,"markArea");if(e){var i=e.getData();i.each((function(e){var r=Object(V["map"])(cS,(function(r){return lS(i,e,r,t,n)}));i.setItemLayout(e,r);var a=i.getItemGraphicEl(e);a.setShape("points",r)}))}}),this)},e.prototype.renderSeries=function(t,e,n,i){var r=t.coordinateSystem,a=t.id,o=t.getData(),s=this.markerGroupMap,l=s.get(a)||s.set(a,{group:new Te["a"]});this.group.add(l.group),this.markKeep(l);var c=hS(r,t,e);e.setData(c),c.each((function(e){var n=Object(V["map"])(cS,(function(n){return lS(c,e,n,t,i)})),a=r.getAxis("x").scale,s=r.getAxis("y").scale,l=a.getExtent(),u=s.getExtent(),h=[a.parse(c.get("x0",e)),a.parse(c.get("x1",e))],d=[s.parse(c.get("y0",e)),s.parse(c.get("y1",e))];vi["c"](h),vi["c"](d);var p=!(l[0]>h[1]||l[1]<h[0]||u[0]>d[1]||u[1]<d[0]),f=!p;c.setItemLayout(e,{points:n,allClipped:f});var g=c.getItemModel(e).getModel("itemStyle").getItemStyle(),m=Object(l_["b"])(o,"color");g.fill||(g.fill=m,Object(V["isString"])(g.fill)&&(g.fill=As["modifyAlpha"](g.fill,.4))),g.stroke||(g.stroke=m),c.setItemVisual(e,"style",g)})),c.diff(iS(l).data).add((function(t){var e=c.getItemLayout(t);if(!e.allClipped){var n=new Un["a"]({shape:{points:e.points}});c.setItemGraphicEl(t,n),l.group.add(n)}})).update((function(t,n){var i=iS(l).data.getItemGraphicEl(n),r=c.getItemLayout(t);r.allClipped?i&&l.group.remove(i):(i?Le["h"](i,{shape:{points:r.points}},e,t):i=new Un["a"]({shape:{points:r.points}}),c.setItemGraphicEl(t,i),l.group.add(i))})).remove((function(t){var e=iS(l).data.getItemGraphicEl(t);l.group.remove(e)})).execute(),c.eachItemGraphicEl((function(t,n){var i=c.getItemModel(n),r=c.getItemVisual(n,"style");t.useStyle(c.getItemVisual(n,"style")),Object(Re["g"])(t,Object(Re["e"])(i),{labelFetcher:e,labelDataIndex:n,defaultText:c.getName(n)||"",inheritColor:Object(V["isString"])(r.fill)?As["modifyAlpha"](r.fill,1):"#000"}),Object(Pe["I"])(t,i),Object(Pe["J"])(t,null,null,i.get(["emphasis","disabled"])),Object(Ee["a"])(t).dataModel=e})),iS(l).data=c,l.group.silent=e.get("silent")||t.get("silent")},e.type="markArea",e}(Fw);function hS(t,e,n){var i,r,a=["x0","y0","x1","y1"];if(t){var o=Object(V["map"])(t&&t.dimensions,(function(t){var n=e.getData(),i=n.getDimensionInfo(n.mapDimension(t))||{};return Object(V["extend"])(Object(V["extend"])({},i),{name:t,ordinalMeta:null})}));r=Object(V["map"])(a,(function(t,e){return{name:t,type:o[e%2].type}})),i=new Co["a"](r,n)}else r=[{name:"value",type:"float"}],i=new Co["a"](r,n);var s=Object(V["map"])(n.get("data"),Object(V["curry"])(rS,e,t,n));t&&(s=Object(V["filter"])(s,Object(V["curry"])(sS,t)));var l=t?function(t,e,n,i){var a=t.coord[Math.floor(i/2)][i%2];return Object(Sw["d"])(a,r[i])}:function(t,e,n,i){return Object(Sw["d"])(t.value,r[i])};return i.initData(s,null,l),i.hasItemOption=!0,i}var dS=uS;function pS(t){t.registerComponentModel(nS),t.registerComponentView(dS),t.registerPreprocessor((function(t){gw(t.series,"markArea")&&(t.markArea=t.markArea||{})}))}var fS=function(t,e){return"all"===e?{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}:void 0},gS=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return Object(xe["a"])(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),this._updateSelector(e)},e.prototype._updateSelector=function(t){var e=t.selector,n=this.ecModel;!0===e&&(e=t.selector=["all","inverse"]),V["isArray"](e)&&V["each"](e,(function(t,i){V["isString"](t)&&(t={type:t}),e[i]=V["merge"](t,fS(n,t.type))}))},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var i=t[n].get("name");if(this.isSelected(i)){this.select(i),e=!0;break}}!e&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var e=[],n=[];t.eachRawSeries((function(i){var r,a=i.name;if(n.push(a),i.legendVisualProvider){var o=i.legendVisualProvider,s=o.getAllNames();t.isSeriesFiltered(i)||(n=n.concat(s)),s.length?e=e.concat(s):r=!0}else r=!0;r&&Object(Ur["n"])(i)&&e.push(i.name)})),this._availableNames=n;var i=this.get("data")||e,r=V["createHashMap"](),a=V["map"](i,(function(t){return(V["isString"](t)||V["isNumber"](t))&&(t={name:t}),r.get(t.name)?null:(r.set(t.name,!0),new $n["a"](t,this,this.ecModel))}),this);this._data=V["filter"](a,(function(t){return!!t}))},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var e=this.option.selected,n=this.get("selectedMode");if("single"===n){var i=this._data;V["each"](i,(function(t){e[t.get("name")]=!1}))}e[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,e=this.option.selected;V["each"](t,(function(t){e[t.get("name",!0)]=!0}))},e.prototype.inverseSelect=function(){var t=this._data,e=this.option.selected;V["each"](t,(function(t){var n=t.get("name",!0);e.hasOwnProperty(n)||(e[n]=!0),e[n]=!e[n]}))},e.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&V["indexOf"](this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(ei["a"]),mS=gS,vS=V["curry"],yS=V["each"],bS=Te["a"],xS=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!1,n}return Object(xe["a"])(e,t),e.prototype.init=function(){this.group.add(this._contentGroup=new bS),this.group.add(this._selectorGroup=new bS),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,e,n){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var r=t.get("align"),a=t.get("orient");r&&"auto"!==r||(r="right"===t.get("left")&&"vertical"===a?"right":"left");var o=t.get("selector",!0),s=t.get("selectorPosition",!0);!o||s&&"auto"!==s||(s="horizontal"===a?"end":"start"),this.renderInner(r,t,e,n,o,a,s);var l=t.getBoxLayoutParams(),c={width:n.getWidth(),height:n.getHeight()},u=t.get("padding"),h=Oa["g"](l,c,u),d=this.layoutInner(t,r,h,i,o,s),p=Oa["g"](V["defaults"]({width:d.width,height:d.height},l),c,u);this.group.x=p.x-d.x,this.group.y=p.y-d.y,this.group.markRedraw(),this.group.add(this._backgroundEl=pb(d,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,e,n,i,r,a,o){var s=this.getContentGroup(),l=V["createHashMap"](),c=e.get("selectedMode"),u=[];n.eachRawSeries((function(t){!t.get("legendHoverLink")&&u.push(t.id)})),yS(e.getData(),(function(r,a){var o=r.get("name");if(!this.newlineDisabled&&(""===o||"\n"===o)){var h=new bS;return h.newline=!0,void s.add(h)}var d=n.getSeriesByName(o)[0];if(!l.get(o)){if(d){var p=d.getData(),f=p.getVisual("legendLineStyle")||{},g=p.getVisual("legendIcon"),m=p.getVisual("style"),v=this._createItem(d,o,a,r,e,t,f,m,g,c,i);v.on("click",vS(SS,o,null,i,u)).on("mouseover",vS(CS,d.name,null,i,u)).on("mouseout",vS(AS,d.name,null,i,u)),l.set(o,!0)}else n.eachRawSeries((function(n){if(!l.get(o)&&n.legendVisualProvider){var s=n.legendVisualProvider;if(!s.containName(o))return;var h=s.indexOfName(o),d=s.getItemVisual(h,"style"),p=s.getItemVisual(h,"legendIcon"),f=Object(As["parse"])(d.fill);f&&0===f[3]&&(f[3]=.2,d=V["extend"](V["extend"]({},d),{fill:Object(As["stringify"])(f,"rgba")}));var g=this._createItem(n,o,a,r,e,t,{},d,p,c,i);g.on("click",vS(SS,null,o,i,u)).on("mouseover",vS(CS,null,o,i,u)).on("mouseout",vS(AS,null,o,i,u)),l.set(o,!0)}}),this);0}}),this),r&&this._createSelector(r,e,i,a,o)},e.prototype._createSelector=function(t,e,n,i,r){var a=this.getSelectorGroup();yS(t,(function(t){var i=t.type,r=new _t["a"]({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===i?"legendAllSelect":"legendInverseSelect"})}});a.add(r);var o=e.getModel("selectorLabel"),s=e.getModel(["emphasis","selectorLabel"]);Object(Re["g"])(r,{normal:o,emphasis:s},{defaultText:t.title}),Object(Pe["o"])(r)}))},e.prototype._createItem=function(t,e,n,i,r,a,o,s,l,c,u){var h=t.visualDrawType,d=r.get("itemWidth"),p=r.get("itemHeight"),f=r.isSelected(e),g=i.get("symbolRotate"),m=i.get("symbolKeepAspect"),v=i.get("icon");l=v||l||"roundRect";var y=_S(l,i,o,s,h,f,u),b=new bS,x=i.getModel("textStyle");if(!V["isFunction"](t.getLegendIcon)||v&&"inherit"!==v){var _="inherit"===v&&t.getData().getVisual("symbol")?"inherit"===g?t.getData().getVisual("symbolRotate"):g:0;b.add(wS({itemWidth:d,itemHeight:p,icon:l,iconRotate:_,itemStyle:y.itemStyle,lineStyle:y.lineStyle,symbolKeepAspect:m}))}else b.add(t.getLegendIcon({itemWidth:d,itemHeight:p,icon:l,iconRotate:g,itemStyle:y.itemStyle,lineStyle:y.lineStyle,symbolKeepAspect:m}));var w="left"===a?d+5:-5,S=a,O=r.get("formatter"),C=e;V["isString"](O)&&O?C=O.replace("{name}",null!=e?e:""):V["isFunction"](O)&&(C=O(e));var A=i.get("inactiveColor");b.add(new _t["a"]({style:Object(Re["c"])(x,{text:C,x:w,y:p/2,fill:f?x.getTextColor():A,align:S,verticalAlign:"middle"})}));var M=new je["a"]({shape:b.getBoundingRect(),invisible:!0}),T=i.getModel("tooltip");return T.get("show")&&ke["setTooltipConfig"]({el:M,componentModel:r,itemName:e,itemTooltipOption:T.option}),b.add(M),b.eachChild((function(t){t.silent=!0})),M.silent=!c,this.getContentGroup().add(b),Object(Pe["o"])(b),b.__legendDataIndex=n,b},e.prototype.layoutInner=function(t,e,n,i,r,a){var o=this.getContentGroup(),s=this.getSelectorGroup();Oa["b"](t.get("orient"),o,t.get("itemGap"),n.width,n.height);var l=o.getBoundingRect(),c=[-l.x,-l.y];if(s.markRedraw(),o.markRedraw(),r){Oa["b"]("horizontal",s,t.get("selectorItemGap",!0));var u=s.getBoundingRect(),h=[-u.x,-u.y],d=t.get("selectorButtonGap",!0),p=t.getOrient().index,f=0===p?"width":"height",g=0===p?"height":"width",m=0===p?"y":"x";"end"===a?h[p]+=l[f]+d:c[p]+=u[f]+d,h[1-p]+=l[g]/2-u[g]/2,s.x=h[0],s.y=h[1],o.x=c[0],o.y=c[1];var v={x:0,y:0};return v[f]=l[f]+d+u[f],v[g]=Math.max(l[g],u[g]),v[m]=Math.min(0,u[m]+h[1-p]),v}return o.x=c[0],o.y=c[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(ci["a"]);function _S(t,e,n,i,r,a,o){function s(t,e){"auto"===t.lineWidth&&(t.lineWidth=e.lineWidth>0?2:0),yS(t,(function(n,i){"inherit"===t[i]&&(t[i]=e[i])}))}var l=e.getModel("itemStyle"),c=l.getItemStyle(),u=0===t.lastIndexOf("empty",0)?"fill":"stroke",h=l.getShallow("decal");c.decal=h&&"inherit"!==h?Object(Gr["a"])(h,o):i.decal,"inherit"===c.fill&&(c.fill=i[r]),"inherit"===c.stroke&&(c.stroke=i[u]),"inherit"===c.opacity&&(c.opacity=("fill"===r?i:n).opacity),s(c,i);var d=e.getModel("lineStyle"),p=d.getLineStyle();if(s(p,n),"auto"===c.fill&&(c.fill=i.fill),"auto"===c.stroke&&(c.stroke=i.fill),"auto"===p.stroke&&(p.stroke=i.fill),!a){var f=e.get("inactiveBorderWidth"),g=c[u];c.lineWidth="auto"===f?i.lineWidth>0&&g?2:0:c.lineWidth,c.fill=e.get("inactiveColor"),c.stroke=e.get("inactiveBorderColor"),p.stroke=d.get("inactiveColor"),p.lineWidth=d.get("inactiveWidth")}return{itemStyle:c,lineStyle:p}}function wS(t){var e=t.icon||"roundRect",n=Object(Mn["a"])(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);return n.setStyle(t.itemStyle),n.rotation=(t.iconRotate||0)*Math.PI/180,n.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n}function SS(t,e,n,i){AS(t,e,n,i),n.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),CS(t,e,n,i)}function OS(t){var e,n=t.getZr().storage.getDisplayList(),i=0,r=n.length;while(i<r&&!(e=n[i].states.emphasis))i++;return e&&e.hoverLayer}function CS(t,e,n,i){OS(n)||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:i})}function AS(t,e,n,i){OS(n)||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:i})}var MS=xS;function TS(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries((function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0}))}function kS(t,e,n){var i,r={},a="toggleSelected"===t;return n.eachComponent("legend",(function(n){a&&null!=i?n[i?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?n[t]():(n[t](e.name),i=n.isSelected(e.name));var o=n.getData();Object(V["each"])(o,(function(t){var e=t.get("name");if("\n"!==e&&""!==e){var i=n.isSelected(e);r.hasOwnProperty(e)?r[e]=r[e]&&i:r[e]=i}}))})),"allSelect"===t||"inverseSelect"===t?{selected:r}:{name:e.name,selected:r}}function LS(t){t.registerAction("legendToggleSelect","legendselectchanged",Object(V["curry"])(kS,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",Object(V["curry"])(kS,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",Object(V["curry"])(kS,"inverseSelect")),t.registerAction("legendSelect","legendselected",Object(V["curry"])(kS,"select")),t.registerAction("legendUnSelect","legendunselected",Object(V["curry"])(kS,"unSelect"))}function jS(t){t.registerComponentModel(mS),t.registerComponentView(MS),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,TS),t.registerSubTypeDefaulter("legend",(function(){return"plain"})),LS(t)}var IS=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(e,n,i){var r=Object(Oa["f"])(e);t.prototype.init.call(this,e,n,i),ES(this,e,r)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),ES(this,this.option,e)},e.type="legend.scroll",e.defaultOption=Object(Ce["d"])(mS.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(mS);function ES(t,e,n){var i=t.getOrient(),r=[1,1];r[i.index]=0,Object(Oa["h"])(e,n,{type:"box",ignoreSize:!!r})}var PS=IS,RS=Te["a"],DS=["width","height"],FS=["x","y"],NS=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!0,n._currentIndex=0,n}return Object(xe["a"])(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new RS),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new RS)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(e,n,i,r,a,o,s){var l=this;t.prototype.renderInner.call(this,e,n,i,r,a,o,s);var c=this._controllerGroup,u=n.get("pageIconSize",!0),h=V["isArray"](u)?u:[u,u];p("pagePrev",0);var d=n.getModel("pageTextStyle");function p(t,e){var i=t+"DataIndex",a=ke["createIcon"](n.get("pageIcons",!0)[n.getOrient().name][e],{onclick:V["bind"](l._pageGo,l,i,n,r)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});a.name=t,c.add(a)}c.add(new _t["a"]({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1)},e.prototype.layoutInner=function(t,e,n,i,r,a){var o=this.getSelectorGroup(),s=t.getOrient().index,l=DS[s],c=FS[s],u=DS[1-s],h=FS[1-s];r&&Oa["b"]("horizontal",o,t.get("selectorItemGap",!0));var d=t.get("selectorButtonGap",!0),p=o.getBoundingRect(),f=[-p.x,-p.y],g=V["clone"](n);r&&(g[l]=n[l]-p[l]-d);var m=this._layoutContentAndController(t,i,g,s,l,u,h,c);if(r){if("end"===a)f[s]+=m[l]+d;else{var v=p[l]+d;f[s]-=v,m[c]-=v}m[l]+=p[l]+d,f[1-s]+=m[h]+m[u]/2-p[u]/2,m[u]=Math.max(m[u],p[u]),m[h]=Math.min(m[h],p[h]+f[1-s]),o.x=f[0],o.y=f[1],o.markRedraw()}return m},e.prototype._layoutContentAndController=function(t,e,n,i,r,a,o,s){var l=this.getContentGroup(),c=this._containerGroup,u=this._controllerGroup;Oa["b"](t.get("orient"),l,t.get("itemGap"),i?n.width:null,i?null:n.height),Oa["b"]("horizontal",u,t.get("pageButtonItemGap",!0));var h=l.getBoundingRect(),d=u.getBoundingRect(),p=this._showController=h[r]>n[r],f=[-h.x,-h.y];e||(f[i]=l[s]);var g=[0,0],m=[-d.x,-d.y],v=V["retrieve2"](t.get("pageButtonGap",!0),t.get("itemGap",!0));if(p){var y=t.get("pageButtonPosition",!0);"end"===y?m[i]+=n[r]-d[r]:g[i]+=d[r]+v}m[1-i]+=h[a]/2-d[a]/2,l.setPosition(f),c.setPosition(g),u.setPosition(m);var b={x:0,y:0};if(b[r]=p?n[r]:h[r],b[a]=Math.max(h[a],d[a]),b[o]=Math.min(0,d[o]+m[1-i]),c.__rectSize=n[r],p){var x={x:0,y:0};x[r]=Math.max(n[r]-d[r]-v,0),x[a]=b[a],c.setClipPath(new je["a"]({shape:x})),c.__rectSize=x[r]}else u.eachChild((function(t){t.attr({invisible:!0,silent:!0})}));var _=this._getPageInfo(t);return null!=_.pageIndex&&Le["h"](l,{x:_.contentPosition[0],y:_.contentPosition[1]},p?t:null),this._updatePageInfoView(t,_),b},e.prototype._pageGo=function(t,e,n){var i=this._getPageInfo(e)[t];null!=i&&n.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:e.id})},e.prototype._updatePageInfoView=function(t,e){var n=this._controllerGroup;V["each"](["pagePrev","pageNext"],(function(i){var r=i+"DataIndex",a=null!=e[r],o=n.childOfName(i);o&&(o.setStyle("fill",a?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),o.cursor=a?"pointer":"default")}));var i=n.childOfName("pageText"),r=t.get("pageFormatter"),a=e.pageIndex,o=null!=a?a+1:0,s=e.pageCount;i&&r&&i.setStyle("text",V["isString"](r)?r.replace("{current}",null==o?"":o+"").replace("{total}",null==s?"":s+""):r({current:o,total:s}))},e.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",!0),n=this.getContentGroup(),i=this._containerGroup.__rectSize,r=t.getOrient().index,a=DS[r],o=FS[r],s=this._findTargetItemIndex(e),l=n.children(),c=l[s],u=l.length,h=u?1:0,d={contentPosition:[n.x,n.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return d;var p=y(c);d.contentPosition[r]=-p.s;for(var f=s+1,g=p,m=p,v=null;f<=u;++f)v=y(l[f]),(!v&&m.e>g.s+i||v&&!b(v,g.s))&&(g=m.i>g.i?m:v,g&&(null==d.pageNextDataIndex&&(d.pageNextDataIndex=g.i),++d.pageCount)),m=v;for(f=s-1,g=p,m=p,v=null;f>=-1;--f)v=y(l[f]),v&&b(m,v.s)||!(g.i<m.i)||(m=g,null==d.pagePrevDataIndex&&(d.pagePrevDataIndex=g.i),++d.pageCount,++d.pageIndex),g=v;return d;function y(t){if(t){var e=t.getBoundingRect(),n=e[o]+t[o];return{s:n,e:n+e[a],i:t.__legendDataIndex}}}function b(t,e){return t.e>=e&&t.s<=e+i}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var e,n,i=this.getContentGroup();return i.eachChild((function(i,r){var a=i.__legendDataIndex;null==n&&null!=a&&(n=r),a===t&&(e=r)})),null!=e?e:n},e.type="legend.scroll",e}(MS),BS=NS;function VS(t){t.registerAction("legendScroll","legendscroll",(function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(n)}))}))}function GS(t){Object(C["a"])(jS),t.registerComponentModel(PS),t.registerComponentView(BS),VS(t)}function zS(t){Object(C["a"])(jS),Object(C["a"])(GS)}var US=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.type="dataZoom.inside",e.defaultOption=Object(Ce["d"])(Gy.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(Gy),HS=US,WS=Object(Ur["o"])();function YS(t,e,n){WS(t).coordSysRecordMap.each((function(t){var i=t.dataZoomInfoMap.get(e.uid);i&&(i.getRange=n)}))}function XS(t,e){for(var n=WS(t).coordSysRecordMap,i=n.keys(),r=0;r<i.length;r++){var a=i[r],o=n.get(a),s=o.dataZoomInfoMap;if(s){var l=e.uid,c=s.get(l);c&&(s.removeKey(l),s.keys().length||qS(n,o))}}}function qS(t,e){if(e){t.removeKey(e.model.uid);var n=e.controller;n&&n.dispose()}}function ZS(t,e){var n={model:e,containsPoint:Object(V["curry"])(JS,e),dispatchAction:Object(V["curry"])(QS,t),dataZoomInfoMap:null,controller:null},i=n.controller=new Ri(t.getZr());return Object(V["each"])(["pan","zoom","scrollMove"],(function(t){i.on(t,(function(e){var i=[];n.dataZoomInfoMap.each((function(r){if(e.isAvailableBehavior(r.model.option)){var a=(r.getRange||{})[t],o=a&&a(r.dzReferCoordSysInfo,n.model.mainType,n.controller,e);!r.model.get("disabled",!0)&&o&&i.push({dataZoomId:r.model.id,start:o[0],end:o[1]})}})),i.length&&n.dispatchAction(i)}))})),n}function QS(t,e){t.isDisposed()||t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function JS(t,e,n,i){return t.coordinateSystem.containPoint([n,i])}function KS(t){var e,n="type_",i={type_true:2,type_move:1,type_false:0,type_undefined:-1},r=!0;return t.each((function(t){var a=t.model,o=!a.get("disabled",!0)&&(!a.get("zoomLock",!0)||"move");i[n+o]>i[n+e]&&(e=o),r=r&&a.get("preventDefaultMouseMove",!0)})),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!r}}}function $S(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,(function(t,e){var n=WS(e),i=n.coordSysRecordMap||(n.coordSysRecordMap=Object(V["createHashMap"])());i.each((function(t){t.dataZoomInfoMap=null})),t.eachComponent({mainType:"dataZoom",subType:"inside"},(function(t){var n=Fy(t);Object(V["each"])(n.infoList,(function(n){var r=n.model.uid,a=i.get(r)||i.set(r,ZS(e,n.model)),o=a.dataZoomInfoMap||(a.dataZoomInfoMap=Object(V["createHashMap"])());o.set(t.uid,{dzReferCoordSysInfo:n,model:t,getRange:null})}))})),i.each((function(t){var e,n=t.controller,r=t.dataZoomInfoMap;if(r){var a=r.keys()[0];null!=a&&(e=r.get(a))}if(e){var o=KS(r);n.enable(o.controlType,o.opt),n.setPointerChecker(t.containsPoint),De["b"](t,"dispatchAction",e.model.get("throttle",!0),"fixRate")}else qS(i,t)}))}))}var tO=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return Object(xe["a"])(e,t),e.prototype.render=function(e,n,i){t.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),YS(i,e,{pan:Object(V["bind"])(eO.pan,this),zoom:Object(V["bind"])(eO.zoom,this),scrollMove:Object(V["bind"])(eO.scrollMove,this)}))},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){XS(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(Wy),eO={zoom:function(t,e,n,i){var r=this.range,a=r.slice(),o=t.axisModels[0];if(o){var s=iO[e](null,[i.originX,i.originY],o,n,t),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],c=Math.max(1/i.scale,0);a[0]=(a[0]-l)*c+l,a[1]=(a[1]-l)*c+l;var u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return Uu(0,a,[0,100],0,u.minSpan,u.maxSpan),this.range=a,r[0]!==a[0]||r[1]!==a[1]?a:void 0}},pan:nO((function(t,e,n,i,r,a){var o=iO[i]([a.oldX,a.oldY],[a.newX,a.newY],e,r,n);return o.signal*(t[1]-t[0])*o.pixel/o.pixelLength})),scrollMove:nO((function(t,e,n,i,r,a){var o=iO[i]([0,0],[a.scrollDelta,a.scrollDelta],e,r,n);return o.signal*(t[1]-t[0])*a.scrollDelta}))};function nO(t){return function(e,n,i,r){var a=this.range,o=a.slice(),s=e.axisModels[0];if(s){var l=t(o,s,e,n,i,r);return Uu(l,o,[0,100],"all"),this.range=o,a[0]!==o[0]||a[1]!==o[1]?o:void 0}}}var iO={grid:function(t,e,n,i,r){var a=n.axis,o={},s=r.model.coordinateSystem.getRect();return t=t||[0,0],"x"===a.dim?(o.pixel=e[0]-t[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=e[1]-t[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o},polar:function(t,e,n,i,r){var a=n.axis,o={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),c=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===n.mainType?(o.pixel=e[0]-t[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=a.inverse?1:-1):(o.pixel=e[1]-t[1],o.pixelLength=c[1]-c[0],o.pixelStart=c[0],o.signal=a.inverse?-1:1),o},singleAxis:function(t,e,n,i,r){var a=n.axis,o=r.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===a.orient?(s.pixel=e[0]-t[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s}},rO=tO;function aO(t){rb(t),t.registerComponentModel(HS),t.registerComponentView(rO),$S(t)}var oO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Object(Ce["d"])(Gy.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(Gy),sO=oO,lO=je["a"],cO=7,uO=1,hO=30,dO=7,pO="horizontal",fO="vertical",gO=5,mO=["line","bar","candlestick","scatter"],vO={easing:"cubicOut",duration:100,delay:0},yO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._displayables={},n}return Object(xe["a"])(e,t),e.prototype.init=function(t,e){this.api=e,this._onBrush=Object(V["bind"])(this._onBrush,this),this._onBrushEnd=Object(V["bind"])(this._onBrushEnd,this)},e.prototype.render=function(e,n,i,r){if(t.prototype.render.apply(this,arguments),De["b"](this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show")){if(e.noTarget())return this._clear(),void this.group.removeAll();r&&"dataZoom"===r.type&&r.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){De["a"](this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var e=this._displayables.sliderGroup=new Te["a"];this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,e=this.api,n=t.get("brushSelect"),i=n?dO:0,r=this._findCoordRect(),a={width:e.getWidth(),height:e.getHeight()},o=this._orient===pO?{right:a.width-r.x-r.width,top:a.height-hO-cO-i,width:r.width,height:hO}:{right:cO,top:r.y,width:hO,height:r.height},s=Oa["f"](t.option);Object(V["each"])(["right","top","width","height"],(function(t){"ph"===s[t]&&(s[t]=o[t])}));var l=Oa["g"](s,a);this._location={x:l.x,y:l.y},this._size=[l.width,l.height],this._orient===fO&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,e=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),r=i&&i.get("inverse"),a=this._displayables.sliderGroup,o=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(n!==pO||r?n===pO&&r?{scaleY:o?1:-1,scaleX:-1}:n!==fO||r?{scaleY:o?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:o?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:o?1:-1,scaleX:1});var s=t.getBoundingRect([a]);t.x=e.x-s.x,t.y=e.y-s.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,e=this._size,n=this._displayables.sliderGroup,i=t.get("brushSelect");n.add(new lO({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var r=new lO({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:Object(V["bind"])(this._onClickPanel,this)}),a=this.api.getZr();i?(r.on("mousedown",this._onBrushStart,this),r.cursor="crosshair",a.on("mousemove",this._onBrush),a.on("mouseup",this._onBrushEnd)):(a.off("mousemove",this._onBrush),a.off("mouseup",this._onBrushEnd)),n.add(r)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var e=this._size,n=this._shadowSize||[],i=t.series,r=i.getRawData(),a=i.getShadowDim&&i.getShadowDim(),o=a&&r.getDimensionInfo(a)?i.getShadowDim():t.otherDim;if(null!=o){var s=this._shadowPolygonPts,l=this._shadowPolylinePts;if(r!==this._shadowData||o!==this._shadowDim||e[0]!==n[0]||e[1]!==n[1]){var c=r.getDataExtent(o),u=.3*(c[1]-c[0]);c=[c[0]-u,c[1]+u];var h,d=[0,e[1]],p=[0,e[0]],f=[[e[0],0],[0,0]],g=[],m=p[1]/(r.count()-1),v=0,y=Math.round(r.count()/e[0]);r.each([o],(function(t,e){if(y>0&&e%y)v+=m;else{var n=null==t||isNaN(t)||""===t,i=n?0:Object(vi["m"])(t,c,d,!0);n&&!h&&e?(f.push([f[f.length-1][0],0]),g.push([g[g.length-1][0],0])):!n&&h&&(f.push([v,0]),g.push([v,0])),f.push([v,i]),g.push([v,i]),v+=m,h=n}})),s=this._shadowPolygonPts=f,l=this._shadowPolylinePts=g}this._shadowData=r,this._shadowDim=o,this._shadowSize=[e[0],e[1]];for(var b=this.dataZoomModel,x=0;x<3;x++){var _=w(1===x);this._displayables.sliderGroup.add(_),this._displayables.dataShadowSegs.push(_)}}}function w(t){var e=b.getModel(t?"selectedDataBackground":"dataBackground"),n=new Te["a"],i=new Un["a"]({shape:{points:s},segmentIgnoreThreshold:1,style:e.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),r=new Hn["a"]({shape:{points:l},segmentIgnoreThreshold:1,style:e.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return n.add(i),n.add(r),n}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var n,i=this.ecModel;return t.eachTargetAxis((function(r,a){var o=t.getAxisProxy(r,a).getTargetSeriesModels();Object(V["each"])(o,(function(t){if(!n&&!(!0!==e&&Object(V["indexOf"])(mO,t.get("type"))<0)){var o,s=i.getComponent(Ry(r),a).axis,l=bO(r),c=t.coordinateSystem;null!=l&&c.getOtherAxis&&(o=c.getOtherAxis(s).inverse),l=t.getData().mapDimension(l),n={thisAxis:s,series:t,thisDim:r,otherDim:l,otherAxisInverse:o}}}),this)}),this),n}},e.prototype._renderHandle=function(){var t=this.group,e=this._displayables,n=e.handles=[null,null],i=e.handleLabels=[null,null],r=this._displayables.sliderGroup,a=this._size,o=this.dataZoomModel,s=this.api,l=o.get("borderRadius")||0,c=o.get("brushSelect"),u=e.filler=new lO({silent:c,style:{fill:o.get("fillerColor")},textConfig:{position:"inside"}});r.add(u),r.add(new lO({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:a[0],height:a[1],r:l},style:{stroke:o.get("dataBackgroundColor")||o.get("borderColor"),lineWidth:uO,fill:"rgba(0,0,0,0)"}})),Object(V["each"])([0,1],(function(e){var a=o.get("handleIcon");!Mn["d"][a]&&a.indexOf("path://")<0&&a.indexOf("image://")<0&&(a="path://"+a);var s=Object(Mn["a"])(a,-1,0,2,2,null,!0);s.attr({cursor:xO(this._orient),draggable:!0,drift:Object(V["bind"])(this._onDragMove,this,e),ondragend:Object(V["bind"])(this._onDragEnd,this),onmouseover:Object(V["bind"])(this._showDataInfo,this,!0),onmouseout:Object(V["bind"])(this._showDataInfo,this,!1),z2:5});var l=s.getBoundingRect(),c=o.get("handleSize");this._handleHeight=Object(vi["q"])(c,this._size[1]),this._handleWidth=l.width/l.height*this._handleHeight,s.setStyle(o.getModel("handleStyle").getItemStyle()),s.style.strokeNoScale=!0,s.rectHover=!0,s.ensureState("emphasis").style=o.getModel(["emphasis","handleStyle"]).getItemStyle(),Object(Pe["o"])(s);var u=o.get("handleColor");null!=u&&(s.style.fill=u),r.add(n[e]=s);var h=o.getModel("textStyle");t.add(i[e]=new _t["a"]({silent:!0,invisible:!0,style:Object(Re["c"])(h,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:h.getTextColor(),font:h.getFont()}),z2:10}))}),this);var h=u;if(c){var d=Object(vi["q"])(o.get("moveHandleSize"),a[1]),p=e.moveHandle=new je["a"]({style:o.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:a[1]-.5,height:d}}),f=.8*d,g=e.moveHandleIcon=Object(Mn["a"])(o.get("moveHandleIcon"),-f/2,-f/2,f,f,"#fff",!0);g.silent=!0,g.y=a[1]+d/2-.5,p.ensureState("emphasis").style=o.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var m=Math.min(a[1]/2,Math.max(d,10));h=e.moveZone=new je["a"]({invisible:!0,shape:{y:a[1]-m,height:d+m}}),h.on("mouseover",(function(){s.enterEmphasis(p)})).on("mouseout",(function(){s.leaveEmphasis(p)})),r.add(p),r.add(g),r.add(h)}h.attr({draggable:!0,cursor:xO(this._orient),drift:Object(V["bind"])(this._onDragMove,this,"all"),ondragstart:Object(V["bind"])(this._showDataInfo,this,!0),ondragend:Object(V["bind"])(this._onDragEnd,this),onmouseover:Object(V["bind"])(this._showDataInfo,this,!0),onmouseout:Object(V["bind"])(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[Object(vi["m"])(t[0],[0,100],e,!0),Object(vi["m"])(t[1],[0,100],e,!0)]},e.prototype._updateInterval=function(t,e){var n=this.dataZoomModel,i=this._handleEnds,r=this._getViewExtent(),a=n.findRepresentativeAxisProxy().getMinMaxSpan(),o=[0,100];Uu(e,i,r,n.get("zoomLock")?"all":t,null!=a.minSpan?Object(vi["m"])(a.minSpan,o,r,!0):null,null!=a.maxSpan?Object(vi["m"])(a.maxSpan,o,r,!0):null);var s=this._range,l=this._range=Object(vi["c"])([Object(vi["m"])(i[0],r,o,!0),Object(vi["m"])(i[1],r,o,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},e.prototype._updateView=function(t){var e=this._displayables,n=this._handleEnds,i=Object(vi["c"])(n.slice()),r=this._size;Object(V["each"])([0,1],(function(t){var i=e.handles[t],a=this._handleHeight;i.attr({scaleX:a/2,scaleY:a/2,x:n[t]+(t?-1:1),y:r[1]/2-a/2})}),this),e.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:r[1]});var a={x:i[0],width:i[1]-i[0]};e.moveHandle&&(e.moveHandle.setShape(a),e.moveZone.setShape(a),e.moveZone.getBoundingRect(),e.moveHandleIcon&&e.moveHandleIcon.attr("x",a.x+a.width/2));for(var o=e.dataShadowSegs,s=[0,i[0],i[1],r[0]],l=0;l<o.length;l++){var c=o[l],u=c.getClipPath();u||(u=new je["a"],c.setClipPath(u)),u.setShape({x:s[l],y:0,width:s[l+1]-s[l],height:r[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var e=this.dataZoomModel,n=this._displayables,i=n.handleLabels,r=this._orient,a=["",""];if(e.get("showDetail")){var o=e.findRepresentativeAxisProxy();if(o){var s=o.getAxisModel().axis,l=this._range,c=t?o.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:o.getDataValueWindow();a=[this._formatLabel(c[0],s),this._formatLabel(c[1],s)]}}var u=Object(vi["c"])(this._handleEnds.slice());function h(t){var e=ke["getTransform"](n.handles[t].parent,this.group),o=ke["transformDirection"](0===t?"right":"left",e),s=this._handleWidth/2+gO,l=ke["applyTransform"]([u[t]+(0===t?-s:s),this._size[1]/2],e);i[t].setStyle({x:l[0],y:l[1],verticalAlign:r===pO?"middle":o,align:r===pO?o:"center",text:a[t]})}h.call(this,0),h.call(this,1)},e.prototype._formatLabel=function(t,e){var n=this.dataZoomModel,i=n.get("labelFormatter"),r=n.get("labelPrecision");null!=r&&"auto"!==r||(r=e.getPixelPrecision());var a=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(r,20));return Object(V["isFunction"])(i)?i(t,a):Object(V["isString"])(i)?i.replace("{value}",a):a},e.prototype._showDataInfo=function(t){t=this._dragging||t;var e=this._displayables,n=e.handleLabels;n[0].attr("invisible",!t),n[1].attr("invisible",!t),e.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](e.moveHandle,1)},e.prototype._onDragMove=function(t,e,n,i){this._dragging=!0,Oi["g"](i.event);var r=this._displayables.sliderGroup.getLocalTransform(),a=ke["applyTransform"]([e,n],r,!0),o=this._updateInterval(t,a[0]),s=this.dataZoomModel.get("realtime");this._updateView(!s),o&&s&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var e=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(n[0]<0||n[0]>e[0]||n[1]<0||n[1]>e[1])){var i=this._handleEnds,r=(i[0]+i[1])/2,a=this._updateInterval("all",n[0]-r);this._updateView(),a&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var e=t.offsetX,n=t.offsetY;this._brushStart=new eu["a"](e,n),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var e=this._displayables.brushRect;if(this._brushing=!1,e){e.attr("ignore",!0);var n=e.shape,i=+new Date;if(!(i-this._brushStartTime<200&&Math.abs(n.width)<5)){var r=this._getViewExtent(),a=[0,100];this._range=Object(vi["c"])([Object(vi["m"])(n.x,r,a,!0),Object(vi["m"])(n.x+n.width,r,a,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(Oi["g"](t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,e){var n=this._displayables,i=this.dataZoomModel,r=n.brushRect;r||(r=n.brushRect=new lO({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(r)),r.attr("ignore",!1);var a=this._brushStart,o=this._displayables.sliderGroup,s=o.transformCoordToLocal(t,e),l=o.transformCoordToLocal(a.x,a.y),c=this._size;s[0]=Math.max(Math.min(c[0],s[0]),0),r.setShape({x:l[0],y:0,width:s[0]-l[0],height:c[1]})},e.prototype._dispatchZoomAction=function(t){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?vO:null,start:e[0],end:e[1]})},e.prototype._findCoordRect=function(){var t,e=Fy(this.dataZoomModel).infoList;if(!t&&e.length){var n=e[0].model.coordinateSystem;t=n.getRect&&n.getRect()}if(!t){var i=this.api.getWidth(),r=this.api.getHeight();t={x:.2*i,y:.2*r,width:.6*i,height:.6*r}}return t},e.type="dataZoom.slider",e}(Wy);function bO(t){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[t]}function xO(t){return"vertical"===t?"ns-resize":"ew-resize"}var _O=yO;function wO(t){t.registerComponentModel(sO),t.registerComponentView(_O),rb(t)}function SO(t){Object(C["a"])(aO),Object(C["a"])(wO)}var OO={get:function(t,e,n){var i=V["clone"]((CO[t]||{})[e]);return n&&V["isArray"](i)?i[i.length-1]:i}},CO={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},AO=OO,MO=Ws.mapVisual,TO=Ws.eachVisual,kO=V["isArray"],LO=V["each"],jO=vi["c"],IO=vi["m"],EO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return Object(xe["a"])(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},e.prototype.optionUpdated=function(t,e){var n=this.option;!e&&d_(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var e=this.stateList;t=V["bind"](t,this),this.controllerVisuals=h_(this.option.controller,e,t),this.targetVisuals=h_(this.option.target,e,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries((function(t,n){e.push(n)})):e=Ur["r"](t),e},e.prototype.eachTargetSeries=function(t,e){V["each"](this.getTargetSeriesIndices(),(function(n){var i=this.ecModel.getSeriesByIndex(n);i&&t.call(e,i)}),this)},e.prototype.isTargetSeries=function(t){var e=!1;return this.eachTargetSeries((function(n){n===t&&(e=!0)})),e},e.prototype.formatValueText=function(t,e,n){var i,r=this.option,a=r.precision,o=this.dataBound,s=r.formatter;n=n||["<",">"],V["isArray"](t)&&(t=t.slice(),i=!0);var l=e?t:i?[c(t[0]),c(t[1])]:c(t);return V["isString"](s)?s.replace("{value}",i?l[0]:l).replace("{value2}",i?l[1]:l):V["isFunction"](s)?i?s(t[0],t[1]):s(t):i?t[0]===o[0]?n[0]+" "+l[1]:t[1]===o[1]?n[1]+" "+l[0]:l[0]+" - "+l[1]:l;function c(t){return t===o[0]?"min":t===o[1]?"max":(+t).toFixed(Math.min(a,20))}},e.prototype.resetExtent=function(){var t=this.option,e=jO([t.min,t.max]);this._dataExtent=e},e.prototype.getDataDimensionIndex=function(t){var e=this.option.dimension;if(null!=e)return t.getDimensionIndex(e);for(var n=t.dimensions,i=n.length-1;i>=0;i--){var r=n[i],a=t.getDimensionInfo(r);if(!a.isCalculationCoord)return a.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,e=this.option,n={inRange:e.inRange,outOfRange:e.outOfRange},i=e.target||(e.target={}),r=e.controller||(e.controller={});V["merge"](i,n),V["merge"](r,n);var a=this.isCategory();function o(n){kO(e.color)&&!n.inRange&&(n.inRange={color:e.color.slice().reverse()}),n.inRange=n.inRange||{color:t.get("gradientColor")}}function s(t,e,n){var i=t[e],r=t[n];i&&!r&&(r=t[n]={},LO(i,(function(t,e){if(Ws.isValidType(e)){var n=AO.get(e,"inactive",a);null!=n&&(r[e]=n,"color"!==e||r.hasOwnProperty("opacity")||r.hasOwnProperty("colorAlpha")||(r.opacity=[0,0]))}})))}function l(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,i=this.get("inactiveColor"),r=this.getItemSymbol(),o=r||"roundRect";LO(this.stateList,(function(r){var s=this.itemSize,l=t[r];l||(l=t[r]={color:a?i:[i]}),null==l.symbol&&(l.symbol=e&&V["clone"](e)||(a?o:[o])),null==l.symbolSize&&(l.symbolSize=n&&V["clone"](n)||(a?s[0]:[s[0],s[0]])),l.symbol=MO(l.symbol,(function(t){return"none"===t?o:t}));var c=l.symbolSize;if(null!=c){var u=-1/0;TO(c,(function(t){t>u&&(u=t)})),l.symbolSize=MO(c,(function(t){return IO(t,[0,u],[0,s[0]],!0)}))}}),this)}o.call(this,i),o.call(this,r),s.call(this,i,"inRange","outOfRange"),l.call(this,r)},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(ei["a"]),PO=EO,RO=[20,140],DO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()})),this._resetRange()},e.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=RO[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=RO[1])},e.prototype._resetRange=function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):V["isArray"](e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},e.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),V["each"](this.stateList,(function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=e[1]/3)}),this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),e=vi["c"]((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},e.prototype.getValueState=function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[];return this.eachTargetSeries((function(n){var i=[],r=n.getData();r.each(this.getDataDimensionIndex(r),(function(e,n){t[0]<=e&&e<=t[1]&&i.push(n)}),this),e.push({seriesId:n.id,dataIndex:i})}),this),e},e.prototype.getVisualMeta=function(t){var e=FO(this,"outOfRange",this.getExtent()),n=FO(this,"inRange",this.option.range.slice()),i=[];function r(e,n){i.push({value:e,color:t(e,n)})}for(var a=0,o=0,s=n.length,l=e.length;o<l&&(!n.length||e[o]<=n[0]);o++)e[o]<n[a]&&r(e[o],"outOfRange");for(var c=1;a<s;a++,c=0)c&&i.length&&r(n[a],"outOfRange"),r(n[a],"inRange");for(c=1;o<l;o++)(!n.length||n[n.length-1]<e[o])&&(c&&(i.length&&r(i[i.length-1].value,"outOfRange"),c=0),r(e[o],"outOfRange"));var u=i.length;return{stops:i,outerColors:[u?i[0].color:"transparent",u?i[u-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Object(Ce["d"])(PO.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(PO);function FO(t,e,n){if(n[0]===n[1])return n.slice();for(var i=200,r=(n[1]-n[0])/i,a=n[0],o=[],s=0;s<=i&&a<n[1];s++)o.push(a),a+=r;return o.push(n[1]),o}var NO=DO,BO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return Object(xe["a"])(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e},e.prototype.render=function(t,e,n,i){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,e,n,i):this.group.removeAll()},e.prototype.renderBackground=function(t){var e=this.visualMapModel,n=cs["i"](e.get("padding")||0),i=t.getBoundingRect();t.add(new je["a"]({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,e,n){n=n||{};var i=n.forceState,r=this.visualMapModel,a={};if("color"===e){var o=r.get("contentColor");a.color=o}function s(t){return a[t]}function l(t,e){a[t]=e}var c=r.controllerVisuals[i||r.getValueState(t)],u=Ws.prepareVisualTypes(c);return V["each"](u,(function(i){var r=c[i];n.convertOpacityToAlpha&&"opacity"===i&&(i="colorAlpha",r=c.__alphaForOpacity),Ws.dependsOn(i,e)&&r&&r.applyVisual(t,s,l)})),a[e]},e.prototype.positionGroup=function(t){var e=this.visualMapModel,n=this.api;Oa["i"](t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},e.prototype.doRender=function(t,e,n,i){},e.type="visualMap",e}(ci["a"]),VO=BO,GO=[["left","right","width"],["top","bottom","height"]];function zO(t,e,n){var i=t.option,r=i.align;if(null!=r&&"auto"!==r)return r;for(var a={width:e.getWidth(),height:e.getHeight()},o="horizontal"===i.orient?1:0,s=GO[o],l=[0,null,10],c={},u=0;u<3;u++)c[GO[1-o][u]]=l[u],c[s[u]]=2===u?n[0]:i[s[u]];var h=[["x","width",3],["y","height",0]][o],d=Object(Oa["g"])(c,a,i.padding);return s[(d.margin[h[2]]||0)+d[h[0]]+.5*d[h[1]]<.5*a[h[1]]?0:1]}function UO(t,e){return V["each"](t||[],(function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")})),t}var HO=vi["m"],WO=V["each"],YO=Math.min,XO=Math.max,qO=12,ZO=6,QO=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return Object(xe["a"])(e,t),e.prototype.doRender=function(t,e,n,i){this._api=n,i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var n=t.get("text");this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},e.prototype._renderEndsText=function(t,e,n){if(e){var i=e[1-n];i=null!=i?i+"":"";var r=this.visualMapModel,a=r.get("textGap"),o=r.itemSize,s=this._shapes.mainGroup,l=this._applyTransform([o[0]/2,0===n?-a:o[1]+a],s),c=this._applyTransform(0===n?"bottom":"top",s),u=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new _t["a"]({style:Object(Re["c"])(h,{x:l[0],y:l[1],verticalAlign:"horizontal"===u?"middle":c,align:"horizontal"===u?c:"center",text:i})}))}},e.prototype._renderBar=function(t){var e=this.visualMapModel,n=this._shapes,i=e.itemSize,r=this._orient,a=this._useHandle,o=zO(e,this.api,i),s=n.mainGroup=this._createBarGroup(o),l=new Te["a"];s.add(l),l.add(n.outOfRange=JO()),l.add(n.inRange=JO(null,a?tC(this._orient):null,V["bind"](this._dragHandle,this,"all",!1),V["bind"](this._dragHandle,this,"all",!0))),l.setClipPath(new je["a"]({shape:{x:0,y:0,width:i[0],height:i[1],r:3}}));var c=e.textStyleModel.getTextRect("国"),u=XO(c.width,c.height);a&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(e,s,0,i,u,r),this._createHandle(e,s,1,i,u,r)),this._createIndicator(e,s,i,u,r),t.add(s)},e.prototype._createHandle=function(t,e,n,i,r,a){var o=V["bind"](this._dragHandle,this,n,!1),s=V["bind"](this._dragHandle,this,n,!0),l=Object(L["g"])(t.get("handleSize"),i[0]),c=Object(Mn["a"])(t.get("handleIcon"),-l/2,-l/2,l,l,null,!0),u=tC(this._orient);c.attr({cursor:u,draggable:!0,drift:o,ondragend:s,onmousemove:function(t){Oi["g"](t.event)}}),c.x=i[0]/2,c.useStyle(t.getModel("handleStyle").getItemStyle()),c.setStyle({strokeNoScale:!0,strokeFirst:!0}),c.style.lineWidth*=2,c.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),Object(Pe["F"])(c,!0),e.add(c);var h=this.visualMapModel.textStyleModel,d=new _t["a"]({cursor:u,draggable:!0,drift:o,onmousemove:function(t){Oi["g"](t.event)},ondragend:s,style:Object(Re["c"])(h,{x:0,y:0,text:""})});d.ensureState("blur").style={opacity:.1},d.stateTransition={duration:200},this.group.add(d);var p=[l,0],f=this._shapes;f.handleThumbs[n]=c,f.handleLabelPoints[n]=p,f.handleLabels[n]=d},e.prototype._createIndicator=function(t,e,n,i,r){var a=Object(L["g"])(t.get("indicatorSize"),n[0]),o=Object(Mn["a"])(t.get("indicatorIcon"),-a/2,-a/2,a,a,null,!0);o.attr({cursor:"move",invisible:!0,silent:!0,x:n[0]/2});var s=t.getModel("indicatorStyle").getItemStyle();if(o instanceof k["a"]){var l=o.style;o.useStyle(V["extend"]({image:l.image,x:l.x,y:l.y,width:l.width,height:l.height},s))}else o.useStyle(s);e.add(o);var c=this.visualMapModel.textStyleModel,u=new _t["a"]({silent:!0,invisible:!0,style:Object(Re["c"])(c,{x:0,y:0,text:""})});this.group.add(u);var h=[("horizontal"===r?i/2:ZO)+n[0]/2,0],d=this._shapes;d.indicator=o,d.indicatorLabel=u,d.indicatorLabelPoint=h,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,e,n,i){if(this._useHandle){if(this._dragging=!e,!e){var r=this._applyTransform([n,i],this._shapes.mainGroup,!0);this._updateInterval(t,r[1]),this._hideIndicator(),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():$O(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),i=[0,t.itemSize[1]];this._handleEnds=[HO(e[0],n,i,!0),HO(e[1],n,i,!0)]},e.prototype._updateInterval=function(t,e){e=e||0;var n=this.visualMapModel,i=this._handleEnds,r=[0,n.itemSize[1]];Uu(e,i,r,t,0);var a=n.getExtent();this._dataInterval=[HO(i[0],r,a,!0),HO(i[1],r,a,!0)]},e.prototype._updateView=function(t){var e=this.visualMapModel,n=e.getExtent(),i=this._shapes,r=[0,e.itemSize[1]],a=t?r:this._handleEnds,o=this._createBarVisual(this._dataInterval,n,a,"inRange"),s=this._createBarVisual(n,n,r,"outOfRange");i.inRange.setStyle({fill:o.barColor}).setShape("points",o.barPoints),i.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints),this._updateHandle(a,o)},e.prototype._createBarVisual=function(t,e,n,i){var r={forceState:i,convertOpacityToAlpha:!0},a=this._makeColorGradient(t,r),o=[this.getControllerVisual(t[0],"symbolSize",r),this.getControllerVisual(t[1],"symbolSize",r)],s=this._createBarPoints(n,o);return{barColor:new Wi["a"](0,0,0,1,a),barPoints:s,handlesColor:[a[0].color,a[a.length-1].color]}},e.prototype._makeColorGradient=function(t,e){var n=100,i=[],r=(t[1]-t[0])/n;i.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var a=1;a<n;a++){var o=t[0]+r*a;if(o>t[1])break;i.push({color:this.getControllerVisual(o,"color",e),offset:a/n})}return i.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),i},e.prototype._createBarPoints=function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},e.prototype._createBarGroup=function(t){var e=this._orient,n=this.visualMapModel.get("inverse");return new Te["a"]("horizontal"!==e||n?"horizontal"===e&&n?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==e||n?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},e.prototype._updateHandle=function(t,e){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,r=n.handleThumbs,a=n.handleLabels,o=i.itemSize,s=i.getExtent();WO([0,1],(function(l){var c=r[l];c.setStyle("fill",e.handlesColor[l]),c.y=t[l];var u=HO(t[l],[0,o[1]],s,!0),h=this.getControllerVisual(u,"symbolSize");c.scaleX=c.scaleY=h/o[0],c.x=o[0]-h/2;var d=ke["applyTransform"](n.handleLabelPoints[l],ke["getTransform"](c,this.group));a[l].setStyle({x:d[0],y:d[1],text:i.formatValueText(this._dataInterval[l]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",n.mainGroup):"center"})}),this)}},e.prototype._showIndicator=function(t,e,n,i){var r=this.visualMapModel,a=r.getExtent(),o=r.itemSize,s=[0,o[1]],l=this._shapes,c=l.indicator;if(c){c.attr("invisible",!1);var u={convertOpacityToAlpha:!0},h=this.getControllerVisual(t,"color",u),d=this.getControllerVisual(t,"symbolSize"),p=HO(t,a,s,!0),f=o[0]-d/2,g={x:c.x,y:c.y};c.y=p,c.x=f;var m=ke["applyTransform"](l.indicatorLabelPoint,ke["getTransform"](c,this.group)),v=l.indicatorLabel;v.attr("invisible",!1);var y=this._applyTransform("left",l.mainGroup),b=this._orient,x="horizontal"===b;v.setStyle({text:(n||"")+r.formatValueText(e),verticalAlign:x?y:"middle",align:x?"center":y});var _={x:f,y:p,style:{fill:h}},w={style:{x:m[0],y:m[1]}};if(r.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var S={duration:100,easing:"cubicInOut",additive:!0};c.x=g.x,c.y=g.y,c.animateTo(_,S),v.animateTo(w,S)}else c.attr(_),v.attr(w);this._firstShowIndicator=!1;var O=this._shapes.handleLabels;if(O)for(var C=0;C<O.length;C++)this._api.enterBlur(O[C])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",(function(e){if(t._hovering=!0,!t._dragging){var n=t.visualMapModel.itemSize,i=t._applyTransform([e.offsetX,e.offsetY],t._shapes.mainGroup,!0,!0);i[1]=YO(XO(0,i[1]),n[1]),t._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}})).on("mouseout",(function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()}))},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,e){var n=this.visualMapModel,i=n.itemSize;if(n.option.hoverLink){var r=[0,i[1]],a=n.getExtent();t=YO(XO(r[0],t),r[1]);var o=KO(n,a,r),s=[t-o,t+o],l=HO(t,r,a,!0),c=[HO(s[0],r,a,!0),HO(s[1],r,a,!0)];s[0]<r[0]&&(c[0]=-1/0),s[1]>r[1]&&(c[1]=1/0),e&&(c[0]===-1/0?this._showIndicator(l,c[1],"< ",o):c[1]===1/0?this._showIndicator(l,c[0],"> ",o):this._showIndicator(l,l,"≈ ",o));var u=this._hoverLinkDataIndices,h=[];(e||$O(n))&&(h=this._hoverLinkDataIndices=n.findTargetDataIndices(c));var d=Ur["d"](u,h);this._dispatchHighDown("downplay",UO(d[0],n)),this._dispatchHighDown("highlight",UO(d[1],n))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var e;if(Object(Pa["a"])(t.target,(function(t){var n=Object(Ee["a"])(t);if(null!=n.dataIndex)return e=n,!0}),!0),e){var n=this.ecModel.getSeriesByIndex(e.seriesIndex),i=this.visualMapModel;if(i.isTargetSeries(n)){var r=n.getData(e.dataType),a=r.getStore().get(i.getDataDimensionIndex(r),e.dataIndex);isNaN(a)||this._showIndicator(a,a)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var e=this._shapes.handleLabels;if(e)for(var n=0;n<e.length;n++)this._api.leaveBlur(e[n])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",UO(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,e,n,i){var r=ke["getTransform"](e,i?null:this.group);return V["isArray"](t)?ke["applyTransform"](t,r,n):ke["transformDirection"](t,r,n)},e.prototype._dispatchHighDown=function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(VO);function JO(t,e,n,i){return new Un["a"]({shape:{points:t},draggable:!!n,cursor:e,drift:n,onmousemove:function(t){Oi["g"](t.event)},ondragend:i})}function KO(t,e,n){var i=qO/2,r=t.get("hoverLinkDataSize");return r&&(i=HO(r,e,n,!0)/2),i}function $O(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function tC(t){return"vertical"===t?"ns-resize":"ew-resize"}var eC=QO,nC={type:"selectDataRange",event:"dataRangeSelected",update:"update"},iC=function(t,e){e.eachComponent({mainType:"visualMap",query:t},(function(e){e.setSelected(t.selected)}))},rC=[{createOnAllSeries:!0,reset:function(t,e){var n=[];return e.eachComponent("visualMap",(function(e){var i=t.pipelineContext;!e.isTargetSeries(t)||i&&i.large||n.push(f_(e.stateList,e.targetVisuals,V["bind"](e.getValueState,e),e.getDataDimensionIndex(t.getData())))})),n}},{createOnAllSeries:!0,reset:function(t,e){var n=t.getData(),i=[];e.eachComponent("visualMap",(function(e){if(e.isTargetSeries(t)){var r=e.getVisualMeta(V["bind"](aC,null,t,e))||{stops:[],outerColors:[]},a=e.getDataDimensionIndex(n);a>=0&&(r.dimension=a,i.push(r))}})),t.getData().setVisual("visualMeta",i)}}];function aC(t,e,n,i){for(var r=e.targetVisuals[i],a=Ws.prepareVisualTypes(r),o={color:Object(l_["b"])(t.getData(),"color")},s=0,l=a.length;s<l;s++){var c=a[s],u=r["opacity"===c?"__alphaForOpacity":c];u&&u.applyVisual(n,h,d)}return o.color;function h(t){return o[t]}function d(t,e){o[t]=e}}var oC=V["each"];function sC(t){var e=t&&t.visualMap;V["isArray"](e)||(e=e?[e]:[]),oC(e,(function(t){if(t){lC(t,"splitList")&&!lC(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&V["isArray"](e)&&oC(e,(function(t){V["isObject"](t)&&(lC(t,"start")&&!lC(t,"min")&&(t.min=t.start),lC(t,"end")&&!lC(t,"max")&&(t.max=t.end))}))}}))}function lC(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var cC=!1;function uC(t){cC||(cC=!0,t.registerSubTypeDefaulter("visualMap",(function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"})),t.registerAction(nC,iC),Object(V["each"])(rC,(function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)})),t.registerPreprocessor(sC))}function hC(t){t.registerComponentModel(NO),t.registerComponentView(eC),uC(t)}var dC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._pieceList=[],n}return Object(xe["a"])(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],pC[this._mode].call(this,this._pieceList),this._resetSelected(e,n);var r=this.option.categories;this.resetVisual((function(t,e){"categories"===i?(t.mappingMethod="category",t.categories=V["clone"](r)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=V["map"](this._pieceList,(function(t){return t=V["clone"](t),"inRange"!==e&&(t.visual=null),t})))}))},e.prototype.completeVisualOption=function(){var e=this.option,n={},i=Ws.listVisualTypes(),r=this.isCategory();function a(t,e,n){return t&&t[e]&&t[e].hasOwnProperty(n)}V["each"](e.pieces,(function(t){V["each"](i,(function(e){t.hasOwnProperty(e)&&(n[e]=1)}))})),V["each"](n,(function(t,n){var i=!1;V["each"](this.stateList,(function(t){i=i||a(e,t,n)||a(e.target,t,n)}),this),!i&&V["each"](this.stateList,(function(t){(e[t]||(e[t]={}))[n]=AO.get(n,"inRange"===t?"active":"inactive",r)}))}),this),t.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,e){var n=this.option,i=this._pieceList,r=(e?n:t).selected||{};if(n.selected=r,V["each"](i,(function(t,e){var n=this.getSelectedMapKey(t);r.hasOwnProperty(n)||(r[n]=!0)}),this),"single"===n.selectedMode){var a=!1;V["each"](i,(function(t,e){var n=this.getSelectedMapKey(t);r[n]&&(a?r[n]=!1:a=!0)}),this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=V["clone"](t)},e.prototype.getValueState=function(t){var e=Ws.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[],n=this._pieceList;return this.eachTargetSeries((function(i){var r=[],a=i.getData();a.each(this.getDataDimensionIndex(a),(function(e,i){var a=Ws.findPieceIndex(e,n);a===t&&r.push(i)}),this),e.push({seriesId:i.id,dataIndex:r})}),this),e},e.prototype.getRepresentValue=function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var n=t.interval||[];e=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return e},e.prototype.getVisualMeta=function(t){if(!this.isCategory()){var e=[],n=["",""],i=this,r=this._pieceList.slice();if(r.length){var a=r[0].interval[0];a!==-1/0&&r.unshift({interval:[-1/0,a]}),a=r[r.length-1].interval[1],a!==1/0&&r.push({interval:[a,1/0]})}else r.push({interval:[-1/0,1/0]});var o=-1/0;return V["each"](r,(function(t){var e=t.interval;e&&(e[0]>o&&s([o,e[0]],"outOfRange"),s(e.slice()),o=e[1])}),this),{stops:e,outerColors:n}}function s(r,a){var o=i.getRepresentValue({interval:r});a||(a=i.getValueState(o));var s=t(o,a);r[0]===-1/0?n[0]=s:r[1]===1/0?n[1]=s:e.push({value:r[0],color:s},{value:r[1],color:s})}},e.type="visualMap.piecewise",e.defaultOption=Object(Ce["d"])(PO.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(PO),pC={splitNumber:function(t){var e=this.option,n=Math.min(e.precision,20),i=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;var a=(i[1]-i[0])/r;while(+a.toFixed(n)!==a&&n<5)n++;e.precision=n,a=+a.toFixed(n),e.minOpen&&t.push({interval:[-1/0,i[0]],close:[0,0]});for(var o=0,s=i[0];o<r;s+=a,o++){var l=o===r-1?i[1]:s+a;t.push({interval:[s,l],close:[1,1]})}e.maxOpen&&t.push({interval:[i[1],1/0],close:[0,0]}),Object(vi["u"])(t),V["each"](t,(function(t,e){t.index=e,t.text=this.formatValueText(t.interval)}),this)},categories:function(t){var e=this.option;V["each"](e.categories,(function(e){t.push({text:this.formatValueText(e,!0),value:e})}),this),fC(e,t)},pieces:function(t){var e=this.option;V["each"](e.pieces,(function(e,n){V["isObject"](e)||(e={value:e});var i={text:"",index:n};if(null!=e.label&&(i.text=e.label),e.hasOwnProperty("value")){var r=i.value=e.value;i.interval=[r,r],i.close=[1,1]}else{for(var a=i.interval=[],o=i.close=[0,0],s=[1,0,1],l=[-1/0,1/0],c=[],u=0;u<2;u++){for(var h=[["gte","gt","min"],["lte","lt","max"]][u],d=0;d<3&&null==a[u];d++)a[u]=e[h[d]],o[u]=s[d],c[u]=2===d;null==a[u]&&(a[u]=l[u])}c[0]&&a[1]===1/0&&(o[0]=0),c[1]&&a[0]===-1/0&&(o[1]=0),a[0]===a[1]&&o[0]&&o[1]&&(i.value=a[0])}i.visual=Ws.retrieveVisuals(e),t.push(i)}),this),fC(e,t),Object(vi["u"])(t),V["each"](t,(function(t){var e=t.close,n=[["<","≤"][e[1]],[">","≥"][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,n)}),this)}};function fC(t,e){var n=t.inverse;("vertical"===t.orient?!n:n)&&e.reverse()}var gC=dC,mC=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(xe["a"])(e,t),e.prototype.doRender=function(){var t=this.group;t.removeAll();var e=this.visualMapModel,n=e.get("textGap"),i=e.textStyleModel,r=i.getFont(),a=i.getTextColor(),o=this._getItemAlign(),s=e.itemSize,l=this._getViewData(),c=l.endsText,u=V["retrieve"](e.get("showLabel",!0),!c);c&&this._renderEndsText(t,c[0],s,u,o),V["each"](l.viewPieceList,(function(i){var l=i.piece,c=new Te["a"];c.onclick=V["bind"](this._onItemClick,this,l),this._enableHoverLink(c,i.indexInModelPieceList);var h=e.getRepresentValue(l);if(this._createItemSymbol(c,h,[0,0,s[0],s[1]]),u){var d=this.visualMapModel.getValueState(h);c.add(new _t["a"]({style:{x:"right"===o?-n:s[0]+n,y:s[1]/2,text:l.text,verticalAlign:"middle",align:o,font:r,fill:a,opacity:"outOfRange"===d?.5:1}}))}t.add(c)}),this),c&&this._renderEndsText(t,c[1],s,u,o),Oa["b"](e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,e){var n=this;t.on("mouseover",(function(){return i("highlight")})).on("mouseout",(function(){return i("downplay")}));var i=function(t){var i=n.visualMapModel;i.option.hoverLink&&n.api.dispatchAction({type:t,batch:UO(i.findTargetDataIndices(e),i)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return zO(t,this.api,t.itemSize);var n=e.align;return n&&"auto"!==n||(n="left"),n},e.prototype._renderEndsText=function(t,e,n,i,r){if(e){var a=new Te["a"],o=this.visualMapModel.textStyleModel;a.add(new _t["a"]({style:Object(Re["c"])(o,{x:i?"right"===r?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:"middle",align:i?r:"center",text:e})})),t.add(a)}},e.prototype._getViewData=function(){var t=this.visualMapModel,e=V["map"](t.getPieceList(),(function(t,e){return{piece:t,indexInModelPieceList:e}})),n=t.get("text"),i=t.get("orient"),r=t.get("inverse");return("horizontal"===i?r:!r)?e.reverse():n&&(n=n.slice().reverse()),{viewPieceList:e,endsText:n}},e.prototype._createItemSymbol=function(t,e,n){t.add(Object(Mn["a"])(this.getControllerVisual(e,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,"color")))},e.prototype._onItemClick=function(t){var e=this.visualMapModel,n=e.option,i=n.selectedMode;if(i){var r=V["clone"](n.selected),a=e.getSelectedMapKey(t);"single"===i||!0===i?(r[a]=!0,V["each"](r,(function(t,e){r[e]=e===a}))):r[a]=!r[a],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:r})}},e.type="visualMap.piecewise",e}(VO),vC=mC;function yC(t){t.registerComponentModel(gC),t.registerComponentView(vC),uC(t)}function bC(t){Object(C["a"])(hC),Object(C["a"])(yC)}var xC={label:{enabled:!0},decal:{show:!1}},_C=Object(Ur["o"])(),wC={};function SC(t,e){var n=t.getModel("aria");if(n.get("enabled")){var i=V["clone"](xC);V["merge"](i.label,t.getLocaleModel().get("aria"),!1),V["merge"](n.option,i,!1),r(),a()}function r(){var e=n.getModel("decal"),i=e.get("show");if(i){var r=V["createHashMap"]();t.eachSeries((function(t){if(!t.isColorBySeries()){var e=r.get(t.type);e||(e={},r.set(t.type,e)),_C(t).scope=e}})),t.eachRawSeries((function(e){if(!t.isSeriesFiltered(e))if(V["isFunction"](e.enableAriaDecal))e.enableAriaDecal();else{var n=e.getData();if(e.isColorBySeries()){var i=Object(Yo["b"])(e.ecModel,e.name,wC,t.getSeriesCount()),r=n.getVisual("decal");n.setVisual("decal",c(r,i))}else{var a=e.getRawData(),o={},s=_C(e).scope;n.each((function(t){var e=n.getRawIndex(t);o[e]=t}));var l=a.count();a.each((function(t){var i=o[t],r=a.getName(t)||t+"",u=Object(Yo["b"])(e.ecModel,r,s,l),h=n.getItemVisual(i,"decal");n.setItemVisual(i,"decal",c(h,u))}))}}function c(t,e){var n=t?V["extend"](V["extend"]({},e),t):e;return n.dirty=!0,n}}))}}function a(){var i=t.getLocaleModel().get("aria"),r=n.getModel("label");if(r.option=V["defaults"](r.option,i),r.get("enabled")){var a=e.getZr().dom;if(r.get("description"))a.setAttribute("aria-label",r.get("description"));else{var c,u=t.getSeriesCount(),h=r.get(["data","maxCount"])||10,d=r.get(["series","maxCount"])||10,p=Math.min(u,d);if(!(u<1)){var f=s();if(f){var g=r.get(["general","withTitle"]);c=o(g,{title:f})}else c=r.get(["general","withoutTitle"]);var m=[],v=u>1?r.get(["series","multiple","prefix"]):r.get(["series","single","prefix"]);c+=o(v,{seriesCount:u}),t.eachSeries((function(t,e){if(e<p){var n=void 0,i=t.get("name"),a=i?"withName":"withoutName";n=u>1?r.get(["series","multiple",a]):r.get(["series","single",a]),n=o(n,{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:l(t.subType)});var s=t.getData();if(s.count()>h){var c=r.get(["data","partialData"]);n+=o(c,{displayCnt:h})}else n+=r.get(["data","allData"]);for(var d=r.get(["data","separator","middle"]),f=r.get(["data","separator","end"]),g=[],v=0;v<s.count();v++)if(v<h){var y=s.getName(v),b=s.getValues(v),x=r.get(["data",y?"withName":"withoutName"]);g.push(o(x,{name:y,value:b.join(d)}))}n+=g.join(d)+f,m.push(n)}}));var y=r.getModel(["series","multiple","separator"]),b=y.get("middle"),x=y.get("end");c+=m.join(b)+x,a.setAttribute("aria-label",c)}}}}function o(t,e){if(!V["isString"](t))return t;var n=t;return V["each"](e,(function(t,e){n=n.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)})),n}function s(){var e=t.get("title");return e&&e.length&&(e=e[0]),e&&e.text}function l(e){return t.getLocaleModel().get(["series","typeNames"])[e]||"自定义图"}}function OC(t){if(t&&t.aria){var e=t.aria;null!=e.show&&(e.enabled=e.show),e.label=e.label||{},V["each"](["description","general","series","data"],(function(t){null!=e[t]&&(e.label[t]=e[t])}))}}function CC(t){t.registerPreprocessor(OC),t.registerVisual(t.PRIORITY.VISUAL.ARIA,SC)}var AC={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},MC=function(){function t(t){var e=this._condVal=Object(V["isString"])(t)?new RegExp(t):Object(V["isRegExp"])(t)?t:null;if(null==e){var n="";0,Object(Ms["c"])(n)}}return t.prototype.evaluate=function(t){var e=typeof t;return Object(V["isString"])(e)?this._condVal.test(t):!!Object(V["isNumber"])(e)&&this._condVal.test(t+"")},t}(),TC=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),kC=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},t}(),LC=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},t}(),jC=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),IC=function(){function t(){}return t.prototype.evaluate=function(){for(var t=!!this.valueParser,e=this.getValue,n=e(this.valueGetterParam),i=t?this.valueParser(n):null,r=0;r<this.subCondList.length;r++)if(!this.subCondList[r].evaluate(t?i:n))return!1;return!0},t}();function EC(t,e){if(!0===t||!1===t){var n=new TC;return n.value=t,n}var i="";return FC(t)||Object(Ms["c"])(i),t.and?PC("and",t,e):t.or?PC("or",t,e):t.not?RC(t,e):DC(t,e)}function PC(t,e,n){var i=e[t],r="";Object(V["isArray"])(i)||Object(Ms["c"])(r),i.length||Object(Ms["c"])(r);var a="and"===t?new kC:new LC;return a.children=Object(V["map"])(i,(function(t){return EC(t,n)})),a.children.length||Object(Ms["c"])(r),a}function RC(t,e){var n=t.not,i="";FC(n)||Object(Ms["c"])(i);var r=new jC;return r.child=EC(n,e),r.child||Object(Ms["c"])(i),r}function DC(t,e){for(var n="",i=e.prepareGetValue(t),r=[],a=Object(V["keys"])(t),o=t.parser,s=o?Object(Sw["c"])(o):null,l=0;l<a.length;l++){var c=a[l];if("parser"!==c&&!e.valueGetterAttrMap.get(c)){var u=Object(V["hasOwn"])(AC,c)?AC[c]:c,h=t[c],d=s?s(h):h,p=Object(Sw["b"])(u,d)||"reg"===u&&new MC(d);p||Object(Ms["c"])(n),r.push(p)}}r.length||Object(Ms["c"])(n);var f=new IC;return f.valueGetterParam=i,f.valueParser=s,f.getValue=e.getValue,f.subCondList=r,f}function FC(t){return Object(V["isObject"])(t)&&!Object(V["isArrayLike"])(t)}var NC=function(){function t(t,e){this._cond=EC(t,e)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}();function BC(t,e){return new NC(t,e)}var VC={type:"echarts:filter",transform:function(t){for(var e,n=t.upstream,i=BC(t.config,{valueGetterAttrMap:Object(V["createHashMap"])({dimension:!0}),prepareGetValue:function(t){var e="",i=t.dimension;Object(V["hasOwn"])(t,"dimension")||Object(Ms["c"])(e);var r=n.getDimensionInfo(i);return r||Object(Ms["c"])(e),{dimIdx:r.index}},getValue:function(t){return n.retrieveValueFromItem(e,t.dimIdx)}}),r=[],a=0,o=n.count();a<o;a++)e=n.getRawDataItem(a),i.evaluate()&&r.push(e);return{data:r}}};var GC={type:"echarts:sort",transform:function(t){var e=t.upstream,n=t.config,i="",r=Object(Ur["r"])(n);r.length||Object(Ms["c"])(i);var a=[];Object(V["each"])(r,(function(t){var n=t.dimension,r=t.order,o=t.parser,s=t.incomparable;if(null==n&&Object(Ms["c"])(i),"asc"!==r&&"desc"!==r&&Object(Ms["c"])(i),s&&"min"!==s&&"max"!==s){var l="";0,Object(Ms["c"])(l)}if("asc"!==r&&"desc"!==r){var c="";0,Object(Ms["c"])(c)}var u=e.getDimensionInfo(n);u||Object(Ms["c"])(i);var h=o?Object(Sw["c"])(o):null;o&&!h&&Object(Ms["c"])(i),a.push({dimIdx:u.index,parser:h,comparator:new Sw["a"](r,s)})}));var o=e.sourceFormat;o!==mp["c"]&&o!==mp["e"]&&Object(Ms["c"])(i);for(var s=[],l=0,c=e.count();l<c;l++)s.push(e.getRawDataItem(l));return s.sort((function(t,n){for(var i=0;i<a.length;i++){var r=a[i],o=e.retrieveValueFromItem(t,r.dimIdx),s=e.retrieveValueFromItem(n,r.dimIdx);r.parser&&(o=r.parser(o),s=r.parser(s));var l=r.comparator.evaluate(o,s);if(0!==l)return l}return 0})),{data:s}}};function zC(t){t.registerTransform(VC),t.registerTransform(GC)}var UC=n("f72b"),HC=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return Object(xe["a"])(e,t),e.prototype.init=function(e,n,i){t.prototype.init.call(this,e,n,i),this._sourceManager=new UC["a"](this),Object(UC["b"])(this)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),Object(UC["b"])(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:mp["a"]},e}(ei["a"]),WC=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return Object(xe["a"])(e,t),e.type="dataset",e}(ci["a"]);function YC(t){t.registerComponentModel(HC),t.registerComponentView(WC)}var XC=ct["a"].CMD;function qC(t,e){return Math.abs(t-e)<1e-5}function ZC(t){var e,n,i,r,a,o=t.data,s=t.len(),l=[],c=0,u=0,h=0,d=0;function p(t,n){e&&e.length>2&&l.push(e),e=[t,n]}function f(t,n,i,r){qC(t,i)&&qC(n,r)||e.push(t,n,i,r,i,r)}function g(t,n,i,r,a,o){var s=Math.abs(n-t),l=4*Math.tan(s/4)/3,c=n<t?-1:1,u=Math.cos(t),h=Math.sin(t),d=Math.cos(n),p=Math.sin(n),f=u*a+i,g=h*o+r,m=d*a+i,v=p*o+r,y=a*l*c,b=o*l*c;e.push(f-y*h,g+b*u,m+y*p,v-b*d,m,v)}for(var m=0;m<s;){var v=o[m++],y=1===m;switch(y&&(c=o[m],u=o[m+1],h=c,d=u,v!==XC.L&&v!==XC.C&&v!==XC.Q||(e=[h,d])),v){case XC.M:c=h=o[m++],u=d=o[m++],p(h,d);break;case XC.L:n=o[m++],i=o[m++],f(c,u,n,i),c=n,u=i;break;case XC.C:e.push(o[m++],o[m++],o[m++],o[m++],c=o[m++],u=o[m++]);break;case XC.Q:n=o[m++],i=o[m++],r=o[m++],a=o[m++],e.push(c+2/3*(n-c),u+2/3*(i-u),r+2/3*(n-r),a+2/3*(i-a),r,a),c=r,u=a;break;case XC.A:var b=o[m++],x=o[m++],_=o[m++],w=o[m++],S=o[m++],O=o[m++]+S;m+=1;var C=!o[m++];n=Math.cos(S)*_+b,i=Math.sin(S)*w+x,y?(h=n,d=i,p(h,d)):f(c,u,n,i),c=Math.cos(O)*_+b,u=Math.sin(O)*w+x;for(var A=(C?-1:1)*Math.PI/2,M=S;C?M>O:M<O;M+=A){var T=C?Math.max(M+A,O):Math.min(M+A,O);g(M,T,b,x,_,w)}break;case XC.R:h=c=o[m++],d=u=o[m++],n=h+o[m++],i=d+o[m++],p(n,d),f(n,d,n,i),f(n,i,h,i),f(h,i,h,d),f(h,d,n,d);break;case XC.Z:e&&f(c,u,h,d),c=h,u=d;break}}return e&&e.length>2&&l.push(e),l}function QC(t,e,n,i,r,a,o,s,l,c){if(qC(t,n)&&qC(e,i)&&qC(r,o)&&qC(a,s))l.push(o,s);else{var u=2/c,h=u*u,d=o-t,p=s-e,f=Math.sqrt(d*d+p*p);d/=f,p/=f;var g=n-t,m=i-e,v=r-o,y=a-s,b=g*g+m*m,x=v*v+y*y;if(b<h&&x<h)l.push(o,s);else{var _=d*g+p*m,w=-d*v-p*y,S=b-_*_,O=x-w*w;if(S<h&&_>=0&&O<h&&w>=0)l.push(o,s);else{var C=[],A=[];Object(xc["g"])(t,n,r,o,.5,C),Object(xc["g"])(e,i,a,s,.5,A),QC(C[0],A[0],C[1],A[1],C[2],A[2],C[3],A[3],l,c),QC(C[4],A[4],C[5],A[5],C[6],A[6],C[7],A[7],l,c)}}}}function JC(t,e){var n=ZC(t),i=[];e=e||1;for(var r=0;r<n.length;r++){var a=n[r],o=[],s=a[0],l=a[1];o.push(s,l);for(var c=2;c<a.length;){var u=a[c++],h=a[c++],d=a[c++],p=a[c++],f=a[c++],g=a[c++];QC(s,l,u,h,d,p,f,g,o,e),s=f,l=g}i.push(o)}return i}function KC(t,e,n){var i=t[e],r=t[1-e],a=Math.abs(i/r),o=Math.ceil(Math.sqrt(a*n)),s=Math.floor(n/o);0===s&&(s=1,o=n);for(var l=[],c=0;c<o;c++)l.push(s);var u=o*s,h=n-u;if(h>0)for(c=0;c<h;c++)l[c%o]+=1;return l}function $C(t,e,n){for(var i=t.r0,r=t.r,a=t.startAngle,o=t.endAngle,s=Math.abs(o-a),l=s*r,c=r-i,u=l>Math.abs(c),h=KC([l,c],u?0:1,e),d=(u?s:c)/h.length,p=0;p<h.length;p++)for(var f=(u?c:s)/h[p],g=0;g<h[p];g++){var m={};u?(m.startAngle=a+d*p,m.endAngle=a+d*(p+1),m.r0=i+f*g,m.r=i+f*(g+1)):(m.startAngle=a+f*g,m.endAngle=a+f*(g+1),m.r0=i+d*p,m.r=i+d*(p+1)),m.clockwise=t.clockwise,m.cx=t.cx,m.cy=t.cy,n.push(m)}}function tA(t,e,n){for(var i=t.width,r=t.height,a=i>r,o=KC([i,r],a?0:1,e),s=a?"width":"height",l=a?"height":"width",c=a?"x":"y",u=a?"y":"x",h=t[s]/o.length,d=0;d<o.length;d++)for(var p=t[l]/o[d],f=0;f<o[d];f++){var g={};g[c]=d*h,g[u]=f*p,g[s]=h,g[l]=p,g.x+=t.x,g.y+=t.y,n.push(g)}}function eA(t,e,n,i){return t*i-n*e}function nA(t,e,n,i,r,a,o,s){var l=n-t,c=i-e,u=o-r,h=s-a,d=eA(u,h,l,c);if(Math.abs(d)<1e-6)return null;var p=t-r,f=e-a,g=eA(p,f,u,h)/d;return g<0||g>1?null:new eu["a"](g*l+t,g*c+e)}function iA(t,e,n){var i=new eu["a"];eu["a"].sub(i,n,e),i.normalize();var r=new eu["a"];eu["a"].sub(r,t,e);var a=r.dot(i);return a}function rA(t,e){var n=t[t.length-1];n&&n[0]===e[0]&&n[1]===e[1]||t.push(e)}function aA(t,e,n){for(var i=t.length,r=[],a=0;a<i;a++){var o=t[a],s=t[(a+1)%i],l=nA(o[0],o[1],s[0],s[1],e.x,e.y,n.x,n.y);l&&r.push({projPt:iA(l,e,n),pt:l,idx:a})}if(r.length<2)return[{points:t},{points:t}];r.sort((function(t,e){return t.projPt-e.projPt}));var c=r[0],u=r[r.length-1];if(u.idx<c.idx){var h=c;c=u,u=h}var d=[c.pt.x,c.pt.y],p=[u.pt.x,u.pt.y],f=[d],g=[p];for(a=c.idx+1;a<=u.idx;a++)rA(f,t[a].slice());rA(f,p),rA(f,d);for(a=u.idx+1;a<=c.idx+i;a++)rA(g,t[a%i].slice());return rA(g,d),rA(g,p),[{points:f},{points:g}]}function oA(t){var e=t.points,n=[],i=[];Object(eo["d"])(e,n,i);var r=new An["a"](n[0],n[1],i[0]-n[0],i[1]-n[1]),a=r.width,o=r.height,s=r.x,l=r.y,c=new eu["a"],u=new eu["a"];return a>o?(c.x=u.x=s+a/2,c.y=l,u.y=l+o):(c.y=u.y=l+o/2,c.x=s,u.x=s+a),aA(e,c,u)}function sA(t,e,n,i){if(1===n)i.push(e);else{var r=Math.floor(n/2),a=t(e);sA(t,a[0],r,i),sA(t,a[1],n-r,i)}return i}function lA(t,e){for(var n=[],i=0;i<e;i++)n.push(Object(Hi["a"])(t));return n}function cA(t,e){e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel}function uA(t){for(var e=[],n=0;n<t.length;)e.push([t[n++],t[n++]]);return e}function hA(t,e){var n,i=[],r=t.shape;switch(t.type){case"rect":tA(r,e,i),n=je["a"];break;case"sector":$C(r,e,i),n=Ie["a"];break;case"circle":$C({r0:0,r:r.r,startAngle:0,endAngle:2*Math.PI,cx:r.cx,cy:r.cy},e,i),n=Ie["a"];break;default:var a=t.getComputedTransform(),o=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,s=Object(V["map"])(JC(t.getUpdatedPathProxy(),o),(function(t){return uA(t)})),l=s.length;if(0===l)sA(oA,{points:s[0]},e,i);else if(l===e)for(var c=0;c<l;c++)i.push({points:s[c]});else{var u=0,h=Object(V["map"])(s,(function(t){var e=[],n=[];Object(eo["d"])(t,e,n);var i=(n[1]-e[1])*(n[0]-e[0]);return u+=i,{poly:t,area:i}}));h.sort((function(t,e){return e.area-t.area}));var d=e;for(c=0;c<l;c++){var p=h[c];if(d<=0)break;var f=c===l-1?d:Math.ceil(p.area/u*e);f<0||(sA(oA,{points:p.poly},f,i),d-=f)}}n=Un["a"];break}if(!n)return lA(t,e);var g=[];for(c=0;c<i.length;c++){var m=new n;m.setShape(i[c]),cA(t,m),g.push(m)}return g}function dA(t,e){var n=t.length,i=e.length;if(n===i)return[t,e];for(var r=[],a=[],o=n<i?t:e,s=Math.min(n,i),l=Math.abs(i-n)/6,c=(s-2)/6,u=Math.ceil(l/c)+1,h=[o[0],o[1]],d=l,p=2;p<s;){var f=o[p-2],g=o[p-1],m=o[p++],v=o[p++],y=o[p++],b=o[p++],x=o[p++],_=o[p++];if(d<=0)h.push(m,v,y,b,x,_);else{for(var w=Math.min(d,u-1)+1,S=1;S<=w;S++){var O=S/w;Object(xc["g"])(f,m,y,x,O,r),Object(xc["g"])(g,v,b,_,O,a),f=r[3],g=a[3],h.push(r[1],a[1],r[2],a[2],f,g),m=r[5],v=a[5],y=r[6],b=a[6]}d-=w-1}}return o===t?[h,e]:[t,h]}function pA(t,e){for(var n=t.length,i=t[n-2],r=t[n-1],a=[],o=0;o<e.length;)a[o++]=i,a[o++]=r;return a}function fA(t,e){for(var n,i,r,a=[],o=[],s=0;s<Math.max(t.length,e.length);s++){var l=t[s],c=e[s],u=void 0,h=void 0;l?c?(n=dA(l,c),u=n[0],h=n[1],i=u,r=h):(h=pA(r||l,l),u=l):(u=pA(i||c,c),h=c),a.push(u),o.push(h)}return[a,o]}function gA(t){for(var e=0,n=0,i=0,r=t.length,a=0,o=r-2;a<r;o=a,a+=2){var s=t[o],l=t[o+1],c=t[a],u=t[a+1],h=s*u-c*l;e+=h,n+=(s+c)*h,i+=(l+u)*h}return 0===e?[t[0]||0,t[1]||0]:[n/e/3,i/e/3,e]}function mA(t,e,n,i){for(var r=(t.length-2)/6,a=1/0,o=0,s=t.length,l=s-2,c=0;c<r;c++){for(var u=6*c,h=0,d=0;d<s;d+=2){var p=0===d?u:(u+d-2)%l+2,f=t[p]-n[0],g=t[p+1]-n[1],m=e[d]-i[0],v=e[d+1]-i[1],y=m-f,b=v-g;h+=y*y+b*b}h<a&&(a=h,o=c)}return o}function vA(t){for(var e=[],n=t.length,i=0;i<n;i+=2)e[i]=t[n-i-2],e[i+1]=t[n-i-1];return e}function yA(t,e,n,i){for(var r,a=[],o=0;o<t.length;o++){var s=t[o],l=e[o],c=gA(s),u=gA(l);null==r&&(r=c[2]<0!==u[2]<0);var h=[],d=[],p=0,f=1/0,g=[],m=s.length;r&&(s=vA(s));for(var v=6*mA(s,l,c,u),y=m-2,b=0;b<y;b+=2){var x=(v+b)%y+2;h[b+2]=s[x]-c[0],h[b+3]=s[x+1]-c[1]}if(h[0]=s[v]-c[0],h[1]=s[v+1]-c[1],n>0)for(var _=i/n,w=-i/2;w<=i/2;w+=_){var S=Math.sin(w),O=Math.cos(w),C=0;for(b=0;b<s.length;b+=2){var A=h[b],M=h[b+1],T=l[b]-u[0],k=l[b+1]-u[1],L=T*O-k*S,j=T*S+k*O;g[b]=L,g[b+1]=j;var I=L-A,E=j-M;C+=I*I+E*E}if(C<f){f=C,p=w;for(var P=0;P<g.length;P++)d[P]=g[P]}}else for(var R=0;R<m;R+=2)d[R]=l[R]-u[0],d[R+1]=l[R+1]-u[1];a.push({from:h,to:d,fromCp:c,toCp:u,rotation:-p})}return a}function bA(t){return t.__isCombineMorphing}var xA="__mOriginal_";function _A(t,e,n){var i=xA+e,r=t[i]||t[e];t[i]||(t[i]=t[e]);var a=n.replace,o=n.after,s=n.before;t[e]=function(){var t,e=arguments;return s&&s.apply(this,e),t=a?a.apply(this,e):r.apply(this,e),o&&o.apply(this,e),t}}function wA(t,e){var n=xA+e;t[n]&&(t[e]=t[n],t[n]=null)}function SA(t,e){for(var n=0;n<t.length;n++)for(var i=t[n],r=0;r<i.length;){var a=i[r],o=i[r+1];i[r++]=e[0]*a+e[2]*o+e[4],i[r++]=e[1]*a+e[3]*o+e[5]}}function OA(t,e){var n=t.getUpdatedPathProxy(),i=e.getUpdatedPathProxy(),r=fA(ZC(n),ZC(i)),a=r[0],o=r[1],s=t.getComputedTransform(),l=e.getComputedTransform();function c(){this.transform=null}s&&SA(a,s),l&&SA(o,l),_A(e,"updateTransform",{replace:c}),e.transform=null;var u=yA(a,o,10,Math.PI),h=[];_A(e,"buildPath",{replace:function(t){for(var n=e.__morphT,i=1-n,r=[],a=0;a<u.length;a++){var o=u[a],s=o.from,l=o.to,c=o.rotation*n,d=o.fromCp,p=o.toCp,f=Math.sin(c),g=Math.cos(c);Object(fa["lerp"])(r,d,p,n);for(var m=0;m<s.length;m+=2){var v=s[m],y=s[m+1],b=l[m],x=l[m+1],_=v*i+b*n,w=y*i+x*n;h[m]=_*g-w*f+r[0],h[m+1]=_*f+w*g+r[1]}var S=h[0],O=h[1];t.moveTo(S,O);for(m=2;m<s.length;){b=h[m++],x=h[m++];var C=h[m++],A=h[m++],M=h[m++],T=h[m++];S===b&&O===x&&C===M&&A===T?t.lineTo(M,T):t.bezierCurveTo(b,x,C,A,M,T),S=M,O=T}}}})}function CA(t,e,n){if(!t||!e)return e;var i=n.done,r=n.during;function a(){wA(e,"buildPath"),wA(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return OA(t,e),e.__morphT=0,e.animateTo({__morphT:1},Object(V["defaults"])({during:function(t){e.dirtyShape(),r&&r(t)},done:function(){a(),i&&i()}},n)),e}function AA(t,e,n,i,r,a){var o=16;t=r===n?0:Math.round(32767*(t-n)/(r-n)),e=a===i?0:Math.round(32767*(e-i)/(a-i));for(var s,l=0,c=(1<<o)/2;c>0;c/=2){var u=0,h=0;(t&c)>0&&(u=1),(e&c)>0&&(h=1),l+=c*c*(3*u^h),0===h&&(1===u&&(t=c-1-t,e=c-1-e),s=t,t=e,e=s)}return l}function MA(t){var e=1/0,n=1/0,i=-1/0,r=-1/0,a=Object(V["map"])(t,(function(t){var a=t.getBoundingRect(),o=t.getComputedTransform(),s=a.x+a.width/2+(o?o[4]:0),l=a.y+a.height/2+(o?o[5]:0);return e=Math.min(s,e),n=Math.min(l,n),i=Math.max(s,i),r=Math.max(l,r),[s,l]})),o=Object(V["map"])(a,(function(a,o){return{cp:a,z:AA(a[0],a[1],e,n,i,r),path:t[o]}}));return o.sort((function(t,e){return t.z-e.z})).map((function(t){return t.path}))}function TA(t){return hA(t.path,t.count)}function kA(){return{fromIndividuals:[],toIndividuals:[],count:0}}function LA(t,e,n){var i=[];function r(t){for(var e=0;e<t.length;e++){var n=t[e];bA(n)?r(n.childrenRef()):n instanceof T["b"]&&i.push(n)}}r(t);var a=i.length;if(!a)return kA();var o=n.dividePath||TA,s=o({path:e,count:a});if(s.length!==a)return kA();i=MA(i),s=MA(s);for(var l=n.done,c=n.during,u=n.individualDelay,h=new lt["c"],d=0;d<a;d++){var p=i[d],f=s[d];f.parent=e,f.copyTransform(h),u||OA(p,f)}function g(t){for(var e=0;e<s.length;e++)s[e].addSelfToZr(t)}function m(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,wA(e,"addSelfToZr"),wA(e,"removeSelfFromZr")}e.__isCombineMorphing=!0,e.childrenRef=function(){return s},_A(e,"addSelfToZr",{after:function(t){g(t)}}),_A(e,"removeSelfFromZr",{after:function(t){for(var e=0;e<s.length;e++)s[e].removeSelfFromZr(t)}});var v=s.length;if(u){var y=v,b=function(){y--,0===y&&(m(),l&&l())};for(d=0;d<v;d++){var x=u?Object(V["defaults"])({delay:(n.delay||0)+u(d,v,i[d],s[d]),done:b},n):n;CA(i[d],s[d],x)}}else e.__morphT=0,e.animateTo({__morphT:1},Object(V["defaults"])({during:function(t){for(var n=0;n<v;n++){var i=s[n];i.__morphT=e.__morphT,i.dirtyShape()}c&&c(t)},done:function(){m();for(var e=0;e<t.length;e++)wA(t[e],"updateTransform");l&&l()}},n));return e.__zr&&g(e.__zr),{fromIndividuals:i,toIndividuals:s,count:v}}function jA(t,e,n){var i=e.length,r=[],a=n.dividePath||TA;function o(t){for(var e=0;e<t.length;e++){var n=t[e];bA(n)?o(n.childrenRef()):n instanceof T["b"]&&r.push(n)}}if(bA(t)){o(t.childrenRef());var s=r.length;if(s<i)for(var l=0,c=s;c<i;c++)r.push(Object(Hi["a"])(r[l++%s]));r.length=i}else{r=a({path:t,count:i});var u=t.getComputedTransform();for(c=0;c<r.length;c++)r[c].setLocalTransform(u);if(r.length!==i)return kA()}r=MA(r),e=MA(e);var h=n.individualDelay;for(c=0;c<i;c++){var d=h?Object(V["defaults"])({delay:(n.delay||0)+h(c,i,r[c],e[c])},n):n;CA(r[c],e[c],d)}return{fromIndividuals:r,toIndividuals:e,count:e.length}}function IA(t){return Object(V["isArray"])(t[0])}function EA(t,e){for(var n=[],i=t.length,r=0;r<i;r++)n.push({one:t[r],many:[]});for(r=0;r<e.length;r++){var a=e[r].length,o=void 0;for(o=0;o<a;o++)n[o%i].many.push(e[r][o])}var s=0;for(r=i-1;r>=0;r--)if(!n[r].many.length){var l=n[s].many;if(l.length<=1){if(!s)return n;s=0}a=l.length;var c=Math.ceil(a/2);n[r].many=l.slice(c,a),n[s].many=l.slice(0,c),s++}return n}var PA={clone:function(t){for(var e=[],n=1-Math.pow(1-t.path.style.opacity,1/t.count),i=0;i<t.count;i++){var r=Object(Hi["a"])(t.path);r.setStyle("opacity",n),e.push(r)}return e},split:null};function RA(t,e,n,i,r,a){if(t.length&&e.length){var o=Object(Le["a"])("update",i,r);if(o&&o.duration>0){var s,l,c=i.getModel("universalTransition").get("delay"),u=Object.assign({setToFinal:!0},o);IA(t)&&(s=t,l=e),IA(e)&&(s=e,l=t);for(var h=s?s===t:t.length>e.length,d=s?EA(l,s):EA(h?e:t,[h?t:e]),p=0,f=0;f<d.length;f++)p+=d[f].many.length;var g=0;for(f=0;f<d.length;f++)m(d[f],h,g,p),g+=d[f].many.length}}function m(t,e,i,r,o){var s=t.many,l=t.one;if(1!==s.length||o)for(var h=Object(V["defaults"])({dividePath:PA[n],individualDelay:c&&function(t,e,n,a){return c(t+i,r)}},u),d=e?LA(s,l,h):jA(l,s,h),p=d.fromIndividuals,f=d.toIndividuals,g=p.length,v=0;v<g;v++){x=c?Object(V["defaults"])({delay:c(v,g)},u):u;a(p[v],f[v],e?s[v]:t.one,e?t.one:s[v],x)}else{var y=e?s[0]:l,b=e?l:s[0];if(bA(y))m({many:[y],one:b},!0,i,r,!0);else{var x=c?Object(V["defaults"])({delay:c(i,r)},u):u;CA(y,b,x),a(y,b,y,b,x)}}}}function DA(t){if(!t)return[];if(Object(V["isArray"])(t)){for(var e=[],n=0;n<t.length;n++)e.push(DA(t[n]));return e}var i=[];return t.traverse((function(t){t instanceof T["b"]&&!t.disableMorphing&&!t.invisible&&!t.ignore&&i.push(t)})),i}var FA=1e4,NA=Object(Ur["o"])();function BA(t){for(var e=t.dimensions,n=0;n<e.length;n++){var i=t.getDimensionInfo(e[n]);if(i&&0===i.otherDims.itemGroupId)return e[n]}}function VA(t){var e=[];return Object(V["each"])(t,(function(t){var n=t.data;if(!(n.count()>FA))for(var i=n.getIndices(),r=BA(n),a=0;a<i.length;a++)e.push({dataGroupId:t.dataGroupId,data:n,dim:t.dim||r,divide:t.divide,dataIndex:a})})),e}function GA(t,e,n){t.traverse((function(t){t instanceof T["b"]&&Object(Le["c"])(t,{style:{opacity:0}},e,{dataIndex:n,isFrom:!0})}))}function zA(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e),t.parent.remove(t)}}function UA(t){t.stopAnimation(),t.isGroup&&t.traverse((function(t){t.stopAnimation()}))}function HA(t,e,n){var i=Object(Le["a"])("update",n,e);i&&t.traverse((function(t){if(t instanceof zr["c"]){var e=Object(Le["b"])(t);e&&t.animateFrom({style:e},i)}}))}function WA(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++){var r=t[i],a=e[i];if(r.data.getId(r.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function YA(t,e,n){var i=VA(t),r=VA(e);function a(t,e,n,i,r){(n||t)&&e.animateFrom({style:n&&n!==t?Object(V["extend"])(Object(V["extend"])({},n.style),t.style):t.style},r)}function o(t){for(var e=0;e<t.length;e++)if(t[e].dim)return t[e].dim}var s=o(i),l=o(r),c=!1;function u(t,e){return function(n){var i=n.data,r=n.dataIndex;if(e)return i.getId(r);var a=n.dataGroupId,o=t?s||l:l||s,c=o&&i.getDimensionInfo(o),u=c&&c.ordinalMeta;if(c){var h=i.get(c.name,r);return u&&u.categories[h]||h+""}var d=i.getRawDataItem(r);return d&&d.groupId?d.groupId+"":a||i.getId(r)}}var h=WA(i,r),d={};if(!h)for(var p=0;p<r.length;p++){var f=r[p],g=f.data.getItemGraphicEl(f.dataIndex);g&&(d[g.id]=!0)}function m(t,e){var n=i[e],o=r[t],s=o.data.hostModel,l=n.data.getItemGraphicEl(n.dataIndex),u=o.data.getItemGraphicEl(o.dataIndex);l!==u?l&&d[l.id]||u&&(UA(u),l?(UA(l),zA(l),c=!0,RA(DA(l),DA(u),o.divide,s,t,a)):GA(u,s,t)):u&&HA(u,o.dataIndex,s)}new Ko["a"](i,r,u(!0,h),u(!1,h),null,"multiple").update(m).updateManyToOne((function(t,e){var n=r[t],o=n.data,s=o.hostModel,l=o.getItemGraphicEl(n.dataIndex),u=Object(V["filter"])(Object(V["map"])(e,(function(t){return i[t].data.getItemGraphicEl(i[t].dataIndex)})),(function(t){return t&&t!==l&&!d[t.id]}));l&&(UA(l),u.length?(Object(V["each"])(u,(function(t){UA(t),zA(t)})),c=!0,RA(DA(u),DA(l),n.divide,s,t,a)):GA(l,s,n.dataIndex))})).updateOneToMany((function(t,e){var n=i[e],o=n.data.getItemGraphicEl(n.dataIndex);if(!o||!d[o.id]){var s=Object(V["filter"])(Object(V["map"])(t,(function(t){return r[t].data.getItemGraphicEl(r[t].dataIndex)})),(function(t){return t&&t!==o})),l=r[t[0]].data.hostModel;s.length&&(Object(V["each"])(s,(function(t){return UA(t)})),o?(UA(o),zA(o),c=!0,RA(DA(o),DA(s),n.divide,l,t[0],a)):Object(V["each"])(s,(function(e){return GA(e,l,t[0])})))}})).updateManyToMany((function(t,e){new Ko["a"](e,t,(function(t){return i[t].data.getId(i[t].dataIndex)}),(function(t){return r[t].data.getId(r[t].dataIndex)})).update((function(n,i){m(t[n],e[i])})).execute()})).execute(),c&&Object(V["each"])(e,(function(t){var e=t.data,i=e.hostModel,r=i&&n.getViewOfSeriesModel(i),a=Object(Le["a"])("update",i,0);r&&i.isAnimationEnabled()&&a&&a.duration>0&&r.group.traverse((function(t){t instanceof T["b"]&&!t.animators.length&&t.animateFrom({style:{opacity:0}},a)}))}))}function XA(t){var e=t.getModel("universalTransition").get("seriesKey");return e||t.id}function qA(t){return Object(V["isArray"])(t)?t.sort().join(","):t}function ZA(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function QA(t,e){var n=Object(V["createHashMap"])(),i=Object(V["createHashMap"])(),r=Object(V["createHashMap"])();return Object(V["each"])(t.oldSeries,(function(e,n){var a=t.oldDataGroupIds[n],o=t.oldData[n],s=XA(e),l=qA(s);i.set(l,{dataGroupId:a,data:o}),Object(V["isArray"])(s)&&Object(V["each"])(s,(function(t){r.set(t,{key:l,dataGroupId:a,data:o})}))})),Object(V["each"])(e.updatedSeries,(function(t){if(t.isUniversalTransitionEnabled()&&t.isAnimationEnabled()){var e=t.get("dataGroupId"),a=t.getData(),o=XA(t),s=qA(o),l=i.get(s);if(l)n.set(s,{oldSeries:[{dataGroupId:l.dataGroupId,divide:ZA(l.data),data:l.data}],newSeries:[{dataGroupId:e,divide:ZA(a),data:a}]});else if(Object(V["isArray"])(o)){0;var c=[];Object(V["each"])(o,(function(t){var e=i.get(t);e.data&&c.push({dataGroupId:e.dataGroupId,divide:ZA(e.data),data:e.data})})),c.length&&n.set(s,{oldSeries:c,newSeries:[{dataGroupId:e,data:a,divide:ZA(a)}]})}else{var u=r.get(o);if(u){var h=n.get(u.key);h||(h={oldSeries:[{dataGroupId:u.dataGroupId,data:u.data,divide:ZA(u.data)}],newSeries:[]},n.set(u.key,h)),h.newSeries.push({dataGroupId:e,data:a,divide:ZA(a)})}}}})),n}function JA(t,e){for(var n=0;n<t.length;n++){var i=null!=e.seriesIndex&&e.seriesIndex===t[n].seriesIndex||null!=e.seriesId&&e.seriesId===t[n].id;if(i)return n}}function KA(t,e,n,i){var r=[],a=[];Object(V["each"])(Object(Ur["r"])(t.from),(function(t){var n=JA(e.oldSeries,t);n>=0&&r.push({dataGroupId:e.oldDataGroupIds[n],data:e.oldData[n],divide:ZA(e.oldData[n]),dim:t.dimension})})),Object(V["each"])(Object(Ur["r"])(t.to),(function(t){var i=JA(n.updatedSeries,t);if(i>=0){var r=n.updatedSeries[i].getData();a.push({dataGroupId:e.oldDataGroupIds[i],data:r,divide:ZA(r),dim:t.dimension})}})),r.length>0&&a.length>0&&YA(r,a,i)}function $A(t){t.registerUpdateLifecycle("series:beforeupdate",(function(t,e,n){Object(V["each"])(Object(Ur["r"])(n.seriesTransition),(function(t){Object(V["each"])(Object(Ur["r"])(t.to),(function(t){for(var e=n.updatedSeries,i=0;i<e.length;i++)(null!=t.seriesIndex&&t.seriesIndex===e[i].seriesIndex||null!=t.seriesId&&t.seriesId===e[i].id)&&(e[i][_e["a"]]=!0)}))}))})),t.registerUpdateLifecycle("series:transition",(function(t,e,n){var i=NA(e);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var r=n.seriesTransition;if(r)Object(V["each"])(Object(Ur["r"])(r),(function(t){KA(t,i,n,e)}));else{var a=QA(i,n);Object(V["each"])(a.keys(),(function(t){var n=a.get(t);YA(n.oldSeries,n.newSeries,e)}))}Object(V["each"])(n.updatedSeries,(function(t){t[_e["a"]]&&(t[_e["a"]]=!1)}))}for(var o=t.getSeries(),s=i.oldSeries=[],l=i.oldDataGroupIds=[],c=i.oldData=[],u=0;u<o.length;u++){var h=o[u].getData();h.count()<FA&&(s.push(o[u]),l.push(o[u].get("dataGroupId")),c.push(h))}}))}var tM=n("ee29");Object(C["a"])([A["a"]]),Object(C["a"])([me]),Object(C["a"])([ve["a"],_n,wn["a"],Fn,wi,Ba,Uo,Sl,Hc,tu,pu,xd,Kd,yp,qp,nf,Tf,Bf,gg,Ag,Yg,Sv]),Object(C["a"])(Ov["a"]),Object(C["a"])(Cv["a"]),Object(C["a"])(Na),Object(C["a"])(ny),Object(C["a"])(bd),Object(C["a"])(py),Object(C["a"])(jy),Object(C["a"])(yx),Object(C["a"])(r_),Object(C["a"])(Wv["a"]),Object(C["a"])(V_),Object(C["a"])(U_),Object(C["a"])(fw),Object(C["a"])(zw),Object(C["a"])(tS),Object(C["a"])(pS),Object(C["a"])(zS),Object(C["a"])(SO),Object(C["a"])(aO),Object(C["a"])(wO),Object(C["a"])(bC),Object(C["a"])(hC),Object(C["a"])(yC),Object(C["a"])(CC),Object(C["a"])(zC),Object(C["a"])(YC),Object(C["a"])($A),Object(C["a"])(tM["a"]);var eM,nM,iM,rM=n("a939"),aM=n.n(rM),oM={props:{item:{type:Object,default:()=>{}}},components:{VueSeamlessScroll:aM.a},data(){return{urls:{shipWeather:"/calculateShipWeather/tbShipWeather/shipWeatherData"},isCurrent:!1,weatherListData:[],swiperOption:{direction:1,waitTime:1e3},swiperTimer:null}},mounted(){this.$nextTick(()=>{this.getSwiperWeather(),this.swiperTimer?clearInterval(this.swiperTimer):this.swiperTimer=setInterval(()=>{this.getSwiperWeather()},18e4)})},beforeDestroy(){clearInterval(this.swiperTimer)},beforeRouteLeave(t,e,n){this.swiperTimer&&clearInterval(this.swiperTimer),n()},created(){},methods:{getSwiperWeather(){this.$axios.get(this.urls.shipWeather).then(t=>{200==t.code&&(this.weatherListData=t.result.sort((t,e)=>Date.parse(e.forecastTime)-Date.parse(t.forecastTime)))})}}},sM=oM,lM=(n("c6bf"),Object(f["a"])(sM,S,O,!1,null,"51f7e6ec",null)),cM=lM.exports,uM=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"list-data"},[e("div",{staticClass:"list-data-top"},[e("div",{staticClass:"title"},[e("img",{attrs:{src:n("e3fb"),alt:""}}),e("span",[t._v(t._s(t.item.name))])]),e("a-select",{staticClass:"dateSelect",staticStyle:{width:"80px"},attrs:{"default-value":"昨日"},on:{change:t.handleChange}},[e("a-select-option",{attrs:{value:"Yesterday"}},[t._v(" 昨日 ")]),e("a-select-option",{attrs:{value:"lastWeek"}},[t._v(" 上周 ")]),e("a-select-option",{attrs:{value:"lastMonth"}},[t._v(" 上月 ")])],1)],1),this.datas.length?e("div",{attrs:{id:"fisPic"}}):e("div",[e("a-empty",{staticClass:"emptyClass",attrs:{description:"暂无渔获统计数据"}})],1)])])},hM=[],dM=n("9ab4"),pM=n("8937");(function(t){t["FORE"]="fore",t["MID"]="mid",t["BG"]="bg"})(eM||(eM={})),function(t){t["TOP"]="top",t["TOP_LEFT"]="top-left",t["TOP_RIGHT"]="top-right",t["RIGHT"]="right",t["RIGHT_TOP"]="right-top",t["RIGHT_BOTTOM"]="right-bottom",t["LEFT"]="left",t["LEFT_TOP"]="left-top",t["LEFT_BOTTOM"]="left-bottom",t["BOTTOM"]="bottom",t["BOTTOM_LEFT"]="bottom-left",t["BOTTOM_RIGHT"]="bottom-right",t["RADIUS"]="radius",t["CIRCLE"]="circle",t["NONE"]="none"}(nM||(nM={})),function(t){t["AXIS"]="axis",t["GRID"]="grid",t["LEGEND"]="legend",t["TOOLTIP"]="tooltip",t["ANNOTATION"]="annotation",t["SLIDER"]="slider",t["SCROLLBAR"]="scrollbar",t["OTHER"]="other"}(iM||(iM={}));var fM,gM,mM,vM,yM={FORE:3,MID:2,BG:1};(function(t){t["BEFORE_RENDER"]="beforerender",t["AFTER_RENDER"]="afterrender",t["BEFORE_PAINT"]="beforepaint",t["AFTER_PAINT"]="afterpaint",t["BEFORE_CHANGE_DATA"]="beforechangedata",t["AFTER_CHANGE_DATA"]="afterchangedata",t["BEFORE_CLEAR"]="beforeclear",t["AFTER_CLEAR"]="afterclear",t["BEFORE_DESTROY"]="beforedestroy",t["BEFORE_CHANGE_SIZE"]="beforechangesize",t["AFTER_CHANGE_SIZE"]="afterchangesize"})(fM||(fM={})),function(t){t["BEFORE_DRAW_ANIMATE"]="beforeanimate",t["AFTER_DRAW_ANIMATE"]="afteranimate",t["BEFORE_RENDER_LABEL"]="beforerenderlabel",t["AFTER_RENDER_LABEL"]="afterrenderlabel"}(gM||(gM={})),function(t){t["MOUSE_ENTER"]="plot:mouseenter",t["MOUSE_DOWN"]="plot:mousedown",t["MOUSE_MOVE"]="plot:mousemove",t["MOUSE_UP"]="plot:mouseup",t["MOUSE_LEAVE"]="plot:mouseleave",t["TOUCH_START"]="plot:touchstart",t["TOUCH_MOVE"]="plot:touchmove",t["TOUCH_END"]="plot:touchend",t["TOUCH_CANCEL"]="plot:touchcancel",t["CLICK"]="plot:click",t["DBLCLICK"]="plot:dblclick",t["CONTEXTMENU"]="plot:contextmenu",t["LEAVE"]="plot:leave",t["ENTER"]="plot:enter"}(mM||(mM={})),function(t){t["ACTIVE"]="active",t["INACTIVE"]="inactive",t["SELECTED"]="selected",t["DEFAULT"]="default"}(vM||(vM={}));var bM=["color","shape","size"],xM="_origin",_M=1,wM=1,SM=.25,OM={};function CM(t){var e=OM[t];if(!e)throw new Error("G engine '".concat(t,"' is not exist, please register it at first."));return e}function AM(t,e){OM[t]=e}var MM=n("7c8a");function TM(t){var e=getComputedStyle(t);return{width:(t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}function kM(t){return"number"===typeof t&&!isNaN(t)}function LM(t,e,n,i){var r=n,a=i;if(e){var o=TM(t);r=o.width?o.width:r,a=o.height?o.height:a}return{width:Math.max(kM(r)?r:_M,_M),height:Math.max(kM(a)?a:wM,wM)}}function jM(t){var e=t.parentNode;e&&e.removeChild(t)}var IM=n("7fa2"),EM=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var i=e.visible,r=void 0===i||i;return n.visible=r,n}return Object(dM["__extends"])(e,t),e.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},e.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},e.prototype.destroy=function(){this.off(),this.destroyed=!0},e.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},e}(IM["a"]),PM=EM,RM=n("6855"),DM=n("eecd"),FM=function(t,e){return Object(pM["isString"])(e)?e:t.invert(t.scale(e))},NM=function(){function t(t){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(t)}return t.prototype.mapping=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e.map((function(e,n){return t._toOriginParam(e,t.scales[n])}));return this.callback.apply(this,i)},t.prototype.getLinearValue=function(t){var e=this.values.length-1,n=Math.floor(e*t),i=e*t-n,r=this.values[n],a=n===e?r:this.values[n+1];return r+(a-r)*i},t.prototype.getNames=function(){for(var t=this.scales,e=this.names,n=Math.min(t.length,e.length),i=[],r=0;r<n;r+=1)i.push(e[r]);return i},t.prototype.getFields=function(){return this.scales.map((function(t){return t.field}))},t.prototype.getScale=function(t){return this.scales[this.names.indexOf(t)]},t.prototype.defaultCallback=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 0===e.length?this.values:e.map((function(e,n){var i=t.scales[n];return"identity"===i.type?i.values[0]:t._getAttributeValue(i,e)}))},t.prototype._parseCfg=function(t){var e=this,n=t.type,i=void 0===n?"base":n,r=t.names,a=void 0===r?[]:r,o=t.scales,s=void 0===o?[]:o,l=t.values,c=void 0===l?[]:l,u=t.callback;this.type=i,this.scales=s,this.values=c,this.names=a,this.callback=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(u){var i=u.apply(void 0,t);if(!Object(pM["isNil"])(i))return[i]}return e.defaultCallback.apply(e,t)}},t.prototype._getAttributeValue=function(t,e){if(t.isCategory&&!this.linear){var n=t.translate(e);return this.values[n%this.values.length]}var i=t.scale(e);return this.getLinearValue(i)},t.prototype._toOriginParam=function(t,e){return e.isLinear?t:Object(pM["isArray"])(t)?t.map((function(t){return FM(e,t)})):FM(e,t)},t}(),BM=NM,VM=n("e945"),GM=function(t){function e(e){var n=t.call(this,e)||this;return n.type="color",n.names=["color"],Object(pM["isString"])(n.values)&&(n.linear=!0),n.gradient=VM["a"].gradient(n.values),n}return Object(dM["__extends"])(e,t),e.prototype.getLinearValue=function(t){return this.gradient(t)},e}(BM),zM=GM,UM=function(t){function e(e){var n=t.call(this,e)||this;return n.type="opacity",n.names=["opacity"],n}return Object(dM["__extends"])(e,t),e}(BM),HM=UM,WM=function(t){function e(e){var n=t.call(this,e)||this;return n.names=["x","y"],n.type="position",n}return Object(dM["__extends"])(e,t),e.prototype.mapping=function(t,e){var n=this.scales,i=n[0],r=n[1];return Object(pM["isNil"])(t)||Object(pM["isNil"])(e)?[]:[Object(pM["isArray"])(t)?t.map((function(t){return i.scale(t)})):i.scale(t),Object(pM["isArray"])(e)?e.map((function(t){return r.scale(t)})):r.scale(e)]},e}(BM),YM=WM,XM=function(t){function e(e){var n=t.call(this,e)||this;return n.type="shape",n.names=["shape"],n}return Object(dM["__extends"])(e,t),e.prototype.getLinearValue=function(t){var e=Math.round((this.values.length-1)*t);return this.values[e]},e}(BM),qM=XM,ZM=function(t){function e(e){var n=t.call(this,e)||this;return n.type="size",n.names=["size"],n}return Object(dM["__extends"])(e,t),e}(BM),QM=ZM,JM=n("f2fb"),KM={},$M=function(t){return KM[t.toLowerCase()]},tT=function(t,e){if($M(t))throw new Error("Attribute type '".concat(t,"' existed."));KM[t.toLowerCase()]=e};tT("Color",zM),tT("Opacity",HM),tT("Position",YM),tT("Shape",qM),tT("Size",QM);var eT=n("e897"),nT=function(){function t(t){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var e=t.start,n=t.end,i=t.matrix,r=void 0===i?[1,0,0,0,1,0,0,0,1]:i,a=t.isTransposed,o=void 0!==a&&a;this.start=e,this.end=n,this.matrix=r,this.originalMatrix=Object(dM["__spreadArray"])([],r),this.isTransposed=o}return t.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},t.prototype.update=function(t){Object(pM["assign"])(this,t),this.initial()},t.prototype.convertDim=function(t,e){var n,i=this[e],r=i.start,a=i.end;return this.isReflect(e)&&(n=[a,r],r=n[0],a=n[1]),r+t*(a-r)},t.prototype.invertDim=function(t,e){var n,i=this[e],r=i.start,a=i.end;return this.isReflect(e)&&(n=[a,r],r=n[0],a=n[1]),(t-r)/(a-r)},t.prototype.applyMatrix=function(t,e,n){void 0===n&&(n=0);var i=this.matrix,r=[t,e,n];return eT["vec3"].transformMat3(r,r,i),r},t.prototype.invertMatrix=function(t,e,n){void 0===n&&(n=0);var i=this.matrix,r=eT["mat3"].invert([0,0,0,0,0,0,0,0,0],i),a=[t,e,n];return r&&eT["vec3"].transformMat3(a,a,r),a},t.prototype.convert=function(t){var e=this.convertPoint(t),n=e.x,i=e.y,r=this.applyMatrix(n,i,1);return{x:r[0],y:r[1]}},t.prototype.invert=function(t){var e=this.invertMatrix(t.x,t.y,1);return this.invertPoint({x:e[0],y:e[1]})},t.prototype.rotate=function(t){var e=this.matrix,n=this.center;return eT["ext"].leftTranslate(e,e,[-n.x,-n.y]),eT["ext"].leftRotate(e,e,t),eT["ext"].leftTranslate(e,e,[n.x,n.y]),this},t.prototype.reflect=function(t){return"x"===t?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},t.prototype.scale=function(t,e){var n=this.matrix,i=this.center;return eT["ext"].leftTranslate(n,n,[-i.x,-i.y]),eT["ext"].leftScale(n,n,[t,e]),eT["ext"].leftTranslate(n,n,[i.x,i.y]),this},t.prototype.translate=function(t,e){var n=this.matrix;return eT["ext"].leftTranslate(n,n,[t,e]),this},t.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},t.prototype.getCenter=function(){return this.center},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRadius=function(){return this.radius},t.prototype.isReflect=function(t){return"x"===t?this.isReflectX:this.isReflectY},t.prototype.resetMatrix=function(t){this.matrix=t||Object(dM["__spreadArray"])([],this.originalMatrix)},t}(),iT=nT,rT=function(t){function e(e){var n=t.call(this,e)||this;return n.isRect=!0,n.type="cartesian",n.initial(),n}return Object(dM["__extends"])(e,t),e.prototype.initial=function(){t.prototype.initial.call(this);var e=this.start,n=this.end;this.x={start:e.x,end:n.x},this.y={start:e.y,end:n.y}},e.prototype.convertPoint=function(t){var e,n=t.x,i=t.y;return this.isTransposed&&(e=[i,n],n=e[0],i=e[1]),{x:this.convertDim(n,"x"),y:this.convertDim(i,"y")}},e.prototype.invertPoint=function(t){var e,n=this.invertDim(t.x,"x"),i=this.invertDim(t.y,"y");return this.isTransposed&&(e=[i,n],n=e[0],i=e[1]),{x:n,y:i}},e}(iT),aT=rT,oT=function(t){function e(e){var n=t.call(this,e)||this;n.isHelix=!0,n.type="helix";var i=e.startAngle,r=void 0===i?1.25*Math.PI:i,a=e.endAngle,o=void 0===a?7.25*Math.PI:a,s=e.innerRadius,l=void 0===s?0:s,c=e.radius;return n.startAngle=r,n.endAngle=o,n.innerRadius=l,n.radius=c,n.initial(),n}return Object(dM["__extends"])(e,t),e.prototype.initial=function(){t.prototype.initial.call(this);var e=(this.endAngle-this.startAngle)/(2*Math.PI)+1,n=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(n*=this.radius),this.d=Math.floor(n*(1-this.innerRadius)/e),this.a=this.d/(2*Math.PI),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*n,end:this.innerRadius*n+.99*this.d}},e.prototype.convertPoint=function(t){var e,n=t.x,i=t.y;this.isTransposed&&(e=[i,n],n=e[0],i=e[1]);var r=this.convertDim(n,"x"),a=this.a*r,o=this.convertDim(i,"y");return{x:this.center.x+Math.cos(r)*(a+o),y:this.center.y+Math.sin(r)*(a+o)}},e.prototype.invertPoint=function(t){var e,n=this.d+this.y.start,i=eT["vec2"].subtract([0,0],[t.x,t.y],[this.center.x,this.center.y]),r=eT["ext"].angleTo(i,[1,0],!0),a=r*this.a;eT["vec2"].length(i)<a&&(a=eT["vec2"].length(i));var o=Math.floor((eT["vec2"].length(i)-a)/n);r=2*o*Math.PI+r;var s=this.a*r,l=eT["vec2"].length(i)-s;l=Object(pM["isNumberEqual"])(l,0)?0:l;var c=this.invertDim(r,"x"),u=this.invertDim(l,"y");return c=Object(pM["isNumberEqual"])(c,0)?0:c,u=Object(pM["isNumberEqual"])(u,0)?0:u,this.isTransposed&&(e=[u,c],c=e[0],u=e[1]),{x:c,y:u}},e}(iT),sT=oT,lT=function(t){function e(e){var n=t.call(this,e)||this;n.isPolar=!0,n.type="polar";var i=e.startAngle,r=void 0===i?-Math.PI/2:i,a=e.endAngle,o=void 0===a?3*Math.PI/2:a,s=e.innerRadius,l=void 0===s?0:s,c=e.radius;return n.startAngle=r,n.endAngle=o,n.innerRadius=l,n.radius=c,n.initial(),n}return Object(dM["__extends"])(e,t),e.prototype.initial=function(){t.prototype.initial.call(this);while(this.endAngle<this.startAngle)this.endAngle+=2*Math.PI;var e,n=this.getOneBox(),i=n.maxX-n.minX,r=n.maxY-n.minY,a=Math.abs(n.minX)/i,o=Math.abs(n.minY)/r;this.height/r>this.width/i?(e=this.width/i,this.circleCenter={x:this.center.x-(.5-a)*this.width,y:this.center.y-(.5-o)*e*r}):(e=this.height/r,this.circleCenter={x:this.center.x-(.5-a)*e*i,y:this.center.y-(.5-o)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=e*this.radius:(this.radius<=0||this.radius>e)&&(this.polarRadius=e):this.polarRadius=e,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},e.prototype.getRadius=function(){return this.polarRadius},e.prototype.convertPoint=function(t){var e,n=this.getCenter(),i=t.x,r=t.y;return this.isTransposed&&(e=[r,i],i=e[0],r=e[1]),i=this.convertDim(i,"x"),r=this.convertDim(r,"y"),{x:n.x+Math.cos(i)*r,y:n.y+Math.sin(i)*r}},e.prototype.invertPoint=function(t){var e,n=this.getCenter(),i=[t.x-n.x,t.y-n.y],r=this,a=r.startAngle,o=r.endAngle;this.isReflect("x")&&(e=[o,a],a=e[0],o=e[1]);var s=[1,0,0,0,1,0,0,0,1];eT["ext"].leftRotate(s,s,a);var l=[1,0,0];eT["vec3"].transformMat3(l,l,s);var c=[l[0],l[1]],u=eT["ext"].angleTo(c,i,o<a);Object(pM["isNumberEqual"])(u,2*Math.PI)&&(u=0);var h=eT["vec2"].length(i),d=u/(o-a);d=o-a>0?d:-d;var p=this.invertDim(h,"y"),f={x:0,y:0};return f.x=this.isTransposed?p:d,f.y=this.isTransposed?d:p,f},e.prototype.getCenter=function(){return this.circleCenter},e.prototype.getOneBox=function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var n=[0,Math.cos(t),Math.cos(e)],i=[0,Math.sin(t),Math.sin(e)],r=Math.min(t,e);r<Math.max(t,e);r+=Math.PI/18)n.push(Math.cos(r)),i.push(Math.sin(r));return{minX:Math.min.apply(Math,n),maxX:Math.max.apply(Math,n),minY:Math.min.apply(Math,i),maxY:Math.max.apply(Math,i)}},e}(iT),cT=lT,uT={},hT=function(t){return uT[t.toLowerCase()]},dT=function(t,e){uT[t.toLowerCase()]=e};dT("rect",aT),dT("cartesian",aT),dT("polar",cT),dT("helix",sT);var pT=n("d7b4"),fT=pT["Axis"].Line,gT=pT["Axis"].Circle,mT=pT["Grid"].Line,vT=pT["Grid"].Circle,yT=pT["Legend"].Category,bT=pT["Legend"].Continuous,xT=pT["Tooltip"].Html;function _T(t){if(Object(pM["isEmpty"])(t))return null;var e=t[0].x,n=t[0].x,i=t[0].y,r=t[0].y;return Object(pM["each"])(t,(function(t){e=e>t.x?t.x:e,n=n<t.x?t.x:n,i=i>t.y?t.y:i,r=r<t.y?t.y:r})),{minX:e,maxX:n,minY:i,maxY:r,centerX:(e+n)/2,centerY:(i+r)/2}}function wT(t){return 1===Array.from(new Set(t)).length}function ST(t){return(Object(pM["min"])(t)+Object(pM["max"])(t))/2}function OT(t,e,n,i){return{x:t+n*Math.cos(i),y:e+n*Math.sin(i)}}function CT(t,e,n,i,r,a){void 0===a&&(a=0);var o=OT(t,e,n,i),s=OT(t,e,n,r),l=OT(t,e,a,i),c=OT(t,e,a,r);if(r-i===2*Math.PI){var u=OT(t,e,n,i+Math.PI),h=OT(t,e,a,i+Math.PI),d=[["M",o.x,o.y],["A",n,n,0,1,1,u.x,u.y],["A",n,n,0,1,1,s.x,s.y],["M",l.x,l.y]];return a&&(d.push(["A",a,a,0,1,0,h.x,h.y]),d.push(["A",a,a,0,1,0,c.x,c.y])),d.push(["M",o.x,o.y]),d.push(["Z"]),d}var p=r-i<=Math.PI?0:1,f=[["M",o.x,o.y],["A",n,n,0,p,1,s.x,s.y],["L",c.x,c.y]];return a&&f.push(["A",a,a,0,p,0,l.x,l.y]),f.push(["L",o.x,o.y]),f.push(["Z"]),f}function AT(t,e,n,i,r){var a=OT(t,e,n,i),o=OT(t,e,n,r);if(Object(pM["isNumberEqual"])(r-i,2*Math.PI)){var s=OT(t,e,n,i+Math.PI);return[["M",a.x,a.y],["A",n,n,0,1,1,s.x,s.y],["A",n,n,0,1,1,a.x,a.y],["A",n,n,0,1,0,s.x,s.y],["A",n,n,0,1,0,a.x,a.y],["Z"]]}var l=r-i<=Math.PI?0:1;return[["M",a.x,a.y],["A",n,n,0,l,1,o.x,o.y]]}function MT(t,e){var n,i,r=t.points,a=_T(r),o=e.startAngle,s=e.endAngle,l=s-o;return e.isTransposed?(n=a.maxY*l,i=a.minY*l):(n=a.maxX*l,i=a.minX*l),n+=o,i+=o,{startAngle:i,endAngle:n}}function TT(t,e){if(Object(pM["isNumber"])(t)&&Object(pM["isNumber"])(e))return[t,e];if(t=t,e=e,wT(t)||wT(e))return[ST(t),ST(e)];var n,i,r=-1,a=0,o=0,s=t.length-1,l=0;while(++r<t.length)n=s,s=r,l+=i=t[n]*e[s]-t[s]*e[n],a+=(t[n]+t[s])*i,o+=(e[n]+e[s])*i;return l*=3,[a/l,o/l]}function kT(t,e){var n=t.attr(),i=e.attr();return Object(pM["each"])(n,(function(t,e){void 0===i[e]&&(i[e]=void 0)})),i}function LT(t,e,n){var i=Math.min(e,n),r=Math.max(e,n);return t>=i&&t<=r}function jT(t,e,n){if(Object(pM["isString"])(t))return t.padEnd(e,n);if(Object(pM["isArray"])(t)){var i=t.length;if(i<e)for(var r=e-i,a=0;a<r;a++)t.push(n)}return t}function IT(t,e){return"object"===typeof t&&e.forEach((function(e){delete t[e]})),t}function ET(t,e,n){var i,r;void 0===e&&(e=[]),void 0===n&&(n=new Map);try{for(var a=Object(dM["__values"])(t),o=a.next();!o.done;o=a.next()){var s=o.value;n.has(s)||(e.push(s),n.set(s,!0))}}catch(l){i={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return e}var PT=function(){function t(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.x=t,this.y=e,this.height=i,this.width=n}return t.fromRange=function(e,n,i,r){return new t(e,n,i-e,r-n)},t.fromObject=function(e){return new t(e.minX,e.minY,e.width,e.height)},Object.defineProperty(t.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},t.prototype.contains=function(t){return t.minX>=this.minX&&t.maxX<=this.maxX&&t.minY>=this.minY&&t.maxY<=this.maxY},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return Object(pM["each"])(t,(function(t){n.x=Math.min(t.x,n.x),n.y=Math.min(t.y,n.y),n.width=Math.max(t.maxX,n.maxX)-n.x,n.height=Math.max(t.maxY,n.maxY)-n.y})),n},t.prototype.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return Object(pM["each"])(t,(function(t){n.x=Math.max(t.x,n.x),n.y=Math.max(t.y,n.y),n.width=Math.min(t.maxX,n.maxX)-n.x,n.height=Math.min(t.maxY,n.maxY)-n.y})),n},t.prototype.cut=function(e,n){var i=e.width,r=e.height;switch(n){case nM.TOP:case nM.TOP_LEFT:case nM.TOP_RIGHT:return t.fromRange(this.minX,this.minY+r,this.maxX,this.maxY);case nM.RIGHT:case nM.RIGHT_TOP:case nM.RIGHT_BOTTOM:return t.fromRange(this.minX,this.minY,this.maxX-i,this.maxY);case nM.BOTTOM:case nM.BOTTOM_LEFT:case nM.BOTTOM_RIGHT:return t.fromRange(this.minX,this.minY,this.maxX,this.maxY-r);case nM.LEFT:case nM.LEFT_TOP:case nM.LEFT_BOTTOM:return t.fromRange(this.minX+i,this.minY,this.maxX,this.maxY);default:return this}},t.prototype.shrink=function(e){var n=Object(dM["__read"])(e,4),i=n[0],r=n[1],a=n[2],o=n[3];return new t(this.x+o,this.y+i,this.width-o-r,this.height-i-a)},t.prototype.expand=function(e){var n=Object(dM["__read"])(e,4),i=n[0],r=n[1],a=n[2],o=n[3];return new t(this.x-o,this.y-i,this.width+o+r,this.height+i+a)},t.prototype.exceed=function(t){return[Math.max(-this.minY+t.minY,0),Math.max(this.maxX-t.maxX,0),Math.max(this.maxY-t.maxY,0),Math.max(-this.minX+t.minX,0)]},t.prototype.collide=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},t.prototype.size=function(){return this.width*this.height},t.prototype.isPointIn=function(t){return t.x>=this.minX&&t.x<=this.maxX&&t.y>=this.minY&&t.y<=this.maxY},t}();function RT(t){return[[t.minX,t.minY],[t.maxX,t.minY],[t.maxX,t.maxY],[t.minX,t.maxY]]}function DT(t){if(t.isPolar&&!t.isTransposed)return(t.endAngle-t.startAngle)*t.getRadius();var e=t.convert({x:0,y:0}),n=t.convert({x:1,y:0});return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function FT(t){if(t.isPolar){var e=t.startAngle,n=t.endAngle;return n-e===2*Math.PI}return!1}function NT(t,e){var n=t.getCenter();return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function BT(t,e){var n=!1;if(t)if("theta"===t.type){var i=t.start,r=t.end;n=LT(e.x,i.x,r.x)&&LT(e.y,i.y,r.y)}else{var a=t.invert(e);n=LT(a.x,0,1)&&LT(a.y,0,1)}return n}function VT(t,e){var n=t.getCenter();return Math.atan2(e.y-n.y,e.x-n.x)}function GT(t,e){void 0===e&&(e=0);var n,i=t.start,r=t.end,a=t.getWidth(),o=t.getHeight();if(t.isPolar){var s=t.startAngle,l=t.endAngle,c=t.getCenter(),u=t.getRadius();return{type:"path",startState:{path:CT(c.x,c.y,u+e,s,s)},endState:function(t){var n=(l-s)*t+s,i=CT(c.x,c.y,u+e,s,n);return{path:i}},attrs:{path:CT(c.x,c.y,u+e,s,l)}}}return n=t.isTransposed?{height:o+2*e}:{width:a+2*e},{type:"rect",startState:{x:i.x-e,y:r.y-e,width:t.isTransposed?a+2*e:0,height:t.isTransposed?0:o+2*e},endState:n,attrs:{x:i.x-e,y:r.y-e,width:a+2*e,height:o+2*e}}}function zT(t,e){void 0===e&&(e=0);var n=t.start,i=t.end,r=t.getWidth(),a=t.getHeight(),o=Math.min(n.x,i.x),s=Math.min(n.y,i.y);return PT.fromRange(o-e,s-e,o+r+e,s+a+e)}var UT=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function HT(t){var e="linear";return UT.test(t)?e="timeCat":Object(pM["isString"])(t)&&(e="cat"),e}function WT(t,e,n,i){return void 0===e&&(e={}),e.type?e.type:"identity"!==t.type&&bM.includes(n)&&["interval"].includes(i)||t.isCategory?"cat":t.type}function YT(t,e,n){var i=e||[];if(Object(pM["isNumber"])(t)||Object(pM["isNil"])(Object(pM["firstValue"])(i,t))&&Object(pM["isEmpty"])(n)){var r=Object(JM["c"])("identity");return new r({field:t.toString(),values:[t]})}var a=Object(pM["valuesOfKey"])(i,t),o=Object(pM["get"])(n,"type",HT(a[0])),s=Object(JM["c"])(o);return new s(Object(dM["__assign"])({field:t,values:a},n))}function XT(t,e){if("identity"!==t.type&&"identity"!==e.type){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);t.change(n)}}function qT(t){return t.alias||t.field}function ZT(t,e,n){var i,r=t.values,a=r.length;if(1===a)i=[.5,1];else{var o=1,s=0;FT(e)?e.isTransposed?(o=Object(pM["get"])(n,"widthRatio.multiplePie",1/1.3),s=1/a*o,i=[s/2,1-s/2]):i=[0,1-1/a]:(s=1/a/2,i=[s,1-s])}return i}function QT(t){var e=t.values.filter((function(t){return!Object(pM["isNil"])(t)&&!isNaN(t)}));return Math.max.apply(Math,Object(dM["__spreadArray"])(Object(dM["__spreadArray"])([],Object(dM["__read"])(e),!1),[Object(pM["isNil"])(t.max)?-1/0:t.max],!1))}function JT(t){var e,n;switch(t){case nM.TOP:e={x:0,y:1},n={x:1,y:1};break;case nM.RIGHT:e={x:1,y:0},n={x:1,y:1};break;case nM.BOTTOM:e={x:0,y:0},n={x:1,y:0};break;case nM.LEFT:e={x:0,y:0},n={x:0,y:1};break;default:e=n={x:0,y:0}}return{start:e,end:n}}function KT(t){var e,n;return t.isTransposed?(e={x:0,y:0},n={x:1,y:0}):(e={x:0,y:0},n={x:0,y:1}),{start:e,end:n}}function $T(t,e){var n={start:{x:0,y:0},end:{x:0,y:0}};t.isRect?n=JT(e):t.isPolar&&(n=KT(t));var i=n.start,r=n.end;return{start:t.convert(i),end:t.convert(r)}}function tk(t){var e=t.start,n=t.end;return e.x===n.x}function ek(t,e){var n=t.start,i=t.end,r=tk(t);return r?(n.y-i.y)*(e.x-n.x)>0?1:-1:(i.x-n.x)*(n.y-e.y)>0?-1:1}function nk(t,e){var n=Object(pM["get"])(t,["components","axis"],{});return Object(pM["deepMix"])({},Object(pM["get"])(n,["common"],{}),Object(pM["deepMix"])({},Object(pM["get"])(n,[e],{})))}function ik(t,e,n){var i=Object(pM["get"])(t,["components","axis"],{});return Object(pM["deepMix"])({},Object(pM["get"])(i,["common","title"],{}),Object(pM["deepMix"])({},Object(pM["get"])(i,[e,"title"],{})),n)}function rk(t){var e=t.x,n=t.y,i=t.circleCenter,r=n.start>n.end,a=t.isTransposed?t.convert({x:r?0:1,y:0}):t.convert({x:0,y:r?0:1}),o=[a.x-i.x,a.y-i.y],s=[1,0],l=a.y>i.y?eT["vec2"].angle(o,s):-1*eT["vec2"].angle(o,s),c=l+(e.end-e.start),u=Math.sqrt(Math.pow(a.x-i.x,2)+Math.pow(a.y-i.y,2));return{center:i,radius:u,startAngle:l,endAngle:c}}function ak(t,e){return Object(pM["isBoolean"])(t)?!1!==t&&{}:Object(pM["get"])(t,[e])}function ok(t,e){return Object(pM["get"])(t,"position",e)}function sk(t,e){return Object(pM["get"])(e,["title","text"],qT(t))}var lk=function(){function t(t,e){this.destroyed=!1,this.facets=[],this.view=t,this.cfg=Object(pM["deepMix"])({},this.getDefaultCfg(),e)}return t.prototype.init=function(){this.container||(this.container=this.createContainer());var t=this.view.getData();this.facets=this.generateFacets(t)},t.prototype.render=function(){this.renderViews()},t.prototype.update=function(){},t.prototype.clear=function(){this.clearFacetViews()},t.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},t.prototype.facetToView=function(t){var e=t.region,n=t.data,i=t.padding,r=void 0===i?this.cfg.padding:i,a=this.view.createView({region:e,padding:r});a.data(n||[]),t.view=a,this.beforeEachView(a,t);var o=this.cfg.eachView;return o&&o(a,t),this.afterEachView(a,t),a},t.prototype.createContainer=function(){var t=this.view.getLayer(eM.FORE);return t.addGroup()},t.prototype.renderViews=function(){this.createFacetViews()},t.prototype.createFacetViews=function(){var t=this;return this.facets.map((function(e){return t.facetToView(e)}))},t.prototype.clearFacetViews=function(){var t=this;Object(pM["each"])(this.facets,(function(e){e.view&&(t.view.removeView(e.view),e.view=void 0)}))},t.prototype.parseSpacing=function(){var t=this.view.viewBBox,e=t.width,n=t.height,i=this.cfg.spacing;return i.map((function(t,i){return Object(pM["isNumber"])(t)?t/(0===i?e:n):parseFloat(t)/100}))},t.prototype.getFieldValues=function(t,e){var n=[],i={};return Object(pM["each"])(t,(function(t){var r=t[e];Object(pM["isNil"])(r)||i[r]||(n.push(r),i[r]=!0)})),n},t.prototype.getRegion=function(t,e,n,i){var r=Object(dM["__read"])(this.parseSpacing(),2),a=r[0],o=r[1],s=(1+a)/(0===e?1:e)-a,l=(1+o)/(0===t?1:t)-o,c={x:(s+a)*n,y:(l+o)*i},u={x:c.x+s,y:c.y+l};return{start:c,end:u}},t.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},t.prototype.getDefaultTitleCfg=function(){var t=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:t}}},t.prototype.processAxis=function(t,e){var n=t.getOptions(),i=n.coordinate,r=t.geometries,a=Object(pM["get"])(i,"type","rect");if("rect"===a&&r.length){Object(pM["isNil"])(n.axes)&&(n.axes={});var o=n.axes,s=Object(dM["__read"])(r[0].getXYFields(),2),l=s[0],c=s[1],u=ak(o,l),h=ak(o,c);!1!==u&&(n.axes[l]=this.getXAxisOption(l,o,u,e)),!1!==h&&(n.axes[c]=this.getYAxisOption(c,o,h,e))}},t.prototype.getFacetDataFilter=function(t){return function(e){return Object(pM["every"])(t,(function(t){var n=t.field,i=t.value;return!(!Object(pM["isNil"])(i)&&n)||e[n]===i}))}},t}(),ck={},uk=function(t){return ck[Object(pM["lowerCase"])(t)]},hk=function(t,e){ck[Object(pM["lowerCase"])(t)]=e},dk=function(){function t(t,e){this.context=t,this.cfg=e,t.addAction(this)}return t.prototype.applyCfg=function(t){Object(pM["assign"])(this,t)},t.prototype.init=function(){this.applyCfg(this.cfg)},t.prototype.destroy=function(){this.context.removeAction(this),this.context=null},t}(),pk=dk,fk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dM["__extends"])(e,t),e.prototype.execute=function(){this.callback&&this.callback(this.context)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.callback=null},e}(pk),gk=fk,mk={};function vk(t,e){var n=mk[t],i=null;if(n){var r=n.ActionClass,a=n.cfg;i=new r(e,a),i.name=t,i.init()}return i}function yk(t,e,n){mk[t]={ActionClass:e,cfg:n}}function bk(t,e){var n=new gk(e);return n.callback=t,n.name="callback",n}function xk(t,e){var n=[];if(t.length){n.push(["M",t[0].x,t[0].y]);for(var i=1,r=t.length;i<r;i+=1){var a=t[i];n.push(["L",a.x,a.y])}e&&n.push(["Z"])}return n}function _k(t,e){for(var n=[t[0]],i=1,r=t.length;i<r;i+=2){var a=e.convert({x:t[i],y:t[i+1]});n.push(a.x,a.y)}return n}function wk(t,e){var n=e.isTransposed,i=t[1],r=t[6],a=t[7],o=e.convert({x:r,y:a}),s=n?0:1;return["A",i,i,0,0,s,o.x,o.y]}function Sk(t,e,n){var i=n.isTransposed,r=n.startAngle,a=n.endAngle,o="a"===t[0].toLowerCase()?{x:t[6],y:t[7]}:{x:t[1],y:t[2]},s={x:e[1],y:e[2]},l=[],c=i?"y":"x",u=Math.abs(s[c]-o[c])*(a-r),h=s[c]>=o[c]?1:0,d=u>Math.PI?1:0,p=n.convert(s),f=NT(n,p);if(f>=.5)if(u===2*Math.PI){var g={x:(s.x+o.x)/2,y:(s.y+o.y)/2},m=n.convert(g);l.push(["A",f,f,0,d,h,m.x,m.y]),l.push(["A",f,f,0,d,h,p.x,p.y])}else l.push(["A",f,f,0,d,h,p.x,p.y]);return l}function Ok(t){Object(pM["each"])(t,(function(e,n){var i=e;if("a"===i[0].toLowerCase()){var r=t[n-1],a=t[n+1];a&&"a"===a[0].toLowerCase()?r&&"l"===r[0].toLowerCase()&&(r[0]="M"):r&&"a"===r[0].toLowerCase()&&a&&"l"===a[0].toLowerCase()&&(a[0]="M")}}))}var Ck=function(t,e,n,i){var r,a,o,s,l,c,u,h,d=[],p=!!i;if(p){r=Object(dM["__read"])(i,2),s=r[0],l=r[1];for(var f=0,g=t.length;f<g;f++){var m=t[f];s=eT["vec2"].min([0,0],s,m),l=eT["vec2"].max([0,0],l,m)}}f=0;for(var v=t.length;f<v;f++){m=t[f];if(0!==f||n)if(f!==v-1||n){a=t[n?f?f-1:v-1:f-1],o=t[n?(f+1)%v:f+1];var y=[0,0];y=eT["vec2"].sub(y,o,a),y=eT["vec2"].scale(y,y,e);var b=eT["vec2"].distance(m,a),x=eT["vec2"].distance(m,o),_=b+x;0!==_&&(b/=_,x/=_);var w=eT["vec2"].scale([0,0],y,-b),S=eT["vec2"].scale([0,0],y,x);u=eT["vec2"].add([0,0],m,w),c=eT["vec2"].add([0,0],m,S),c=eT["vec2"].min([0,0],c,eT["vec2"].max([0,0],o,m)),c=eT["vec2"].max([0,0],c,eT["vec2"].min([0,0],o,m)),w=eT["vec2"].sub([0,0],c,m),w=eT["vec2"].scale([0,0],w,-b/x),u=eT["vec2"].add([0,0],m,w),u=eT["vec2"].min([0,0],u,eT["vec2"].max([0,0],a,m)),u=eT["vec2"].max([0,0],u,eT["vec2"].min([0,0],a,m)),S=eT["vec2"].sub([0,0],m,u),S=eT["vec2"].scale([0,0],S,x/b),c=eT["vec2"].add([0,0],m,S),p&&(u=eT["vec2"].max([0,0],u,s),u=eT["vec2"].min([0,0],u,l),c=eT["vec2"].max([0,0],c,s),c=eT["vec2"].min([0,0],c,l)),d.push(h),d.push(u),h=c}else u=m,d.push(h),d.push(u);else h=m}return n&&d.push(d.shift()),d};function Ak(t,e,n){for(var i=!!e,r=[],a=0,o=t.length;a<o;a+=2)r.push([t[a],t[a+1]]);var s,l,c,u=Ck(r,.4,i,n),h=r.length,d=[];for(a=0;a<h-1;a++)s=u[2*a],l=u[2*a+1],c=r[a+1],d.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]]);return i&&(s=u[h],l=u[h+1],c=r[0],d.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]])),d}function Mk(t,e){return xk(t,e)}function Tk(t,e,n){var i=[],r=t[0],a=null;if(t.length<=2)return Mk(t,e);for(var o=0,s=t.length;o<s;o++){var l=t[o];a&&a.x===l.x&&a.y===l.y||(i.push(l.x),i.push(l.y),a=l)}var c=n||[[0,0],[1,1]],u=Ak(i,e,c);return u.unshift(["M",r.x,r.y]),u}function kk(t,e){var n=[];return Object(pM["each"])(e,(function(e){var i=e[0];switch(i.toLowerCase()){case"m":case"l":case"c":n.push(_k(e,t));break;case"a":n.push(wk(e,t));break;case"z":default:n.push(e);break}})),n}function Lk(t,e){var n,i,r,a,o=[];return Object(pM["each"])(e,(function(s,l){var c=s[0];switch(c.toLowerCase()){case"m":case"c":case"q":o.push(_k(s,t));break;case"l":n=e[l-1],i=s,r=t.isTransposed,a=r?n[n.length-2]===i[1]:n[n.length-1]===i[2],a?o=o.concat(Sk(n,i,t)):o.push(_k(s,t));break;case"a":o.push(wk(s,t));break;case"z":default:o.push(s);break}})),Ok(o),o}var jk=n("2ef1");function Ik(t,e){var n=t.event,i=n.target;return Pk(i,e)}function Ek(t,e){var n=t.getCanvasBBox(),i=n.width,r=n.height;return i>0&&r>0&&(i>=e||r>=e)}function Pk(t,e){var n=t.getCanvasBBox();return Ek(t,e)?n:null}function Rk(t,e){var n=t.event.maskShapes;return n.map((function(t){return Pk(t,e)})).filter((function(t){return!!t}))}function Dk(t,e){var n=t.event,i=n.target;return Fk(i,e)}function Fk(t,e){return Ek(t,e)?t.attr("path"):null}function Nk(t,e){var n=t.event.maskShapes;return n.map((function(t){return Fk(t,e)}))}function Bk(t){var e,n=t.event,i=n.target;return i&&(e=i.get("element")),e}function Vk(t){var e,n=t.event,i=n.target;return i&&(e=i.get("delegateObject")),e}function Gk(t){var e=t.event.gEvent;return!(e&&e.fromShape&&e.toShape&&e.fromShape.get("element")===e.toShape.get("element"))}function zk(t){return t&&t.component&&t.component.isList()}function Uk(t){return t&&t.component&&t.component.isSlider()}function Hk(t){var e=t.event,n=e.target;return n&&"mask"===(null===n||void 0===n?void 0:n.get("name"))||Wk(t)}function Wk(t){var e;return"multi-mask"===(null===(e=t.event.target)||void 0===e?void 0:e.get("name"))}function Yk(t,e){var n=t.event.target;if(Wk(t))return Xk(t,e);if("path"===n.get("type")){var i=Dk(t,e);if(!i)return;return rL(t.view,i)}var r=Ik(t,e);return r?nL(t.view,r):null}function Xk(t,e){var n=t.event.target;if("path"===n.get("type")){var i=Nk(t,e);return i.length>0?i.flatMap((function(e){return rL(t.view,e)})):null}var r=Rk(t,e);return r.length>0?r.flatMap((function(e){return nL(t.view,e)})):null}function qk(t,e,n){if(Wk(t))return Qk(t,e,n);var i=Ik(t,n);return i?Zk(i,t,e):null}function Zk(t,e,n){var i=e.view,r=hL(i,n,{x:t.x,y:t.y}),a=hL(i,n,{x:t.maxX,y:t.maxY}),o={minX:r.x,minY:r.y,maxX:a.x,maxY:a.y};return nL(n,o)}function Qk(t,e,n){var i=Rk(t,n);return i.length>0?i.flatMap((function(n){return Zk(n,t,e)})):null}function Jk(t){var e=t.geometries,n=[];return Object(pM["each"])(e,(function(t){var e=t.elements;n=n.concat(e)})),t.views&&t.views.length&&Object(pM["each"])(t.views,(function(t){n=n.concat(Jk(t))})),n}function Kk(t,e,n){var i=Jk(t);return i.filter((function(t){return tL(t,e)===n}))}function $k(t,e){var n=t.geometries,i=[];return Object(pM["each"])(n,(function(t){var n=t.getElementsBy((function(t){return t.hasState(e)}));i=i.concat(n)})),i}function tL(t,e){var n,i=t.getModel(),r=i.data;return n=Object(pM["isArray"])(r)?r[0][e]:r[e],n}function eL(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function nL(t,e){var n=Jk(t),i=[];return Object(pM["each"])(n,(function(t){var n=t.shape,r=n.getCanvasBBox();eL(e,r)&&i.push(t)})),i}function iL(t){var e=[];return Object(pM["each"])(t,(function(t){var n=t[0];if("A"!==n)for(var i=1;i<t.length;i+=2)e.push([t[i],t[i+1]]);else{var r=t.length;e.push([t[r-2],t[r-1]])}})),e}function rL(t,e){var n=Jk(t),i=iL(e),r=n.filter((function(t){var e,n=t.shape;if("path"===n.get("type"))e=iL(n.attr("path"));else{var r=n.getCanvasBBox();e=RT(r)}return Object(jk["isPolygonsIntersect"])(i,e)}));return r}function aL(t){return t.getComponents().map((function(t){return t.component}))}function oL(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}function sL(t,e){if(t.length<=2)return Mk(t,!1);var n=t[0],i=[];Object(pM["each"])(t,(function(t){i.push(t.x),i.push(t.y)}));var r=Ak(i,e,null);return r.unshift(["M",n.x,n.y]),r}function lL(t,e){return t.x<=e.x&&t.maxX>=e.x&&t.y<=e.y&&t.maxY>e.y}function cL(t){var e=t.parent,n=null;return e&&(n=e.views.filter((function(e){return e!==t}))),n}function uL(t,e){var n=t.getCoordinate();return n.invert(e)}function hL(t,e,n){var i=uL(t,n);return e.getCoordinate().convert(i)}function dL(t,e,n,i){var r=!1;return Object(pM["each"])(t,(function(t){if(t[n]===e[n]&&t[i]===e[i])return r=!0,!1})),r}function pL(t,e){var n=t.getScaleByField(e);return!n&&t.views&&Object(pM["each"])(t.views,(function(t){if(n=pL(t,e),n)return!1})),n}var fL=function(){function t(t){this.actions=[],this.event=null,this.cacheMap={},this.view=t}return t.prototype.cache=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length)return this.cacheMap[t[0]];2===t.length&&(this.cacheMap[t[0]]=t[1])},t.prototype.getAction=function(t){return this.actions.find((function(e){return e.name===t}))},t.prototype.addAction=function(t){this.actions.push(t)},t.prototype.removeAction=function(t){var e=this.actions,n=this.actions.indexOf(t);n>=0&&e.splice(n,1)},t.prototype.getCurrentPoint=function(){var t=this.event;if(t){if(t.target instanceof HTMLElement){var e=this.view.getCanvas(),n=e.getPointByClient(t.clientX,t.clientY);return n}return{x:t.x,y:t.y}}return null},t.prototype.getCurrentShape=function(){return Object(pM["get"])(this.event,["gEvent","shape"])},t.prototype.isInPlot=function(){var t=this.getCurrentPoint();return!!t&&this.view.isPointInPlot(t)},t.prototype.isInShape=function(t){var e=this.getCurrentShape();return!!e&&e.get("name")===t},t.prototype.isInComponent=function(t){var e=aL(this.view),n=this.getCurrentPoint();return!!n&&!!e.find((function(e){var i=e.getBBox();return t?e.get("name")===t&&lL(i,n):lL(i,n)}))},t.prototype.destroy=function(){Object(pM["each"])(this.actions.slice(),(function(t){t.destroy()})),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},t}(),gL=fL,mL=function(){function t(t,e){this.view=t,this.cfg=e}return t.prototype.init=function(){this.initEvents()},t.prototype.initEvents=function(){},t.prototype.clearEvents=function(){},t.prototype.destroy=function(){this.clearEvents()},t}(),vL=mL;function yL(t,e,n){var i=t.split(":"),r=i[0],a=e.getAction(r)||vk(r,e);if(!a)throw new Error("There is no action named ".concat(r));var o=i[1];return{action:a,methodName:o,arg:n}}function bL(t){var e=t.action,n=t.methodName,i=t.arg;if(!e[n])throw new Error("Action(".concat(e.name,") doesn't have a method called ").concat(n));e[n](i)}var xL={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},_L=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.callbackCaches={},i.emitCaches={},i.steps=n,i}return Object(dM["__extends"])(e,t),e.prototype.init=function(){this.initContext(),t.prototype.init.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},e.prototype.initEvents=function(){var t=this;Object(pM["each"])(this.steps,(function(e,n){Object(pM["each"])(e,(function(e){var i=t.getActionCallback(n,e);i&&t.bindEvent(e.trigger,i)}))}))},e.prototype.clearEvents=function(){var t=this;Object(pM["each"])(this.steps,(function(e,n){Object(pM["each"])(e,(function(e){var i=t.getActionCallback(n,e);i&&t.offEvent(e.trigger,i)}))}))},e.prototype.initContext=function(){var t=this.view,e=new gL(t);this.context=e;var n=this.steps;Object(pM["each"])(n,(function(t){Object(pM["each"])(t,(function(t){if(Object(pM["isFunction"])(t.action))t.actionObject={action:bk(t.action,e),methodName:"execute"};else if(Object(pM["isString"])(t.action))t.actionObject=yL(t.action,e,t.arg);else if(Object(pM["isArray"])(t.action)){var n=t.action,i=Object(pM["isArray"])(t.arg)?t.arg:[t.arg];t.actionObject=[],Object(pM["each"])(n,(function(n,r){t.actionObject.push(yL(n,e,i[r]))}))}}))}))},e.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t)return!0;if(t===xL.SHOW_ENABLE)return!0;if(t===xL.PROCESSING)return e===xL.START;if(t===xL.START)return e!==xL.PROCESSING;if(t===xL.END)return e===xL.PROCESSING||e===xL.START;if(t===xL.ROLLBACK){if(n[xL.END])return e===xL.END;if(e===xL.START)return!0}return!1},e.prototype.isAllowExecute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return(!e.once||!this.emitCaches[n])&&(!e.isEnable||e.isEnable(this.context))}return!1},e.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},e.prototype.afterExecute=function(t,e){t!==xL.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},e.prototype.getKey=function(t,e){return t+e.trigger+e.action},e.prototype.getActionCallback=function(t,e){var n=this,i=this.context,r=this.callbackCaches,a=e.actionObject;if(e.action&&a){var o=this.getKey(t,e);if(!r[o]){var s=function(r){i.event=r,n.isAllowExecute(t,e)?(Object(pM["isArray"])(a)?Object(pM["each"])(a,(function(t){i.event=r,bL(t)})):(i.event=r,bL(a)),n.afterExecute(t,e),e.callback&&(i.event=r,e.callback(i))):i.event=null};e.debounce?r[o]=Object(pM["debounce"])(s,e.debounce.wait,e.debounce.immediate):e.throttle?r[o]=Object(pM["throttle"])(s,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):r[o]=s}return r[o]}return null},e.prototype.bindEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.addEventListener(n[1],e):"document"===n[0]?document.addEventListener(n[1],e):this.view.on(t,e)},e.prototype.offEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.removeEventListener(n[1],e):"document"===n[0]?document.removeEventListener(n[1],e):this.view.off(t,e)},e}(vL),wL=_L,SL={};function OL(t){return SL[Object(pM["lowerCase"])(t)]}function CL(t,e){SL[Object(pM["lowerCase"])(t)]=e}function AL(t,e,n){var i=OL(t);if(!i)return null;if(Object(pM["isPlainObject"])(i)){var r=Object(pM["mix"])(Object(pM["clone"])(i),n);return new wL(e,r)}var a=i;return new a(e,n)}function ML(t){return{title:{autoRotate:!0,position:"center",spacing:t.axisTitleSpacing,style:{fill:t.axisTitleTextFillColor,fontSize:t.axisTitleTextFontSize,lineHeight:t.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily},iconStyle:{fill:t.axisDescriptionIconFillColor}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:t.axisLabelOffset,style:{fill:t.axisLabelFillColor,fontSize:t.axisLabelFontSize,lineHeight:t.axisLabelLineHeight,fontFamily:t.fontFamily}},line:{style:{lineWidth:t.axisLineBorder,stroke:t.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:t.axisGridBorderColor,lineWidth:t.axisGridBorder,lineDash:t.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:t.axisTickLineBorder,stroke:t.axisTickLineBorderColor},alignTick:!0,length:t.axisTickLineLength},subTickLine:null,animate:!0}}function TL(t){return{title:null,marker:{symbol:"circle",spacing:t.legendMarkerSpacing,style:{r:t.legendCircleMarkerSize,fill:t.legendMarkerColor}},itemName:{spacing:5,style:{fill:t.legendItemNameFillColor,fontFamily:t.fontFamily,fontSize:t.legendItemNameFontSize,lineHeight:t.legendItemNameLineHeight,fontWeight:t.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:t.legendPageNavigatorMarkerSize,inactiveFill:t.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:t.legendPageNavigatorMarkerInactiveFillOpacity,fill:t.legendPageNavigatorMarkerFillColor,opacity:t.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:t.legendPageNavigatorTextFillColor,fontSize:t.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:t.legendItemSpacing,itemMarginBottom:t.legendItemMarginBottom,padding:t.legendPadding}}function kL(t){var e,n={point:{default:{fill:t.pointFillColor,r:t.pointSize,stroke:t.pointBorderColor,lineWidth:t.pointBorder,fillOpacity:t.pointFillOpacity},active:{stroke:t.pointActiveBorderColor,lineWidth:t.pointActiveBorder},selected:{stroke:t.pointSelectedBorderColor,lineWidth:t.pointSelectedBorder},inactive:{fillOpacity:t.pointInactiveFillOpacity,strokeOpacity:t.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:t.hollowPointFillColor,lineWidth:t.hollowPointBorder,stroke:t.hollowPointBorderColor,strokeOpacity:t.hollowPointBorderOpacity,r:t.hollowPointSize},active:{stroke:t.hollowPointActiveBorderColor,strokeOpacity:t.hollowPointActiveBorderOpacity},selected:{lineWidth:t.hollowPointSelectedBorder,stroke:t.hollowPointSelectedBorderColor,strokeOpacity:t.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:t.hollowPointInactiveBorderOpacity}},area:{default:{fill:t.areaFillColor,fillOpacity:t.areaFillOpacity,stroke:null},active:{fillOpacity:t.areaActiveFillOpacity},selected:{fillOpacity:t.areaSelectedFillOpacity},inactive:{fillOpacity:t.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:t.hollowAreaBorderColor,lineWidth:t.hollowAreaBorder,strokeOpacity:t.hollowAreaBorderOpacity},active:{fill:null,lineWidth:t.hollowAreaActiveBorder},selected:{fill:null,lineWidth:t.hollowAreaSelectedBorder},inactive:{strokeOpacity:t.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:t.intervalFillColor,fillOpacity:t.intervalFillOpacity},active:{stroke:t.intervalActiveBorderColor,lineWidth:t.intervalActiveBorder},selected:{stroke:t.intervalSelectedBorderColor,lineWidth:t.intervalSelectedBorder},inactive:{fillOpacity:t.intervalInactiveFillOpacity,strokeOpacity:t.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:t.hollowIntervalFillColor,stroke:t.hollowIntervalBorderColor,lineWidth:t.hollowIntervalBorder,strokeOpacity:t.hollowIntervalBorderOpacity},active:{stroke:t.hollowIntervalActiveBorderColor,lineWidth:t.hollowIntervalActiveBorder,strokeOpacity:t.hollowIntervalActiveBorderOpacity},selected:{stroke:t.hollowIntervalSelectedBorderColor,lineWidth:t.hollowIntervalSelectedBorder,strokeOpacity:t.hollowIntervalSelectedBorderOpacity},inactive:{stroke:t.hollowIntervalInactiveBorderColor,lineWidth:t.hollowIntervalInactiveBorder,strokeOpacity:t.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:t.lineBorderColor,lineWidth:t.lineBorder,strokeOpacity:t.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:t.lineActiveBorder},selected:{lineWidth:t.lineSelectedBorder},inactive:{strokeOpacity:t.lineInactiveBorderOpacity}}},i=ML(t),r=TL(t);return{background:t.backgroundColor,defaultColor:t.brandColor,subColor:t.subColor,semanticRed:t.paletteSemanticRed,semanticGreen:t.paletteSemanticGreen,padding:"auto",fontFamily:t.fontFamily,columnWidthRatio:.5,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:t.paletteQualitative10,colors20:t.paletteQualitative20,sequenceColors:t.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:function(t){var e=t.geometry.coordinate;if(e.isPolar&&e.isTransposed){var i=MT(t.getModel(),e),r=i.startAngle,a=i.endAngle,o=(r+a)/2,s=7.5,l=s*Math.cos(o),c=s*Math.sin(o);return{matrix:eT["ext"].transform(null,[["t",l,c]])}}return n.interval.selected}}},"hollow-rect":{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},line:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},tick:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},funnel:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}},pyramid:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}}},line:{line:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},dot:{default:{style:Object(dM["__assign"])(Object(dM["__assign"])({},n.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:Object(dM["__assign"])(Object(dM["__assign"])({},n.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:Object(dM["__assign"])(Object(dM["__assign"])({},n.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:Object(dM["__assign"])(Object(dM["__assign"])({},n.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:Object(dM["__assign"])(Object(dM["__assign"])({},n.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:Object(dM["__assign"])(Object(dM["__assign"])({},n.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:Object(dM["__assign"])(Object(dM["__assign"])({},n.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:Object(dM["__assign"])(Object(dM["__assign"])({},n.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vh:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hvh:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vhv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}}},polygon:{polygon:{default:{style:n.interval.default},active:{style:n.interval.active},inactive:{style:n.interval.inactive},selected:{style:n.interval.selected}}},point:{circle:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},square:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},bowtie:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},diamond:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},hexagon:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},triangle:{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},"triangle-down":{default:{style:n.point.default},active:{style:n.point.active},inactive:{style:n.point.inactive},selected:{style:n.point.selected}},"hollow-circle":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-square":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-bowtie":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-diamond":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-hexagon":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-triangle":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},"hollow-triangle-down":{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},cross:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},tick:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},plus:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},hyphen:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}},line:{default:{style:n.hollowPoint.default},active:{style:n.hollowPoint.active},inactive:{style:n.hollowPoint.inactive},selected:{style:n.hollowPoint.selected}}},area:{area:{default:{style:n.area.default},active:{style:n.area.active},inactive:{style:n.area.inactive},selected:{style:n.area.selected}},smooth:{default:{style:n.area.default},active:{style:n.area.active},inactive:{style:n.area.inactive},selected:{style:n.area.selected}},line:{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}},"smooth-line":{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}}},schema:{candle:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}},box:{default:{style:n.hollowInterval.default},active:{style:n.hollowInterval.active},inactive:{style:n.hollowInterval.inactive},selected:{style:n.hollowInterval.selected}}},edge:{line:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},vhv:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},arc:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}}},violin:{violin:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},smooth:{default:{style:n.line.default},active:{style:n.line.active},inactive:{style:n.line.inactive},selected:{style:n.line.selected}},hollow:{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}},"hollow-smooth":{default:{style:n.hollowArea.default},active:{style:n.hollowArea.active},inactive:{style:n.hollowArea.inactive},selected:{style:n.hollowArea.selected}}}},components:{axis:{common:i,top:{position:"top",grid:null,title:null,verticalLimitLength:.5},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:.5},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:Object(pM["deepMix"])({},i.grid,{line:{type:"line"}})},radius:{title:null,grid:Object(pM["deepMix"])({},i.grid,{line:{type:"circle"}})}},legend:{common:r,right:{layout:"vertical",padding:t.legendVerticalPadding},left:{layout:"vertical",padding:t.legendVerticalPadding},top:{layout:"horizontal",padding:t.legendHorizontalPadding},bottom:{layout:"horizontal",padding:t.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:t.sliderRailHeight,defaultLength:t.sliderRailWidth,style:{fill:t.sliderRailFillColor,stroke:t.sliderRailBorderColor,lineWidth:t.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:t.sliderLabelTextFillColor,fontSize:t.sliderLabelTextFontSize,lineHeight:t.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},handler:{size:t.sliderHandlerWidth,style:{fill:t.sliderHandlerFillColor,stroke:t.sliderHandlerBorderColor}},slidable:!0,padding:r.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:t.tooltipCrosshairsBorderColor,lineWidth:t.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(e={},e["".concat(pT["TOOLTIP_CSS_CONST"].CONTAINER_CLASS)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:t.tooltipContainerFillColor,opacity:t.tooltipContainerFillOpacity,boxShadow:t.tooltipContainerShadow,borderRadius:"".concat(t.tooltipContainerBorderRadius,"px"),color:t.tooltipTextFillColor,fontSize:"".concat(t.tooltipTextFontSize,"px"),fontFamily:t.fontFamily,lineHeight:"".concat(t.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},e["".concat(pT["TOOLTIP_CSS_CONST"].TITLE_CLASS)]={marginBottom:"12px",marginTop:"12px"},e["".concat(pT["TOOLTIP_CSS_CONST"].LIST_CLASS)]={margin:0,listStyleType:"none",padding:0},e["".concat(pT["TOOLTIP_CSS_CONST"].LIST_ITEM_CLASS)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},e["".concat(pT["TOOLTIP_CSS_CONST"].MARKER_CLASS)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},e["".concat(pT["TOOLTIP_CSS_CONST"].VALUE_CLASS)]={display:"inline-block",float:"right",marginLeft:"30px"},e)},annotation:{arc:{style:{stroke:t.annotationArcBorderColor,lineWidth:t.annotationArcBorder},animate:!0},line:{style:{stroke:t.annotationLineBorderColor,lineDash:t.annotationLineDash,lineWidth:t.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textAlign:"start",fontFamily:t.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:t.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:t.annotationRegionBorder,stroke:t.annotationRegionBorderColor,fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:t.brandColor,lineWidth:2}},line:{style:{stroke:t.annotationLineBorderColor,lineWidth:t.annotationLineBorder},length:t.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:t.cSliderBackgroundFillColor,opacity:t.cSliderBackgroundFillOpacity},foregroundStyle:{fill:t.cSliderForegroundFillColor,opacity:t.cSliderForegroundFillOpacity},handlerStyle:{width:t.cSliderHandlerWidth,height:t.cSliderHandlerHeight,fill:t.cSliderHandlerFillColor,opacity:t.cSliderHandlerFillOpacity,stroke:t.cSliderHandlerBorderColor,lineWidth:t.cSliderHandlerBorder,radius:t.cSliderHandlerBorderRadius,highLightFill:t.cSliderHandlerHighlightFillColor},textStyle:{fill:t.cSliderTextFillColor,opacity:t.cSliderTextFillOpacity,fontSize:t.cSliderTextFontSize,lineHeight:t.cSliderTextLineHeight,fontWeight:t.cSliderTextFontWeight,stroke:t.cSliderTextBorderColor,lineWidth:t.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:t.scrollbarTrackFillColor,thumbColor:t.scrollbarThumbFillColor}},hover:{style:{thumbColor:t.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:t.labelFillColor,fontSize:t.labelFontSize,fontFamily:t.fontFamily,stroke:t.labelBorderColor,lineWidth:t.labelBorder},fillColorDark:t.labelFillColorDark,fillColorLight:t.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:t.innerLabelFillColor,fontSize:t.innerLabelFontSize,fontFamily:t.fontFamily,stroke:t.innerLabelBorderColor,lineWidth:t.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:t.overflowLabelFillColor,fontSize:t.overflowLabelFontSize,fontFamily:t.fontFamily,stroke:t.overflowLabelBorderColor,lineWidth:t.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:t.labelLineBorder}},autoRotate:!0}}}var LL={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},jL={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},IL=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],EL=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],PL=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],RL=function(t){void 0===t&&(t={});var e=t.paletteQualitative10,n=void 0===e?IL:e,i=t.paletteQualitative20,r=void 0===i?EL:i,a=t.brandColor,o=void 0===a?n[0]:a,s={backgroundColor:"transparent",brandColor:o,subColor:"rgba(0,0,0,0.05)",paletteQualitative10:n,paletteQualitative20:r,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:PL,fontFamily:'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"',axisLineBorderColor:LL[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:LL[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:jL[85],axisTickLineBorderColor:LL[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:LL[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:LL[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:LL[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:LL[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:o,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:LL[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:LL[100],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:LL[100],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:LL[45],legendPageNavigatorTextFontSize:12,sliderRailFillColor:LL[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:LL[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:LL[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:LL[25],annotationArcBorderColor:LL[15],annotationArcBorder:1,annotationLineBorderColor:LL[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:LL[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:LL[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:LL[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:LL[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:LL[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:jL[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:LL[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:jL[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:LL[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:o,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:jL[100],pointBorderOpacity:1,pointActiveBorderColor:LL[100],pointSelectedBorder:2,pointSelectedBorderColor:LL[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:o,hollowPointBorderOpacity:.95,hollowPointFillColor:jL[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:LL[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:LL[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:o,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:o,areaFillOpacity:.25,areaActiveFillColor:o,areaActiveFillOpacity:.5,areaSelectedFillColor:o,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:o,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:LL[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:LL[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:o,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:LL[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:LL[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:o,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:jL[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:LL[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:LL[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return Object(dM["__assign"])(Object(dM["__assign"])({},s),t)};RL();function DL(t){var e=t.styleSheet,n=void 0===e?{}:e,i=Object(dM["__rest"])(t,["styleSheet"]),r=RL(n);return Object(pM["deepMix"])({},kL(r),i)}var FL=DL({}),NL={default:FL};function BL(t){return Object(pM["get"])(NL,Object(pM["lowerCase"])(t),NL.default)}function VL(t,e){NL[Object(pM["lowerCase"])(t)]=DL(e)}function GL(t,e,n){var i=n.translate(t),r=n.translate(e);return Object(pM["isNumberEqual"])(i,r)}function zL(t,e){var n=e.coordinate,i=e.getXScale(),r=i.range,a=r[r.length-1],o=r[0],s=n.invert(t),l=s.x;return n.isPolar&&l>(1+a)/2&&(l=o),i.translate(i.invert(l))}function UL(t,e,n){var i=n.coordinate,r=n.getYScale(),a=r.field,o=i.invert(e),s=r.invert(o.y),l=Object(pM["find"])(t,(function(t){var e=t[xM];return e[a][0]<=s&&e[a][1]>=s}));return l||t[t.length-1]}var HL=Object(pM["memoize"])((function(t){if(t.isCategory)return 1;for(var e=t.values,n=e.length,i=t.translate(e[0]),r=i,a=0;a<n;a++){var o=e[a],s=t.translate(o);s<i&&(i=s),s>r&&(r=s)}return(r-i)/(n-1)}));function WL(t,e,n){var i=e.getAttribute("position"),r=i.getFields(),a=e.scales,o=Object(pM["isFunction"])(n)||!n?r[0]:n,s=a[o],l=s?s.getText(t[o]):t[o]||o;return Object(pM["isFunction"])(n)?n(l,t):l}function YL(t){var e=Object(pM["values"])(t.attributes);return Object(pM["filter"])(e,(function(t){return Object(pM["contains"])(bM,t.type)}))}function XL(t){var e,n,i,r=YL(t);try{for(var a=Object(dM["__values"])(r),o=a.next();!o.done;o=a.next()){var s=o.value,l=s.getScale(s.type);if(l&&l.isLinear){var c=Object(pM["get"])(t.scaleDefs,l.field),u=WT(l,c,s.type,t.type);if("cat"!==u){i=l;break}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}var h=t.getXScale(),d=t.getYScale();return i||d||h}function qL(t,e){var n=e.field,i=t[n];if(Object(pM["isArray"])(i)){var r=i.map((function(t){return e.getText(t)}));return r.join("-")}return e.getText(i)}function ZL(t,e){var n,i=e.getGroupScales();if(i.length&&(n=i[0]),n){var r=n.field;return n.getText(t[r])}var a=XL(e);return qT(a)}function QL(t,e,n){if(0===e.length)return null;var i=n.type,r=n.getXScale(),a=n.getYScale(),o=r.field,s=a.field,l=null;if("heatmap"===i||"point"===i){for(var c=n.coordinate,u=c.invert(t),h=r.invert(u.x),d=a.invert(u.y),p=1/0,f=0;f<e.length;f++){var g=e[f],m=g[xM],v=Math.pow(m[o]-h,2)+Math.pow(m[s]-d,2);v<p&&(p=v,l=g)}return l}var y=e[0],b=e[e.length-1],x=zL(t,n),_=y[xM][o],w=y[xM][s],S=b[xM][o],O=a.isLinear&&Object(pM["isArray"])(w);if(Object(pM["isArray"])(_)){for(f=0;f<e.length;f++){var C=e[f];m=C[xM];if(r.translate(m[o][0])<=x&&r.translate(m[o][1])>=x){if(!O){l=C;break}Object(pM["isArray"])(l)||(l=[]),l.push(C)}}Object(pM["isArray"])(l)&&(l=UL(l,t,n))}else{var A=void 0;if(r.isLinear||"timeCat"===r.type){if((x>r.translate(S)||x<r.translate(_))&&(x>r.max||x<r.min))return null;var M=0,T=e.length-1,k=void 0;while(M<=T){k=Math.floor((M+T)/2);var L=e[k][xM][o];if(GL(L,x,r))return e[k];r.translate(L)<=r.translate(x)?(M=k+1,b=e[k],A=e[k+1]):(0===T&&(b=e[0]),T=k-1)}}else{for(f=0;f<e.length;f++){C=e[f],m=C[xM];if(GL(m[o],x,r)){if(!O){l=C;break}Object(pM["isArray"])(l)||(l=[]),l.push(C)}else r.translate(m[o])<=x&&(b=C,A=e[f+1])}Object(pM["isArray"])(l)&&(l=UL(l,t,n))}b&&A&&Math.abs(r.translate(b[xM][o])-x)>Math.abs(r.translate(A[xM][o])-x)&&(b=A)}var j=HL(n.getXScale());return!l&&Math.abs(r.translate(b[xM][o])-x)<=j/2&&(l=b),l}function JL(t,e,n,i){var r,a;void 0===n&&(n=""),void 0===i&&(i=!1);var o,s,l=t[xM],c=WL(l,e,n),u=e.tooltipOption,h=e.theme.defaultColor,d=[];function p(e,n){if(i||!Object(pM["isNil"])(n)&&""!==n){var r={title:c,data:l,mappingData:t,name:e,value:n,color:t.color||h,marker:!0};d.push(r)}}if(Object(pM["isObject"])(u)){var f=u.fields,g=u.callback;if(g){var m=f.map((function(e){return t[xM][e]})),v=g.apply(void 0,Object(dM["__spreadArray"])([],Object(dM["__read"])(m),!1)),y=Object(dM["__assign"])({data:t[xM],mappingData:t,title:c,color:t.color||h,marker:!0},v);d.push(y)}else{var b=e.scales;try{for(var x=Object(dM["__values"])(f),_=x.next();!_.done;_=x.next()){var w=_.value;if(!Object(pM["isNil"])(l[w])){var S=b[w];o=qT(S),s=S.getText(l[w]),p(o,s)}}}catch(C){r={error:C}}finally{try{_&&!_.done&&(a=x.return)&&a.call(x)}finally{if(r)throw r.error}}}}else{var O=XL(e);s=qL(l,O),o=ZL(l,e),p(o,s)}return d}function KL(t,e,n,i){var r,a,o=i.showNil,s=[],l=t.dataArray;if(!Object(pM["isEmpty"])(l)){t.sort(l);try{for(var c=Object(dM["__values"])(l),u=c.next();!u.done;u=c.next()){var h=u.value,d=QL(e,h,t);if(d){var p=t.getElementId(d),f=t.elementsMap[p];if("heatmap"===t.type||f.visible){var g=JL(d,t,n,o);g.length&&s.push(g)}}}}catch(m){r={error:m}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(r)throw r.error}}}return s}function $L(t,e,n,i){var r=i.showNil,a=[],o=t.container,s=o.getShape(e.x,e.y);if(s&&s.get("visible")&&s.get("origin")){var l=s.get("origin").mappingData,c=JL(l,t,n,r);c.length&&a.push(c)}return a}function tj(t,e,n){var i,r,a=[],o=t.geometries,s=n.shared,l=n.title,c=n.reversed;try{for(var u=Object(dM["__values"])(o),h=u.next();!h.done;h=u.next()){var d=h.value;if(d.visible&&!1!==d.tooltipOption){var p=d.type,f=void 0;f=["point","edge","polygon"].includes(p)?$L(d,e,l,n):["area","line","path","heatmap"].includes(p)||!1!==s?KL(d,e,l,n):$L(d,e,l,n),f.length&&(c&&f.reverse(),a.push(f))}}}catch(g){i={error:g}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return a}function ej(t,e,n){var i,r,a=tj(t,e,n);try{for(var o=Object(dM["__values"])(t.views),s=o.next();!s.done;s=o.next()){var l=s.value;a=a.concat(tj(l,e,n))}}catch(c){i={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function nj(t){return!Object(pM["isNumber"])(t)&&!Object(pM["isArray"])(t)}function ij(t){void 0===t&&(t=0);var e=Object(pM["isArray"])(t)?t:[t];switch(e.length){case 0:e=[0,0,0,0];break;case 1:e=new Array(4).fill(e[0]);break;case 2:e=Object(dM["__spreadArray"])(Object(dM["__spreadArray"])([],Object(dM["__read"])(e),!1),Object(dM["__read"])(e),!1);break;case 3:e=Object(dM["__spreadArray"])(Object(dM["__spreadArray"])([],Object(dM["__read"])(e),!1),[e[1]],!1);break;default:e=e.slice(0,4);break}return e}var rj={};function aj(t,e){rj[t]=e}function oj(){return Object.keys(rj)}function sj(t){return rj[t]}var lj=function(){function t(t){this.option=this.wrapperOption(t)}return t.prototype.update=function(t){return this.option=this.wrapperOption(t),this},t.prototype.hasAction=function(t){var e=this.option.actions;return Object(pM["some"])(e,(function(e){return e[0]===t}))},t.prototype.create=function(t,e){var n=this.option,i=n.type,r=n.cfg,a="theta"===i,o=Object(dM["__assign"])({start:t,end:e},r),s=hT(a?"polar":i);return this.coordinate=new s(o),this.coordinate.type=i,a&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},t.prototype.adjust=function(t,e){return this.coordinate.update({start:t,end:e}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},t.prototype.rotate=function(t){return this.option.actions.push(["rotate",t]),this},t.prototype.reflect=function(t){return this.option.actions.push(["reflect",t]),this},t.prototype.scale=function(t,e){return this.option.actions.push(["scale",t,e]),this},t.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},t.prototype.getOption=function(){return this.option},t.prototype.getCoordinate=function(){return this.coordinate},t.prototype.wrapperOption=function(t){return Object(dM["__assign"])({type:"rect",actions:[],cfg:{}},t)},t.prototype.execActions=function(t){var e=this,n=this.option.actions;Object(pM["each"])(n,(function(n){var i,r=Object(dM["__read"])(n),a=r[0],o=r.slice(1),s=!!Object(pM["isNil"])(t)||t.includes(a);s&&(i=e.coordinate)[a].apply(i,Object(dM["__spreadArray"])([],Object(dM["__read"])(o),!1))}))},t}(),cj=lj,uj=function(){function t(t,e,n){this.view=t,this.gEvent=e,this.data=n,this.type=e.type}return t.fromData=function(e,n,i){return new t(e,new RM["Event"](n,{}),i)},Object.defineProperty(t.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},t.prototype.clone=function(){return new t(this.view,this.gEvent,this.data)},t}(),hj=uj;function dj(t){var e=t.getController("axis"),n=t.getController("legend"),i=t.getController("annotation"),r=t.getController("slider"),a=t.getController("scrollbar");[e,r,a,n,i].forEach((function(t){t&&t.layout()}))}var pj=function(){function t(){this.scales=new Map,this.syncScales=new Map}return t.prototype.createScale=function(t,e,n,i){var r=n,a=this.getScaleMeta(i);if(0===e.length&&a){var o=a.scale,s={type:o.type};o.isCategory&&(s.values=o.values),r=Object(pM["deepMix"])(s,a.scaleDef,n)}var l=YT(t,e,r);return this.cacheScale(l,n,i),l},t.prototype.sync=function(t,e){var n=this;this.syncScales.forEach((function(i,r){var a=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,s=[];Object(pM["each"])(i,(function(t){var e=n.getScale(t);o=Object(pM["isNumber"])(e.max)?Math.max(o,e.max):o,a=Object(pM["isNumber"])(e.min)?Math.min(a,e.min):a,Object(pM["each"])(e.values,(function(t){s.includes(t)||s.push(t)}))})),Object(pM["each"])(i,(function(i){var r=n.getScale(i);if(r.isContinuous)r.change({min:a,max:o,values:s});else if(r.isCategory){var l=r.range,c=n.getScaleMeta(i);s&&!Object(pM["get"])(c,["scaleDef","range"])&&(l=ZT(Object(pM["deepMix"])({},r,{values:s}),t,e)),r.change({values:s,range:l})}}))}))},t.prototype.cacheScale=function(t,e,n){var i=this.getScaleMeta(n);i&&i.scale.type===t.type?(XT(i.scale,t),i.scaleDef=e):(i={key:n,scale:t,scaleDef:e},this.scales.set(n,i));var r=this.getSyncKey(i);if(i.syncKey=r,this.removeFromSyncScales(n),r){var a=this.syncScales.get(r);a||(a=[],this.syncScales.set(r,a)),a.push(n)}},t.prototype.getScale=function(t){var e=this.getScaleMeta(t);if(!e){var n=Object(pM["last"])(t.split("-")),i=this.syncScales.get(n);i&&i.length&&(e=this.getScaleMeta(i[0]))}return e&&e.scale},t.prototype.deleteScale=function(t){var e=this.getScaleMeta(t);if(e){var n=e.syncKey,i=this.syncScales.get(n);if(i&&i.length){var r=i.indexOf(t);-1!==r&&i.splice(r,1)}}this.scales.delete(t)},t.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},t.prototype.removeFromSyncScales=function(t){var e=this;this.syncScales.forEach((function(n,i){var r=n.indexOf(t);if(-1!==r)return n.splice(r,1),0===n.length&&e.syncScales.delete(i),!1}))},t.prototype.getSyncKey=function(t){var e=t.scale,n=t.scaleDef,i=e.field,r=Object(pM["get"])(n,["sync"]);return!0===r?i:!1===r?void 0:r},t.prototype.getScaleMeta=function(t){return this.scales.get(t)},t}(),fj=function(){function t(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.top=t,this.right=e,this.bottom=n,this.left=i}return t.instance=function(e,n,i,r){return void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=0),new t(e,n,i,r)},t.prototype.max=function(t){var e=Object(dM["__read"])(t,4),n=e[0],i=e[1],r=e[2],a=e[3];return this.top=Math.max(this.top,n),this.right=Math.max(this.right,i),this.bottom=Math.max(this.bottom,r),this.left=Math.max(this.left,a),this},t.prototype.shrink=function(t){var e=Object(dM["__read"])(t,4),n=e[0],i=e[1],r=e[2],a=e[3];return this.top+=n,this.right+=i,this.bottom+=r,this.left+=a,this},t.prototype.inc=function(t,e){var n=t.width,i=t.height;switch(e){case nM.TOP:case nM.TOP_LEFT:case nM.TOP_RIGHT:this.top+=i;break;case nM.RIGHT:case nM.RIGHT_TOP:case nM.RIGHT_BOTTOM:this.right+=n;break;case nM.BOTTOM:case nM.BOTTOM_LEFT:case nM.BOTTOM_RIGHT:this.bottom+=i;break;case nM.LEFT:case nM.LEFT_TOP:case nM.LEFT_BOTTOM:this.left+=n;break;default:break}return this},t.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},t.prototype.clone=function(){return new(t.bind.apply(t,Object(dM["__spreadArray"])([void 0],Object(dM["__read"])(this.getPadding()),!1)))},t}();function gj(t){var e=t.padding;if(!nj(e))return new(fj.bind.apply(fj,Object(dM["__spreadArray"])([void 0],Object(dM["__read"])(ij(e)),!1)));var n=t.viewBBox,i=new fj,r=[],a=[],o=[];return Object(pM["each"])(t.getComponents(),(function(t){var e=t.type;e===iM.AXIS?r.push(t):[iM.LEGEND,iM.SLIDER,iM.SCROLLBAR].includes(e)?a.push(t):e!==iM.GRID&&e!==iM.TOOLTIP&&o.push(t)})),Object(pM["each"])(r,(function(t){var e=t.component,r=e.getLayoutBBox(),a=new PT(r.x,r.y,r.width,r.height),o=a.exceed(n);i.max(o)})),Object(pM["each"])(a,(function(t){var e=t.component,n=t.direction,r=e.getLayoutBBox(),a=e.get("padding"),o=new PT(r.x,r.y,r.width,r.height).expand(a);i.inc(o,n)})),Object(pM["each"])(o,(function(t){var e=t.component,n=t.direction,r=e.getLayoutBBox(),a=new PT(r.x,r.y,r.width,r.height);i.inc(a,n)})),i}function mj(t,e,n){var i=n.instance();e.forEach((function(t){t.autoPadding=i.max(t.autoPadding.getPadding())}))}var vj=function(t){function e(e){var n=t.call(this,{visible:e.visible})||this;n.views=[],n.geometries=[],n.controllers=[],n.interactions={},n.limitInPlot=!1,n.options={data:[],animate:!0},n.usedControllers=oj(),n.scalePool=new pj,n.layoutFunc=dj,n.isPreMouseInPlot=!1,n.isDataChanged=!1,n.isCoordinateChanged=!1,n.createdScaleKeys=new Map,n.onCanvasEvent=function(t){var e=t.name;if(!e.includes(":")){var i=n.createViewEvent(t);n.doPlotEvent(i),n.emit(e,i)}},n.onDelegateEvents=function(t){var e=t.name;if(e.includes(":")){var i=n.createViewEvent(t);n.emit(e,i)}};var i=e.id,r=void 0===i?Object(pM["uniqueId"])("view"):i,a=e.parent,o=e.canvas,s=e.backgroundGroup,l=e.middleGroup,c=e.foregroundGroup,u=e.region,h=void 0===u?{start:{x:0,y:0},end:{x:1,y:1}}:u,d=e.padding,p=e.appendPadding,f=e.theme,g=e.options,m=e.limitInPlot,v=e.syncViewPadding;return n.parent=a,n.canvas=o,n.backgroundGroup=s,n.middleGroup=l,n.foregroundGroup=c,n.region=h,n.padding=d,n.appendPadding=p,n.options=Object(dM["__assign"])(Object(dM["__assign"])({},n.options),g),n.limitInPlot=m,n.id=r,n.syncViewPadding=v,n.themeObject=Object(pM["isObject"])(f)?Object(pM["deepMix"])({},BL("default"),DL(f)):BL(f),n.init(),n}return Object(dM["__extends"])(e,t),e.prototype.setLayout=function(t){this.layoutFunc=t},e.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},e.prototype.render=function(t,e){void 0===t&&(t=!1),this.emit(fM.BEFORE_RENDER,hj.fromData(this,fM.BEFORE_RENDER,e)),this.paint(t),this.emit(fM.AFTER_RENDER,hj.fromData(this,fM.AFTER_RENDER,e)),!1===this.visible&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this;this.emit(fM.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,n=0;n<e.length;n++)e[n].clear(),e[n].container.remove(!0),e[n].labelsContainer.remove(!0);this.geometries=[];var i=this.controllers;for(n=0;n<i.length;n++)"annotation"===i[n].name?i[n].clear(!0):i[n].clear();this.createdScaleKeys.forEach((function(e,n){t.getRootView().scalePool.deleteScale(n)})),this.createdScaleKeys.clear();var r=this.views;for(n=0;n<r.length;n++)r[n].clear();this.emit(fM.AFTER_CLEAR)},e.prototype.destroy=function(){this.emit(fM.BEFORE_DESTROY);var e=this.interactions;Object(pM["each"])(e,(function(t){t&&t.destroy()})),this.clear();for(var n=this.controllers,i=0,r=n.length;i<r;i++){var a=n[i];a.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),t.prototype.destroy.call(this)},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e);for(var n=this.geometries,i=0,r=n.length;i<r;i++){var a=n[i];a.changeVisible(e)}var o=this.controllers;for(i=0,r=o.length;i<r;i++){var s=o[i];s.changeVisible(e)}return this.foregroundGroup.set("visible",e),this.middleGroup.set("visible",e),this.backgroundGroup.set("visible",e),this.getCanvas().draw(),this},e.prototype.data=function(t){return Object(pM["set"])(this.options,"data",t),this.isDataChanged=!0,this},e.prototype.source=function(t){return this.data(t)},e.prototype.filter=function(t,e){return Object(pM["isFunction"])(e)?(Object(pM["set"])(this.options,["filters",t],e),this):(!e&&Object(pM["get"])(this.options,["filters",t])&&delete this.options.filters[t],this)},e.prototype.axis=function(t,e){return Object(pM["isBoolean"])(t)?Object(pM["set"])(this.options,["axes"],t):Object(pM["set"])(this.options,["axes",t],e),this},e.prototype.legend=function(t,e){return Object(pM["isBoolean"])(t)?Object(pM["set"])(this.options,["legends"],t):Object(pM["isString"])(t)?(Object(pM["set"])(this.options,["legends",t],e),Object(pM["isPlainObject"])(e)&&(null===e||void 0===e?void 0:e.selected)&&Object(pM["set"])(this.options,["filters",t],(function(t){var n;return null===(n=null===e||void 0===e?void 0:e.selected[t])||void 0===n||n}))):Object(pM["set"])(this.options,["legends"],t),this},e.prototype.scale=function(t,e){var n=this;return Object(pM["isString"])(t)?Object(pM["set"])(this.options,["scales",t],e):Object(pM["isObject"])(t)&&Object(pM["each"])(t,(function(t,e){Object(pM["set"])(n.options,["scales",e],t)})),this},e.prototype.tooltip=function(t){return Object(pM["set"])(this.options,"tooltip",t),this},e.prototype.annotation=function(){return this.getController("annotation")},e.prototype.guide=function(){return this.annotation()},e.prototype.coordinate=function(t,e){return Object(pM["isString"])(t)?Object(pM["set"])(this.options,"coordinate",{type:t,cfg:e}):Object(pM["set"])(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},e.prototype.coord=function(t,e){return this.coordinate(t,e)},e.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var n=uk(t);if(!n)throw new Error("facet '".concat(t,"' is not exist!"));return this.facetInstance=new n(this,Object(dM["__assign"])(Object(dM["__assign"])({},e),{type:t})),this},e.prototype.animate=function(t){return Object(pM["set"])(this.options,"animate",t),this},e.prototype.updateOptions=function(t){return this.clear(),Object(pM["mix"])(this.options,t),this.views.forEach((function(t){return t.destroy()})),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},e.prototype.option=function(t,n){if(e.prototype[t])throw new Error("Can't use built in variable name \"".concat(t,'", please change another one.'));return Object(pM["set"])(this.options,t,n),this},e.prototype.theme=function(t){return this.themeObject=Object(pM["isObject"])(t)?Object(pM["deepMix"])({},this.themeObject,DL(t)):BL(t),this},e.prototype.interaction=function(t,e){var n=this.interactions[t];n&&n.destroy();var i=AL(t,this,e);return i&&(i.init(),this.interactions[t]=i),this},e.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},e.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(fM.BEFORE_CHANGE_DATA,hj.fromData(this,fM.BEFORE_CHANGE_DATA,null)),this.data(t),this.paint(!0);for(var e=this.views,n=0,i=e.length;n<i;n++){var r=e[n];r.changeData(t)}this.emit(fM.AFTER_CHANGE_DATA,hj.fromData(this,fM.AFTER_CHANGE_DATA,null))},e.prototype.createView=function(t){this.parent&&this.parent.parent;var n={data:this.options.data,scales:Object(pM["clone"])(this.options.scales),axes:Object(pM["clone"])(this.options.axes),coordinate:Object(pM["clone"])(this.coordinateController.getOption()),tooltip:Object(pM["clone"])(this.options.tooltip),legends:Object(pM["clone"])(this.options.legends),animate:this.options.animate,visible:this.visible},i=new e(Object(dM["__assign"])(Object(dM["__assign"])({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:yM.BG}),middleGroup:this.middleGroup.addGroup({zIndex:yM.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:yM.FORE}),theme:this.themeObject,padding:this.padding},t),{options:Object(dM["__assign"])(Object(dM["__assign"])({},n),Object(pM["get"])(t,"options",{}))}));return this.views.push(i),i},e.prototype.view=function(t){return this.createView(t)},e.prototype.removeView=function(t){var e=Object(pM["remove"])(this.views,(function(e){return e===t}))[0];return e&&e.destroy(),e},e.prototype.getCoordinate=function(){return this.coordinateInstance},e.prototype.getTheme=function(){return this.themeObject},e.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},e.prototype.getYScales=function(){var t={},e=[];return this.geometries.forEach((function(n){var i=n.getYScale(),r=i.field;t[r]||(t[r]=!0,e.push(i))})),e},e.prototype.getScalesByDim=function(t){for(var e=this.geometries,n={},i=0,r=e.length;i<r;i++){var a=e[i],o="x"===t?a.getXScale():a.getYScale();o&&!n[o.field]&&(n[o.field]=o)}return n},e.prototype.getScale=function(t,e){var n=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},e.prototype.getScaleByField=function(t,e){return this.getScale(t,e)},e.prototype.getOptions=function(){return this.options},e.prototype.getData=function(){return this.filteredData},e.prototype.getOriginalData=function(){return this.options.data},e.prototype.getPadding=function(){return this.autoPadding.getPadding()},e.prototype.getGeometries=function(){return this.geometries},e.prototype.getElements=function(){return Object(pM["reduce"])(this.geometries,(function(t,e){return t.concat(e.getElements())}),[])},e.prototype.getElementsBy=function(t){return this.getElements().filter((function(e){return t(e)}))},e.prototype.getLayer=function(t){return t===eM.BG?this.backgroundGroup:t===eM.MID?this.middleGroup:(eM.FORE,this.foregroundGroup)},e.prototype.isPointInPlot=function(t){return BT(this.getCoordinate(),t)},e.prototype.getLegendAttributes=function(){return Object(pM["flatten"])(this.geometries.map((function(t){return t.getGroupAttributes()})))},e.prototype.getGroupScales=function(){var t=this.geometries.map((function(t){return t.getGroupScales()}));return ET(Object(pM["flatten"])(t))},e.prototype.getCanvas=function(){return this.getRootView().canvas},e.prototype.getRootView=function(){var t=this;while(1){if(!t.parent)break;t=t.parent}return t},e.prototype.getXY=function(t){var e,n,i=this.getCoordinate(),r=this.getScalesByDim("x"),a=this.getScalesByDim("y");if(Object(pM["each"])(t,(function(t,i){r[i]&&(e=r[i].scale(t)),a[i]&&(n=a[i].scale(t))})),!Object(pM["isNil"])(e)&&!Object(pM["isNil"])(n))return i.convert({x:e,y:n})},e.prototype.getController=function(t){return Object(pM["find"])(this.controllers,(function(e){return e.name===t}))},e.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},e.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},e.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},e.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},e.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},e.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},e.prototype.getSnapRecords=function(t){for(var e=this.geometries,n=[],i=0,r=e.length;i<r;i++){var a=e[i],o=a.dataArray;a.sort(o);for(var s=void 0,l=0,c=o.length;l<c;l++){var u=o[l];s=QL(t,u,a),s&&n.push(s)}}var h=this.views;for(i=0,r=h.length;i<r;i++){var d=h[i],p=d.getSnapRecords(t);n=n.concat(p)}return n},e.prototype.getComponents=function(){for(var t=[],e=this.controllers,n=0,i=e.length;n<i;n++){var r=e[n];t=t.concat(r.getComponents())}return t},e.prototype.filterData=function(t){var e=this.options.filters;return 0===Object(pM["size"])(e)?t:Object(pM["filter"])(t,(function(t,n){var i=Object.keys(e);return i.every((function(i){var r=e[i];return r(t[i],t,n)}))}))},e.prototype.filterFieldData=function(t,e){var n=this.options.filters,i=Object(pM["get"])(n,t);return Object(pM["isUndefined"])(i)?e:e.filter((function(e,n){return i(e[t],e,n)}))},e.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,n=t.end,i=this.coordinateBBox.bl,r=this.coordinateBBox.tr;Object(pM["isEqual"])(e,i)&&Object(pM["isEqual"])(n,r)?this.isCoordinateChanged=!1:(this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(i,r))},e.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(fM.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(fM.AFTER_PAINT),this.isDataChanged=!1},e.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=Object(pM["get"])(this.themeObject,"background");if(t){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var e=this.viewBBox,n=e.x,i=e.y,r=e.width,a=e.height;this.backgroundStyleRectShape.attr({fill:t,x:n,y:i,width:r,height:a})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},e.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=gj(this).shrink(ij(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();var e=this.controllers.find((function(t){return"tooltip"===t.name}));e.update();for(var n=this.views,i=0,r=n.length;i<r;i++){var a=n[i];a.renderPaddingRecursive(t)}},e.prototype.renderLayoutRecursive=function(t){var e=!0===this.syncViewPadding?mj:Object(pM["isFunction"])(this.syncViewPadding)?this.syncViewPadding:void 0;e&&(e(this,this.views,fj),this.views.forEach((function(t){t.coordinateBBox=t.viewBBox.shrink(t.autoPadding.getPadding()),t.adjustCoordinate()}))),this.doLayout();for(var n=this.views,i=0,r=n.length;i<r;i++){var a=n[i];a.renderLayoutRecursive(t)}},e.prototype.renderPaintRecursive=function(t){var e=this.middleGroup;if(this.limitInPlot){var n=GT(this.coordinateInstance),i=n.type,r=n.attrs;e.setClip({type:i,attrs:r})}else e.setClip(void 0);this.paintGeometries(t),this.renderComponents(t);for(var a=this.views,o=0,s=a.length;o<s;o++){var l=a[o];l.renderPaintRecursive(t)}},e.prototype.createScale=function(t,e,n,i){var r=Object(pM["get"])(this.options.scales,[t]),a=Object(dM["__assign"])(Object(dM["__assign"])({},r),n);return this.parent?this.parent.createScale(t,e,a,i):this.scalePool.createScale(t,e,a,i)},e.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,n=0,i=e.length;n<i;n++){var r=e[n];r.renderDataRecursive(t)}},e.prototype.calculateViewBBox=function(){var t,e,n,i;if(this.parent){var r=this.parent.coordinateBBox;t=r.x,e=r.y,n=r.width,i=r.height}else t=0,e=0,n=this.canvas.get("width"),i=this.canvas.get("height");var a=this.region,o=a.start,s=a.end,l=new PT(t+n*o.x,e+i*o.y,n*(s.x-o.x),i*(s.y-o.y));this.viewBBox&&this.viewBBox.isEqual(l)||(this.viewBBox=new PT(t+n*o.x,e+i*o.y,n*(s.x-o.x),i*(s.y-o.y))),this.coordinateBBox=this.viewBBox},e.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},e.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,n=t.length;e<n;e++){var i=t[e],r=sj(i);r&&this.controllers.push(new r(this))}},e.prototype.createViewEvent=function(t){var e=t.shape,n=t.name,i=e?e.get("origin"):null,r=new hj(this,t,i);return r.type=n,r},e.prototype.doPlotEvent=function(t){var e=t.type,n=t.x,i=t.y,r={x:n,y:i},a=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(a.includes(e)){var o=this.isPointInPlot(r),s=t.clone();if(o){var l="plot:".concat(e);s.type=l,this.emit(l,s),"mouseleave"!==e&&"touchend"!==e||(this.isPreMouseInPlot=!1)}"mousemove"===e||"touchmove"===e?(this.isPreMouseInPlot&&!o?("mousemove"===e&&(s.type=mM.MOUSE_LEAVE,this.emit(mM.MOUSE_LEAVE,s)),s.type=mM.LEAVE,this.emit(mM.LEAVE,s)):!this.isPreMouseInPlot&&o&&("mousemove"===e&&(s.type=mM.MOUSE_ENTER,this.emit(mM.MOUSE_ENTER,s)),s.type=mM.ENTER,this.emit(mM.ENTER,s)),this.isPreMouseInPlot=o):"mouseleave"!==e&&"touchend"!==e||this.isPreMouseInPlot&&("mouseleave"===e&&(s.type=mM.MOUSE_LEAVE,this.emit(mM.MOUSE_LEAVE,s)),s.type=mM.LEAVE,this.emit(mM.LEAVE,s),this.isPreMouseInPlot=!1)}},e.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},e.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),n=Object(pM["get"])(this.options,"scales",{}),i=this.geometries,r=0,a=i.length;r<a;r++){var o=i[r];o.scales=this.getGeometryScales();var s={coordinate:e,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?o.update(s):o.init(s)}this.adjustScales()},e.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),n=this.getOptions(),i=n.data,r=n.scales,a=void 0===r?{}:r,o=this.filteredData,s=0,l=t.length;s<l;s++){var c=t[s],u=a[c],h=this.getScaleKey(c);this.createScale(c,e.includes(c)?i:o,u,h),this.createdScaleKeys.set(h,!0)}},e.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},e.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},n=0;n<t.length;n++){var i=t[n];e[i]=this.getScaleByField(i)}return e},e.prototype.getScaleFields=function(){for(var t=[],e=new Map,n=this.geometries,i=0;i<n.length;i++){var r=n[i],a=r.getScaleFields();ET(a,t,e)}return t},e.prototype.getGroupedFields=function(){for(var t=[],e=new Map,n=this.geometries,i=0;i<n.length;i++){var r=n[i],a=r.getGroupFields();ET(a,t,e)}return t},e.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},e.prototype.adjustCategoryScaleRange=function(){var t=this,e=Object(dM["__spreadArray"])([this.getXScale()],Object(dM["__read"])(this.getYScales()),!1).filter((function(t){return!!t})),n=this.getCoordinate(),i=this.options.scales;Object(pM["each"])(e,(function(e){var r=e.field,a=e.values,o=e.isCategory,s=e.isIdentity;(o||s)&&a&&!Object(pM["get"])(i,[r,"range"])&&(e.range=ZT(e,n,t.theme))}))},e.prototype.initComponents=function(t){for(var e=this.controllers,n=0;n<e.length;n++){var i=e[n];t?i.update():(i.clear(),i.render())}},e.prototype.doLayout=function(){this.layoutFunc(this)},e.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},e.prototype.paintGeometries=function(t){for(var e=this.options.animate,n=this.getCoordinate(),i={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},r=this.geometries,a=0;a<r.length;a++){var o=r[a];o.coordinate=n,o.canvasRegion=i,e||o.animate(!1),o.paint(t)}},e.prototype.renderComponents=function(t){for(var e=this.getComponents(),n=0;n<e.length;n++){var i=e[n];i.component.render()}},e.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},e.prototype.initOptions=function(){var t=this,e=this.options,n=e.geometries,i=void 0===n?[]:n,r=e.interactions,a=void 0===r?[]:r,o=e.views,s=void 0===o?[]:o,l=e.annotations,c=void 0===l?[]:l,u=e.coordinate,h=e.events,d=e.facets;this.coordinateController?u&&this.coordinateController.update(u):this.coordinateController=new cj(u);for(var p=0;p<i.length;p++){var f=i[p];this.createGeometry(f)}for(var g=0;g<a.length;g++){var m=a[g],v=m.type,y=m.cfg;this.interaction(v,y)}for(var b=0;b<s.length;b++){var x=s[b];this.createView(x)}for(var _=this.getController("annotation"),w=0;w<c.length;w++){var S=c[w];_.annotation(S)}h&&Object(pM["each"])(h,(function(e,n){t.on(n,e)})),d&&Object(pM["each"])(d,(function(e){var n=e.type,i=Object(dM["__rest"])(e,["type"]);t.facet(n,i)}))},e.prototype.createGeometry=function(t){var e=t.type,n=t.cfg,i=void 0===n?{}:n;if(this[e]){var r=this[e](i);Object(pM["each"])(t,(function(t,e){Object(pM["isFunction"])(r[e])&&r[e](t)}))}},e.prototype.getScaleKey=function(t){return"".concat(this.id,"-").concat(t)},e}(PM);function yj(t,e){vj.prototype[t.toLowerCase()]=function(t){void 0===t&&(t={});var n=Object(dM["__assign"])({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),i=new e(n);return this.geometries.push(i),i}}var bj=vj,xj=function(t){function e(e){var n=this,i=e.container,r=e.width,a=e.height,o=e.autoFit,s=void 0!==o&&o,l=e.padding,c=e.appendPadding,u=e.renderer,h=void 0===u?"canvas":u,d=e.pixelRatio,p=e.localRefresh,f=void 0===p||p,g=e.visible,m=void 0===g||g,v=e.supportCSSTransform,y=void 0!==v&&v,b=e.defaultInteractions,x=void 0===b?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text","axis-description"]:b,_=e.options,w=e.limitInPlot,S=e.theme,O=e.syncViewPadding,C=Object(pM["isString"])(i)?document.getElementById(i):i,A=Object(MM["b"])('<div style="position:relative;"></div>');C.appendChild(A);var M=LM(C,s,r,a),T=CM(h),k=new T.Canvas(Object(dM["__assign"])({container:A,pixelRatio:d,localRefresh:f,supportCSSTransform:y},M));return n=t.call(this,{parent:null,canvas:k,backgroundGroup:k.addGroup({zIndex:yM.BG}),middleGroup:k.addGroup({zIndex:yM.MID}),foregroundGroup:k.addGroup({zIndex:yM.FORE}),padding:l,appendPadding:c,visible:m,options:_,limitInPlot:w,theme:S,syncViewPadding:O})||this,n.onResize=Object(pM["debounce"])((function(){n.forceFit()}),300),n.ele=C,n.canvas=k,n.width=M.width,n.height=M.height,n.autoFit=s,n.localRefresh=f,n.renderer=h,n.wrapperElement=A,n.updateCanvasStyle(),n.bindAutoFit(),n.initDefaultInteractions(x),n}return Object(dM["__extends"])(e,t),e.prototype.initDefaultInteractions=function(t){var e=this;Object(pM["each"])(t,(function(t){e.interaction(t)}))},e.prototype.aria=function(t){var e="aria-label";!1===t?this.ele.removeAttribute(e):this.ele.setAttribute(e,t.label)},e.prototype.changeSize=function(t,e){return this.width===t&&this.height===e||(this.emit(fM.BEFORE_CHANGE_SIZE),this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this.emit(fM.AFTER_CHANGE_SIZE)),this},e.prototype.clear=function(){t.prototype.clear.call(this),this.aria(!1)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),jM(this.wrapperElement),this.wrapperElement=null},e.prototype.changeVisible=function(e){return t.prototype.changeVisible.call(this,e),this.wrapperElement.style.display=e?"":"none",this},e.prototype.forceFit=function(){if(!this.destroyed){var t=LM(this.ele,!0,this.width,this.height),e=t.width,n=t.height;this.changeSize(e,n)}},e.prototype.updateCanvasStyle=function(){Object(MM["e"])(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},e.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},e.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},e}(bj),_j=xj,wj=function(){function t(t){this.visible=!0,this.components=[],this.view=t}return t.prototype.clear=function(t){Object(pM["each"])(this.components,(function(t){t.component.destroy()})),this.components=[]},t.prototype.destroy=function(){this.clear()},t.prototype.getComponents=function(){return this.components},t.prototype.changeVisible=function(t){this.visible!==t&&(this.components.forEach((function(e){t?e.component.show():e.component.hide()})),this.visible=t)},t}();function Sj(t){for(var e=[],n=function(n){var i=t[n],r=Object(pM["find"])(e,(function(t){return t.color===i.color&&t.name===i.name&&t.value===i.value&&t.title===i.title}));r||e.push(i)},i=0;i<t.length;i++)n(i);return e}var Oj=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLocked=!1,e}return Object(dM["__extends"])(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return!1!==t},e.prototype.render=function(){},e.prototype.showTooltip=function(t){if(this.point=t,this.isVisible()){var e=this.view,n=this.getTooltipItems(t);if(n.length){var i=this.getTitle(n),r={x:n[0].x,y:n[0].y};e.emit("tooltip:show",hj.fromData(e,"tooltip:show",Object(dM["__assign"])({items:n,title:i},t)));var a=this.getTooltipCfg(),o=a.follow,s=a.showMarkers,l=a.showCrosshairs,c=a.showContent,u=a.marker,h=this.items,d=this.title;if(Object(pM["isEqual"])(d,i)&&Object(pM["isEqual"])(h,n)?(this.tooltip&&o&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()):(e.emit("tooltip:change",hj.fromData(e,"tooltip:change",Object(dM["__assign"])({items:n,title:i},t))),(Object(pM["isFunction"])(c)?c(n):c)&&(this.tooltip||this.renderTooltip(),this.tooltip.update(Object(pM["mix"])({},a,{items:this.getItemsAfterProcess(n),title:i},o?t:{})),this.tooltip.show()),s&&this.renderTooltipMarkers(n,u)),this.items=n,this.title=i,l){var p=Object(pM["get"])(a,["crosshairs","follow"],!1);this.renderCrosshairs(p?t:r,a)}}else this.hideTooltip()}},e.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(t){var e=this.tooltipMarkersGroup;e&&e.hide();var n=this.xCrosshair,i=this.yCrosshair;n&&n.hide(),i&&i.hide();var r=this.tooltip;r&&r.hide(),this.view.emit("tooltip:hide",hj.fromData(this.view,"tooltip:hide",{})),this.point=null}else this.point=null},e.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},e.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},e.prototype.isTooltipLocked=function(){return this.isLocked},e.prototype.clear=function(){var t=this,e=t.tooltip,n=t.xCrosshair,i=t.yCrosshair,r=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),n&&n.clear(),i&&i.clear(),r&&r.clear(),(null===e||void 0===e?void 0:e.get("customContent"))&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},e.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},e.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,n=e.tooltip,i=e.tooltipMarkersGroup,r=e.xCrosshair,a=e.yCrosshair;t?(n&&n.show(),i&&i.show(),r&&r.show(),a&&a.show()):(n&&n.hide(),i&&i.hide(),r&&r.hide(),a&&a.hide()),this.visible=t}},e.prototype.getTooltipItems=function(t){var e,n,i,r,a,o,s=this.findItemsFromView(this.view,t);if(s.length){s=Object(pM["flatten"])(s);try{for(var l=Object(dM["__values"])(s),c=l.next();!c.done;c=l.next()){var u=c.value;try{for(var h=(i=void 0,Object(dM["__values"])(u)),d=h.next();!d.done;d=h.next()){var p=d.value,f=p.mappingData,g=f.x,m=f.y;p.x=Object(pM["isArray"])(g)?g[g.length-1]:g,p.y=Object(pM["isArray"])(m)?m[m.length-1]:m}}catch(O){i={error:O}}finally{try{d&&!d.done&&(r=h.return)&&r.call(h)}finally{if(i)throw i.error}}}}catch(C){e={error:C}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}var v=this.getTooltipCfg().shared;if(!1===v&&s.length>1){var y=s[0],b=Math.abs(t.y-y[0].y);try{for(var x=Object(dM["__values"])(s),_=x.next();!_.done;_=x.next()){var w=_.value,S=Math.abs(t.y-w[0].y);S<=b&&(y=w,b=S)}}catch(A){a={error:A}}finally{try{_&&!_.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}s=[y]}return Sj(Object(pM["flatten"])(s))}return[]},e.prototype.layout=function(){},e.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},e.prototype.isCursorEntered=function(t){if(this.tooltip){var e=this.tooltip.getContainer(),n=this.tooltip.get("capture");if(e&&n){var i=e.getBoundingClientRect(),r=i.x,a=i.y,o=i.width,s=i.height;return new PT(r,a,o,s).isPointIn(t)}}return!1},e.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,n=this.processCustomContent(e),i=t.getTheme(),r=Object(pM["get"])(i,["components","tooltip"],{}),a=Object(pM["get"])(n,"enterable",r.enterable);return Object(pM["deepMix"])({},r,n,{capture:!(!a&&!this.isLocked)})},e.prototype.processCustomContent=function(t){if(Object(pM["isBoolean"])(t)||!Object(pM["get"])(t,"customContent"))return t;var e=t.customContent,n=function(t,n){var i=e(t,n)||"";return Object(pM["isString"])(i)?'<div class="g2-tooltip">'+i+"</div>":i};return Object(dM["__assign"])(Object(dM["__assign"])({},t),{customContent:n})},e.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},e.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),i=new xT(Object(dM["__assign"])(Object(dM["__assign"])({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));i.init(),this.tooltip=i},e.prototype.renderTooltipMarkers=function(t,e){var n,i,r=this.getTooltipMarkersGroup(),a=this.view.getRootView(),o=a.limitInPlot;try{for(var s=Object(dM["__values"])(t),l=s.next();!l.done;l=s.next()){var c=l.value,u=c.x,h=c.y;if(o||(null===r||void 0===r?void 0:r.getClip())){var d=GT(a.getCoordinate()),p=d.type,f=d.attrs;null===r||void 0===r||r.setClip({type:p,attrs:f})}else null===r||void 0===r||r.setClip(void 0);var g=this.view.getTheme(),m=Object(pM["get"])(g,["components","tooltip","marker"],{}),v=Object(dM["__assign"])(Object(dM["__assign"])({fill:c.color,symbol:"circle",shadowColor:c.color},Object(pM["isFunction"])(e)?Object(dM["__assign"])(Object(dM["__assign"])({},m),e(c)):e),{x:u,y:h});r.addShape("marker",{attrs:v})}}catch(y){n={error:y}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},e.prototype.renderCrosshairs=function(t,e){var n=Object(pM["get"])(e,["crosshairs","type"],"x");"x"===n?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):"y"===n?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):"xy"===n&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},e.prototype.renderXCrosshairs=function(t,e){var n,i,r=this.getViewWithGeometry(this.view).getCoordinate();if(r.isRect)r.isTransposed?(n={x:r.start.x,y:t.y},i={x:r.end.x,y:t.y}):(n={x:t.x,y:r.end.y},i={x:t.x,y:r.start.y});else{var a=VT(r,t),o=r.getCenter(),s=r.getRadius();i=OT(o.x,o.y,s,a),n=o}var l=Object(pM["deepMix"])({start:n,end:i,container:this.getTooltipCrosshairsGroup()},Object(pM["get"])(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete l.type;var c=this.xCrosshair;c?c.update(l):(c=new pT["Crosshair"].Line(l),c.init()),c.render(),c.show(),this.xCrosshair=c},e.prototype.renderYCrosshairs=function(t,e){var n,i,r=this.getViewWithGeometry(this.view).getCoordinate();if(r.isRect){var a=void 0,o=void 0;r.isTransposed?(a={x:t.x,y:r.end.y},o={x:t.x,y:r.start.y}):(a={x:r.start.x,y:t.y},o={x:r.end.x,y:t.y}),n={start:a,end:o},i="Line"}else n={center:r.getCenter(),radius:NT(r,t),startAngle:r.startAngle,endAngle:r.endAngle},i="Circle";n=Object(pM["deepMix"])({container:this.getTooltipCrosshairsGroup()},n,Object(pM["get"])(e,"crosshairs",{}),this.getCrosshairsText("y",t,e)),delete n.type;var s=this.yCrosshair;s?r.isRect&&"circle"===s.get("type")||!r.isRect&&"line"===s.get("type")?(s=new pT["Crosshair"][i](n),s.init()):s.update(n):(s=new pT["Crosshair"][i](n),s.init()),s.render(),s.show(),this.yCrosshair=s},e.prototype.getCrosshairsText=function(t,e,n){var i=Object(pM["get"])(n,["crosshairs","text"]),r=Object(pM["get"])(n,["crosshairs","follow"]),a=this.items;if(i){var o=this.getViewWithGeometry(this.view),s=a[0],l=o.getXScale(),c=o.getYScales()[0],u=void 0,h=void 0;if(r){var d=this.view.getCoordinate().invert(e);u=l.invert(d.x),h=c.invert(d.y)}else u=s.data[l.field],h=s.data[c.field];var p="x"===t?u:h;return Object(pM["isFunction"])(i)?i=i(t,p,a,e):i.content=p,{text:i}}},e.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},e.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},e.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},e.prototype.findItemsFromView=function(t,e){var n,i;if(!1===t.getOptions().tooltip)return[];var r=this.getTooltipCfg(),a=tj(t,e,r);try{for(var o=Object(dM["__values"])(t.views),s=o.next();!s.done;s=o.next()){var l=s.value;a=a.concat(this.findItemsFromView(l,e))}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a},e.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:Object(pM["find"])(t.views,(function(t){return e.getViewWithGeometry(t)}))},e.prototype.getItemsAfterProcess=function(t){var e=this.getTooltipCfg().customItems,n=e||function(t){return t};return n(t)},e}(wj),Cj=Oj,Aj={};function Mj(t){return Aj[t.toLowerCase()]}function Tj(t,e){Aj[t.toLowerCase()]=e}var kj={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},Lj={interval:function(t){return{enter:{animation:t.isRect?t.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:t.isPolar&&t.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},jj={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(t){var e;return t.isRect?e=t.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",t.isPolar&&t.isTransposed&&(e="wave-in")),{animation:e}},schema:function(t){var e;return e=t.isRect?t.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy",{animation:e}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function Ij(t,e){return{delay:Object(pM["isFunction"])(t.delay)?t.delay(e):t.delay,easing:Object(pM["isFunction"])(t.easing)?t.easing(e):t.easing,duration:Object(pM["isFunction"])(t.duration)?t.duration(e):t.duration,callback:t.callback,repeat:t.repeat}}function Ej(t,e,n){var i=Lj[t];return i&&(Object(pM["isFunction"])(i)&&(i=i(e)),i=Object(pM["deepMix"])({},kj,i),n)?i[n]:i}function Pj(t,e,n){var i=Object(pM["get"])(t.get("origin"),"data",xM),r=e.animation,a=Ij(e,i);if(r){var o=Mj(r);o&&o(t,a,n)}else t.animate(n.toAttrs,a)}function Rj(t,e,n,i,r){if(jj[n]){var a=jj[n](i),o=Mj(Object(pM["get"])(a,"animation",""));if(o){var s=Object(dM["__assign"])(Object(dM["__assign"])(Object(dM["__assign"])({},kj.appear),a),e);t.stopAnimate(),o(t,s,{coordinate:i,minYPoint:r,toAttrs:null})}}}var Dj="element-background",Fj=function(t){function e(e){var n=t.call(this,e)||this;n.labelShape=[],n.states=[];var i=e.shapeFactory,r=e.container,a=e.offscreenGroup,o=e.elementIndex,s=e.visible,l=void 0===s||s;return n.shapeFactory=i,n.container=r,n.offscreenGroup=a,n.visible=l,n.elementIndex=o,n}return Object(dM["__extends"])(e,t),e.prototype.draw=function(t,e){void 0===e&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),!1===this.visible&&this.changeVisible(!1)},e.prototype.update=function(t){var e=this,n=e.shapeFactory,i=e.shape;if(i){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(i,t);var r=this.getOffscreenGroup(),a=n.drawShape(this.shapeType,t,r);a.cfg.data=this.data,a.cfg.origin=t,a.cfg.element=this,this.syncShapeStyle(i,a,this.getStates(),this.getAnimateCfg("update"))}},e.prototype.destroy=function(){var e=this,n=e.shapeFactory,i=e.shape;if(i){var r=this.getAnimateCfg("leave");r?Pj(i,r,{coordinate:n.coordinate,toAttrs:Object(dM["__assign"])({},i.attr())}):i.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=[],this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,t.prototype.destroy.call(this)},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e),e?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach((function(t){t.show()}))):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach((function(t){t.hide()})))},e.prototype.setState=function(t,e){var n=this,i=n.states,r=n.shapeFactory,a=n.model,o=n.shape,s=n.shapeType,l=i.indexOf(t);if(e){if(l>-1)return;i.push(t),"active"!==t&&"selected"!==t||null===o||void 0===o||o.toFront()}else{if(-1===l)return;if(i.splice(l,1),"active"===t||"selected"===t){var c=this.geometry,u=c.sortZIndex,h=c.zIndexReversed,d=h?this.geometry.elements.length-this.elementIndex:this.elementIndex;u?o.setZIndex(d):o.set("zIndex",d)}}var p=r.drawShape(s,a,this.getOffscreenGroup());i.length?this.syncShapeStyle(o,p,i,null):this.syncShapeStyle(o,p,["reset"],null),p.remove(!0);var f={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",f),Object(pT["propagationDelegate"])(this.shape,"statechange",f)},e.prototype.clearStates=function(){var t=this,e=this.states;Object(pM["each"])(e,(function(e){t.setState(e,!1)})),this.states=[]},e.prototype.hasState=function(t){return this.states.includes(t)},e.prototype.getStates=function(){return this.states},e.prototype.getData=function(){return this.data},e.prototype.getModel=function(){return this.model},e.prototype.getBBox=function(){var t=this,e=t.shape,n=t.labelShape,i={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return e&&(i=e.getCanvasBBox()),n&&n.forEach((function(t){var e=t.getCanvasBBox();i.x=Math.min(e.x,i.x),i.y=Math.min(e.y,i.y),i.minX=Math.min(e.minX,i.minX),i.minY=Math.min(e.minY,i.minY),i.maxX=Math.max(e.maxX,i.maxX),i.maxY=Math.max(e.maxY,i.maxY)})),i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i},e.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,e=t.shapeType,n=t.geometry,i=t.shapeFactory,r=n.stateOption,a=i.defaultShapeType,o=i.theme[e]||i.theme[a];this.statesStyle=Object(pM["deepMix"])({},o,r)}return this.statesStyle},e.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),i=Object(pM["get"])(n,[t,"style"],{}),r=i[e]||i;return Object(pM["isFunction"])(r)?r(this):r},e.prototype.getAnimateCfg=function(t){var e=this,n=this.animate;if(n){var i=n[t];return i?Object(dM["__assign"])(Object(dM["__assign"])({},i),{callback:function(){var t;Object(pM["isFunction"])(i.callback)&&i.callback(),null===(t=e.geometry)||void 0===t||t.emit(gM.AFTER_DRAW_ANIMATE)}}):i}return null},e.prototype.drawShape=function(t,e){var n;void 0===e&&(e=!1);var i=this,r=i.shapeFactory,a=i.container,o=i.shapeType;if(this.shape=r.drawShape(o,t,a),this.shape){this.setShapeInfo(this.shape,t);var s=this.shape.cfg.name;s?Object(pM["isString"])(s)&&(this.shape.cfg.name=["element",s]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var l=e?"enter":"appear",c=this.getAnimateCfg(l);c&&(null===(n=this.geometry)||void 0===n||n.emit(gM.BEFORE_DRAW_ANIMATE),Pj(this.shape,c,{coordinate:r.coordinate,toAttrs:Object(dM["__assign"])({},this.shape.attr())}))}},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.setShapeInfo=function(t,e){var n=this;if(t.cfg.origin=e,t.cfg.element=this,t.isGroup()){var i=t.get("children");i.forEach((function(t){n.setShapeInfo(t,e)}))}},e.prototype.syncShapeStyle=function(t,e,n,i,r){var a,o=this;if(void 0===n&&(n=[]),void 0===r&&(r=0),t&&e){var s=t.get("clipShape"),l=e.get("clipShape");if(this.syncShapeStyle(s,l,n,i),t.isGroup())for(var c=t.get("children"),u=e.get("children"),h=0;h<c.length;h++)this.syncShapeStyle(c[h],u[h],n,i,r+h);else{if(!Object(pM["isEmpty"])(n)&&!Object(pM["isEqual"])(n,["reset"])){var d=t.get("name");Object(pM["isArray"])(d)&&(d=d[1]),Object(pM["each"])(n,(function(t){if(e.get("name")!==Dj){var n=o.getStateStyle(t,d||r);e.attr(n)}}))}var p=kT(t,e);this.animate?i?(null===(a=this.geometry)||void 0===a||a.emit(gM.BEFORE_DRAW_ANIMATE),Pj(t,i,{coordinate:this.shapeFactory.coordinate,toAttrs:p,shapeModel:this.model})):Object(pM["isEmpty"])(n)?t.attr(p):(t.stopAnimate(),t.animate(p,{duration:300})):t.attr(p)}}},e.prototype.getShapeType=function(t){var e=Object(pM["get"])(t,"shape");return Object(pM["isArray"])(e)?e[0]:e},e}(PM),Nj=Fj,Bj={},Vj={};function Gj(t){return Bj[t.toLowerCase()]}function zj(t,e){Bj[t.toLowerCase()]=e}function Uj(t){return Vj[t.toLowerCase()]}function Hj(t,e){Vj[t.toLowerCase()]=e}var Wj={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(t,e){var n=this.getShape(t);return n.getPoints?n.getPoints(e):this.getDefaultPoints(e)},getShape:function(t){var e=this[t]||this[this.defaultShapeType];return e.coordinate=this.coordinate,e},getDefaultPoints:function(){return[]},getDefaultStyle:function(t){return Object(pM["get"])(t,[this.defaultShapeType,"default","style"],{})},getMarker:function(t,e){var n=this.getShape(t);if(!n.getMarker){var i=this.defaultShapeType;n=this.getShape(i)}var r=this.theme,a=Object(pM["get"])(r,[t,"default"],{}),o=n.getMarker(e);return Object(pM["deepMix"])({},a,o)},drawShape:function(t,e,n){var i=this.getShape(t);return i.draw(e,n)}},Yj={coordinate:null,parsePath:function(t){var e=this.coordinate,n=Object(jk["parsePathString"])(t);return n=e.isPolar?Lk(e,n):kk(e,n),n},parsePoint:function(t){var e=this.coordinate;return e.convert(t)},parsePoints:function(t){var e=this.coordinate;return t.map((function(t){return e.convert(t)}))},draw:function(t,e){}},Xj={};function qj(t,e){var n=Object(pM["upperFirst"])(t),i=Object(dM["__assign"])(Object(dM["__assign"])(Object(dM["__assign"])({},Wj),e),{geometryType:t});return Xj[n]=i,i}function Zj(t,e,n){var i=Object(pM["upperFirst"])(t),r=Xj[i],a=Object(dM["__assign"])(Object(dM["__assign"])({},Yj),n);return r[e]=a,a}function Qj(t){var e=Object(pM["upperFirst"])(t);return Xj[e]}function Jj(t,e,n){var i,r;if(void 0===n&&(n={}),!e)return[t];var a=Object(pM["groupToMap"])(t,e),o=[];if(1===e.length&&n[e[0]]){var s=n[e[0]];try{for(var l=Object(dM["__values"])(s),c=l.next();!c.done;c=l.next()){var u=c.value,h=a["_".concat(u)];h&&o.push(h)}}catch(f){i={error:f}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(i)throw i.error}}}else for(var d in a)if(a.hasOwnProperty(d)){var p=a[d];o.push(p)}return o}function Kj(t,e){return Object(pM["some"])(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],(function(n){return!Object(pM["isEqual"])(t[n],e[n])}))}function $j(t){return Object(pM["isArray"])(t)?t:t.split("*")}function tI(t,e){for(var n=[],i=[],r=[],a=new Map,o=0;o<e.length;o++){var s=e[o];t[s]?i.push(s):n.push(s),a.set(s,!0)}return Object.keys(t).forEach((function(t){a.has(t)||r.push(t)})),{added:n,updated:i,removed:r}}var eI=function(t){function e(e){var n=t.call(this,e)||this;n.type="base",n.attributes={},n.elements=[],n.elementsMap={},n.animateOption=!0,n.attributeOption={},n.lastElementsMap={},n.generatePoints=!1,n.beforeMappingData=null,n.adjusts={},n.idFields=[],n.hasSorted=!1,n.isCoordinateChanged=!1;var i=e.container,r=e.labelsContainer,a=e.coordinate,o=e.data,s=e.sortable,l=void 0!==s&&s,c=e.visible,u=void 0===c||c,h=e.theme,d=e.scales,p=void 0===d?{}:d,f=e.scaleDefs,g=void 0===f?{}:f,m=e.intervalPadding,v=e.dodgePadding,y=e.maxColumnWidth,b=e.minColumnWidth,x=e.columnWidthRatio,_=e.roseWidthRatio,w=e.multiplePieWidthRatio,S=e.zIndexReversed,O=e.sortZIndex,C=e.useDeferredLabel;return n.container=i,n.labelsContainer=r,n.coordinate=a,n.data=o,n.sortable=l,n.visible=u,n.userTheme=h,n.scales=p,n.scaleDefs=g,n.intervalPadding=m,n.dodgePadding=v,n.maxColumnWidth=y,n.minColumnWidth=b,n.columnWidthRatio=x,n.roseWidthRatio=_,n.multiplePieWidthRatio=w,n.zIndexReversed=S,n.sortZIndex=O,n.useDeferredLabel=C?"number"===typeof C?C:1/0:null,n}return Object(dM["__extends"])(e,t),e.prototype.position=function(t){var e=t;Object(pM["isPlainObject"])(t)||(e={fields:$j(t)});var n=Object(pM["get"])(e,"fields");return 1===n.length&&(n.unshift("1"),Object(pM["set"])(e,"fields",n)),Object(pM["set"])(this.attributeOption,"position",e),this},e.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},e.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},e.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},e.prototype.adjust=function(t){var e=t;return(Object(pM["isString"])(t)||Object(pM["isPlainObject"])(t))&&(e=[t]),Object(pM["each"])(e,(function(t,n){Object(pM["isObject"])(t)||(e[n]={type:t})})),this.adjustOption=e,this},e.prototype.style=function(t,e){if(Object(pM["isString"])(t)){var n=$j(t);this.styleOption={fields:n,callback:e}}else{var i=t,r=(n=i.fields,i.callback),a=i.cfg;this.styleOption=n||r||a?t:{cfg:t}}return this},e.prototype.tooltip=function(t,e){if(Object(pM["isString"])(t)){var n=$j(t);this.tooltipOption={fields:n,callback:e}}else this.tooltipOption=t;return this},e.prototype.animate=function(t){return this.animateOption=t,this},e.prototype.label=function(t,e,n){if(Object(pM["isString"])(t)){var i={},r=$j(t);i.fields=r,Object(pM["isFunction"])(e)?i.callback=e:Object(pM["isPlainObject"])(e)&&(i.cfg=e),n&&(i.cfg=n),this.labelOption=i}else this.labelOption=t;return this},e.prototype.state=function(t){return this.stateOption=t,this},e.prototype.customInfo=function(t){return this.customOption=t,this},e.prototype.init=function(t){void 0===t&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},e.prototype.update=function(t){void 0===t&&(t={});var e=t.data,n=t.isDataChanged,i=t.isCoordinateChanged,r=this,a=r.attributeOption,o=r.lastAttributeOption;Object(pM["isEqual"])(a,o)?!e||!n&&Object(pM["isEqual"])(e,this.data)?this.setCfg(t):(this.setCfg(t),this.initAttributes(),this.processData(e)):this.init(t),this.adjustScale(),this.isCoordinateChanged=i},e.prototype.paint=function(t){var e=this;void 0===t&&(t=!1),this.animateOption&&(this.animateOption=Object(pM["deepMix"])({},Ej(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[];var n=this.getOffscreenGroup();n.clear();var i=this.beforeMappingData,r=this.beforeMapping(i);this.dataArray=new Array(r.length);for(var a=0;a<r.length;a++){var o=r[a];this.dataArray[a]=this.mapping(o)}if(this.updateElements(this.dataArray,t),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(t)){var s=this.container,l=this.type,c=this.coordinate,u=Object(pM["get"])(this.animateOption,"appear"),h=this.getYScale(),d=c.convert({x:0,y:h.scale(this.getYMinValue())});Rj(s,u,l,c,d)}if(this.labelOption){var p=this.useDeferredLabel,f=function(){return e.renderLabels(Object(pM["flatten"])(e.dataArray),t)}.bind(this);if("number"===typeof p){var g="number"===typeof p&&p!==1/0?p:0;if(window.requestIdleCallback){var m=g&&g!==1/0?{timeout:g}:void 0;window.requestIdleCallback(f,m)}else setTimeout(f,g)}else f()}this.lastAttributeOption=Object(dM["__assign"])({},this.attributeOption),!1===this.visible&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this,e=t.container,n=t.geometryLabel,i=t.offscreenGroup;e&&e.clear(),n&&n.clear(),i&&i.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},e.prototype.destroy=function(){this.clear();var e=this.container;e.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,t.prototype.destroy.call(this)},e.prototype.getGroupScales=function(){return this.groupScales},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},e.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},e.prototype.getGroupAttributes=function(){var t=[];return Object(pM["each"])(this.attributes,(function(e){bM.includes(e.type)&&t.push(e)})),t},e.prototype.getDefaultValue=function(t){var e,n=this.getAttribute(t);return n&&Object(pM["isEmpty"])(n.scales)&&(e=n.values[0]),e},e.prototype.getAttributeValues=function(t,e){for(var n=[],i=t.scales,r=0,a=i.length;r<a;r++){var o=i[r],s=o.field;o.isIdentity?n.push(o.values):n.push(e[s])}return t.mapping.apply(t,Object(dM["__spreadArray"])([],Object(dM["__read"])(n),!1))},e.prototype.getAdjust=function(t){return this.adjusts[t]},e.prototype.getCoordinate=function(){return this.coordinate},e.prototype.getData=function(){return this.data},e.prototype.getShapeMarker=function(t,e){var n=this.getShapeFactory();return n.getMarker(t,e)},e.prototype.getElementsBy=function(t){return this.elements.filter((function(e){return t(e)}))},e.prototype.getElements=function(){return this.elements},e.prototype.getElementId=function(t){t=Object(pM["isArray"])(t)?t[0]:t;var e=t[xM];if(this.idFields.length){for(var n=e[this.idFields[0]],i=1;i<this.idFields.length;i++)n+="-"+e[this.idFields[i]];return n}var r,a,o=this.type,s=this.getXScale(),l=this.getYScale(),c=s.field||"x",u=l.field||"y",h=e[u];r="identity"===s.type?s.values[0]:e[c],a="interval"===o||"schema"===o?"".concat(r):"line"===o||"area"===o||"path"===o?o:"".concat(r,"-").concat(h);for(var d=this.groupScales,p=(i=0,d.length);i<p;i++){var f=d[i],g=f.field;a="".concat(a,"-").concat(e[g])}var m=this.getAdjust("dodge");if(m){var v=m.dodgeBy;v&&(a="".concat(a,"-").concat(e[v]))}return this.getAdjust("jitter")&&(a="".concat(a,"-").concat(t.x,"-").concat(t.y)),a},e.prototype.getScaleFields=function(){var t=[],e=new Map,n=this,i=n.attributeOption,r=n.labelOption,a=n.tooltipOption;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];s.fields?ET(s.fields,t,e):s.values&&ET(s.values,t,e)}return r&&r.fields&&ET(r.fields,t,e),Object(pM["isObject"])(a)&&a.fields&&ET(a.fields,t,e),t},e.prototype.changeVisible=function(e){t.prototype.changeVisible.call(this,e);for(var n=this.elements,i=0,r=n.length;i<r;i++){var a=n[i];a.changeVisible(e)}e?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},e.prototype.getFields=function(){var t=new Map,e=[];return Object.values(this.attributeOption).forEach((function(n){var i=(null===n||void 0===n?void 0:n.fields)||[];i.forEach((function(n){t.has(n)||e.push(n),t.set(n,!0)}))}),[]),e},e.prototype.getGroupFields=function(){for(var t=[],e=new Map,n=0,i=bM.length;n<i;n++){var r=bM[n],a=this.attributeOption[r];a&&a.fields&&ET(a.fields,t,e)}return t},e.prototype.getXYFields=function(){var t=Object(dM["__read"])(this.attributeOption.position.fields,2),e=t[0],n=t[1];return[e,n]},e.prototype.getXField=function(){return Object(pM["get"])(this.getXYFields(),[0])},e.prototype.getYField=function(){return Object(pM["get"])(this.getXYFields(),[1])},e.prototype.getShapes=function(){return this.elements.map((function(t){return t.shape}))},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),n=e.field,i=0;i<t.length;i++){var r=t[i];r.sort((function(t,i){return e.translate(t[xM][n])-e.translate(i[xM][n])}))}this.hasSorted=!0},e.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},e.prototype.getShapeFactory=function(){var t=this.shapeType;if(Qj(t))return this.shapeFactory||(this.shapeFactory=Object(pM["clone"])(Qj(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},e.prototype.createShapePointsCfg=function(t){var e,n=this.getXScale(),i=this.getYScale(),r=this.normalizeValues(t[n.field],n);return e=i?this.normalizeValues(t[i.field],i):t.y?t.y:.1,{x:r,y:e,y0:i?i.scale(this.getYMinValue()):void 0}},e.prototype.createElement=function(t,e,n){void 0===n&&(n=!1);var i=this.container,r=this.getDrawCfg(t),a=this.getShapeFactory(),o=new Nj({shapeFactory:a,container:i,offscreenGroup:this.getOffscreenGroup(),elementIndex:e});return o.animate=this.animateOption,o.geometry=this,o.draw(r,n),o},e.prototype.getDrawCfg=function(t){var e=t[xM],n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},i=t.shape;!i&&this.getShapeFactory()&&(i=this.getShapeFactory().defaultShapeType),n.shape=i;var r=this.theme.geometries[this.shapeType];n.defaultStyle=Object(pM["get"])(r,[i,"default"],{}).style,!n.defaultStyle&&this.getShapeFactory()&&(n.defaultStyle=this.getShapeFactory().getDefaultStyle(r));var a=this.styleOption;return a&&(n.style=this.getStyleCfg(a,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},e.prototype.updateElements=function(t,e){var n,i,r,a,o,s;void 0===e&&(e=!1);for(var l=new Map,c=[],u=new Map,h=0,d=0;d<t.length;d++)for(var p=t[d],f=0;f<p.length;f++){var g=p[f],m=this.getElementId(g),v=l.has(m)?"".concat(m,"-").concat(d,"-").concat(f):m;c.push(v),l.set(v,g),u.set(v,h),h++}this.elements=new Array(h);var y=tI(this.lastElementsMap,c),b=y.added,x=y.updated,_=y.removed;try{for(var w=Object(dM["__values"])(b),S=w.next();!S.done;S=w.next()){m=S.value,g=l.get(m),d=u.get(m);var O=this.createElement(g,d,e);this.elements[d]=O,this.elementsMap[m]=O,O.shape&&O.shape.set("zIndex",this.zIndexReversed?this.elements.length-d:d)}}catch(j){n={error:j}}finally{try{S&&!S.done&&(i=w.return)&&i.call(w)}finally{if(n)throw n.error}}try{for(var C=Object(dM["__values"])(x),A=C.next();!A.done;A=C.next()){m=A.value,O=this.lastElementsMap[m],g=l.get(m);var M=this.getDrawCfg(g),T=O.getModel();d=u.get(m);(this.isCoordinateChanged||Kj(M,T))&&(O.animate=this.animateOption,O.update(M)),this.elements[d]=O,this.elementsMap[m]=O,O.shape&&O.shape.set("zIndex",this.zIndexReversed?this.elements.length-d:d)}}catch(I){r={error:I}}finally{try{A&&!A.done&&(a=C.return)&&a.call(C)}finally{if(r)throw r.error}}this.container&&this.container.sort();try{for(var k=Object(dM["__values"])(_),L=k.next();!L.done;L=k.next()){m=L.value,O=this.lastElementsMap[m];O.animate=this.animateOption,O.destroy()}}catch(E){o={error:E}}finally{try{L&&!L.done&&(s=k.return)&&s.call(k)}finally{if(o)throw o.error}}},e.prototype.getLabelType=function(){var t=this,e=t.labelOption,n=t.coordinate,i=t.type,r=n.type,a=n.isTransposed,o=Object(pM["get"])(e,["cfg","type"]);return o||(o="polar"===r?a?"pie":"polar":"theta"===r?"pie":"interval"===i||"polygon"===i?"interval":"base"),o},e.prototype.getYMinValue=function(){var t,e=this.getYScale(),n=e.min,i=e.max;return t=n>=0?n:i<=0?i:0,t},e.prototype.createAttrOption=function(t,e,n){if(Object(pM["isNil"])(e)||Object(pM["isObject"])(e))Object(pM["isObject"])(e)&&Object(pM["isEqual"])(Object.keys(e),["values"])?Object(pM["set"])(this.attributeOption,t,{fields:e.values}):Object(pM["set"])(this.attributeOption,t,e);else{var i={};Object(pM["isNumber"])(e)?i.values=[e]:i.fields=$j(e),n&&(Object(pM["isFunction"])(n)?i.callback=n:i.values=n),Object(pM["set"])(this.attributeOption,t,i)}},e.prototype.initAttributes=function(){var t=this,e=this,n=e.attributes,i=e.attributeOption,r=e.theme,a=e.shapeType;this.groupScales=[];var o={},s=function(e){if(i.hasOwnProperty(e)){var s=i[e];if(!s)return{value:void 0};var l=Object(dM["__assign"])({},s),c=l.callback,u=l.values,h=l.fields,d=void 0===h?[]:h,p=d.map((function(n){var i=t.scales[n];if(!o[n]&&bM.includes(e)){var r=WT(i,Object(pM["get"])(t.scaleDefs,n),e,t.type);"cat"===r&&(t.groupScales.push(i),o[n]=!0)}return i}));l.scales=p,"position"!==e&&1===p.length&&"identity"===p[0].type?l.values=p[0].values:c||u||("size"===e?l.values=r.sizes:"shape"===e?l.values=r.shapes[a]||[]:"color"===e&&(p.length?l.values=p[0].values.length<=10?r.colors10:r.colors20:l.values=r.colors10));var f=$M(e);n[e]=new f(l)}};for(var l in i){var c=s(l);if("object"===typeof c)return c.value}},e.prototype.processData=function(t){var e,n;this.hasSorted=!1;for(var i=this.getAttribute("position").scales,r=i.filter((function(t){return t.isCategory})),a=this.groupData(t),o=[],s=0,l=a.length;s<l;s++){for(var c=a[s],u=[],h=0,d=c.length;h<d;h++){var p=c[h],f={};for(var g in p)f[g]=p[g];f[xM]=p;try{for(var m=(e=void 0,Object(dM["__values"])(r)),v=m.next();!v.done;v=m.next()){var y=v.value,b=y.field;f[b]=y.translate(f[b])}}catch(_){e={error:_}}finally{try{v&&!v.done&&(n=m.return)&&n.call(m)}finally{if(e)throw e.error}}u.push(f)}o.push(u)}var x=this.adjustData(o);return this.beforeMappingData=x,x},e.prototype.adjustData=function(t){var e=this.adjustOption,n=this,i=n.intervalPadding,r=n.dodgePadding,a=n.theme,o=this.maxColumnWidth||a.maxColumnWidth,s=this.minColumnWidth||a.minColumnWidth,l=this.columnWidthRatio||a.columnWidthRatio,c=t;if(e){var u=this.getXScale(),h=this.getYScale(),d=u.field,p=h?h.field:null,f=DT(this.coordinate),g=u.values.length,m=this.getAttribute("size"),v=void 0;m&&(v=m.values[0]);for(var y=0,b=e.length;y<b;y++){var x=e[y],_=Object(dM["__assign"])({xField:d,yField:p,intervalPadding:i,dodgePadding:r,xDimensionLength:f,groupNum:g,defaultSize:v,maxColumnWidth:o,minColumnWidth:s,columnWidthRatio:l},x),w=x.type;if("dodge"===w){var S=[];if(u.isCategory||"identity"===u.type)S.push("x");else{if(h)throw new Error("dodge is not support linear attribute, please use category attribute!");S.push("y")}_.adjustNames=S,_.dodgeRatio=l}else if("stack"===w){var O=this.coordinate;if(!h){_.height=O.getHeight();var C=this.getDefaultValue("size")||3;_.size=C}!O.isTransposed&&Object(pM["isNil"])(_.reverseOrder)&&(_.reverseOrder=!0)}var A=Object(DM["getAdjust"])(w);_.dimValuesMap={},u&&u.values&&(_.dimValuesMap[u.field]=u.values.map((function(t){return u.translate(t)})));var M=new A(_);c=M.process(c),this.adjusts[w]=M}}return c},e.prototype.groupData=function(t){for(var e=this.getGroupScales(),n=this.scaleDefs,i={},r=[],a=0;a<e.length;a++){var o=e[a],s=o.field;r.push(s),Object(pM["get"])(n,[s,"values"])&&(i[s]=n[s].values)}return Jj(t,r,i)},e.prototype.updateStackRange=function(t,e){for(var n=Object(pM["flatten"])(e),i=t.field,r=t.min,a=t.max,o=0;o<n.length;o++){var s=n[o],l=Math.min.apply(null,s[i]),c=Math.max.apply(null,s[i]);l<r&&(r=l),c>a&&(a=c)}var u=this.scaleDefs,h={};r<t.min&&!Object(pM["get"])(u,[i,"min"])&&(h.min=r),a>t.max&&!Object(pM["get"])(u,[i,"max"])&&(h.max=a),t.change(h)},e.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var n=0,i=e.length;n<i;n++){var r=e[n];this.generateShapePoints(r);var a=e[n+1];a&&(this.generateShapePoints(a),r[0].nextPoints=a[0].points)}return e},e.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttribute("shape"),i=0;i<t.length;i++){var r=t[i],a=this.createShapePointsCfg(r),o=n?this.getAttributeValues(n,r):null,s=e.getShapePoints(o,a);r.points=s}},e.prototype.normalizeValues=function(t,e){var n=[];if(Object(pM["isArray"])(t))for(var i=0;i<t.length;i++){var r=t[i];n.push(e.scale(r))}else n=e.scale(t);return n},e.prototype.mapping=function(t){for(var e=this.attributes,n=[],i=0;i<t.length;i++){var r=t[i],a={_origin:r[xM],points:r.points,nextPoints:r.nextPoints};for(var o in e)if(e.hasOwnProperty(o)){var s=e[o],l=s.names,c=this.getAttributeValues(s,r);if(l.length>1)for(var u=0;u<c.length;u+=1){var h=c[u],d=l[u];a[d]=Object(pM["isArray"])(h)&&1===h.length?h[0]:h}else a[l[0]]=1===c.length?c[0]:c}this.convertPoint(a),n.push(a)}return n},e.prototype.convertPoint=function(t){var e,n,i,r=t.x,a=t.y,o=this.coordinate;if(Object(pM["isArray"])(r)&&Object(pM["isArray"])(a)){e=[],n=[];for(var s=0,l=0,c=r.length,u=a.length;s<c&&l<u;s+=1,l+=1)i=o.convert({x:r[s],y:a[l]}),e.push(i.x),n.push(i.y)}else if(Object(pM["isArray"])(a)){n=[];for(var h=0;h<a.length;h++){var d=a[h];i=o.convert({x:r,y:d}),e&&e!==i.x?(Object(pM["isArray"])(e)||(e=[e]),e.push(i.x)):e=i.x,n.push(i.y)}}else if(Object(pM["isArray"])(r)){e=[];for(h=0;h<r.length;h++){var p=r[h];i=o.convert({x:p,y:a}),n&&n!==i.y?(Object(pM["isArray"])(n)||(n=[n]),n.push(i.y)):n=i.y,e.push(i.x)}}else{var f=o.convert({x:r,y:a});e=f.x,n=f.y}t.x=e,t.y=n},e.prototype.getStyleCfg=function(t,e){var n=t.fields,i=void 0===n?[]:n,r=t.callback,a=t.cfg;if(a)return a;var o=i.map((function(t){return e[t]}));return r.apply(void 0,Object(dM["__spreadArray"])([],Object(dM["__read"])(o),!1))},e.prototype.setCfg=function(t){var e=this,n=t.coordinate,i=t.data,r=t.theme,a=t.scaleDefs;n&&(this.coordinate=n),i&&(this.data=i),a&&(this.scaleDefs=a,this.idFields=[],Object(pM["each"])(a,(function(t,n){t&&t.key&&e.idFields.push(n)}))),r&&(this.theme=this.userTheme?Object(pM["deepMix"])({},r,this.userTheme):r)},e.prototype.renderLabels=function(t,e){return void 0===e&&(e=!1),Object(dM["__awaiter"])(this,void 0,void 0,(function(){var n,i,r,a,o,s,l,c,u,h,d,p,f=this;return Object(dM["__generator"])(this,(function(g){switch(g.label){case 0:return n=this.geometryLabel,this.emit(gM.BEFORE_RENDER_LABEL),n||(i=this.getLabelType(),r=Gj(i),n=new r(this),this.geometryLabel=n),[4,n.render(t,e)];case 1:g.sent(),a=n.labelsRenderer.shapesMap,o=new Map,Object(pM["each"])(a,(function(t,e){for(var n=t.getChildren()||[],i=0;i<n.length;i++){var r=n[i],a=f.elementsMap[r.get("elementId")||e.split(" ")[0]];if(a){r.cfg.name=["element","label"],r.cfg.element=a;var s=o.get(a)||new Set;s.add(t),o.set(a,s)}}}));try{for(s=Object(dM["__values"])(o.entries()),l=s.next();!l.done;l=s.next())c=Object(dM["__read"])(l.value,2),u=c[0],h=c[1],u.labelShape=Object(dM["__spreadArray"])([],Object(dM["__read"])(h),!1)}catch(m){d={error:m}}finally{try{l&&!l.done&&(p=s.return)&&p.call(s)}finally{if(d)throw d.error}}return this.emit(gM.AFTER_RENDER_LABEL),[2]}}))}))},e.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&(void 0===Object(pM["get"])(this.animateOption,"appear")||Object(pM["get"])(this.animateOption,"appear")&&void 0===Object(pM["get"])(this.animateOption,["appear","animation"]))},e}(PM),nI=eI,iI=eT["ext"].transform;function rI(t,e,n){var i=iI(t.getMatrix(),[["t",e,n]]);t.setMatrix(i)}function aI(t,e){var n=t.attr(),i=n.x,r=n.y,a=iI(t.getMatrix(),[["t",-i,-r],["r",e],["t",i,r]]);return a}function oI(t,e){var n=aI(t,e);t.setMatrix(n)}function sI(t){return t.find((function(t){return"text"===t.get("type")}))}function lI(t,e,n){void 0===n&&(n=[0,0,0,0]);var i=t&&t.getChildren()[0];if(i){var r=i.clone();(null===e||void 0===e?void 0:e.rotate)&&oI(r,-e.rotate);var a=r.getCanvasBBox(),o=a.x,s=a.y,l=a.width,c=a.height;r.destroy();var u=n;return Object(pM["isNil"])(u)?u=[2,2,2,2]:Object(pM["isNumber"])(u)&&(u=new Array(4).fill(u)),{x:o-u[3],y:s-u[0],width:l+u[1]+u[3],height:c+u[0]+u[2],rotation:(null===e||void 0===e?void 0:e.rotate)||0}}return{x:0,y:0,width:0,height:0,rotation:0}}function cI(t,e,n){void 0===n&&(n=0);var i=Math.max(0,Math.min(t.x+t.width+n,e.x+e.width+n)-Math.max(t.x-n,e.x-n)),r=Math.max(0,Math.min(t.y+t.height+n,e.y+e.height+n)-Math.max(t.y-n,e.y-n));return i*r}function uI(t,e){var n=t.getBBox();return Object(pM["some"])(e,(function(t){var e=t.getBBox();return cI(n,e,2)>0}))}function hI(t,e,n){var i=n.data,r=n.origin,a=n.animateCfg,o=n.coordinate,s=Object(pM["get"])(a,"update");t.set("data",i),t.set("origin",r),t.set("animateCfg",a),t.set("coordinate",o),t.set("visible",e.get("visible")),(t.getChildren()||[]).forEach((function(l,c){var u=e.getChildByIndex(c);if(u){l.set("data",i),l.set("origin",r),l.set("animateCfg",a),l.set("coordinate",o);var h=kT(l,u);s?Pj(l,s,{toAttrs:h,coordinate:o}):l.attr(h),u.isGroup()&&hI(l,u,n)}else t.removeChild(l),l.remove(!0)})),Object(pM["each"])(e.getChildren(),(function(e,n){n>=t.getCount()&&(e.destroyed||t.add(e))}))}var dI=function(){function t(t){this.shapesMap={};var e=t.layout,n=t.container;this.layout=e,this.container=n}return t.prototype.render=function(t,e,n){return void 0===n&&(n=!1),Object(dM["__awaiter"])(this,void 0,void 0,(function(){var i,r,a,o,s,l,c,u,h=this;return Object(dM["__generator"])(this,(function(d){switch(d.label){case 0:if(i={},r=this.createOffscreenGroup(),!t.length)return[3,2];try{for(a=Object(dM["__values"])(t),o=a.next();!o.done;o=a.next())s=o.value,s&&(i[s.id]=this.renderLabel(s,r))}catch(p){c={error:p}}finally{try{o&&!o.done&&(u=a.return)&&u.call(a)}finally{if(c)throw c.error}}return[4,this.doLayout(t,e,i)];case 1:d.sent(),this.renderLabelLine(t,i),this.renderLabelBackground(t,i),this.adjustLabel(t,i),d.label=2;case 2:return l=this.shapesMap,Object(pM["each"])(i,(function(t,e){if(t.destroyed)delete i[e];else{if(l[e]){var r=t.get("data"),a=t.get("origin"),o=t.get("coordinate"),s=t.get("animateCfg"),c=l[e];hI(c,i[e],{data:r,origin:a,animateCfg:s,coordinate:o}),i[e]=c}else{if(h.container.destroyed)return;h.container.add(t);var u=Object(pM["get"])(t.get("animateCfg"),n?"enter":"appear");u&&Pj(t,u,{toAttrs:Object(dM["__assign"])({},t.attr()),coordinate:t.get("coordinate")})}delete l[e]}})),Object(pM["each"])(l,(function(t){var e=Object(pM["get"])(t.get("animateCfg"),"leave");e?Pj(t,e,{toAttrs:null,coordinate:t.get("coordinate")}):t.remove(!0)})),this.shapesMap=i,r.destroy(),[2]}}))}))},t.prototype.clear=function(){this.container.clear(),this.shapesMap={}},t.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null},t.prototype.renderLabel=function(t,e){var n,i=t.id,r=t.elementId,a=t.data,o=t.mappingData,s=t.coordinate,l=t.animate,c=t.content,u=t.capture,h={id:i,elementId:r,capture:u,data:a,origin:Object(dM["__assign"])(Object(dM["__assign"])({},o),{data:o[xM]}),coordinate:s},d=e.addGroup(Object(dM["__assign"])({name:"label",animateCfg:!1!==this.animate&&null!==l&&!1!==l&&Object(pM["deepMix"])({},this.animate,l)},h));if(c.isGroup&&c.isGroup()||c.isShape&&c.isShape()){var p=c.getCanvasBBox(),f=p.width,g=p.height,m=Object(pM["get"])(t,"textAlign","left"),v=t.x,y=t.y-g/2;"center"===m?v-=f/2:"right"!==m&&"end"!==m||(v-=f),rI(c,v,y),n=c,d.add(c)}else{var b=Object(pM["get"])(t,["style","fill"]);n=d.addShape("text",Object(dM["__assign"])({attrs:Object(dM["__assign"])(Object(dM["__assign"])({x:t.x,y:t.y,textAlign:t.textAlign,textBaseline:Object(pM["get"])(t,"textBaseline","middle"),text:t.content},t.style),{fill:Object(pM["isNull"])(b)?t.color:b})},h))}return t.rotate&&oI(n,t.rotate),d},t.prototype.doLayout=function(t,e,n){return Object(dM["__awaiter"])(this,void 0,void 0,(function(){var i,r=this;return Object(dM["__generator"])(this,(function(a){switch(a.label){case 0:return this.layout?(i=Object(pM["isArray"])(this.layout)?this.layout:[this.layout],[4,Promise.all(i.map((function(i){var a=Uj(Object(pM["get"])(i,"type",""));if(a){var o=[],s=[];return Object(pM["each"])(n,(function(t,n){o.push(t),s.push(e[t.get("elementId")])})),a(t,o,s,r.region,i.cfg)}})))]):[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}}))}))},t.prototype.renderLabelLine=function(t,e){Object(pM["each"])(t,(function(t){var n=Object(pM["get"])(t,"coordinate");if(t&&n){var i=n.getCenter(),r=n.getRadius();if(t.labelLine){var a=Object(pM["get"])(t,"labelLine",{}),o=t.id,s=a.path;if(!s){var l=OT(i.x,i.y,r,t.angle);s=[["M",l.x,l.y],["L",t.x,t.y]]}var c=e[o];c.destroyed||c.addShape("path",{capture:!1,attrs:Object(dM["__assign"])({path:s,stroke:t.color?t.color:Object(pM["get"])(t,["style","fill"],"#000"),fill:null},a.style),id:o,origin:t.mappingData,data:t.data,coordinate:t.coordinate})}}}))},t.prototype.renderLabelBackground=function(t,e){Object(pM["each"])(t,(function(t){var n=Object(pM["get"])(t,"coordinate"),i=Object(pM["get"])(t,"background");if(i&&n){var r=t.id,a=e[r];if(!a.destroyed){var o=a.getChildren()[0];if(o){var s=lI(a,t,i.padding),l=s.rotation,c=Object(dM["__rest"])(s,["rotation"]),u=a.addShape("rect",{attrs:Object(dM["__assign"])(Object(dM["__assign"])({},c),i.style||{}),id:r,origin:t.mappingData,data:t.data,coordinate:t.coordinate});if(u.setZIndex(-1),l){var h=o.getMatrix();u.setMatrix(h)}}}}}))},t.prototype.createOffscreenGroup=function(){var t=this.container,e=t.getGroupBase(),n=new e({});return n},t.prototype.adjustLabel=function(t,e){Object(pM["each"])(t,(function(t){if(t){var n=t.id,i=e[n];if(!i.destroyed){var r=i.findAll((function(t){return"path"!==t.get("type")}));Object(pM["each"])(r,(function(e){e&&(t.offsetX&&e.attr("x",e.attr("x")+t.offsetX),t.offsetY&&e.attr("y",e.attr("y")+t.offsetY))}))}}}))},t}(),pI=dI;function fI(t){var e=0;return Object(pM["each"])(t,(function(t){e+=t})),e/t.length}var gI=function(){function t(t){this.geometry=t}return t.prototype.getLabelItems=function(t){var e=this,n=[],i=this.getLabelCfgs(t);return Object(pM["each"])(t,(function(t,r){var a=i[r];if(!a||Object(pM["isNil"])(t.x)||Object(pM["isNil"])(t.y))n.push(null);else{var o=Object(pM["isArray"])(a.content)?a.content:[a.content];a.content=o;var s=o.length;Object(pM["each"])(o,(function(i,r){if(Object(pM["isNil"])(i)||""===i)n.push(null);else{var o=Object(dM["__assign"])(Object(dM["__assign"])({},a),e.getLabelPoint(a,t,r));o.textAlign||(o.textAlign=e.getLabelAlign(o,r,s)),o.offset<=0&&(o.labelLine=null),n.push(o)}}))}})),n},t.prototype.render=function(t,e){return void 0===e&&(e=!1),Object(dM["__awaiter"])(this,void 0,void 0,(function(){var n,i,r;return Object(dM["__generator"])(this,(function(a){switch(a.label){case 0:return n=this.getLabelItems(t),i=this.getLabelsRenderer(),r=this.getGeometryShapes(),[4,i.render(n,r,e)];case 1:return a.sent(),[2]}}))}))},t.prototype.clear=function(){var t=this.labelsRenderer;t&&t.clear()},t.prototype.destroy=function(){var t=this.labelsRenderer;t&&t.destroy(),this.labelsRenderer=null},t.prototype.getCoordinate=function(){return this.geometry.coordinate},t.prototype.getDefaultLabelCfg=function(t,e){var n=this.geometry,i=n.type,r=n.theme;return"polygon"===i||"interval"===i&&"middle"===e||t<0&&!["line","point","path"].includes(i)?Object(pM["get"])(r,"innerLabels",{}):Object(pM["get"])(r,"labels",{})},t.prototype.getThemedLabelCfg=function(t){var e,n=this.geometry,i=this.getDefaultLabelCfg(),r=n.type,a=n.theme;return e="polygon"===r||t.offset<0&&!["line","point","path"].includes(r)?Object(pM["deepMix"])({},i,a.innerLabels,t):Object(pM["deepMix"])({},i,a.labels,t),e},t.prototype.setLabelPosition=function(t,e,n,i){},t.prototype.getLabelOffset=function(t){var e=this.getCoordinate(),n=this.getOffsetVector(t);return e.isTransposed?n[0]:n[1]},t.prototype.getLabelOffsetPoint=function(t,e,n){var i=t.offset,r=this.getCoordinate(),a=r.isTransposed,o=a?"x":"y",s=a?1:-1,l={x:0,y:0};return l[o]=e>0||1===n?i*s:i*s*-1,l},t.prototype.getLabelPoint=function(t,e,n){var i=this.getCoordinate(),r=t.content.length;function a(e,n,i){void 0===i&&(i=!1);var r=e;return Object(pM["isArray"])(r)&&(r=1===t.content.length?i?fI(r):r.length<=2?r[e.length-1]:fI(r):r[n]),r}var o={content:t.content[n],x:0,y:0,start:{x:0,y:0},color:"#fff"},s=Object(pM["isArray"])(e.shape)?e.shape[0]:e.shape,l="funnel"===s||"pyramid"===s;if("polygon"===this.geometry.type){var c=TT(e.x,e.y);o.x=c[0],o.y=c[1]}else"interval"!==this.geometry.type||l?(o.x=a(e.x,n),o.y=a(e.y,n)):(o.x=a(e.x,n,!0),o.y=a(e.y,n));if(l){var u=Object(pM["get"])(e,"nextPoints"),h=Object(pM["get"])(e,"points");if(u){var d=i.convert(h[1]),p=i.convert(u[1]);o.x=(d.x+p.x)/2,o.y=(d.y+p.y)/2}else if("pyramid"===s){d=i.convert(h[1]),p=i.convert(h[2]);o.x=(d.x+p.x)/2,o.y=(d.y+p.y)/2}}t.position&&this.setLabelPosition(o,e,n,t.position);var f=this.getLabelOffsetPoint(t,n,r);return o.start={x:o.x,y:o.y},o.x+=f.x,o.y+=f.y,o.color=e.color,o},t.prototype.getLabelAlign=function(t,e,n){var i="center",r=this.getCoordinate();if(r.isTransposed){var a=t.offset;i=a<0?"right":0===a?"center":"left",n>1&&0===e&&("right"===i?i="left":"left"===i&&(i="right"))}return i},t.prototype.getLabelId=function(t){var e=this.geometry,n=e.type,i=e.getXScale(),r=e.getYScale(),a=t[xM],o=e.getElementId(t);return"line"===n||"area"===n?o+=" ".concat(a[i.field]):"path"===n&&(o+=" ".concat(a[i.field],"-").concat(a[r.field])),o},t.prototype.getLabelsRenderer=function(){var t=this.geometry,e=t.labelsContainer,n=t.labelOption,i=t.canvasRegion,r=t.animateOption,a=this.geometry.coordinate,o=this.labelsRenderer;return o||(o=new pI({container:e,layout:Object(pM["get"])(n,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=o),o.region=i,o.animate=!!r&&Ej("label",a),o},t.prototype.getLabelCfgs=function(t){var e=this,n=this.geometry,i=n.labelOption,r=n.scales,a=n.coordinate,o=i,s=o.fields,l=o.callback,c=o.cfg,u=s.map((function(t){return r[t]})),h=[];return Object(pM["each"])(t,(function(t,n){var i,r=t[xM],o=e.getLabelText(r,u);if(l){var d=s.map((function(t){return r[t]}));if(i=l.apply(void 0,Object(dM["__spreadArray"])([],Object(dM["__read"])(d),!1)),Object(pM["isNil"])(i))return void h.push(null)}var p=Object(dM["__assign"])(Object(dM["__assign"])({id:e.getLabelId(t),elementId:e.geometry.getElementId(t),data:r,mappingData:t,coordinate:a},c),i);Object(pM["isFunction"])(p.position)&&(p.position=p.position(r,t,n));var f=e.getLabelOffset(p.offset||0),g=e.getDefaultLabelCfg(f,p.position);p=Object(pM["deepMix"])({},g,p),p.offset=e.getLabelOffset(p.offset||0);var m=p.content;Object(pM["isFunction"])(m)?p.content=m(r,t,n):Object(pM["isUndefined"])(m)&&(p.content=o[0]),h.push(p)})),h},t.prototype.getLabelText=function(t,e){var n=[];return Object(pM["each"])(e,(function(e){var i=t[e.field];i=Object(pM["isArray"])(i)?i.map((function(t){return e.getText(t)})):e.getText(i),Object(pM["isNil"])(i)||""===i?n.push(null):n.push(i)})),n},t.prototype.getOffsetVector=function(t){void 0===t&&(t=0);var e=this.getCoordinate(),n=0;return Object(pM["isNumber"])(t)&&(n=t),e.isTransposed?e.applyMatrix(n,0):e.applyMatrix(0,n)},t.prototype.getGeometryShapes=function(){var t=this.geometry,e={};return Object(pM["each"])(t.elementsMap,(function(t,n){e[n]=t.shape})),Object(pM["each"])(t.getOffscreenGroup().getChildren(),(function(n){var i=t.getElementId(n.get("origin").mappingData);e[i]=n})),e},t}(),mI=gI;function vI(t,e,n){if(!t)return n;var i;if(t.callback&&t.callback.length>1){var r=Array(t.callback.length-1).fill("");i=t.mapping.apply(t,Object(dM["__spreadArray"])([e],Object(dM["__read"])(r),!1)).join("")}else i=t.mapping(e).join("");return i||n}var yI={hexagon:function(t,e,n){var i=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+i,e-n/2],["L",t+i,e+n/2],["L",t,e+n],["L",t-i,e+n/2],["L",t-i,e-n/2],["Z"]]},bowtie:function(t,e,n){var i=n-1.5;return[["M",t-n,e-i],["L",t+n,e+i],["L",t+n,e-i],["L",t-n,e+i],["Z"]]},cross:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]},tick:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},plus:function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]},hyphen:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},line:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]}},bI=["line","cross","tick","plus","hyphen"];function xI(t,e){return Object(pM["isFunction"])(e)?e(t):Object(pM["deepMix"])({},t,e)}function _I(t,e){var n=t.symbol;if(Object(pM["isString"])(n)&&-1!==bI.indexOf(n)){var i=Object(pM["get"])(t,"style",{}),r=Object(pM["get"])(i,"lineWidth",1),a=i.stroke||i.fill||e;t.style=Object(pM["deepMix"])({},t.style,{lineWidth:r,stroke:a,fill:null})}}function wI(t){var e=t.symbol;Object(pM["isString"])(e)&&yI[e]&&(t.symbol=yI[e])}function SI(t){return t.startsWith(nM.LEFT)||t.startsWith(nM.RIGHT)?"vertical":"horizontal"}function OI(t,e,n,i,r){var a=n.getScale(n.type);if(a.isCategory){var o=a.field,s=e.getAttribute("color"),l=e.getAttribute("shape"),c=t.getTheme().defaultColor,u=e.coordinate.isPolar;return a.getTicks().map((function(n,h){var d,p=n.text,f=n.value,g=p,m=a.invert(f),v=0===t.filterFieldData(o,[(d={},d[o]=m,d)]).length;Object(pM["each"])(t.views,(function(t){var e;t.filterFieldData(o,[(e={},e[o]=m,e)]).length||(v=!0)}));var y=vI(s,m,c),b=vI(l,m,"point"),x=e.getShapeMarker(b,{color:y,isInPolar:u}),_=r;return Object(pM["isFunction"])(_)&&(_=_(g,h,Object(dM["__assign"])({name:g,value:m},Object(pM["deepMix"])({},i,x)))),x=Object(pM["deepMix"])({},i,x,IT(Object(dM["__assign"])({},_),["style"])),_I(x,y),_&&_.style&&(x.style=xI(x.style,_.style)),wI(x),{id:m,name:g,value:m,marker:x,unchecked:v}}))}return[]}function CI(t,e,n){return n.map((function(n,i){var r=e;Object(pM["isFunction"])(r)&&(r=r(n.name,i,Object(pM["deepMix"])({},t,n)));var a=Object(pM["isFunction"])(n.marker)?n.marker(n.name,i,Object(pM["deepMix"])({},t,n)):n.marker,o=Object(pM["deepMix"])({},t,r,a);return wI(o),n.marker=o,n}))}function AI(t,e){var n=Object(pM["get"])(t,["components","legend"],{});return Object(pM["deepMix"])({},Object(pM["get"])(n,["common"],{}),Object(pM["deepMix"])({},Object(pM["get"])(n,[e],{})))}function MI(t){return!t&&(null===t||void 0===t||isNaN(t))}function TI(t){if(Object(pM["isArray"])(t))return MI(t[1].y);var e=t.y;return Object(pM["isArray"])(e)?MI(e[0]):MI(e)}function kI(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!0),!t.length||1===t.length&&!n)return[];if(e){for(var i=[],r=0,a=t.length;r<a;r++){var o=t[r];TI(o)||i.push(o)}return[i]}var s=[],l=[];for(r=0,a=t.length;r<a;r++){o=t[r];TI(o)?l.length&&((1!==l.length||n)&&s.push(l),l=[]):l.push(o)}return l.length&&s.push(l),s}function LI(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];if(i){var r=0===n?"M":"L";e.push([r,i.x,i.y])}}var a=t[0];return a&&(e.push(["L",a.x,a.y]),e.push(["z"])),e}function jI(t){for(var e=t.length/2,n=[],i=[],r=0;r<t.length;r++)r<e?n.push(t[r]):i.push(t[r]);var a=Tk(n,!1),o=Tk(i,!1);i.length&&a.push(["L",i[0].x,i[0].y]),o.shift();var s=a.concat(o);return n.length&&s.push(["L",n[0].x,n[0].y]),s.push(["z"]),s}function II(t,e,n,i){void 0===i&&(i="");var r=t.style,a=void 0===r?{}:r,o=t.defaultStyle,s=t.color,l=t.size,c=Object(dM["__assign"])(Object(dM["__assign"])({},o),a);return s&&(e&&(a.stroke||(c.stroke=s)),n&&(a.fill||(c.fill=s))),i&&Object(pM["isNil"])(a[i])&&!Object(pM["isNil"])(l)&&(c[i]=l),c}function EI(t){return Object(pM["deepMix"])({},{fill:"#CCD6EC",fillOpacity:.3},Object(pM["get"])(t,["background","style"]))}function PI(t){var e=t.x,n=Object(pM["isArray"])(t.y)?t.y:[t.y];return n.map((function(t,n){return{x:Object(pM["isArray"])(e)?e[n]:e,y:t}}))}var RI={line:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},dot:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},dash:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},smooth:function(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]},hv:function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]},vh:function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]},hvh:function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]},vhv:function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}};function DI(t,e){var n=t.color;return{symbol:RI[e],style:{lineWidth:2,r:6,stroke:n}}}function FI(t,e,n){for(var i=t.isStack,r=t.connectNulls,a=t.isInCircle,o=t.showSinglePoint,s=II(t,!0,!1,"lineWidth"),l=kI(t.points,r,o),c=[],u=0,h=l.length;u<h;u++){var d=l[u];c=c.concat(VI(d,a,i,e,n,s))}return s.path=c,s}function NI(t,e,n,i,r){return 1===t.length?[["M",t[0].x,t[0].y-r.lineWidth/2],["L",t[0].x,t[0].y],["L",t[0].x,t[0].y+r.lineWidth/2]]:(n?(e&&t.length&&t.push({x:t[0].x,y:t[0].y}),a=Tk(t,!1,i)):(a=Mk(t,!1),e&&a.push(["Z"])),a);var a}function BI(t,e,n,i,r,a){var o=[],s=[];Object(pM["each"])(t,(function(t){var e=PI(t);o.push(e[1]),s.push(e[0])}));var l=NI(o,e,i,r,a),c=NI(s,e,i,r,a);return n?l:l.concat(c)}function VI(t,e,n,i,r,a){if(t.length){var o=t[0];return Object(pM["isArray"])(o.y)?BI(t,e,n,i,r,a):NI(t,e,i,r,a)}return[]}qj("line",{defaultShapeType:"line"});Object(pM["each"])(["line","dot","dash","smooth"],(function(t){Zj("line",t,{draw:function(e,n){var i,r="smooth"===t;if(r){var a=this.coordinate,o=a.start,s=a.end;i=[[o.x,s.y],[s.x,o.y]]}var l=FI(e,r,i),c=n.addShape({type:"path",attrs:l,name:"line",capture:!r});return c},getMarker:function(e){return DI(e,t)}})}));var GI={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},zI={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},UI=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],HI=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],WI=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],YI=function(t){void 0===t&&(t={});var e=t.paletteQualitative10,n=void 0===e?UI:e,i=t.paletteQualitative20,r=void 0===i?HI:i,a=t.brandColor,o=void 0===a?n[0]:a,s={backgroundColor:"#141414",brandColor:o,subColor:"rgba(255,255,255,0.05)",paletteQualitative10:n,paletteQualitative20:r,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:WI,fontFamily:'"Segoe UI", Roboto, "Helvetica Neue", Arial,\n    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n    "Noto Color Emoji"',axisLineBorderColor:zI[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:zI[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:GI[85],axisTickLineBorderColor:zI[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:zI[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:zI[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:zI[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:zI[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:UI[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:zI[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:zI[45],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:zI[45],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:zI[65],legendPageNavigatorTextFontSize:12,sliderRailFillColor:zI[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:zI[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:GI[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:GI[25],annotationArcBorderColor:zI[15],annotationArcBorder:1,annotationLineBorderColor:zI[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:zI[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:zI[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:zI[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:zI[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:zI[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:GI[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:zI[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:GI[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:zI[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:UI[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:GI[100],pointBorderOpacity:1,pointActiveBorderColor:zI[100],pointSelectedBorder:2,pointSelectedBorderColor:zI[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:UI[0],hollowPointBorderOpacity:.95,hollowPointFillColor:GI[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:zI[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:zI[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:UI[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:UI[0],areaFillOpacity:.25,areaActiveFillColor:UI[0],areaActiveFillOpacity:.5,areaSelectedFillColor:UI[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:UI[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:zI[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:zI[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:UI[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:zI[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:zI[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:UI[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:GI[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:zI[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:zI[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return Object(dM["__assign"])(Object(dM["__assign"])({},s),t)},XI=YI(),qI=n("53c8"),ZI=n("bfb1"),QI=function(t){function e(e){var n=t.call(this,e)||this;n.type="path",n.shapeType="line";var i=e.connectNulls,r=void 0!==i&&i,a=e.showSinglePoint,o=void 0===a||a;return n.connectNulls=r,n.showSinglePoint=o,n}return Object(dM["__extends"])(e,t),e.prototype.updateElements=function(t,e){var n,i,r,a,o,s;void 0===e&&(e=!1);for(var l=new Map,c=new Map,u=[],h=0,d=0;d<t.length;d++){var p=t[d],f=this.getElementId(p);u.push(f),l.set(f,p),c.set(f,h),h++}this.elements=new Array(h);var g=tI(this.lastElementsMap,u),m=g.added,v=g.updated,y=g.removed;try{for(var b=Object(dM["__values"])(m),x=b.next();!x.done;x=b.next()){f=x.value,p=l.get(f);var _=this.getShapeFactory(),w=this.getShapeInfo(p),S=(d=c.get(f),new Nj({shapeFactory:_,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:d}));S.geometry=this,S.animate=this.animateOption,S.draw(w,e),this.elementsMap[f]=S,this.elements[d]=S}}catch(k){n={error:k}}finally{try{x&&!x.done&&(i=b.return)&&i.call(b)}finally{if(n)throw n.error}}try{for(var O=Object(dM["__values"])(v),C=O.next();!C.done;C=O.next()){f=C.value,p=l.get(f),S=this.lastElementsMap[f],d=c.get(f),w=this.getShapeInfo(p);var A=S.getModel();(this.isCoordinateChanged||Kj(A,w))&&(S.animate=this.animateOption,S.update(w)),this.elementsMap[f]=S,this.elements[d]=S}}catch(L){r={error:L}}finally{try{C&&!C.done&&(a=O.return)&&a.call(O)}finally{if(r)throw r.error}}try{for(var M=Object(dM["__values"])(y),T=M.next();!T.done;T=M.next()){f=T.value,S=this.lastElementsMap[f];S.animate=this.animateOption,S.destroy()}}catch(j){o={error:j}}finally{try{T&&!T.done&&(s=M.return)&&s.call(M)}finally{if(o)throw o.error}}},e.prototype.getPointsAndData=function(t){for(var e=[],n=[],i=0,r=t.length;i<r;i++){var a=t[i];e.push({x:a.x,y:a.y}),n.push(a[xM])}return{points:e,data:n}},e.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),i=n.points,r=n.data;return e.mappingData=t,e.data=r,e.isStack=!!this.getAdjust("stack"),e.points=i,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},e}(nI),JI=QI;function KI(t,e,n,i,r){var a=[];if(t.length){for(var o=[],s=[],l=0,c=t.length;l<c;l++){var u=t[l];o.push(u[1]),s.push(u[0])}s=s.reverse(),Object(pM["each"])([o,s],(function(t,l){var c=[],u=i.parsePoints(t),h=u[0];1===o.length&&1===s.length?c=0===l?[["M",h.x-.5,h.y],["L",h.x+.5,h.y]]:[["L",h.x+.5,h.y],["L",h.x-.5,h.y]]:(e&&u.push({x:h.x,y:h.y}),c=n?Tk(u,!1,r):Mk(u,!1),l>0&&(c[0][0]="L")),a=a.concat(c)})),a.push(["Z"])}return a}function $I(t,e,n,i,r){for(var a=II(t,e,!e,"lineWidth"),o=t.connectNulls,s=t.isInCircle,l=t.points,c=t.showSinglePoint,u=kI(l,o,c),h=[],d=0,p=u.length;d<p;d++){var f=u[d];h=h.concat(KI(f,s,n,i,r))}return a.path=h,a}function tE(t){var e=t.start,n=t.end;return[[e.x,n.y],[n.x,e.y]]}qj("area",{defaultShapeType:"area",getDefaultPoints:function(t){var e=t.x,n=t.y0,i=Object(pM["isArray"])(t.y)?t.y:[n,t.y];return i.map((function(t){return{x:e,y:t}}))}});Zj("area","area",{draw:function(t,e){var n=$I(t,!1,!1,this),i=e.addShape({type:"path",attrs:n,name:"area"});return i},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:e,fillOpacity:1}}}});var eE=function(t){function e(e){var n=t.call(this,e)||this;n.type="area",n.shapeType="area",n.generatePoints=!0,n.startOnZero=!0;var i=e.startOnZero,r=void 0===i||i,a=e.sortable,o=void 0!==a&&a,s=e.showSinglePoint,l=void 0!==s&&s;return n.startOnZero=r,n.sortable=o,n.showSinglePoint=l,n}return Object(dM["__extends"])(e,t),e.prototype.getPointsAndData=function(t){for(var e=[],n=[],i=0,r=t.length;i<r;i++){var a=t[i];e.push(a.points),n.push(a[xM])}return{points:e,data:n}},e.prototype.getYMinValue=function(){if(this.startOnZero)return t.prototype.getYMinValue.call(this);var e=this.getYScale();return e.min},e}(JI),nE=eE;qj("edge",{defaultShapeType:"line",getDefaultPoints:function(t){return PI(t)}});Zj("edge","line",{draw:function(t,e){var n=II(t,!0,!1,"lineWidth"),i=Mk(this.parsePoints(t.points),this.coordinate.isPolar);return e.addShape("path",{attrs:Object(dM["__assign"])(Object(dM["__assign"])({},n),{path:i})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});var iE=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="edge",e.shapeType="edge",e.generatePoints=!0,e}return Object(dM["__extends"])(e,t),e}(nI),rE=iE,aE=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="heatmap",e.paletteCache={},e}return Object(dM["__extends"])(e,t),e.prototype.updateElements=function(t,e){void 0===e&&(e=!1);for(var n=0;n<t.length;n++){var i=t[n],r=this.prepareRange(i),a=this.prepareSize(),o=Object(pM["get"])(this.styleOption,["cfg","shadowBlur"]);Object(pM["isNumber"])(o)||(o=a/2),this.prepareGreyScaleBlurredCircle(a,o),this.drawWithRange(i,r,a,o)}},e.prototype.color=function(t,e){return this.createAttrOption("color",t,"function"!==typeof e?e:""),this},e.prototype.clear=function(){t.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},e.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],i=1/0,r=-1/0;return t.forEach((function(t){var e=t[xM][n];e>r&&(r=e),e<i&&(i=e)})),i===r&&(i=r-1),[i,r]},e.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return Object(pM["isNumber"])(t)||(t=this.getDefaultSize()),t},e.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),i=t+e,r=n.getContext("2d");n.width=n.height=2*i,r.clearRect(0,0,n.width,n.height),r.shadowOffsetX=r.shadowOffsetY=2*i,r.shadowBlur=e,r.shadowColor="black",r.beginPath(),r.arc(-i,-i,t,0,2*Math.PI,!0),r.closePath(),r.fill()},e.prototype.drawWithRange=function(t,e,n,i){var r,a,o=this.coordinate,s=o.start,l=o.end,c=this.coordinate.getWidth(),u=this.coordinate.getHeight(),h=this.getAttribute("color"),d=h.getFields()[0];this.clearShadowCanvasCtx();var p=this.getShadowCanvasCtx();e&&(t=t.filter((function(t){return t[xM][d]<=e[1]&&t[xM][d]>=e[0]})));var f=this.scales[d];try{for(var g=Object(dM["__values"])(t),m=g.next();!m.done;m=g.next()){var v=m.value,y=this.getDrawCfg(v),b=y.x,x=y.y,_=f.scale(v[xM][d]);this.drawGrayScaleBlurredCircle(b-s.x,x-l.y,n+i,_,p)}}catch(O){r={error:O}}finally{try{m&&!m.done&&(a=g.return)&&a.call(g)}finally{if(r)throw r.error}}var w=p.getImageData(0,0,c,u);this.clearShadowCanvasCtx(),this.colorize(w),p.putImageData(w,0,0);var S=this.getImageShape();S.attr("x",s.x),S.attr("y",l.y),S.attr("width",c),S.attr("height",u),S.attr("img",p.canvas),S.set("origin",this.getShapeInfo(t))},e.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(4*t.scales[0].ticks.length),e.getHeight()/(4*t.scales[1].ticks.length))},e.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},e.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},e.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},e.prototype.drawGrayScaleBlurredCircle=function(t,e,n,i,r){var a=this.getGrayScaleBlurredCanvas();r.globalAlpha=i,r.drawImage(a,t-n,e-n)},e.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,i=this.paletteCache,r=3;r<n.length;r+=4){var a=n[r];if(Object(pM["isNumber"])(a)){var o=i[a]?i[a]:VM["a"].rgb2arr(e.gradient(a/256));n[r-3]=o[0],n[r-2]=o[1],n[r-1]=o[2],n[r]=a}}},e.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;return t=e.addShape({type:"image",attrs:{}}),this.imageShape=t,t},e.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=t.map((function(t){return t[xM]}));return Object(dM["__assign"])(Object(dM["__assign"])({},e),{mappingData:t,data:n})},e}(nI),oE=aE;function sE(t){var e,n,i,r,a,o,s=t.x,l=t.y,c=t.y0,u=t.size;Object(pM["isArray"])(l)?(e=Object(dM["__read"])(l,2),i=e[0],r=e[1]):(i=c,r=l),Object(pM["isArray"])(s)?(n=Object(dM["__read"])(s,2),a=n[0],o=n[1]):(a=s-u/2,o=s+u/2);var h=[{x:a,y:i},{x:a,y:r}];return h.push({x:o,y:r},{x:o,y:i}),h}function lE(t,e){void 0===e&&(e=!0);var n=[],i=t[0];n.push(["M",i.x,i.y]);for(var r=1,a=t.length;r<a;r++)n.push(["L",t[r].x,t[r].y]);return e&&(n.push(["L",i.x,i.y]),n.push(["z"])),n}function cE(t,e){var n=0,i=0,r=0,a=0;return Object(pM["isArray"])(t)?1===t.length?n=i=r=a=t[0]:2===t.length?(n=r=t[0],i=a=t[1]):3===t.length?(n=t[0],i=a=t[1],r=t[2]):(n=t[0],i=t[1],r=t[2],a=t[3]):n=i=r=a=t,n+i>e&&(n=n?e/(1+i/n):0,i=e-n),r+a>e&&(r=r?e/(1+a/r):0,a=e-r),[n||0,i||0,r||0,a||0]}function uE(t,e,n){var i=[];if(n.isRect){var r=n.isTransposed?{x:n.start.x,y:e[0].y}:{x:e[0].x,y:n.start.y},a=n.isTransposed?{x:n.end.x,y:e[2].y}:{x:e[3].x,y:n.end.y},o=Object(pM["get"])(t,["background","style","radius"]);if(o){var s=n.isTransposed?Math.abs(e[0].y-e[2].y):e[2].x-e[1].x,l=n.isTransposed?n.getWidth():n.getHeight(),c=Object(dM["__read"])(cE(o,Math.min(s,l)),4),u=c[0],h=c[1],d=c[2],p=c[3],f=n.isTransposed&&n.isReflect("y"),g=f?0:1,m=function(t){return f?-t:t};i.push(["M",r.x,a.y+m(u)]),0!==u&&i.push(["A",u,u,0,0,g,r.x+u,a.y]),i.push(["L",a.x-h,a.y]),0!==h&&i.push(["A",h,h,0,0,g,a.x,a.y+m(h)]),i.push(["L",a.x,r.y-m(d)]),0!==d&&i.push(["A",d,d,0,0,g,a.x-d,r.y]),i.push(["L",r.x+p,r.y]),0!==p&&i.push(["A",p,p,0,0,g,r.x,r.y-m(p)])}else i.push(["M",r.x,r.y]),i.push(["L",a.x,r.y]),i.push(["L",a.x,a.y]),i.push(["L",r.x,a.y]),i.push(["L",r.x,r.y]);i.push(["z"])}if(n.isPolar){var v=n.getCenter(),y=MT(t,n),b=y.startAngle,x=y.endAngle;if("theta"===n.type||n.isTransposed){var _=function(t){return Math.pow(t,2)};u=Math.sqrt(_(v.x-e[0].x)+_(v.y-e[0].y)),h=Math.sqrt(_(v.x-e[2].x)+_(v.y-e[2].y));i=CT(v.x,v.y,u,n.startAngle,n.endAngle,h)}else i=CT(v.x,v.y,n.getRadius(),b,x)}return i}function hE(t,e,n){var i=n.getWidth(),r=n.getHeight(),a="rect"===n.type,o=[],s=(t[2].x-t[1].x)/2,l=n.isTransposed?s*r/i:s*i/r;return"round"===e?(a?(o.push(["M",t[0].x,t[0].y+l]),o.push(["L",t[1].x,t[1].y-l]),o.push(["A",s,s,0,0,1,t[2].x,t[2].y-l]),o.push(["L",t[3].x,t[3].y+l]),o.push(["A",s,s,0,0,1,t[0].x,t[0].y+l])):(o.push(["M",t[0].x,t[0].y]),o.push(["L",t[1].x,t[1].y]),o.push(["A",s,s,0,0,1,t[2].x,t[2].y]),o.push(["L",t[3].x,t[3].y]),o.push(["A",s,s,0,0,1,t[0].x,t[0].y])),o.push(["z"])):o=lE(t),o}function dE(t,e,n){var i=[];return Object(pM["isNil"])(e)?n?i.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",(t[2].x+t[3].x)/2,(t[2].y+t[3].y)/2],["Z"]):i.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]):i.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",e[1].x,e[1].y],["L",e[0].x,e[0].y],["Z"]),i}function pE(t,e){return[e,t]}function fE(t,e,n){var i,r,a,o,s,l,c,u=Object(dM["__read"])(Object(dM["__spreadArray"])([],Object(dM["__read"])(t),!1),4),h=u[0],d=u[1],p=u[2],f=u[3],g=Object(dM["__read"])("number"===typeof n?Array(4).fill(n):n,4),m=g[0],v=g[1],y=g[2],b=g[3];e.isTransposed&&(i=Object(dM["__read"])(pE(d,f),2),d=i[0],f=i[1]),e.isReflect("y")&&(r=Object(dM["__read"])(pE(h,d),2),h=r[0],d=r[1],a=Object(dM["__read"])(pE(p,f),2),p=a[0],f=a[1]),e.isReflect("x")&&(o=Object(dM["__read"])(pE(h,f),2),h=o[0],f=o[1],s=Object(dM["__read"])(pE(d,p),2),d=s[0],p=s[1]);var x=[],_=function(t){return Math.abs(t)};return l=Object(dM["__read"])(cE([m,v,y,b],Math.min(_(f.x-h.x),_(d.y-h.y))).map((function(t){return _(t)})),4),m=l[0],v=l[1],y=l[2],b=l[3],e.isTransposed&&(c=Object(dM["__read"])([b,m,v,y],4),m=c[0],v=c[1],y=c[2],b=c[3]),h.y<d.y?(x.push(["M",f.x,f.y+y]),0!==y&&x.push(["A",y,y,0,0,0,f.x-y,f.y]),x.push(["L",h.x+b,h.y]),0!==b&&x.push(["A",b,b,0,0,0,h.x,h.y+b]),x.push(["L",d.x,d.y-m]),0!==m&&x.push(["A",m,m,0,0,0,d.x+m,d.y]),x.push(["L",p.x-v,p.y]),0!==v&&x.push(["A",v,v,0,0,0,p.x,p.y-v]),x.push(["L",f.x,f.y+y]),x.push(["z"])):f.x<h.x?(x.push(["M",p.x+v,p.y]),0!==v&&x.push(["A",v,v,0,0,0,p.x,p.y+v]),x.push(["L",f.x,f.y-y]),0!==y&&x.push(["A",y,y,0,0,0,f.x+y,f.y]),x.push(["L",h.x-b,h.y]),0!==b&&x.push(["A",b,b,0,0,0,h.x,h.y-b]),x.push(["L",d.x,d.y+m]),0!==m&&x.push(["A",m,m,0,0,0,d.x-m,d.y]),x.push(["L",p.x+v,p.y]),x.push(["z"])):(x.push(["M",d.x,d.y+m]),0!==m&&x.push(["A",m,m,0,0,1,d.x+m,d.y]),x.push(["L",p.x-v,p.y]),0!==v&&x.push(["A",v,v,0,0,1,p.x,p.y+v]),x.push(["L",f.x,f.y-y]),0!==y&&x.push(["A",y,y,0,0,1,f.x-y,f.y]),x.push(["L",h.x+b,h.y]),0!==b&&x.push(["A",b,b,0,0,1,h.x,h.y-b]),x.push(["L",d.x,d.y+m]),x.push(["z"])),x}qj("interval",{defaultShapeType:"rect",getDefaultPoints:function(t){return sE(t)}});Zj("interval","rect",{draw:function(t,e){var n,i=II(t,!1,!0),r=e,a=null===t||void 0===t?void 0:t.background;if(a){r=e.addGroup({name:"interval-group"});var o=EI(t),s=uE(t,this.parsePoints(t.points),this.coordinate);r.addShape("path",{attrs:Object(dM["__assign"])(Object(dM["__assign"])({},o),{path:s}),capture:!1,zIndex:-1,name:Dj})}n=i.radius&&this.coordinate.isRect?fE(this.parsePoints(t.points),this.coordinate,i.radius):this.parsePath(hE(t.points,i.lineCap,this.coordinate));var l=r.addShape("path",{attrs:Object(dM["__assign"])(Object(dM["__assign"])({},i),{path:n}),name:"interval"});return a?r:l},getMarker:function(t){var e=t.color,n=t.isInPolar;return n?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}});function gE(t,e){var n=t.length,i=t;Object(pM["isString"])(i[0])&&(i=t.map((function(t){return e.translate(t)})));for(var r=i[1]-i[0],a=2;a<n;a++){var o=i[a]-i[a-1];r>o&&(r=o)}return r}function mE(t,e){if(e){var n=Object(pM["flatten"])(t),i=Object(pM["valuesOfKey"])(n,e);return i.length}return t.length}function vE(t){var e=t.theme,n=t.coordinate,i=t.getXScale(),r=i.values,a=t.beforeMappingData,o=r.length,s=DT(t.coordinate),l=t.intervalPadding,c=t.dodgePadding,u=t.maxColumnWidth||e.maxColumnWidth,h=t.minColumnWidth||e.minColumnWidth,d=t.columnWidthRatio||e.columnWidthRatio,p=t.multiplePieWidthRatio||e.multiplePieWidthRatio,f=t.roseWidthRatio||e.roseWidthRatio;if(i.isLinear&&r.length>1){r.sort();var g=gE(r,i);o=(i.max-i.min)/g,r.length>o&&(o=r.length)}var m=i.range,v=1/o,y=1;if(n.isPolar?y=n.isTransposed&&o>1?p:f:(i.isLinear&&(v*=m[1]-m[0]),y=d),!Object(pM["isNil"])(l)&&l>=0){var b=l/s;v=(1-(o-1)*b)/o}else v*=y;if(t.getAdjust("dodge")){var x=t.getAdjust("dodge"),_=x.dodgeBy,w=mE(a,_);if(!Object(pM["isNil"])(c)&&c>=0){var S=c/s;v=(v-S*(w-1))/w}else!Object(pM["isNil"])(l)&&l>=0?(v*=y,v/=w):v/=w;v=v>=0?v:0}if(!Object(pM["isNil"])(u)&&u>=0){var O=u/s;v>O&&(v=O)}if(!Object(pM["isNil"])(h)&&h>=0){var C=h/s;v<C&&(v=C)}return v}var yE=function(t){function e(e){var n=t.call(this,e)||this;n.type="interval",n.shapeType="interval",n.generatePoints=!0;var i=e.background;return n.background=i,n}return Object(dM["__extends"])(e,t),e.prototype.createShapePointsCfg=function(e){var n,i=t.prototype.createShapePointsCfg.call(this,e),r=this.getAttribute("size");if(r){n=this.getAttributeValues(r,e)[0];var a=this.coordinate,o=DT(a);n/=o}else this.defaultSize||(this.defaultSize=vE(this)),n=this.defaultSize;return i.size=n,i},e.prototype.adjustScale=function(){t.prototype.adjustScale.call(this);var e=this.getYScale();if("theta"===this.coordinate.type)e.change({nice:!1,min:0,max:QT(e)});else{var n=this.scaleDefs,i=e.field,r=e.min,a=e.max,o=e.type;"time"!==o&&(r>0&&!Object(pM["get"])(n,[i,"min"])&&e.change({min:0}),a<=0&&!Object(pM["get"])(n,[i,"max"])&&e.change({max:0}))}},e.prototype.getDrawCfg=function(e){var n=t.prototype.getDrawCfg.call(this,e);return n.background=this.background,n},e}(nI),bE=yE,xE=function(t){function e(e){var n=t.call(this,e)||this;n.type="line";var i=e.sortable,r=void 0!==i&&i;return n.sortable=r,n}return Object(dM["__extends"])(e,t),e}(JI),_E=xE,wE=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],SE=["cross","tick","plus","hyphen","line"];function OE(t,e,n,i,r){var a,o,s=II(e,r,!r,"r"),l=t.parsePoints(e.points),c=l[0];if(e.isStack)c=l[1];else if(l.length>1){var u=n.addGroup();try{for(var h=Object(dM["__values"])(l),d=h.next();!d.done;d=h.next()){var p=d.value;u.addShape({type:"marker",attrs:Object(dM["__assign"])(Object(dM["__assign"])(Object(dM["__assign"])({},s),{symbol:yI[i]||i}),p)})}}catch(f){a={error:f}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(a)throw a.error}}return u}return n.addShape({type:"marker",attrs:Object(dM["__assign"])(Object(dM["__assign"])(Object(dM["__assign"])({},s),{symbol:yI[i]||i}),c)})}qj("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(t){return PI(t)}});Object(pM["each"])(wE,(function(t){Zj("point","hollow-".concat(t),{draw:function(e,n){return OE(this,e,n,t,!0)},getMarker:function(e){var n=e.color;return{symbol:yI[t]||t,style:{r:4.5,stroke:n,fill:null}}}})}));var CE=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="point",e.shapeType="point",e.generatePoints=!0,e}return Object(dM["__extends"])(e,t),e.prototype.getDrawCfg=function(e){var n=t.prototype.getDrawCfg.call(this,e);return Object(dM["__assign"])(Object(dM["__assign"])({},n),{isStack:!!this.getAdjust("stack")})},e}(nI),AE=CE;function ME(t){var e=t[0],n=1,i=[["M",e.x,e.y]];while(n<t.length){var r=t[n];r.x===t[n-1].x&&r.y===t[n-1].y||(i.push(["L",r.x,r.y]),r.x===e.x&&r.y===e.y&&n<t.length-1&&(e=t[n+1],i.push(["Z"]),i.push(["M",e.x,e.y]),n++)),n++}return Object(pM["isEqual"])(Object(pM["last"])(i),e)||i.push(["L",e.x,e.y]),i.push(["Z"]),i}qj("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(t){var e=[];return Object(pM["each"])(t.x,(function(n,i){var r=t.y[i];e.push({x:n,y:r})})),e}});Zj("polygon","polygon",{draw:function(t,e){if(!Object(pM["isEmpty"])(t.points)){var n=II(t,!0,!0),i=this.parsePath(ME(t.points));return e.addShape("path",{attrs:Object(dM["__assign"])(Object(dM["__assign"])({},n),{path:i}),name:"polygon"})}},getMarker:function(t){var e=t.color;return{symbol:"square",style:{r:4,fill:e}}}});var TE=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.shapeType="polygon",e.generatePoints=!0,e}return Object(dM["__extends"])(e,t),e.prototype.createShapePointsCfg=function(e){var n,i=t.prototype.createShapePointsCfg.call(this,e),r=i.x,a=i.y;if(!Object(pM["isArray"])(r)||!Object(pM["isArray"])(a)){var o=this.getXScale(),s=this.getYScale(),l=o.values.length,c=s.values.length,u=.5/l,h=.5/c;o.isCategory&&s.isCategory?(r=[r-u,r-u,r+u,r+u],a=[a-h,a+h,a+h,a-h]):Object(pM["isArray"])(r)?(n=r,r=[n[0],n[0],n[1],n[1]],a=[a-h/2,a+h/2,a+h/2,a-h/2]):Object(pM["isArray"])(a)&&(n=a,a=[n[0],n[1],n[1],n[0]],r=[r-u/2,r-u/2,r+u/2,r+u/2]),i.x=r,i.y=a}return i},e}(nI),kE=TE,LE=(qj("schema",{defaultShapeType:""}),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="schema",e.shapeType="schema",e.generatePoints=!0,e}return Object(dM["__extends"])(e,t),e.prototype.createShapePointsCfg=function(e){var n,i=t.prototype.createShapePointsCfg.call(this,e),r=this.getAttribute("size");if(r){n=this.getAttributeValues(r,e)[0];var a=this.coordinate,o=DT(a);n/=o}else this.defaultSize||(this.defaultSize=vE(this)),n=this.defaultSize;return i.size=n,i},e}(nI)),jE=LE;function IE(t){if(!Object(pM["isArray"])(t))return[];var e=Object(pM["max"])(t);return Object(pM["map"])(t,(function(t){return t/e}))}qj("violin",{defaultShapeType:"violin",getDefaultPoints:function(t){var e=t.size/2,n=[],i=IE(t._size);return Object(pM["each"])(t.y,(function(r,a){var o=i[a]*e,s=0===a,l=a===t.y.length-1;n.push({isMin:s,isMax:l,x:t.x-o,y:r}),n.unshift({isMin:s,isMax:l,x:t.x+o,y:r})})),n}});Zj("violin","violin",{draw:function(t,e){var n=II(t,!0,!0),i=this.parsePath(LI(t.points));return e.addShape("path",{attrs:Object(dM["__assign"])(Object(dM["__assign"])({},n),{path:i}),name:"violin"})},getMarker:function(t){var e=t.color;return{symbol:"circle",style:{r:4,fill:e}}}});var EE=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="violin",e.shapeType="violin",e.generatePoints=!0,e}return Object(dM["__extends"])(e,t),e.prototype.createShapePointsCfg=function(e){var n,i=t.prototype.createShapePointsCfg.call(this,e),r=this.getAttribute("size");if(r){n=this.getAttributeValues(r,e)[0];var a=this.coordinate,o=DT(a);n/=o}else this.defaultSize||(this.defaultSize=vE(this)),n=this.defaultSize;return i.size=n,i._size=Object(pM["get"])(e[xM],[this._sizeField]),i},e.prototype.initAttributes=function(){var e=this.attributeOption,n=e.size?e.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=n,delete e.size,t.prototype.initAttributes.call(this)},e}(nI),PE=EE;function RE(t,e){return["C",1*t.x/2+1*e.x/2,t.y,1*t.x/2+1*e.x/2,e.y,e.x,e.y]}function DE(t,e){var n=[];n.push({x:e.x,y:e.y}),n.push(t);var i=["Q"];return Object(pM["each"])(n,(function(t){i.push(t.x,t.y)})),i}function FE(t,e,n){var i=DE(e,n),r=[["M",t.x,t.y]];return r.push(i),r}function NE(t,e){var n=DE(t[1],e),i=DE(t[3],e),r=[["M",t[0].x,t[0].y]];return r.push(i),r.push(["L",t[3].x,t[3].y]),r.push(["L",t[2].x,t[2].y]),r.push(n),r.push(["L",t[1].x,t[1].y]),r.push(["L",t[0].x,t[0].y]),r.push(["Z"]),r}function BE(t,e){var n=RE(t,e),i=[["M",t.x,t.y]];return i.push(n),i}Zj("area","line",{draw:function(t,e){var n=$I(t,!0,!1,this),i=e.addShape({type:"path",attrs:n,name:"area"});return i},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}}),Zj("area","smooth",{draw:function(t,e){var n=this.coordinate,i=$I(t,!1,!0,this,tE(n)),r=e.addShape({type:"path",attrs:i,name:"area"});return r},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:e,fillOpacity:1}}}}),Zj("area","smooth-line",{draw:function(t,e){var n=this.coordinate,i=$I(t,!0,!0,this,tE(n)),r=e.addShape({type:"path",attrs:i,name:"area"});return r},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}}),Zj("edge","arc",{draw:function(t,e){var n,i=II(t,!0,!1,"lineWidth"),r=t.points,a=r.length>2?"weight":"normal";if(t.isInCircle){var o={x:0,y:1};return"normal"===a?n=FE(r[0],r[1],o):(i.fill=i.stroke,n=NE(r,o)),n=this.parsePath(n),e.addShape("path",{attrs:Object(dM["__assign"])(Object(dM["__assign"])({},i),{path:n})})}if("normal"===a)return r=this.parsePoints(r),n=AT((r[1].x+r[0].x)/2,r[0].y,Math.abs(r[1].x-r[0].x)/2,Math.PI,2*Math.PI),e.addShape("path",{attrs:Object(dM["__assign"])(Object(dM["__assign"])({},i),{path:n})});var s=RE(r[1],r[3]),l=RE(r[2],r[0]);return n=[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],s,["L",r[3].x,r[3].y],["L",r[2].x,r[2].y],l,["Z"]],n=this.parsePath(n),i.fill=i.stroke,e.addShape("path",{attrs:Object(dM["__assign"])(Object(dM["__assign"])({},i),{path:n})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),Zj("edge","smooth",{draw:function(t,e){var n=II(t,!0,!1,"lineWidth"),i=t.points,r=this.parsePath(BE(i[0],i[1]));return e.addShape("path",{attrs:Object(dM["__assign"])(Object(dM["__assign"])({},n),{path:r})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});var VE=1/3;function GE(t,e){var n=[];n.push({x:t.x,y:t.y*(1-VE)+e.y*VE}),n.push({x:e.x,y:t.y*(1-VE)+e.y*VE}),n.push(e);var i=[["M",t.x,t.y]];return Object(pM["each"])(n,(function(t){i.push(["L",t.x,t.y])})),i}function zE(t){var e=t.x,n=t.y,i=t.y0;return Object(pM["isArray"])(n)?n.map((function(t,n){return{x:Object(pM["isArray"])(e)?e[n]:e,y:t}})):[{x:e,y:i},{x:e,y:n}]}function UE(t){var e,n,i,r=t.x,a=t.y,o=t.y0,s=t.size;Object(pM["isArray"])(a)?(e=Object(dM["__read"])(a,2),n=e[0],i=e[1]):(n=o,i=a);var l=r+s/2,c=r-s/2;return[{x:r,y:n},{x:r,y:i},{x:c,y:n},{x:l,y:n},{x:c,y:i},{x:l,y:i}]}function HE(t){return[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["M",t[4].x,t[4].y],["L",t[5].x,t[5].y]]}Zj("edge","vhv",{draw:function(t,e){var n=II(t,!0,!1,"lineWidth"),i=t.points,r=this.parsePath(GE(i[0],i[1]));return e.addShape("path",{attrs:Object(dM["__assign"])(Object(dM["__assign"])({},n),{path:r})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),Zj("interval","funnel",{getPoints:function(t){return t.size=2*t.size,sE(t)},draw:function(t,e){var n=II(t,!1,!0),i=this.parsePath(dE(t.points,t.nextPoints,!1)),r=e.addShape("path",{attrs:Object(dM["__assign"])(Object(dM["__assign"])({},n),{path:i}),name:"interval"});return r},getMarker:function(t){var e=t.color;return{symbol:"square",style:{r:4,fill:e}}}}),Zj("interval","hollow-rect",{draw:function(t,e){var n=II(t,!0,!1),i=e,r=null===t||void 0===t?void 0:t.background;if(r){i=e.addGroup();var a=EI(t),o=uE(t,this.parsePoints(t.points),this.coordinate);i.addShape("path",{attrs:Object(dM["__assign"])(Object(dM["__assign"])({},a),{path:o}),capture:!1,zIndex:-1,name:Dj})}var s=this.parsePath(lE(t.points)),l=i.addShape("path",{attrs:Object(dM["__assign"])(Object(dM["__assign"])({},n),{path:s}),name:"interval"});return r?i:l},getMarker:function(t){var e=t.color,n=t.isInPolar;return n?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}}),Zj("interval","line",{getPoints:function(t){return zE(t)},draw:function(t,e){var n=II(t,!0,!1,"lineWidth"),i=IT(Object(dM["__assign"])({},n),["fill"]),r=this.parsePath(lE(t.points,!1)),a=e.addShape("path",{attrs:Object(dM["__assign"])(Object(dM["__assign"])({},i),{path:r}),name:"interval"});return a},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:e}}}}),Zj("interval","pyramid",{getPoints:function(t){return t.size=2*t.size,sE(t)},draw:function(t,e){var n=II(t,!1,!0),i=this.parsePath(dE(t.points,t.nextPoints,!0)),r=e.addShape("path",{attrs:Object(dM["__assign"])(Object(dM["__assign"])({},n),{path:i}),name:"interval"});return r},getMarker:function(t){var e=t.color;return{symbol:"square",style:{r:4,fill:e}}}}),Zj("interval","tick",{getPoints:function(t){return UE(t)},draw:function(t,e){var n=II(t,!0,!1),i=this.parsePath(HE(t.points)),r=e.addShape("path",{attrs:Object(dM["__assign"])(Object(dM["__assign"])({},n),{path:i}),name:"interval"});return r},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:e}}}});var WE=function(t,e,n){var i,r=t.x,a=t.y,o=e.x,s=e.y;switch(n){case"hv":i=[{x:o,y:a}];break;case"vh":i=[{x:r,y:s}];break;case"hvh":var l=(o+r)/2;i=[{x:l,y:a},{x:l,y:s}];break;case"vhv":var c=(a+s)/2;i=[{x:r,y:c},{x:o,y:c}];break;default:break}return i};function YE(t,e){var n=[];return Object(pM["each"])(t,(function(i,r){var a=t[r+1];if(n.push(i),a){var o=WE(i,a,e);n=n.concat(o)}})),n}function XE(t){return t.map((function(t,e){return 0===e?["M",t.x,t.y]:["L",t.x,t.y]}))}function qE(t,e){var n=kI(t.points,t.connectNulls,t.showSinglePoint),i=[];return Object(pM["each"])(n,(function(t){var n=YE(t,e);i=i.concat(XE(n))})),Object(dM["__assign"])(Object(dM["__assign"])({},II(t,!0,!1,"lineWidth")),{path:i})}function ZE(t){var e=Object(pM["isArray"])(t)?t:[t],n=e[0],i=e[e.length-1],r=e.length>1?e[1]:n,a=e.length>3?e[3]:i,o=e.length>2?e[2]:r;return{min:n,max:i,min1:r,max1:a,median:o}}function QE(t,e,n){var i,r=n/2;if(Object(pM["isArray"])(e)){var a=ZE(e),o=a.min,s=a.max,l=a.median,c=a.min1,u=a.max1,h=t-r,d=t+r;i=[[h,s],[d,s],[t,s],[t,u],[h,c],[h,u],[d,u],[d,c],[t,c],[t,o],[h,o],[d,o],[h,l],[d,l]]}else{e=Object(pM["isNil"])(e)?.5:e;var p=ZE(t),f=(o=p.min,s=p.max,l=p.median,c=p.min1,u=p.max1,e-r),g=e+r;i=[[o,f],[o,g],[o,e],[c,e],[c,f],[c,g],[u,g],[u,f],[u,e],[s,e],[s,f],[s,g],[l,f],[l,g]]}return i.map((function(t){return{x:t[0],y:t[1]}}))}function JE(t){return[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["M",t[4].x,t[4].y],["L",t[5].x,t[5].y],["L",t[6].x,t[6].y],["L",t[7].x,t[7].y],["L",t[4].x,t[4].y],["Z"],["M",t[8].x,t[8].y],["L",t[9].x,t[9].y],["M",t[10].x,t[10].y],["L",t[11].x,t[11].y],["M",t[12].x,t[12].y],["L",t[13].x,t[13].y]]}function KE(t){var e=Object(pM["isArray"])(t)?t:[t],n=e.sort((function(t,e){return e-t}));return jT(n,4,n[n.length-1])}function $E(t,e,n){var i=KE(e);return[{x:t,y:i[0]},{x:t,y:i[1]},{x:t-n/2,y:i[2]},{x:t-n/2,y:i[1]},{x:t+n/2,y:i[1]},{x:t+n/2,y:i[2]},{x:t,y:i[2]},{x:t,y:i[3]}]}function tP(t){return[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["M",t[2].x,t[2].y],["L",t[3].x,t[3].y],["L",t[4].x,t[4].y],["L",t[5].x,t[5].y],["Z"],["M",t[6].x,t[6].y],["L",t[7].x,t[7].y]]}function eP(t,e){var n=Math.abs(t[0].x-t[2].x),i=Math.abs(t[0].y-t[2].y),r=Math.min(n,i);e&&(r=Object(pM["clamp"])(e,0,Math.min(n,i))),r/=2;var a=(t[0].x+t[2].x)/2,o=(t[0].y+t[2].y)/2;return{x:a-r,y:o-r,width:2*r,height:2*r}}Object(pM["each"])(["hv","vh","hvh","vhv"],(function(t){Zj("line",t,{draw:function(e,n){var i=qE(e,t),r=n.addShape({type:"path",attrs:i,name:"line"});return r},getMarker:function(e){return DI(e,t)}})})),Object(pM["each"])(SE,(function(t){Zj("point",t,{draw:function(e,n){return OE(this,e,n,t,!0)},getMarker:function(e){var n=e.color;return{symbol:yI[t],style:{r:4.5,stroke:n,fill:null}}}})})),Zj("point","image",{draw:function(t,e){var n,i,r=II(t,!1,!1,"r").r,a=this.parsePoints(t.points),o=a[0];if(t.isStack)o=a[1];else if(a.length>1){var s=e.addGroup();try{for(var l=Object(dM["__values"])(a),c=l.next();!c.done;c=l.next()){var u=c.value;s.addShape("image",{attrs:{x:u.x-r/2,y:u.y-r,width:r,height:r,img:t.shape[1]}})}}catch(h){n={error:h}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}return s}return e.addShape("image",{attrs:{x:o.x-r/2,y:o.y-r,width:r,height:r,img:t.shape[1]}})},getMarker:function(t){var e=t.color;return{symbol:"circle",style:{r:4.5,fill:e}}}}),Object(pM["each"])(wE,(function(t){Zj("point",t,{draw:function(e,n){return OE(this,e,n,t,!1)},getMarker:function(e){var n=e.color;return{symbol:yI[t]||t,style:{r:4.5,fill:n}}}})})),Zj("schema","box",{getPoints:function(t){var e=t.x,n=t.y,i=t.size;return QE(e,n,i)},draw:function(t,e){var n=II(t,!0,!1),i=this.parsePath(JE(t.points)),r=e.addShape("path",{attrs:Object(dM["__assign"])(Object(dM["__assign"])({},n),{path:i,name:"schema"})});return r},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){var i=[e-6,e-3,e,e+3,e+6],r=QE(t,i,n);return[["M",r[0].x+1,r[0].y],["L",r[1].x-1,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y],["L",r[6].x,r[6].y],["L",r[7].x,r[7].y],["L",r[4].x,r[4].y],["Z"],["M",r[8].x,r[8].y],["L",r[9].x,r[9].y],["M",r[10].x+1,r[10].y],["L",r[11].x-1,r[11].y],["M",r[12].x,r[12].y],["L",r[13].x,r[13].y]]},style:{r:6,lineWidth:1,stroke:e}}}}),Zj("schema","candle",{getPoints:function(t){var e=t.x,n=t.y,i=t.size;return $E(e,n,i)},draw:function(t,e){var n=II(t,!0,!0),i=this.parsePath(tP(t.points)),r=e.addShape("path",{attrs:Object(dM["__assign"])(Object(dM["__assign"])({},n),{path:i,name:"schema"})});return r},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){var i=[e+7.5,e+3,e-3,e-7.5],r=$E(t,i,n);return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["L",r[4].x,r[4].y],["L",r[5].x,r[5].y],["Z"],["M",r[6].x,r[6].y],["L",r[7].x,r[7].y]]},style:{lineWidth:1,stroke:e,fill:e,r:6}}}}),Zj("polygon","square",{draw:function(t,e){if(!Object(pM["isEmpty"])(t.points)){var n=II(t,!0,!0),i=this.parsePoints(t.points);return e.addShape("rect",{attrs:Object(dM["__assign"])(Object(dM["__assign"])({},n),eP(i,t.size)),name:"polygon"})}},getMarker:function(t){var e=t.color;return{symbol:"square",style:{r:4,fill:e}}}}),Zj("violin","smooth",{draw:function(t,e){var n=II(t,!0,!0),i=this.parsePath(jI(t.points));return e.addShape("path",{attrs:Object(dM["__assign"])(Object(dM["__assign"])({},n),{path:i})})},getMarker:function(t){var e=t.color;return{symbol:"circle",style:{stroke:null,r:4,fill:e}}}}),Zj("violin","hollow",{draw:function(t,e){var n=II(t,!0,!1),i=this.parsePath(LI(t.points));return e.addShape("path",{attrs:Object(dM["__assign"])(Object(dM["__assign"])({},n),{path:i})})},getMarker:function(t){var e=t.color;return{symbol:"circle",style:{r:4,fill:null,stroke:e}}}}),Zj("violin","hollow-smooth",{draw:function(t,e){var n=II(t,!0,!1),i=this.parsePath(jI(t.points));return e.addShape("path",{attrs:Object(dM["__assign"])(Object(dM["__assign"])({},n),{path:i})})},getMarker:function(t){var e=t.color;return{symbol:"circle",style:{r:4,fill:null,stroke:e}}}});var nP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dM["__extends"])(e,t),e.prototype.getLabelValueDir=function(t){var e="y",n=t.points;return n[0][e]<=n[2][e]?1:-1},e.prototype.getLabelOffsetPoint=function(e,n,i,r){var a,o=t.prototype.getLabelOffsetPoint.call(this,e,n,i),s=this.getCoordinate(),l=s.isTransposed,c=l?"x":"y",u=this.getLabelValueDir(e.mappingData);return o=Object(dM["__assign"])(Object(dM["__assign"])({},o),(a={},a[c]=o[c]*u,a)),s.isReflect("x")&&(o=Object(dM["__assign"])(Object(dM["__assign"])({},o),{x:-1*o.x})),s.isReflect("y")&&(o=Object(dM["__assign"])(Object(dM["__assign"])({},o),{y:-1*o.y})),o},e.prototype.getThemedLabelCfg=function(t){var e=this.geometry,n=this.getDefaultLabelCfg(),i=e.theme;return Object(pM["deepMix"])({},n,i.labels,"middle"===t.position?{offset:0}:{},t)},e.prototype.setLabelPosition=function(t,e,n,i){var r,a,o,s,l=this.getCoordinate(),c=l.isTransposed,u=e.points,h=l.convert(u[0]),d=l.convert(u[2]),p=this.getLabelValueDir(e),f=Object(pM["isArray"])(e.shape)?e.shape[0]:e.shape;if("funnel"===f||"pyramid"===f){var g=Object(pM["get"])(e,"nextPoints"),m=Object(pM["get"])(e,"points");if(g){var v=l.convert(m[0]),y=l.convert(m[1]),b=l.convert(g[0]),x=l.convert(g[1]);c?(r=Math.min(b.y,v.y),o=Math.max(b.y,v.y),a=(y.x+x.x)/2,s=(v.x+b.x)/2):(r=Math.min((y.y+x.y)/2,(v.y+b.y)/2),o=Math.max((y.y+x.y)/2,(v.y+b.y)/2),a=x.x,s=v.x)}else r=Math.min(d.y,h.y),o=Math.max(d.y,h.y),a=d.x,s=h.x}else r=Math.min(d.y,h.y),o=Math.max(d.y,h.y),a=d.x,s=h.x;switch(i){case"right":t.x=a,t.y=(r+o)/2,t.textAlign=Object(pM["get"])(t,"textAlign",p>0?"left":"right");break;case"left":t.x=s,t.y=(r+o)/2,t.textAlign=Object(pM["get"])(t,"textAlign",p>0?"left":"right");break;case"bottom":c&&(t.x=(a+s)/2),t.y=o,t.textAlign=Object(pM["get"])(t,"textAlign","center"),t.textBaseline=Object(pM["get"])(t,"textBaseline",p>0?"bottom":"top");break;case"middle":c&&(t.x=(a+s)/2),t.y=(r+o)/2,t.textAlign=Object(pM["get"])(t,"textAlign","center"),t.textBaseline=Object(pM["get"])(t,"textBaseline","middle");break;case"top":c&&(t.x=(a+s)/2),t.y=r,t.textAlign=Object(pM["get"])(t,"textAlign","center"),t.textBaseline=Object(pM["get"])(t,"textBaseline",p>0?"bottom":"top");break;default:break}},e}(mI),iP=nP,rP=Math.PI/2,aP=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dM["__extends"])(e,t),e.prototype.getLabelOffset=function(t){var e=this.getCoordinate(),n=0;if(Object(pM["isNumber"])(t))n=t;else if(Object(pM["isString"])(t)&&-1!==t.indexOf("%")){var i=e.getRadius();e.innerRadius>0&&(i*=1-e.innerRadius),n=.01*parseFloat(t)*i}return n},e.prototype.getLabelItems=function(e){var n=t.prototype.getLabelItems.call(this,e),i=this.geometry.getYScale();return Object(pM["map"])(n,(function(t){if(t&&i){var e=i.scale(Object(pM["get"])(t.data,i.field));return Object(dM["__assign"])(Object(dM["__assign"])({},t),{percent:e})}return t}))},e.prototype.getLabelAlign=function(t){var e,n=this.getCoordinate();if(t.labelEmit)e=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(n.isTransposed){var i=n.getCenter(),r=t.offset;e=Math.abs(t.x-i.x)<1?"center":t.angle>Math.PI||t.angle<=0?r>0?"left":"right":r>0?"right":"left"}else e="center";return e},e.prototype.getLabelPoint=function(t,e,n){var i,r=1,a=t.content[n];this.isToMiddle(e)?i=this.getMiddlePoint(e.points):(1===t.content.length&&0===n?n=1:0===n&&(r=-1),i=this.getArcPoint(e,n));var o=t.offset*r,s=this.getPointAngle(i),l=t.labelEmit,c=this.getCirclePoint(s,o,i,l);return 0===c.r?c.content="":(c.content=a,c.angle=s,c.color=e.color),c.rotate=t.autoRotate?this.getLabelRotate(s,o,l):t.rotate,c.start={x:i.x,y:i.y},c},e.prototype.getArcPoint=function(t,e){return void 0===e&&(e=0),Object(pM["isArray"])(t.x)||Object(pM["isArray"])(t.y)?{x:Object(pM["isArray"])(t.x)?t.x[e]:t.x,y:Object(pM["isArray"])(t.y)?t.y[e]:t.y}:{x:t.x,y:t.y}},e.prototype.getPointAngle=function(t){return VT(this.getCoordinate(),t)},e.prototype.getCirclePoint=function(t,e,n,i){var r=this.getCoordinate(),a=r.getCenter(),o=NT(r,n);if(0===o)return Object(dM["__assign"])(Object(dM["__assign"])({},a),{r:o});var s=t;if(r.isTransposed&&o>e&&!i){var l=Math.asin(e/(2*o));s=t+2*l}else o+=e;return{x:a.x+o*Math.cos(s),y:a.y+o*Math.sin(s),r:o}},e.prototype.getLabelRotate=function(t,e,n){var i=t+rP;return n&&(i-=rP),i&&(i>rP?i-=Math.PI:i<-rP&&(i+=Math.PI)),i},e.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,i={x:0,y:0};return Object(pM["each"])(t,(function(t){i.x+=t.x,i.y+=t.y})),i.x/=n,i.y/=n,i=e.convert(i),i},e.prototype.isToMiddle=function(t){return t.x.length>2},e}(mI),oP=aP,sP=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultLayout="distribute",e}return Object(dM["__extends"])(e,t),e.prototype.getDefaultLabelCfg=function(e,n){var i=t.prototype.getDefaultLabelCfg.call(this,e,n);return Object(pM["deepMix"])({},i,Object(pM["get"])(this.geometry.theme,"pieLabels",{}))},e.prototype.getLabelOffset=function(e){return t.prototype.getLabelOffset.call(this,e)||0},e.prototype.getLabelRotate=function(t,e,n){var i;return e<0&&(i=t,i>Math.PI/2&&(i-=Math.PI),i<-Math.PI/2&&(i+=Math.PI)),i},e.prototype.getLabelAlign=function(t){var e,n=this.getCoordinate(),i=n.getCenter();return e=t.angle<=Math.PI/2&&t.x>=i.x?"left":"right",t.offset<=0&&(e="right"===e?"left":"right"),e},e.prototype.getArcPoint=function(t){return t},e.prototype.getPointAngle=function(t){var e,n=this.getCoordinate(),i={x:Object(pM["isArray"])(t.x)?t.x[0]:t.x,y:t.y[0]},r={x:Object(pM["isArray"])(t.x)?t.x[1]:t.x,y:t.y[1]},a=VT(n,i);if(t.points&&t.points[0].y===t.points[1].y)e=a;else{var o=VT(n,r);a>=o&&(o+=2*Math.PI),e=a+(o-a)/2}return e},e.prototype.getCirclePoint=function(t,e){var n=this.getCoordinate(),i=n.getCenter(),r=n.getRadius()+e;return Object(dM["__assign"])(Object(dM["__assign"])({},OT(i.x,i.y,r,t)),{angle:t,r:r})},e}(oP),lP=sP,cP=4;function uP(t,e,n,i,r,a){var o,s,l,c=!0,u=i.start,h=i.end,d=Math.min(u.y,h.y),p=Math.abs(u.y-h.y),f=0,g=Number.MIN_VALUE,m=e.map((function(t){return t.y>f&&(f=t.y),t.y<g&&(g=t.y),{size:n,targets:[t.y-d]}}));g-=d,f-d>p&&(p=f-d);while(c){m.forEach((function(t){var e=(Math.min.apply(g,t.targets)+Math.max.apply(g,t.targets))/2;t.pos=Math.min(Math.max(g,e-t.size/2),p-t.size)})),c=!1,l=m.length;while(l--)if(l>0){var v=m[l-1],y=m[l];v.pos+v.size>y.pos&&(v.size+=y.size,v.targets=v.targets.concat(y.targets),v.pos+v.size>p&&(v.pos=p-v.size),m.splice(l,1),c=!0)}}l=0,m.forEach((function(t){var i=d+n/2;t.targets.forEach((function(){e[l].y=t.pos+i,i+=n,l++}))}));var b={};try{for(var x=Object(dM["__values"])(t),_=x.next();!_.done;_=x.next()){var w=_.value;b[w.get("id")]=w}}catch(S){o={error:S}}finally{try{_&&!_.done&&(s=x.return)&&s.call(x)}finally{if(o)throw o.error}}e.forEach((function(t){var e=t.r*t.r,n=Math.pow(Math.abs(t.y-r.y),2);if(e<n)t.x=r.x;else{var i=Math.sqrt(e-n);t.x=a?r.x+i:r.x-i}var o=b[t.id];o.attr("x",t.x),o.attr("y",t.y);var s=Object(pM["find"])(o.getChildren(),(function(t){return"text"===t.get("type")}));s&&(s.attr("y",t.y),s.attr("x",t.x))}))}function hP(t,e,n,i){if(t.length&&e.length){var r=t[0]?t[0].offset:0,a=e[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(r>0){var l=14,c=o+r,u=2*c+2*l,h={start:a.start,end:a.end},d=[[],[]];t.forEach((function(t){t&&("right"===t.textAlign?d[0].push(t):d[1].push(t))})),d.forEach((function(t,n){var i=u/l;t.length>i&&(t.sort((function(t,e){return e["..percent"]-t["..percent"]})),t.splice(i,t.length-i)),t.sort((function(t,e){return t.y-e.y})),uP(e,t,l,h,s,n)}))}Object(pM["each"])(t,(function(t){if(t&&t.labelLine){var e=t.offset,n=t.angle,i=OT(s.x,s.y,o,n),r=OT(s.x,s.y,o+e/2,n),a=t.x+Object(pM["get"])(t,"offsetX",0),l=t.y+Object(pM["get"])(t,"offsetY",0),c={x:a-Math.cos(n)*cP,y:l-Math.sin(n)*cP};Object(pM["isObject"])(t.labelLine)||(t.labelLine={}),t.labelLine.path=["M ".concat(i.x),"".concat(i.y," Q").concat(r.x),"".concat(r.y," ").concat(c.x),c.y].join(",")}}))}}function dP(t,e,n){var i=t.filter((function(t){return!t.invisible}));i.sort((function(t,e){return t.y-e.y}));var r,a=!0,o=n.minY,s=n.maxY,l=Math.abs(o-s),c=0,u=Number.MIN_VALUE,h=i.map((function(t){return t.y>c&&(c=t.y),t.y<u&&(u=t.y),{content:t.content,size:e,targets:[t.y-o],pos:null}}));u-=o,c-o>l&&(l=c-o);while(a){h.forEach((function(t){var e=(Math.min.apply(u,t.targets)+Math.max.apply(u,t.targets))/2;t.pos=Math.min(Math.max(u,e-t.size/2),l-t.size),t.pos=Math.max(0,t.pos)})),a=!1,r=h.length;while(r--)if(r>0){var d=h[r-1],p=h[r];d.pos+d.size>p.pos&&(d.size+=p.size,d.targets=d.targets.concat(p.targets),d.pos+d.size>l&&(d.pos=l-d.size),h.splice(r,1),a=!0)}}r=0,h.forEach((function(t){var n=o+e/2;t.targets.forEach((function(){i[r].y=t.pos+n,n+=e,r++}))}))}var pP=4;function fP(t,e){var n=e.getCenter(),i=e.getRadius();if(t&&t.labelLine){var r=t.angle,a=t.offset,o=OT(n.x,n.y,i,r),s=t.x+Object(pM["get"])(t,"offsetX",0)*(Math.cos(r)>0?1:-1),l=t.y+Object(pM["get"])(t,"offsetY",0)*(Math.sin(r)>0?1:-1),c={x:s-Math.cos(r)*pP,y:l-Math.sin(r)*pP},u=t.labelLine.smooth,h=[],d=c.x-n.x,p=c.y-n.y,f=Math.atan(p/d);if(d<0&&(f+=Math.PI),!1===u){Object(pM["isObject"])(t.labelLine)||(t.labelLine={});var g=0;(r<0&&r>-Math.PI/2||r>1.5*Math.PI)&&c.y>o.y&&(g=1),r>=0&&r<Math.PI/2&&c.y>o.y&&(g=1),r>=Math.PI/2&&r<Math.PI&&o.y>c.y&&(g=1),(r<-Math.PI/2||r>=Math.PI&&r<1.5*Math.PI)&&o.y>c.y&&(g=1);var m=a/2>4?4:Math.max(a/2-1,0),v=OT(n.x,n.y,i+m,r),y=OT(n.x,n.y,i+a/2,f),b=0;h.push("M ".concat(o.x," ").concat(o.y)),h.push("L ".concat(v.x," ").concat(v.y)),h.push("A ".concat(n.x," ").concat(n.y," 0 ").concat(b," ").concat(g," ").concat(y.x," ").concat(y.y)),h.push("L ".concat(c.x," ").concat(c.y))}else{v=OT(n.x,n.y,i+(a/2>4?4:Math.max(a/2-1,0)),r);var x=o.x<n.x?1:-1;h.push("M ".concat(c.x," ").concat(c.y));var _=(o.y-n.y)/(o.x-n.x),w=(c.y-n.y)/(c.x-n.x);Math.abs(_-w)>Math.pow(Math.E,-16)&&h.push.apply(h,["C",c.x+4*x,c.y,2*v.x-o.x,2*v.y-o.y,o.x,o.y]),h.push("L ".concat(o.x," ").concat(o.y))}t.labelLine.path=h.join(" ")}}function gP(t,e,n,i){var r,a,o=Object(pM["filter"])(t,(function(t){return!Object(pM["isNil"])(t)})),s=e[0]&&e[0].get("coordinate");if(s){var l=s.getCenter(),c=s.getRadius(),u={};try{for(var h=Object(dM["__values"])(e),d=h.next();!d.done;d=h.next()){var p=d.value;u[p.get("id")]=p}}catch(O){r={error:O}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}var f=Object(pM["get"])(o[0],"labelHeight",14),g=Object(pM["get"])(o[0],"offset",0);if(!(g<=0)){var m="left",v="right",y=Object(pM["groupBy"])(o,(function(t){return t.x<l.x?m:v})),b=s.start,x=s.end,_=Math.min(2*(c+g+f),s.getHeight()),w=_/2,S={minX:b.x,maxX:x.x,minY:l.y-w,maxY:l.y+w};Object(pM["each"])(y,(function(t,e){var n=Math.floor(_/f);t.length>n&&(t.sort((function(t,e){return e.percent-t.percent})),Object(pM["each"])(t,(function(t,e){e+1>n&&(u[t.id].set("visible",!1),t.invisible=!0)}))),dP(t,f,S)})),Object(pM["each"])(y,(function(t,e){Object(pM["each"])(t,(function(t){var n=e===v,i=u[t.id],r=i.getChildByIndex(0);if(r){var a=c+g,o=t.y-l.y,h=Math.pow(a,2),d=Math.pow(o,2),p=h-d>0?h-d:0,f=Math.sqrt(p),m=Math.abs(Math.cos(t.angle)*a);t.x=n?l.x+Math.max(f,m):l.x-Math.max(f,m)}r&&(r.attr("y",t.y),r.attr("x",t.x)),fP(t,s)}))}))}}}var mP=4,vP=4,yP=4;function bP(t,e,n){var i=e.getCenter(),r=e.getRadius(),a={x:t.x-(n?yP:-yP),y:t.y},o=OT(i.x,i.y,r+mP,t.angle),s={x:a.x,y:a.y},l={x:o.x,y:o.y},c=OT(i.x,i.y,r,t.angle),u="";if(a.y!==o.y){var h=n?4:-4;s.y=a.y,t.angle<0&&t.angle>=-Math.PI/2&&(s.x=Math.max(o.x,a.x-h),a.y<o.y?l.y=s.y:(l.y=o.y,l.x=Math.max(l.x,s.x-h))),t.angle>0&&t.angle<Math.PI/2&&(s.x=Math.max(o.x,a.x-h),a.y>o.y?l.y=s.y:(l.y=o.y,l.x=Math.max(l.x,s.x-h))),t.angle>Math.PI/2&&(s.x=Math.min(o.x,a.x-h),a.y>o.y?l.y=s.y:(l.y=o.y,l.x=Math.min(l.x,s.x-h))),t.angle<-Math.PI/2&&(s.x=Math.min(o.x,a.x-h),a.y<o.y?l.y=s.y:(l.y=o.y,l.x=Math.min(l.x,s.x-h)))}u=["M ".concat(a.x,",").concat(a.y),"L ".concat(s.x,",").concat(s.y),"L ".concat(l.x,",").concat(l.y),"L ".concat(o.x,",").concat(o.y),"L ".concat(c.x,",").concat(c.y)].join(" "),t.labelLine=Object(pM["deepMix"])({},t.labelLine,{path:u})}function xP(t,e,n,i){var r,a,o=e[0]&&e[0].get("coordinate");if(o){var s=o.getCenter(),l=o.getRadius(),c={};try{for(var u=Object(dM["__values"])(e),h=u.next();!h.done;h=u.next()){var d=h.value;c[d.get("id")]=d}}catch(O){r={error:O}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}var p=Object(pM["get"])(t[0],"labelHeight",14),f=Math.max(Object(pM["get"])(t[0],"offset",0),mP);Object(pM["each"])(t,(function(t){if(t){var e=Object(pM["get"])(c,[t.id]);if(e){var n=t.x>s.x||t.x===s.x&&t.y>s.y,i=Object(pM["isNil"])(t.offsetX)?vP:t.offsetX,r=OT(s.x,s.y,l+mP,t.angle),a=f+i;t.x=s.x+(n?1:-1)*(l+a),t.y=r.y}}}));var g=o.start,m=o.end,v="left",y="right",b=Object(pM["groupBy"])(t,(function(t){return t.x<s.x?v:y})),x=2*(l+f)+p;Object(pM["each"])(b,(function(t){var e=t.length*p;e>x&&(x=Math.min(e,Math.abs(g.y-m.y)))}));var _={minX:g.x,maxX:m.x,minY:s.y-x/2,maxY:s.y+x/2};Object(pM["each"])(b,(function(t,e){var n=x/p;t.length>n&&(t.sort((function(t,e){return e.percent-t.percent})),Object(pM["each"])(t,(function(t,e){e>n&&(c[t.id].set("visible",!1),t.invisible=!0)}))),dP(t,p,_)}));var w=_.minY,S=_.maxY;Object(pM["each"])(b,(function(t,e){var n=e===y;Object(pM["each"])(t,(function(t){var e=Object(pM["get"])(c,t&&[t.id]);if(e)if(t.y<w||t.y>S)e.set("visible",!1);else{var i=e.getChildByIndex(0),r=i.getCanvasBBox(),a={x:n?r.x:r.maxX,y:r.y+r.height/2};rI(i,t.x-a.x,t.y-a.y),t.labelLine&&bP(t,o,n)}}))}))}}function _P(t,e,n,i){Object(pM["each"])(e,(function(t){var e=i.minX,n=i.minY,r=i.maxX,a=i.maxY,o=t.getCanvasBBox(),s=o.minX,l=o.minY,c=o.maxX,u=o.maxY,h=o.x,d=o.y,p=o.width,f=o.height,g=h,m=d;(s<e||c<e)&&(g=e),(l<n||u<n)&&(m=n),s>r?g=r-p:c>r&&(g-=c-r),l>a?m=a-f:u>a&&(m-=u-a),g===h&&m===d||rI(t,g-h,m-d)}))}function wP(t,e,n,i){Object(pM["each"])(e,(function(t,e){var i=t.getCanvasBBox(),r=n[e].getBBox();(i.minX<r.minX||i.minY<r.minY||i.maxX>r.maxX||i.maxY>r.maxY)&&t.remove(!0)}))}var SP=100,OP=function(){function t(t){void 0===t&&(t={}),this.bitmap={};var e=t.xGap,n=void 0===e?1:e,i=t.yGap,r=void 0===i?8:i;this.xGap=n,this.yGap=r}return t.prototype.hasGap=function(t){for(var e=!0,n=this.bitmap,i=Math.round(t.minX),r=Math.round(t.maxX),a=Math.round(t.minY),o=Math.round(t.maxY),s=i;s<=r;s+=1)if(n[s]){if(s===i||s===r){for(var l=a;l<=o;l++)if(n[s][l]){e=!1;break}}else if(n[s][a]||n[s][o]){e=!1;break}}else n[s]={};return e},t.prototype.fillGap=function(t){for(var e=this.bitmap,n=Math.round(t.minX),i=Math.round(t.maxX),r=Math.round(t.minY),a=Math.round(t.maxY),o=n;o<=i;o+=1)e[o]||(e[o]={});for(o=n;o<=i;o+=this.xGap){for(var s=r;s<=a;s+=this.yGap)e[o][s]=!0;e[o][a]=!0}if(1!==this.yGap)for(o=r;o<=a;o+=1)e[n][o]=!0,e[i][o]=!0;if(1!==this.xGap)for(o=n;o<=i;o+=1)e[o][r]=!0,e[o][a]=!0},t.prototype.destroy=function(){this.bitmap={}},t}();function CP(t,e,n){void 0===n&&(n=SP);var i,r=-1,a=t.attr(),o=a.x,s=a.y,l=t.getCanvasBBox(),c=Math.sqrt(l.width*l.width+l.height*l.height),u=-r,h=0,d=0,p=function(t){var e=.1*t;return[e*Math.cos(e),e*Math.sin(e)]};if(e.hasGap(l))return e.fillGap(l),!0;var f=!1,g=0,m={};while(Math.min(Math.abs(h),Math.abs(d))<c&&g<n)if(i=p(u+=r),h=~~i[0],d=~~i[1],(h||d)&&!m["".concat(h,"-").concat(d)]&&(t.attr({x:o+h,y:s+d}),h+d<0&&t.attr("textAlign","right"),g++,e.hasGap(t.getCanvasBBox()))){e.fillGap(t.getCanvasBBox()),f=!0,m["".concat(h,"-").concat(d)]=!0;break}return f}function AP(t,e,n,i){var r=t.getCanvasBBox(),a=r.width,o=r.height,s={x:e,y:n,textAlign:"center"};switch(i){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=2*o+2;break;case 6:s.y+=2*o+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right";break;default:break}return t.attr(s),t.getCanvasBBox()}function MP(t,e,n,i){var r=new OP;Object(pM["each"])(e,(function(t){var e=t.find((function(t){return"text"===t.get("type")}));CP(e,r)||t.remove(!0)})),r.destroy()}function TP(t,e,n,i){var r=new OP;Object(pM["each"])(e,(function(t){for(var e=t.find((function(t){return"text"===t.get("type")})),n=e.attr(),i=n.x,a=n.y,o=!1,s=0;s<=8;s++){var l=AP(e,i,a,s);if(r.hasGap(l)){r.fillGap(l),o=!0;break}}o||t.remove(!0)})),r.destroy()}function kP(t,e){return(t[0]||0)*(e[0]||0)+(t[1]||0)*(e[1]||0)+(t[2]||0)*(e[2]||0)}function LP(t){if(t.length>4)return[];var e=function(t,e){return[e.x-t.x,e.y-t.y]},n=e(t[0],t[1]),i=e(t[1],t[2]);return[n,i]}function jP(t,e,n){void 0===e&&(e=0),void 0===n&&(n={x:0,y:0});var i=t.x,r=t.y;return{x:(i-n.x)*Math.cos(-e)+(r-n.y)*Math.sin(-e)+n.x,y:(n.x-i)*Math.sin(-e)+(r-n.y)*Math.cos(-e)+n.y}}function IP(t){var e=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],n=t.rotation;return n?[jP(e[0],n,e[0]),jP(e[1],n,e[0]),jP(e[2],n,e[0]),jP(e[3],n,e[0])]:e}function EP(t,e){if(t.length>4)return{min:0,max:0};var n=[];return t.forEach((function(t){n.push(kP([t.x,t.y],e))})),{min:Math.min.apply(Math,Object(dM["__spreadArray"])([],Object(dM["__read"])(n),!1)),max:Math.max.apply(Math,Object(dM["__spreadArray"])([],Object(dM["__read"])(n),!1))}}function PP(t,e){return t.max>e.min&&t.min<e.max}function RP(t){return"number"===typeof t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0}function DP(t){return["x","y","width","height"].every((function(e){return RP(t[e])}))}function FP(t,e,n){return void 0===n&&(n=0),!(e.x>t.x+t.width+n||e.x+e.width<t.x-n||e.y>t.y+t.height+n||e.y+e.height<t.y-n)}function NP(t,e,n){if(void 0===n&&(n=0),!DP(t)||!DP(e))return!1;if(!t.rotation&&!e.rotation)return FP(t,e,n);for(var i=IP(t),r=IP(e),a=LP(i).concat(LP(r)),o=0;o<a.length;o++){var s=a[o],l=EP(i,s),c=EP(r,s);if(!PP(l,c))return!1}return!0}var BP=function(){function t(t){var e=this;this.queue=[],this.worker=new Worker(t),this.worker.onmessage=function(t){var n;null===(n=e.queue.shift())||void 0===n||n.resolve(t)},this.worker.onmessageerror=function(t){var n;null===(n=e.queue.shift())||void 0===n||n.reject(t)}}return t.prototype.post=function(t,e){var n=this;return new Promise((function(i,r){n.queue.push({resolve:i,reject:r});try{n.worker.postMessage(t)}catch(a){Object(pM["isFunction"])(e)&&e()}}))},t.prototype.destroy=function(){this.worker.terminate()},t}();function VP(t){if("undefined"!==typeof window){var e;try{e=new Blob([t.toString()],{type:"application/javascript"})}catch(n){e=new window.BlobBuilder,e.append(t.toString()),e=e.getBlob()}return new BP(URL.createObjectURL(e))}}var GP=function(t){function e(){function t(t,e){return(t[0]||0)*(e[0]||0)+(t[1]||0)*(e[1]||0)+(t[2]||0)*(e[2]||0)}function e(t){if(t.length>4)return[];var e=function(t,e){return[e.x-t.x,e.y-t.y]},n=e(t[0],t[1]),i=e(t[1],t[2]);return[n,i]}function n(t,e,n){void 0===e&&(e=0),void 0===n&&(n={x:0,y:0});var i=t.x,r=t.y;return{x:(i-n.x)*Math.cos(-e)+(r-n.y)*Math.sin(-e)+n.x,y:(n.x-i)*Math.sin(-e)+(r-n.y)*Math.cos(-e)+n.y}}function i(t){var e=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],i=t.rotation;return i?[n(e[0],i,e[0]),n(e[1],i,e[0]),n(e[2],i,e[0]),n(e[3],i,e[0])]:e}function r(e,n){if(e.length>4)return{min:0,max:0};var i=[];return e.forEach((function(e){i.push(t([e.x,e.y],n))})),{min:Math.min.apply(null,i),max:Math.max.apply(null,i)}}function a(t,e){return t.max>e.min&&t.min<e.max}function o(t){return"number"===typeof t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0}function s(t){return["x","y","width","height"].every((function(e){return o(t[e])}))}function l(t,e,n){return void 0===n&&(n=0),!(e.x>t.x+t.width+n||e.x+e.width<t.x-n||e.y>t.y+t.height+n||e.y+e.height<t.y-n)}function c(t,n,o){if(void 0===o&&(o=0),!s(t)||!s(n))return!1;if(!t.rotation&&!n.rotation)return l(t,n,o);for(var c=i(t),u=i(n),h=e(c).concat(e(u)),d=0;d<h.length;d++){var p=h[d],f=r(c,p),g=r(u,p);if(!a(f,g))return!1}return!0}return{intersect:c}}var n=e().intersect;function i(t){for(var e=t.slice(),i=0;i<e.length;i++){var r=e[i];if(r.visible)for(var a=i+1;a<e.length;a++){var o=e[a];r!==o&&o.visible&&n(r,o)&&(o.visible=!1)}}return e}var r={"hide-overlap":i};try{var a=JSON.parse(t.data);if(!a||!a.type||!r[a.type])return;var o=a.type,s=a.items,l=r[o](s);self.postMessage(l)}catch(t){throw t}},zP="\n   self.onmessage = ".concat(GP.toString(),"\n"),UP=function(t){for(var e=t.slice(),n=0;n<e.length;n++){var i=e[n];if(i.visible)for(var r=n+1;r<e.length;r++){var a=e[r];i!==a&&a.visible&&NP(i,a)&&(a.visible=!1)}}return e},HP=new Map,WP=VP(zP);function YP(t,e,n,i){return Object(dM["__awaiter"])(this,void 0,void 0,(function(){var n,i,r,a,o;return Object(dM["__generator"])(this,(function(s){switch(s.label){case 0:return n=e.map((function(e,n){return Object(dM["__assign"])(Object(dM["__assign"])({},lI(e,t[n],Object(pM["get"])(t[n],"background.padding"))),{visible:!0})})),i=JSON.stringify(n),r=function(t){return HP.set(i,t),Object(pM["each"])(t,(function(t,n){var i=t.visible,r=e[n];i?null===r||void 0===r||r.show():null===r||void 0===r||r.hide()})),t},HP.get(i)?(r(HP.get(i)),[3,7]):[3,1];case 1:if(!WP)return[3,6];s.label=2;case 2:return s.trys.push([2,4,,5]),a=JSON.stringify({type:"hide-overlap",items:n}),[4,WP.post(a,(function(){return r(UP(n))}))];case 3:return o=s.sent(),r(Array.isArray(o.data)?o.data:[]),[3,5];case 4:return s.sent(),r(UP(n)),[3,5];case 5:return[3,7];case 6:r(UP(n)),s.label=7;case 7:return[2]}}))}))}var XP,qP={"#5B8FF9":!0},ZP=function(t){var e=VM["a"].toRGB(t).toUpperCase();if(qP[e])return qP[e];var n=Object(dM["__read"])(VM["a"].rgb2arr(e),3),i=n[0],r=n[1],a=n[2],o=(299*i+587*r+114*a)/1e3<128;return o};function QP(t,e,n){if(0!==n.length){var i=n[0].get("element"),r=i.geometry.theme,a=r.labels||{},o=a.fillColorLight,s=a.fillColorDark;n.forEach((function(t,n){var i=e[n],a=i.find((function(t){return"text"===t.get("type")})),l=PT.fromObject(t.getBBox()),c=PT.fromObject(a.getCanvasBBox()),u=!l.contains(c),h=t.attr("fill"),d=ZP(h);u?a.attr(r.overflowLabels.style):d?o&&a.attr("fill",o):s&&a.attr("fill",s)}))}}function JP(t,e,n){var i=t.coordinate,r=sI(e),a=PT.fromObject(r.getCanvasBBox()),o=PT.fromObject(n.getBBox());return i.isTransposed?o.height>=a.height:o.width>=a.width}function KP(t,e,n){var i=!!t.getAdjust("stack");return i||e.every((function(e,i){var r=n[i];return JP(t,e,r)}))}function $P(t,e,n){var i=t.coordinate,r=PT.fromObject(n.getBBox()),a=sI(e);i.isTransposed?a.attr({x:r.minX+r.width/2,textAlign:"center"}):a.attr({y:r.minY+r.height/2,textBaseline:"middle"})}function tR(t,e,n){var i;if(0!==n.length){var r=null===(i=n[0])||void 0===i?void 0:i.get("element"),a=null===r||void 0===r?void 0:r.geometry;if(a&&"interval"===a.type){var o=KP(a,e,n);o&&n.forEach((function(t,n){var i=e[n];$P(a,i,t)}))}}}function eR(t){var e=500,n=[],i=Math.max(Math.floor(t.length/e),1);return Object(pM["each"])(t,(function(t,e){e%i===0?n.push(t):t.set("visible",!1)})),n}function nR(t,e,n){var i;if(0!==n.length){var r=null===(i=n[0])||void 0===i?void 0:i.get("element"),a=null===r||void 0===r?void 0:r.geometry;if(a&&"interval"===a.type){var o,s=eR(e),l=Object(dM["__read"])(a.getXYFields(),1),c=l[0],u=[],h=[],d=Object(pM["groupBy"])(s,(function(t){return t.get("data")[c]})),p=Object(pM["uniq"])(Object(pM["map"])(s,(function(t){return t.get("data")[c]})));s.forEach((function(t){t.set("visible",!0)}));var f=function(t){t&&(t.length&&h.push(t.pop()),h.push.apply(h,Object(dM["__spreadArray"])([],Object(dM["__read"])(t),!1)))};Object(pM["size"])(p)>0&&(o=p.shift(),f(d[o])),Object(pM["size"])(p)>0&&(o=p.pop(),f(d[o])),Object(pM["each"])(p.reverse(),(function(t){f(d[t])}));while(h.length>0){var g=h.shift();g.get("visible")&&(uI(g,u)?g.set("visible",!1):u.push(g))}}}}function iR(t,e){var n=t.getXYFields()[1],i=[],r=e.sort((function(t,e){return t.get("data")[n]-t.get("data")[n]}));return r.length>0&&i.push(r.shift()),r.length>0&&i.push(r.pop()),i.push.apply(i,Object(dM["__spreadArray"])([],Object(dM["__read"])(r),!1)),i}function rR(t,e,n){return t.some((function(t){return n(t,e)}))}function aR(t,e,n){void 0===n&&(n=0);var i=Math.max(0,Math.min(t.x+t.width+n,e.x+e.width+n)-Math.max(t.x-n,e.x-n)),r=Math.max(0,Math.min(t.y+t.height+n,e.y+e.height+n)-Math.max(t.y-n,e.y-n));return i*r}function oR(t,e){return rR(t,e,(function(t,e){var n=sI(t),i=sI(e);return aR(n.getCanvasBBox(),i.getCanvasBBox(),2)>0}))}function sR(t,e,n,i,r){var a,o;if(0!==n.length){var s=null===(a=n[0])||void 0===a?void 0:a.get("element"),l=null===s||void 0===s?void 0:s.geometry;if(l&&"point"===l.type){var c=Object(dM["__read"])(l.getXYFields(),2),u=c[0],h=c[1],d=Object(pM["groupBy"])(e,(function(t){return t.get("data")[u]})),p=[],f=r&&r.offset||(null===(o=t[0])||void 0===o?void 0:o.offset)||12;Object(pM["map"])(Object(pM["keys"])(d).reverse(),(function(t){var e=iR(l,d[t]);while(e.length){var n=e.shift(),i=sI(n);if(rR(p,n,(function(t,e){return t.get("data")[u]===e.get("data")[u]&&t.get("data")[h]===e.get("data")[h]})))i.set("visible",!1);else{var r=oR(p,n),a=!1;r&&(i.attr("y",i.attr("y")+2*f),a=oR(p,n)),a?i.set("visible",!1):p.push(n)}}}))}}}function lR(t,e){var n=t.getXYFields()[1],i=[],r=e.sort((function(t,e){return t.get("data")[n]-t.get("data")[n]}));return r.length>0&&i.push(r.shift()),r.length>0&&i.push(r.pop()),i.push.apply(i,Object(dM["__spreadArray"])([],Object(dM["__read"])(r),!1)),i}function cR(t,e,n){return t.some((function(t){return n(t,e)}))}function uR(t,e,n){void 0===n&&(n=0);var i=Math.max(0,Math.min(t.x+t.width+n,e.x+e.width+n)-Math.max(t.x-n,e.x-n)),r=Math.max(0,Math.min(t.y+t.height+n,e.y+e.height+n)-Math.max(t.y-n,e.y-n));return i*r}function hR(t,e){return cR(t,e,(function(t,e){var n=sI(t),i=sI(e);return uR(n.getCanvasBBox(),i.getCanvasBBox(),2)>0}))}function dR(t,e,n,i,r){var a,o;if(0!==n.length){var s=null===(a=n[0])||void 0===a?void 0:a.get("element"),l=null===s||void 0===s?void 0:s.geometry;if(l&&!(["path","line","area"].indexOf(l.type)<0)){var c=Object(dM["__read"])(l.getXYFields(),2),u=c[0],h=c[1],d=Object(pM["groupBy"])(e,(function(t){return t.get("data")[u]})),p=[],f=r&&r.offset||(null===(o=t[0])||void 0===o?void 0:o.offset)||12;Object(pM["map"])(Object(pM["keys"])(d).reverse(),(function(t){var e=lR(l,d[t]);while(e.length){var n=e.shift(),i=sI(n);if(cR(p,n,(function(t,e){return t.get("data")[u]===e.get("data")[u]&&t.get("data")[h]===e.get("data")[h]})))i.set("visible",!1);else{var r=hR(p,n),a=!1;r&&(i.attr("y",i.attr("y")+2*f),a=hR(p,n)),a?i.set("visible",!1):p.push(n)}}}))}}}function pR(){return XP||(XP=document.createElement("canvas").getContext("2d")),XP}var fR=Object(pM["memoize"])((function(t,e){void 0===e&&(e={});var n=e.fontSize,i=e.fontFamily,r=e.fontWeight,a=e.fontStyle,o=e.fontVariant,s=pR();return s.font=[a,o,r,"".concat(n,"px"),i].join(" "),s.measureText(Object(pM["isString"])(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),Object(dM["__spreadArray"])([t],Object(dM["__read"])(Object(pM["values"])(e)),!1).join("")})),gR=function(t,e,n){var i,r=16,a=fR("...",n);i=Object(pM["isString"])(t)?t:Object(pM["toString"])(t);var o,s,l=e,c=[];if(fR(t,n)<=e)return t;while(1){if(o=i.substr(0,r),s=fR(o,n),s+a>l&&s>l)break;if(c.push(o),l-=s,i=i.substr(r),!i)return c.join("")}while(1){if(o=i.substr(0,1),s=fR(o,n),s+a>l)break;if(c.push(o),l-=s,i=i.substr(1),!i)return c.join("")}return"".concat(c.join(""),"...")};function mR(t,e,n,i,r){if(!(e.length<=0)){var a=(null===r||void 0===r?void 0:r.direction)||["top","right","bottom","left"],o=(null===r||void 0===r?void 0:r.action)||"translate",s=(null===r||void 0===r?void 0:r.margin)||0,l=e[0].get("coordinate");if(l){var c=zT(l,s),u=c.minX,h=c.minY,d=c.maxX,p=c.maxY;Object(pM["each"])(e,(function(t){var e=t.getCanvasBBox(),n=e.minX,i=e.minY,r=e.maxX,s=e.maxY,l=e.x,c=e.y,f=e.width,g=e.height,m=l,v=c;if(a.indexOf("left")>=0&&(n<u||r<u)&&(m=u),a.indexOf("top")>=0&&(i<h||s<h)&&(v=h),a.indexOf("right")>=0&&(n>d?m=d-f:r>d&&(m-=r-d)),a.indexOf("bottom")>=0&&(i>p?v=p-g:s>p&&(v-=s-p)),m!==l||v!==c){var y=m-l;if("translate"===o)rI(t,y,v-c);else if("ellipsis"===o){var b=t.findAll((function(t){return"text"===t.get("type")}));b.forEach((function(t){var e=Object(pM["pick"])(t.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),n=t.getCanvasBBox(),i=gR(t.attr("text"),n.width-Math.abs(y),e);t.attr("text",i)}))}else t.hide()}}))}}}function vR(t,e,n){var i={fillOpacity:Object(pM["isNil"])(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),strokeOpacity:Object(pM["isNil"])(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity"),opacity:Object(pM["isNil"])(t.attr("opacity"))?1:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),t.animate(i,e)}function yR(t,e,n){var i={fillOpacity:0,strokeOpacity:0,opacity:0},r=e.easing,a=e.duration,o=e.delay;t.animate(i,a,r,(function(){t.remove(!0)}),o)}function bR(t,e,n){var i,r=Object(dM["__read"])(e,2),a=r[0],o=r[1];return t.applyToMatrix([a,o,1]),"x"===n?(t.setMatrix(eT["ext"].transform(t.getMatrix(),[["t",-a,-o],["s",.01,1],["t",a,o]])),i=eT["ext"].transform(t.getMatrix(),[["t",-a,-o],["s",100,1],["t",a,o]])):"y"===n?(t.setMatrix(eT["ext"].transform(t.getMatrix(),[["t",-a,-o],["s",1,.01],["t",a,o]])),i=eT["ext"].transform(t.getMatrix(),[["t",-a,-o],["s",1,100],["t",a,o]])):"xy"===n&&(t.setMatrix(eT["ext"].transform(t.getMatrix(),[["t",-a,-o],["s",.01,.01],["t",a,o]])),i=eT["ext"].transform(t.getMatrix(),[["t",-a,-o],["s",100,100],["t",a,o]])),i}function xR(t,e,n,i,r){var a,o,s=n.start,l=n.end,c=n.getWidth(),u=n.getHeight();"y"===r?(a=s.x+c/2,o=i.y<s.y?i.y:s.y):"x"===r?(a=i.x>s.x?i.x:s.x,o=s.y+u/2):"xy"===r&&(n.isPolar?(a=n.getCenter().x,o=n.getCenter().y):(a=(s.x+l.x)/2,o=(s.y+l.y)/2));var h=bR(t,[a,o],r);t.animate({matrix:h},e)}function _R(t,e,n){var i=n.coordinate,r=n.minYPoint;xR(t,e,i,r,"x")}function wR(t,e,n){var i=n.coordinate,r=n.minYPoint;xR(t,e,i,r,"y")}function SR(t,e,n){var i=n.coordinate,r=n.minYPoint;xR(t,e,i,r,"xy")}function OR(t,e,n){var i=t.getTotalLength();t.attr("lineDash",[i]),t.animate((function(t){return{lineDashOffset:(1-t)*i}}),e)}function CR(t,e,n){var i=n.toAttrs,r=i.x,a=i.y;delete i.x,delete i.y,t.attr(i),t.animate({x:r,y:a},e)}function AR(t,e,n){var i=t.getBBox(),r=t.get("origin").mappingData,a=r.points,o=a[0].y-a[1].y>0?i.maxX:i.minX,s=(i.minY+i.maxY)/2;t.applyToMatrix([o,s,1]);var l=eT["ext"].transform(t.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);t.setMatrix(l),t.animate({matrix:eT["ext"].transform(t.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},e)}function MR(t,e,n){var i=t.getBBox(),r=t.get("origin").mappingData,a=(i.minX+i.maxX)/2,o=r.points,s=o[0].y-o[1].y<=0?i.maxY:i.minY;t.applyToMatrix([a,s,1]);var l=eT["ext"].transform(t.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);t.setMatrix(l),t.animate({matrix:eT["ext"].transform(t.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},e)}function TR(t,e){var n,i=Object(qI["getArcParams"])(t,e),r=i.startAngle,a=i.endAngle;return!Object(pM["isNumberEqual"])(r,.5*-Math.PI)&&r<.5*-Math.PI&&(r+=2*Math.PI),!Object(pM["isNumberEqual"])(a,.5*-Math.PI)&&a<.5*-Math.PI&&(a+=2*Math.PI),0===e[5]&&(n=Object(dM["__read"])([a,r],2),r=n[0],a=n[1]),Object(pM["isNumberEqual"])(r,1.5*Math.PI)&&(r=-.5*Math.PI),Object(pM["isNumberEqual"])(a,-.5*Math.PI)&&!Object(pM["isNumberEqual"])(r,a)&&(a=1.5*Math.PI),{startAngle:r,endAngle:a}}function kR(t){var e;return"M"===t[0]||"L"===t[0]?e=[t[1],t[2]]:"a"!==t[0]&&"A"!==t[0]&&"C"!==t[0]||(e=[t[t.length-2],t[t.length-1]]),e}function LR(t){var e,n,i,r=t.filter((function(t){return"A"===t[0]||"a"===t[0]}));if(0===r.length)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var a=r[0],o=r.length>1?r[1]:r[0],s=t.indexOf(a),l=t.indexOf(o),c=kR(t[s-1]),u=kR(t[l-1]),h=TR(c,a),d=h.startAngle,p=h.endAngle,f=TR(u,o),g=f.startAngle,m=f.endAngle;Object(pM["isNumberEqual"])(d,g)&&Object(pM["isNumberEqual"])(p,m)?(n=d,i=p):(n=Math.min(d,g),i=Math.max(p,m));var v=a[1],y=r[r.length-1][1];return v<y?(e=Object(dM["__read"])([y,v],2),v=e[0],y=e[1]):v===y&&(y=0),{startAngle:n,endAngle:i,radius:v,innerRadius:y}}function jR(t,e,n){var i=n.toAttrs,r=n.coordinate,a=i.path||[],o=a.map((function(t){return t[0]}));if(!(a.length<1)){var s=LR(a),l=s.startAngle,c=s.endAngle,u=s.radius,h=s.innerRadius,d=LR(t.attr("path")),p=d.startAngle,f=d.endAngle,g=r.getCenter(),m=l-p,v=c-f;0!==m||0!==v?t.animate((function(t){var e=p+t*m,n=f+t*v;return Object(dM["__assign"])(Object(dM["__assign"])({},i),{path:Object(pM["isEqual"])(o,["M","A","A","Z"])?AT(g.x,g.y,u,e,n):CT(g.x,g.y,u,e,n,h)})}),Object(dM["__assign"])(Object(dM["__assign"])({},e),{callback:function(){t.attr("path",a),Object(pM["isFunction"])(e.callback)&&e.callback()}})):t.attr("path",a)}}function IR(t,e,n){var i=GT(n.coordinate,20),r=i.type,a=i.startState,o=i.endState,s=t.setClip({type:r,attrs:a});n.toAttrs&&t.attr(n.toAttrs),s.animate(o,Object(dM["__assign"])(Object(dM["__assign"])({},e),{callback:function(){t&&!t.get("destroyed")&&t.set("clipShape",null),s.remove(!0),Object(pM["isFunction"])(e.callback)&&e.callback()}}))}function ER(t,e,n){if(t.isGroup())Object(pM["each"])(t.getChildren(),(function(t){ER(t,e,n)}));else{var i=t.getBBox(),r=(i.minX+i.maxX)/2,a=(i.minY+i.maxY)/2;if(t.applyToMatrix([r,a,1]),"zoomIn"===n){var o=eT["ext"].transform(t.getMatrix(),[["t",-r,-a],["s",.01,.01],["t",r,a]]);t.setMatrix(o),t.animate({matrix:eT["ext"].transform(t.getMatrix(),[["t",-r,-a],["s",100,100],["t",r,a]])},e)}else t.animate({matrix:eT["ext"].transform(t.getMatrix(),[["t",-r,-a],["s",.01,.01],["t",r,a]])},Object(dM["__assign"])(Object(dM["__assign"])({},e),{callback:function(){t.remove(!0),Object(pM["isFunction"])(e.callback)&&e.callback()}}))}}function PR(t,e,n){ER(t,e,"zoomIn")}function RR(t,e,n){ER(t,e,"zoomOut")}function DR(t){return[nM.TOP,nM.BOTTOM].includes(t)?{offsetX:0,offsetY:t===nM.TOP?-8:8,style:{textAlign:"center",textBaseline:t===nM.TOP?"bottom":"top"}}:[nM.LEFT,nM.RIGHT].includes(t)?{offsetX:t===nM.LEFT?-8:8,offsetY:0,style:{textAlign:t===nM.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function FR(t,e,n){return{x:t.x+e*Math.cos(n),y:t.y+e*Math.sin(n)}}var NR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dM["__extends"])(e,t),e.prototype.getDefaultCfg=function(){return Object(pM["deepMix"])({},t.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.getRegion=function(t,e){var n=.5,i={x:.5,y:.5},r=2*Math.PI/t,a=-1*Math.PI/2+r*e,o=n/(1+1/Math.sin(r/2)),s=FR(i,n-o,a),l=5*Math.PI/4,c=1*Math.PI/4;return{start:FR(s,o,l),end:FR(s,o,c)}},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){var e=this,n=this.cfg,i=n.fields,r=n.type,a=Object(dM["__read"])(i,1),o=a[0];if(!o)throw new Error("No `fields` specified!");var s=this.getFieldValues(t,o),l=s.length,c=[];return s.forEach((function(n,i){var a=[{field:o,value:n,values:s}],u=Object(pM["filter"])(t,e.getFacetDataFilter(a)),h={type:r,data:u,region:e.getRegion(l,i),columnValue:n,columnField:o,columnIndex:i,columnValuesLength:l,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};c.push(h)})),c},e.prototype.getXAxisOption=function(t,e,n,i){return n},e.prototype.getYAxisOption=function(t,e,n,i){return n},e.prototype.renderTitle=function(){var t=this;Object(pM["each"])(this.facets,(function(e){var n=e.columnValue,i=e.view,r=Object(pM["get"])(t.cfg.title,"formatter"),a=Object(pM["deepMix"])({position:["50%","0%"],content:r?r(n):n},DR(nM.TOP),t.cfg.title);i.annotation().text(a)}))},e}(lk),BR=NR,VR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dM["__extends"])(e,t),e.prototype.getDefaultCfg=function(){return Object(pM["deepMix"])({},t.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,i=this.cfg.cols,r=Object(dM["__read"])(n,1),a=r[0];if(!a)throw new Error("No `fields` specified!");var o=this.getFieldValues(t,a),s=o.length;i=i||s;var l=this.getPageCount(s,i),c=[];return o.forEach((function(n,r){var u=e.getRowCol(r,i),h=u.row,d=u.col,p=[{field:a,value:n,values:o}],f=Object(pM["filter"])(t,e.getFacetDataFilter(p)),g={type:e.cfg.type,data:f,region:e.getRegion(l,i,d,h),columnValue:n,rowValue:n,columnField:a,rowField:null,columnIndex:d,rowIndex:h,columnValuesLength:i,rowValuesLength:l,total:s};c.push(g)})),c},e.prototype.getXAxisOption=function(t,e,n,i){return i.rowIndex!==i.rowValuesLength-1&&i.columnValuesLength*i.rowIndex+i.columnIndex+1+i.columnValuesLength<=i.total?Object(dM["__assign"])(Object(dM["__assign"])({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,i){return 0!==i.columnIndex?Object(dM["__assign"])(Object(dM["__assign"])({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;Object(pM["each"])(this.facets,(function(e){var n=e.columnValue,i=e.view,r=Object(pM["get"])(t.cfg.title,"formatter"),a=Object(pM["deepMix"])({position:["50%","0%"],content:r?r(n):n},DR(nM.TOP),t.cfg.title);i.annotation().text(a)}))},e.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},e.prototype.getRowCol=function(t,e){var n=Math.floor(t/e),i=t%e;return{row:n,col:i}},e}(lk),GR=VR,zR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dM["__extends"])(e,t),e.prototype.getDefaultCfg=function(){return Object(pM["deepMix"])({},t.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:Object(dM["__assign"])({},t.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(dM["__assign"])({},t.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.generateFacets=function(t){for(var e=this.cfg,n=e.fields,i=e.type,r=n.length,a=r,o=[],s=0;s<a;s++)for(var l=n[s],c=0;c<r;c++){var u=n[c],h={type:i,data:t,region:this.getRegion(r,a,s,c),columnValue:l,rowValue:u,columnField:l,rowField:u,columnIndex:s,rowIndex:c,columnValuesLength:a,rowValuesLength:r};o.push(h)}return o},e.prototype.getXAxisOption=function(t,e,n,i){return i.rowIndex!==i.rowValuesLength-1?Object(dM["__assign"])(Object(dM["__assign"])({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,i){return 0!==i.columnIndex?Object(dM["__assign"])(Object(dM["__assign"])({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;Object(pM["each"])(this.facets,(function(e,n){var i=e.columnIndex,r=e.rowIndex,a=e.columnValuesLength,o=(e.rowValuesLength,e.columnValue),s=e.rowValue,l=e.view;if(0===r){var c=Object(pM["get"])(t.cfg.columnTitle,"formatter"),u=Object(pM["deepMix"])({position:["50%","0%"],content:c?c(o):o},DR(nM.TOP),t.cfg.columnTitle);l.annotation().text(u)}if(i===a-1){c=Object(pM["get"])(t.cfg.rowTitle,"formatter"),u=Object(pM["deepMix"])({position:["100%","50%"],content:c?c(s):s},DR(nM.RIGHT),t.cfg.rowTitle);l.annotation().text(u)}}))},e}(lk),UR=zR,HR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dM["__extends"])(e,t),e.prototype.getDefaultCfg=function(){return Object(pM["deepMix"])({},t.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this),transpose:!1})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2===0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!==0&&t.coordinate().reflect("y")},e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.generateFacets=function(t){var e,n,i=this,r=Object(dM["__read"])(this.cfg.fields,1),a=r[0],o=[],s=1,l=1,c=[""],u=[""];return this.cfg.transpose?(e=a,c=this.getFieldValues(t,e).slice(0,2),s=c.length):(n=a,u=this.getFieldValues(t,n).slice(0,2),l=u.length),c.forEach((function(r,a){u.forEach((function(h,d){var p=[{field:e,value:r,values:c},{field:n,value:h,values:u}],f=Object(pM["filter"])(t,i.getFacetDataFilter(p)),g={type:i.cfg.type,data:f,region:i.getRegion(l,s,a,d),columnValue:r,rowValue:h,columnField:e,rowField:n,columnIndex:a,rowIndex:d,columnValuesLength:s,rowValuesLength:l};o.push(g)}))})),o},e.prototype.getXAxisOption=function(t,e,n,i){return 1===i.columnIndex||1===i.rowIndex?Object(dM["__assign"])(Object(dM["__assign"])({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,e,n,i){return n},e.prototype.renderTitle=function(){var t=this;Object(pM["each"])(this.facets,(function(e,n){var i=e.columnValue,r=e.rowValue,a=e.view,o=Object(pM["get"])(t.cfg.title,"formatter");if(t.cfg.transpose){var s=Object(pM["deepMix"])({position:["50%","0%"],content:o?o(i):i},DR(nM.TOP),t.cfg.title);a.annotation().text(s)}else{s=Object(pM["deepMix"])({position:["100%","50%"],content:o?o(r):r},DR(nM.RIGHT),t.cfg.title);a.annotation().text(s)}}))},e}(lk),WR=HR,YR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dM["__extends"])(e,t),e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.getDefaultCfg=function(){return Object(pM["deepMix"])({},t.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:Object(dM["__assign"])({},t.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(dM["__assign"])({},t.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.generateFacets=function(t){var e=this,n=Object(dM["__read"])(this.cfg.fields,2),i=n[0],r=n[1],a=[],o=1,s=1,l=[""],c=[""];return i&&(l=this.getFieldValues(t,i),o=l.length),r&&(c=this.getFieldValues(t,r),s=c.length),l.forEach((function(n,u){c.forEach((function(h,d){var p=[{field:i,value:n,values:l},{field:r,value:h,values:c}],f=Object(pM["filter"])(t,e.getFacetDataFilter(p)),g={type:e.cfg.type,data:f,region:e.getRegion(s,o,u,d),columnValue:n,rowValue:h,columnField:i,rowField:r,columnIndex:u,rowIndex:d,columnValuesLength:o,rowValuesLength:s};a.push(g)}))})),a},e.prototype.renderTitle=function(){var t=this;Object(pM["each"])(this.facets,(function(e,n){var i=e.columnIndex,r=e.rowIndex,a=e.columnValuesLength,o=e.columnValue,s=e.rowValue,l=e.view;if(0===r){var c=Object(pM["get"])(t.cfg.columnTitle,"formatter"),u=Object(pM["deepMix"])({position:["50%","0%"],content:c?c(o):o},DR(nM.TOP),t.cfg.columnTitle);l.annotation().text(u)}if(i===a-1){c=Object(pM["get"])(t.cfg.rowTitle,"formatter"),u=Object(pM["deepMix"])({position:["100%","50%"],content:c?c(s):s},DR(nM.RIGHT),t.cfg.rowTitle);l.annotation().text(u)}}))},e.prototype.getXAxisOption=function(t,e,n,i){return i.rowIndex!==i.rowValuesLength-1?Object(dM["__assign"])(Object(dM["__assign"])({},n),{title:null,label:null}):i.columnIndex!==Math.floor((i.columnValuesLength-1)/2)?Object(dM["__assign"])(Object(dM["__assign"])({},n),{title:null}):n},e.prototype.getYAxisOption=function(t,e,n,i){return 0!==i.columnIndex?Object(dM["__assign"])(Object(dM["__assign"])({},n),{title:null,label:null}):i.rowIndex!==Math.floor((i.rowValuesLength-1)/2)?Object(dM["__assign"])(Object(dM["__assign"])({},n),{title:null}):n},e}(lk),XR=YR,qR=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.afterChartRender=function(){e.facets&&e.cfg.line&&(e.container.clear(),e.drawLines(e.facets))},e}return Object(dM["__extends"])(e,t),e.prototype.afterEachView=function(t,e){this.processAxis(t,e)},e.prototype.beforeEachView=function(t,e){},e.prototype.init=function(){t.prototype.init.call(this),this.view.on(fM.AFTER_RENDER,this.afterChartRender)},e.prototype.getDefaultCfg=function(){return Object(pM["deepMix"])({},t.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:t.prototype.getDefaultTitleCfg.call(this)})},e.prototype.generateFacets=function(t){var e=this.cfg.fields;if(!e.length)throw new Error("Please specify for the fields for rootFacet!");var n=[],i={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return n.push(i),i.children=this.getChildFacets(t,1,n),this.setRegion(n),n},e.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach((function(t){t.region=e.getRegion(t.rowValuesLength,t.columnValuesLength,t.columnIndex,t.rowIndex)}))},e.prototype.getRegion=function(t,e,n,i){var r=1/e,a=1/t,o={x:r*n,y:a*i},s={x:o.x+r,y:o.y+2*a/3};return{start:o,end:s}},e.prototype.forceColIndex=function(t){var e,n,i=this,r=[],a=0;t.forEach((function(t){i.isLeaf(t)&&(r.push(t),t.columnIndex=a,a++)})),r.forEach((function(t){t.columnValuesLength=r.length}));for(var o=this.cfg.fields.length,s=o-1;s>=0;s--){var l=this.getFacetsByLevel(t,s);try{for(var c=(e=void 0,Object(dM["__values"])(l)),u=c.next();!u.done;u=c.next()){var h=u.value;this.isLeaf(h)||(h.originColIndex=h.columnIndex,h.columnIndex=this.getRegionIndex(h.children),h.columnValuesLength=r.length)}}catch(d){e={error:d}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}}},e.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach((function(t){t.rowIndex===e&&n.push(t)})),n},e.prototype.getRegionIndex=function(t){var e=t[0],n=t[t.length-1];return(n.columnIndex-e.columnIndex)/2+e.columnIndex},e.prototype.isLeaf=function(t){return!t.children||!t.children.length},e.prototype.getRows=function(){return this.cfg.fields.length+1},e.prototype.getChildFacets=function(t,e,n){var i=this,r=this.cfg.fields,a=r.length;if(!(a<e)){var o=[],s=r[e-1],l=this.getFieldValues(t,s);return l.forEach((function(r,a){var c=[{field:s,value:r,values:l}],u=t.filter(i.getFacetDataFilter(c));if(u.length){var h={type:i.cfg.type,data:u,region:null,columnValue:r,rowValue:"",columnField:s,rowField:"",columnIndex:a,rowValuesLength:i.getRows(),columnValuesLength:1,rowIndex:e,children:i.getChildFacets(u,e+1,n)};o.push(h),n.push(h)}})),o}},e.prototype.render=function(){t.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.renderTitle=function(){var t=this;Object(pM["each"])(this.facets,(function(e){var n=e.columnValue,i=e.view,r=Object(pM["get"])(t.cfg.title,"formatter"),a=Object(pM["deepMix"])({position:["50%","0%"],content:r?r(n):n},DR(nM.TOP),t.cfg.title);i.annotation().text(a)}))},e.prototype.drawLines=function(t){var e=this;t.forEach((function(t){if(!e.isLeaf(t)){var n=t.children;e.addFacetLines(t,n)}}))},e.prototype.addFacetLines=function(t,e){var n=this,i=t.view,r=i.coordinateBBox,a={x:r.x+r.width/2,y:r.y+r.height};e.forEach((function(t){var e=t.view.coordinateBBox,i={x:e.bl.x+(e.tr.x-e.bl.x)/2,y:e.tr.y},r={x:a.x,y:a.y+(i.y-a.y)/2},o={x:i.x,y:r.y};n.drawLine([a,r,o,i])}))},e.prototype.getPath=function(t){var e=[],n=this.cfg.line.smooth;return n?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach((function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e},e.prototype.drawLine=function(t){var e=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:Object(pM["assign"])({path:e},n)})},e.prototype.getXAxisOption=function(t,e,n,i){return i.rowIndex!==i.rowValuesLength-1?Object(dM["__assign"])(Object(dM["__assign"])({},n),{title:null,label:null}):n},e.prototype.getYAxisOption=function(t,e,n,i){return 0!==i.originColIndex&&0!==i.columnIndex?Object(dM["__assign"])(Object(dM["__assign"])({},n),{title:null,label:null}):n},e}(lk),ZR=qR;function QR(t){var e=Object(dM["__spreadArray"])([],Object(dM["__read"])(t),!1);e.sort((function(t,e){return t-e}));var n=e.length;return 0===n?0:n%2===1?e[(n-1)/2]:(e[n/2]+e[n/2-1])/2}function JR(t){var e=Object(pM["reduce"])(t,(function(t,e){return t+(isNaN(e)||!Object(pM["isNumber"])(e)?0:e)}),0);return 0===t.length?0:e/t.length}function KR(t,e){if(!e)return null;var n;switch(t){case"start":return 0;case"center":return.5;case"end":return 1;case"median":n=e.isCategory?QR(e.values.map((function(t,e){return e}))):QR(e.values);break;case"mean":n=e.isCategory?(e.values.length-1)/2:JR(e.values);break;case"min":n=e.isCategory?0:e[t];break;case"max":n=e.isCategory?e.values.length-1:e[t];break;default:n=t;break}return e.scale(n)}var $R=["regionFilter","shape"],tD=function(t){function e(e){var n=t.call(this,e)||this;return n.cache=new Map,n.foregroundContainer=n.view.getLayer(eM.FORE).addGroup(),n.backgroundContainer=n.view.getLayer(eM.BG).addGroup(),n.option=[],n}return Object(dM["__extends"])(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.layout=function(){this.update()},e.prototype.render=function(){},e.prototype.update=function(){var t=this;this.onAfterRender((function(){var e=new Map;Object(pM["each"])(t.option,(function(n){if(Object(pM["includes"])($R,n.type)){var i=t.updateOrCreate(n);i&&e.set(t.getCacheKey(n),i)}})),t.cache=t.syncCache(e)}));var e=new Map;Object(pM["each"])(this.option,(function(n){if(!Object(pM["includes"])($R,n.type)){var i=t.updateOrCreate(n);i&&e.set(t.getCacheKey(n),i)}})),this.cache=this.syncCache(e)},e.prototype.clear=function(e){void 0===e&&(e=!1),t.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),e&&(this.option=[])},e.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach((function(e){t.push(e)})),t},e.prototype.clearComponents=function(){this.getComponents().forEach((function(t){t.component.destroy()})),this.cache.clear()},e.prototype.onAfterRender=function(t){var e=!1;this.view.getOptions().animate&&this.view.geometries.forEach((function(n){n.animateOption&&(n.once(gM.AFTER_DRAW_ANIMATE,(function(){t()})),e=!0)})),e||this.view.getRootView().once(fM.AFTER_RENDER,(function(){t()}))},e.prototype.createAnnotation=function(t){var e=t.type,n=pT["Annotation"][Object(pM["upperFirst"])(e)];if(n){var i=this.getAnnotationTheme(e),r=this.getAnnotationCfg(e,t,i);if(!r)return null;var a=new n(r);return{component:a,layer:this.isTop(r)?eM.FORE:eM.BG,direction:nM.NONE,type:iM.ANNOTATION,extra:t}}},e.prototype.annotation=function(t){this.option.push(t)},e.prototype.arc=function(t){return this.annotation(Object(dM["__assign"])({type:"arc"},t)),this},e.prototype.image=function(t){return this.annotation(Object(dM["__assign"])({type:"image"},t)),this},e.prototype.line=function(t){return this.annotation(Object(dM["__assign"])({type:"line"},t)),this},e.prototype.region=function(t){return this.annotation(Object(dM["__assign"])({type:"region"},t)),this},e.prototype.text=function(t){return this.annotation(Object(dM["__assign"])({type:"text"},t)),this},e.prototype.dataMarker=function(t){return this.annotation(Object(dM["__assign"])({type:"dataMarker"},t)),this},e.prototype.dataRegion=function(t){this.annotation(Object(dM["__assign"])({type:"dataRegion"},t))},e.prototype.regionFilter=function(t){this.annotation(Object(dM["__assign"])({type:"regionFilter"},t))},e.prototype.shape=function(t){this.annotation(Object(dM["__assign"])({type:"shape"},t))},e.prototype.html=function(t){this.annotation(Object(dM["__assign"])({type:"html"},t))},e.prototype.parsePosition=function(t){var e,n,i=this.view.getXScale(),r=this.view.getScalesByDim("y"),a=Object(pM["isFunction"])(t)?t.call(null,i,r):t,o=0,s=0;if(Object(pM["isArray"])(a)){var l=Object(dM["__read"])(a,2),c=l[0],u=l[1];if(Object(pM["isString"])(c)&&-1!==c.indexOf("%")&&!isNaN(c.slice(0,-1)))return this.parsePercentPosition(a);o=KR(c,i),s=KR(u,Object.values(r)[0])}else if(!Object(pM["isNil"])(a))try{for(var h=Object(dM["__values"])(Object(pM["keys"])(a)),d=h.next();!d.done;d=h.next()){var p=d.value,f=a[p];p===i.field&&(o=KR(f,i)),r[p]&&(s=KR(f,r[p]))}}catch(g){e={error:g}}finally{try{d&&!d.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}return isNaN(o)||isNaN(s)?null:this.view.getCoordinate().convert({x:o,y:s})},e.prototype.getRegionPoints=function(t,e){var n,i=this,r=this.view.getXScale(),a=this.view.getScalesByDim("y"),o=Object.values(a)[0],s=r.field,l=this.view.getData(),c=Object(pM["isArray"])(t)?t[0]:t[s],u=Object(pM["isArray"])(e)?e[0]:e[s],h=[];return Object(pM["each"])(l,(function(t,e){if(t[s]===c&&(n=e),e>=n){var r=i.parsePosition([t[s],t[o.field]]);r&&h.push(r)}if(t[s]===u)return!1})),h},e.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,n=parseFloat(t[1])/100,i=this.view.getCoordinate(),r=i.start,a=i.end,o={x:Math.min(r.x,a.x),y:Math.min(r.y,a.y)},s=i.getWidth()*e+o.x,l=i.getHeight()*n+o.y;return{x:s,y:l}},e.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,n=t.end,i=t.getWidth(),r=t.getHeight(),a={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y)};return{x:a.x,y:a.y,minX:a.x,minY:a.y,maxX:a.x+i,maxY:a.y+r,width:i,height:r}},e.prototype.getAnnotationCfg=function(t,e,n){var i=this,r=this.view.getCoordinate(),a=this.view.getCanvas(),o={};if(Object(pM["isNil"])(e))return null;var s=e.start,l=e.end,c=e.position,u=this.parsePosition(s),h=this.parsePosition(l),d=this.parsePosition(c);if(!(!["arc","image","line","region","regionFilter"].includes(t)||u&&h))return null;if(["text","dataMarker","html"].includes(t)&&!d)return null;if("arc"===t){var p=e,f=(p.start,p.end,Object(dM["__rest"])(p,["start","end"])),g=VT(r,u),m=VT(r,h);g>m&&(m=2*Math.PI+m),o=Object(dM["__assign"])(Object(dM["__assign"])({},f),{center:r.getCenter(),radius:NT(r,u),startAngle:g,endAngle:m})}else if("image"===t){var v=e;v.start,v.end,f=Object(dM["__rest"])(v,["start","end"]);o=Object(dM["__assign"])(Object(dM["__assign"])({},f),{start:u,end:h,src:e.src})}else if("line"===t){var y=e;y.start,y.end,f=Object(dM["__rest"])(y,["start","end"]);o=Object(dM["__assign"])(Object(dM["__assign"])({},f),{start:u,end:h,text:Object(pM["get"])(e,"text",null)})}else if("region"===t){var b=e;b.start,b.end,f=Object(dM["__rest"])(b,["start","end"]);o=Object(dM["__assign"])(Object(dM["__assign"])({},f),{start:u,end:h})}else if("text"===t){var x=this.view.getData(),_=e,w=(_.position,_.content),S=(f=Object(dM["__rest"])(_,["position","content"]),w);Object(pM["isFunction"])(w)&&(S=w(x)),o=Object(dM["__assign"])(Object(dM["__assign"])(Object(dM["__assign"])({},d),f),{content:S})}else if("dataMarker"===t){var O=e,C=(O.position,O.point),A=O.line,M=O.text,T=O.autoAdjust,k=O.direction;f=Object(dM["__rest"])(O,["position","point","line","text","autoAdjust","direction"]);o=Object(dM["__assign"])(Object(dM["__assign"])(Object(dM["__assign"])({},f),d),{coordinateBBox:this.getCoordinateBBox(),point:C,line:A,text:M,autoAdjust:T,direction:k})}else if("dataRegion"===t){var L=e,j=L.start,I=L.end,E=L.region,P=(M=L.text,L.lineLength);f=Object(dM["__rest"])(L,["start","end","region","text","lineLength"]);o=Object(dM["__assign"])(Object(dM["__assign"])({},f),{points:this.getRegionPoints(j,I),region:E,text:M,lineLength:P})}else if("regionFilter"===t){var R=e,D=(R.start,R.end,R.apply),F=R.color,N=(f=Object(dM["__rest"])(R,["start","end","apply","color"]),this.view.geometries),B=[],V=function(t){t&&(t.isGroup()?t.getChildren().forEach((function(t){return V(t)})):B.push(t))};Object(pM["each"])(N,(function(t){D?Object(pM["contains"])(D,t.type)&&Object(pM["each"])(t.elements,(function(t){V(t.shape)})):Object(pM["each"])(t.elements,(function(t){V(t.shape)}))})),o=Object(dM["__assign"])(Object(dM["__assign"])({},f),{color:F,shapes:B,start:u,end:h})}else if("shape"===t){var G=e,z=G.render,U=Object(dM["__rest"])(G,["render"]),H=function(t){if(Object(pM["isFunction"])(e.render))return z(t,i.view,{parsePosition:i.parsePosition.bind(i)})};o=Object(dM["__assign"])(Object(dM["__assign"])({},U),{render:H})}else if("html"===t){var W=e,Y=W.html,X=(W.position,U=Object(dM["__rest"])(W,["html","position"]),function(t){return Object(pM["isFunction"])(Y)?Y(t,i.view):Y});o=Object(dM["__assign"])(Object(dM["__assign"])(Object(dM["__assign"])({},U),d),{parent:a.get("el").parentNode,html:X})}var q=Object(pM["deepMix"])({},n,Object(dM["__assign"])(Object(dM["__assign"])({},o),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return"html"!==t&&(q.container=this.getComponentContainer(q)),q.animate=this.view.getOptions().animate&&q.animate&&Object(pM["get"])(e,"animate",q.animate),q.animateOption=Object(pM["deepMix"])({},kj,q.animateOption,e.animateOption),q},e.prototype.isTop=function(t){return Object(pM["get"])(t,"top",!0)},e.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},e.prototype.getAnnotationTheme=function(t){return Object(pM["get"])(this.view.getTheme(),["components","annotation",t],{})},e.prototype.updateOrCreate=function(t){var e=this.cache.get(this.getCacheKey(t));if(e){var n=t.type,i=this.getAnnotationTheme(n),r=this.getAnnotationCfg(n,t,i);r&&IT(r,["container"]),e.component.update(Object(dM["__assign"])(Object(dM["__assign"])({},r||{}),{visible:!!r})),Object(pM["includes"])($R,t.type)&&e.component.render()}else e=this.createAnnotation(t),e&&(e.component.init(),Object(pM["includes"])($R,t.type)&&e.component.render());return e},e.prototype.syncCache=function(t){var e=this,n=new Map(this.cache);return t.forEach((function(t,e){n.set(e,t)})),n.forEach((function(t,i){Object(pM["find"])(e.option,(function(t){return i===e.getCacheKey(t)}))||(t.component.destroy(),n.delete(i))})),n},e.prototype.getCacheKey=function(t){return t},e}(wj),eD=tD;function nD(t,e){var n=Object(pM["deepMix"])({},Object(pM["get"])(t,["components","axis","common"]),Object(pM["get"])(t,["components","axis",e]));return Object(pM["get"])(n,["grid"],{})}function iD(t,e,n,i){var r=[],a=e.getTicks();return t.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce((function(e,a,o){var s=a.value;if(i)r.push({points:[t.convert("y"===n?{x:0,y:s}:{x:s,y:0}),t.convert("y"===n?{x:1,y:s}:{x:s,y:1})]});else if(o){var l=e.value,c=(l+s)/2;r.push({points:[t.convert("y"===n?{x:0,y:c}:{x:c,y:0}),t.convert("y"===n?{x:1,y:c}:{x:c,y:1})]})}return a}),a[0]),r}function rD(t,e,n,i,r){var a=e.values.length,o=[],s=n.getTicks();return s.reduce((function(e,n){var s=e?e.value:n.value,l=n.value,c=(s+l)/2;return"x"===r?o.push({points:[t.convert({x:i?l:c,y:0}),t.convert({x:i?l:c,y:1})]}):o.push({points:Object(pM["map"])(Array(a+1),(function(e,n){return t.convert({x:n/a,y:i?l:c})}))}),n}),s[0]),o}function aD(t,e){var n=Object(pM["get"])(e,"grid");if(null===n)return!1;var i=Object(pM["get"])(t,"grid");return!(void 0===n&&null===i)}var oD=["container"],sD=Object(dM["__assign"])(Object(dM["__assign"])({},kj),{appear:null}),lD=function(t){function e(e){var n=t.call(this,e)||this;return n.cache=new Map,n.gridContainer=n.view.getLayer(eM.BG).addGroup(),n.gridForeContainer=n.view.getLayer(eM.FORE).addGroup(),n.axisContainer=n.view.getLayer(eM.BG).addGroup(),n.axisForeContainer=n.view.getLayer(eM.FORE).addGroup(),n}return Object(dM["__extends"])(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this,e=this.view.getCoordinate();Object(pM["each"])(this.getComponents(),(function(n){var i,r=n.component,a=n.direction,o=n.type,s=n.extra,l=s.dim,c=s.scale,u=s.alignTick;if(o===iM.AXIS)e.isPolar?"x"===l?i=e.isTransposed?$T(e,a):rk(e):"y"===l&&(i=e.isTransposed?rk(e):$T(e,a)):i=$T(e,a);else if(o===iM.GRID)if(e.isPolar){var h=void 0;h=e.isTransposed?"x"===l?rD(e,t.view.getYScales()[0],c,u,l):iD(e,c,l,u):"x"===l?iD(e,c,l,u):rD(e,t.view.getXScale(),c,u,l),i={items:h,center:t.view.getCoordinate().getCenter()}}else i={items:iD(e,c,l,u)};r.update(i)}))},e.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach((function(n,i){t.has(i)?e.set(i,n):n.component.destroy()})),this.cache=e},e.prototype.clear=function(){t.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach((function(e){t.push(e)})),t},e.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(e&&!e.isIdentity){var n=ak(this.option,e.field);if(!1!==n){var i=ok(n,nM.BOTTOM),r=eM.BG,a="x",o=this.view.getCoordinate(),s=this.getId("axis",e.field),l=this.getId("grid",e.field);if(o.isRect){var c=this.cache.get(s);if(c){var u=this.getLineAxisCfg(e,n,i);IT(u,oD),c.component.update(u),t.set(s,c)}else c=this.createLineAxis(e,n,r,i,a),this.cache.set(s,c),t.set(s,c);var h=this.cache.get(l);if(h){u=this.getLineGridCfg(e,n,i,a);IT(u,oD),h.component.update(u),t.set(l,h)}else h=this.createLineGrid(e,n,r,i,a),h&&(this.cache.set(l,h),t.set(l,h))}else if(o.isPolar){c=this.cache.get(s);if(c){u=o.isTransposed?this.getLineAxisCfg(e,n,nM.RADIUS):this.getCircleAxisCfg(e,n,i);IT(u,oD),c.component.update(u),t.set(s,c)}else{if(o.isTransposed){if(Object(pM["isUndefined"])(n))return;c=this.createLineAxis(e,n,r,nM.RADIUS,a)}else c=this.createCircleAxis(e,n,r,i,a);this.cache.set(s,c),t.set(s,c)}h=this.cache.get(l);if(h){u=o.isTransposed?this.getCircleGridCfg(e,n,nM.RADIUS,a):this.getLineGridCfg(e,n,nM.CIRCLE,a);IT(u,oD),h.component.update(u),t.set(l,h)}else{if(o.isTransposed){if(Object(pM["isUndefined"])(n))return;h=this.createCircleGrid(e,n,r,nM.RADIUS,a)}else h=this.createLineGrid(e,n,r,nM.CIRCLE,a);h&&(this.cache.set(l,h),t.set(l,h))}}}}},e.prototype.updateYAxes=function(t){var e=this,n=this.view.getYScales();Object(pM["each"])(n,(function(n,i){if(n&&!n.isIdentity){var r=n.field,a=ak(e.option,r);if(!1!==a){var o=eM.BG,s="y",l=e.getId("axis",r),c=e.getId("grid",r),u=e.view.getCoordinate();if(u.isRect){var h=ok(a,0===i?nM.LEFT:nM.RIGHT),d=e.cache.get(l);if(d){var p=e.getLineAxisCfg(n,a,h);IT(p,oD),d.component.update(p),t.set(l,d)}else d=e.createLineAxis(n,a,o,h,s),e.cache.set(l,d),t.set(l,d);var f=e.cache.get(c);if(f){p=e.getLineGridCfg(n,a,h,s);IT(p,oD),f.component.update(p),t.set(c,f)}else f=e.createLineGrid(n,a,o,h,s),f&&(e.cache.set(c,f),t.set(c,f))}else if(u.isPolar){d=e.cache.get(l);if(d){p=u.isTransposed?e.getCircleAxisCfg(n,a,nM.CIRCLE):e.getLineAxisCfg(n,a,nM.RADIUS);IT(p,oD),d.component.update(p),t.set(l,d)}else{if(u.isTransposed){if(Object(pM["isUndefined"])(a))return;d=e.createCircleAxis(n,a,o,nM.CIRCLE,s)}else d=e.createLineAxis(n,a,o,nM.RADIUS,s);e.cache.set(l,d),t.set(l,d)}f=e.cache.get(c);if(f){p=u.isTransposed?e.getLineGridCfg(n,a,nM.CIRCLE,s):e.getCircleGridCfg(n,a,nM.RADIUS,s);IT(p,oD),f.component.update(p),t.set(c,f)}else{if(u.isTransposed){if(Object(pM["isUndefined"])(a))return;f=e.createLineGrid(n,a,o,nM.CIRCLE,s)}else f=e.createCircleGrid(n,a,o,nM.RADIUS,s);f&&(e.cache.set(c,f),t.set(c,f))}}}}}))},e.prototype.createLineAxis=function(t,e,n,i,r){var a={component:new fT(this.getLineAxisCfg(t,e,i)),layer:n,direction:i===nM.RADIUS?nM.NONE:i,type:iM.AXIS,extra:{dim:r,scale:t}};return a.component.set("field",t.field),a.component.init(),a},e.prototype.createLineGrid=function(t,e,n,i,r){var a=this.getLineGridCfg(t,e,i,r);if(a){var o={component:new mT(a),layer:n,direction:nM.NONE,type:iM.GRID,extra:{dim:r,scale:t,alignTick:Object(pM["get"])(a,"alignTick",!0)}};return o.component.init(),o}},e.prototype.createCircleAxis=function(t,e,n,i,r){var a={component:new gT(this.getCircleAxisCfg(t,e,i)),layer:n,direction:i,type:iM.AXIS,extra:{dim:r,scale:t}};return a.component.set("field",t.field),a.component.init(),a},e.prototype.createCircleGrid=function(t,e,n,i,r){var a=this.getCircleGridCfg(t,e,i,r);if(a){var o={component:new vT(a),layer:n,direction:nM.NONE,type:iM.GRID,extra:{dim:r,scale:t,alignTick:Object(pM["get"])(a,"alignTick",!0)}};return o.component.init(),o}},e.prototype.getLineAxisCfg=function(t,e,n){var i=Object(pM["get"])(e,["top"])?this.axisForeContainer:this.axisContainer,r=this.view.getCoordinate(),a=$T(r,n),o=sk(t,e),s=nk(this.view.getTheme(),n),l=Object(pM["get"])(e,["title"])?Object(pM["deepMix"])({title:{style:{text:o}}},{title:ik(this.view.getTheme(),n,e.title)},e):e,c=Object(pM["deepMix"])(Object(dM["__assign"])(Object(dM["__assign"])({container:i},a),{ticks:t.getTicks().map((function(t){return{id:"".concat(t.tickValue),name:t.text,value:t.value}})),verticalFactor:r.isPolar?-1*ek(a,r.getCenter()):ek(a,r.getCenter()),theme:s}),s,l),u=this.getAnimateCfg(c),h=u.animate,d=u.animateOption;c.animateOption=d,c.animate=h;var p=tk(a),f=Object(pM["get"])(c,"verticalLimitLength",p?1/3:.5);if(f<=1){var g=this.view.getCanvas().get("width"),m=this.view.getCanvas().get("height");c.verticalLimitLength=f*(p?g:m)}return c},e.prototype.getLineGridCfg=function(t,e,n,i){if(aD(nk(this.view.getTheme(),n),e)){var r=nD(this.view.getTheme(),n),a=Object(pM["deepMix"])({container:Object(pM["get"])(e,["top"])?this.gridForeContainer:this.gridContainer},r,Object(pM["get"])(e,"grid"),this.getAnimateCfg(e));return a.items=iD(this.view.getCoordinate(),t,i,Object(pM["get"])(a,"alignTick",!0)),a}},e.prototype.getCircleAxisCfg=function(t,e,n){var i=Object(pM["get"])(e,["top"])?this.axisForeContainer:this.axisContainer,r=this.view.getCoordinate(),a=t.getTicks().map((function(t){return{id:"".concat(t.tickValue),name:t.text,value:t.value}}));t.isCategory||Math.abs(r.endAngle-r.startAngle)!==2*Math.PI||a.length&&(a[a.length-1].name="");var o=sk(t,e),s=nk(this.view.getTheme(),nM.CIRCLE),l=Object(pM["get"])(e,["title"])?Object(pM["deepMix"])({title:{style:{text:o}}},{title:ik(this.view.getTheme(),n,e.title)},e):e,c=Object(pM["deepMix"])(Object(dM["__assign"])(Object(dM["__assign"])({container:i},rk(this.view.getCoordinate())),{ticks:a,verticalFactor:1,theme:s}),s,l),u=this.getAnimateCfg(c),h=u.animate,d=u.animateOption;return c.animate=h,c.animateOption=d,c},e.prototype.getCircleGridCfg=function(t,e,n,i){if(aD(nk(this.view.getTheme(),n),e)){var r=nD(this.view.getTheme(),nM.RADIUS),a=Object(pM["deepMix"])({container:Object(pM["get"])(e,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},r,Object(pM["get"])(e,"grid"),this.getAnimateCfg(e)),o=Object(pM["get"])(a,"alignTick",!0),s="x"===i?this.view.getYScales()[0]:this.view.getXScale();return a.items=rD(this.view.getCoordinate(),s,t,o,i),a}},e.prototype.getId=function(t,e){var n=this.view.getCoordinate();return"".concat(t,"-").concat(e,"-").concat(n.type)},e.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&Object(pM["get"])(t,"animate"),animateOption:t&&t.animateOption?Object(pM["deepMix"])({},sD,t.animateOption):sD}},e}(wj),cD=lD;function uD(t,e,n){return n===nM.TOP?[t.minX+t.width/2-e.width/2,t.minY]:n===nM.BOTTOM?[t.minX+t.width/2-e.width/2,t.maxY-e.height]:n===nM.LEFT?[t.minX,t.minY+t.height/2-e.height/2]:n===nM.RIGHT?[t.maxX-e.width,t.minY+t.height/2-e.height/2]:n===nM.TOP_LEFT||n===nM.LEFT_TOP?[t.tl.x,t.tl.y]:n===nM.TOP_RIGHT||n===nM.RIGHT_TOP?[t.tr.x-e.width,t.tr.y]:n===nM.BOTTOM_LEFT||n===nM.LEFT_BOTTOM?[t.bl.x,t.bl.y-e.height]:n===nM.BOTTOM_RIGHT||n===nM.RIGHT_BOTTOM?[t.br.x-e.width,t.br.y-e.height]:[0,0]}function hD(t,e){return Object(pM["isBoolean"])(t)?!1!==t&&{}:Object(pM["get"])(t,[e],t)}function dD(t){return Object(pM["get"])(t,"position",nM.BOTTOM)}var pD=function(t){function e(e){var n=t.call(this,e)||this;return n.container=n.view.getLayer(eM.FORE).addGroup(),n}return Object(dM["__extends"])(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,Object(pM["each"])(this.components,(function(e){var n=e.component,i=e.direction,r=SI(i),a=n.get("maxWidthRatio"),o=n.get("maxHeightRatio"),s=t.getCategoryLegendSizeCfg(r,a,o),l=n.get("maxWidth"),c=n.get("maxHeight");n.update({maxWidth:Math.min(s.maxWidth,l||0),maxHeight:Math.min(s.maxHeight,c||0)});var u=n.get("padding"),h=n.getLayoutBBox(),d=new PT(h.x,h.y,h.width,h.height).expand(u),p=Object(dM["__read"])(uD(t.view.viewBBox,d,i),2),f=p[0],g=p[1],m=Object(dM["__read"])(uD(t.layoutBBox,d,i),2),v=m[0],y=m[1],b=0,x=0;i.startsWith("top")||i.startsWith("bottom")?(b=f,x=y):(b=v,x=g),n.setLocation({x:b+u[3],y:x+u[0]}),t.layoutBBox=t.layoutBBox.cut(d,i)}))},e.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={},n=function(n,i,r){var a=t.getId(r.field),o=t.getComponentById(a);if(o){var s=void 0,l=hD(t.option,r.field);!1!==l&&(Object(pM["get"])(l,"custom")?s=t.getCategoryCfg(n,i,r,l,!0):r.isLinear?s=t.getContinuousCfg(n,i,r,l):r.isCategory&&(s=t.getCategoryCfg(n,i,r,l))),s&&(IT(s,["container"]),o.direction=dD(l),o.component.update(s),e[a]=!0)}else{var c=t.createFieldLegend(n,i,r);c&&(c.component.init(),t.components.push(c),e[a]=!0)}};if(Object(pM["get"])(this.option,"custom")){var i="global-custom",r=this.getComponentById(i);if(r){var a=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);IT(a,["container"]),r.component.update(a),e[i]=!0}else{var o=this.createCustomLegend(void 0,void 0,void 0,this.option);if(o){o.init();var s=eM.FORE,l=dD(this.option);this.components.push({id:i,component:o,layer:s,direction:l,type:iM.LEGEND,extra:void 0}),e[i]=!0}}}else this.loopLegends(n);var c=[];Object(pM["each"])(this.getComponents(),(function(t){e[t.id]?c.push(t):t.component.destroy()})),this.components=c},e.prototype.clear=function(){t.prototype.clear.call(this),this.container.clear()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.container.remove(!0)},e.prototype.getGeometries=function(t){var e=this,n=t.geometries;return Object(pM["each"])(t.views,(function(t){n=n.concat(e.getGeometries(t))})),n},e.prototype.loopLegends=function(t){var e=this.view.getRootView()===this.view;if(e){var n=this.getGeometries(this.view),i={};Object(pM["each"])(n,(function(e){var n=e.getGroupAttributes();Object(pM["each"])(n,(function(n){var r=n.getScale(n.type);r&&"identity"!==r.type&&!i[r.field]&&(t(e,n,r),i[r.field]=!0)}))}))}},e.prototype.createFieldLegend=function(t,e,n){var i,r=hD(this.option,n.field),a=eM.FORE,o=dD(r);if(!1!==r&&(Object(pM["get"])(r,"custom")?i=this.createCustomLegend(t,e,n,r):n.isLinear?i=this.createContinuousLegend(t,e,n,r):n.isCategory&&(i=this.createCategoryLegend(t,e,n,r))),i)return i.set("field",n.field),{id:this.getId(n.field),component:i,layer:a,direction:o,type:iM.LEGEND,extra:{scale:n}}},e.prototype.createCustomLegend=function(t,e,n,i){var r=this.getCategoryCfg(t,e,n,i,!0);return new yT(r)},e.prototype.createContinuousLegend=function(t,e,n,i){var r=this.getContinuousCfg(t,e,n,IT(i,["value"]));return new bT(r)},e.prototype.createCategoryLegend=function(t,e,n,i){var r=this.getCategoryCfg(t,e,n,i);return new yT(r)},e.prototype.getContinuousCfg=function(t,e,n,i){var r=n.getTicks(),a=Object(pM["find"])(r,(function(t){return 0===t.value})),o=Object(pM["find"])(r,(function(t){return 1===t.value})),s=r.map((function(t){var i=t.value,r=t.tickValue,a=e.mapping(n.invert(i)).join("");return{value:r,attrValue:a,color:a,scaleValue:i}}));a||s.push({value:n.min,attrValue:e.mapping(n.invert(0)).join(""),color:e.mapping(n.invert(0)).join(""),scaleValue:0}),o||s.push({value:n.max,attrValue:e.mapping(n.invert(1)).join(""),color:e.mapping(n.invert(1)).join(""),scaleValue:1}),s.sort((function(t,e){return t.value-e.value}));var l={min:Object(pM["head"])(s).value,max:Object(pM["last"])(s).value,colors:[],rail:{type:e.type},track:{}};"size"===e.type&&(l.track={style:{fill:"size"===e.type?this.view.getTheme().defaultColor:void 0}}),"color"===e.type&&(l.colors=s.map((function(t){return t.attrValue})));var c=this.container,u=dD(i),h=SI(u),d=Object(pM["get"])(i,"title");return d&&(d=Object(pM["deepMix"])({text:qT(n)},d)),l.container=c,l.layout=h,l.title=d,l.animateOption=kj,this.mergeLegendCfg(l,i,"continuous")},e.prototype.getCategoryCfg=function(t,e,n,i,r){var a=this.container,o=Object(pM["get"])(i,"position",nM.BOTTOM),s=AI(this.view.getTheme(),o),l=Object(pM["get"])(s,["marker"]),c=Object(pM["get"])(i,"marker"),u=SI(o),h=Object(pM["get"])(s,["pageNavigator"]),d=Object(pM["get"])(i,"pageNavigator"),p=r?CI(l,c,i.items):OI(this.view,t,e,l,c),f=Object(pM["get"])(i,"title");f&&(f=Object(pM["deepMix"])({text:n?qT(n):""},f));var g=Object(pM["get"])(i,"maxWidthRatio"),m=Object(pM["get"])(i,"maxHeightRatio"),v=this.getCategoryLegendSizeCfg(u,g,m);v.container=a,v.layout=u,v.items=p,v.title=f,v.animateOption=kj,v.pageNavigator=Object(pM["deepMix"])({},h,d);var y=this.mergeLegendCfg(v,i,o);y.reversed&&y.items.reverse();var b=Object(pM["get"])(y,"maxItemWidth");return b&&b<=1&&(y.maxItemWidth=this.view.viewBBox.width*b),y},e.prototype.mergeLegendCfg=function(t,e,n){var i=n.split("-")[0],r=AI(this.view.getTheme(),i);return Object(pM["deepMix"])({},r,t,e)},e.prototype.getId=function(t){return"".concat(this.name,"-").concat(t)},e.prototype.getComponentById=function(t){return Object(pM["find"])(this.components,(function(e){return e.id===t}))},e.prototype.getCategoryLegendSizeCfg=function(t,e,n){void 0===e&&(e=SM),void 0===n&&(n=SM);var i=this.view.viewBBox,r=i.width,a=i.height;return"vertical"===t?{maxWidth:r*e,maxHeight:a}:{maxWidth:r,maxHeight:a*n}},e}(wj),fD=pD,gD=function(t){function e(e){var n=t.call(this,e)||this;return n.onChangeFn=pM["noop"],n.resetMeasure=function(){n.clear()},n.onValueChange=function(t){var e=Object(dM["__read"])(t,2),i=e[0],r=e[1];n.start=i,n.end=r,n.changeViewData(i,r)},n.container=n.view.getLayer(eM.FORE).addGroup(),n.onChangeFn=Object(pM["throttle"])(n.onValueChange,20,{leading:!0}),n.width=0,n.view.on(fM.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(fM.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Object(dM["__extends"])(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.view.off(fM.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(fM.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),e=t.start,n=t.end;Object(pM["isNil"])(this.start)&&(this.start=e,this.end=n);var i=this.view.getOptions().data;this.option&&!Object(pM["isEmpty"])(i)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout((function(){t.view.destroyed||t.changeViewData(t.start,t.end)}),0)),this.slider){var e=this.view.coordinateBBox.width,n=this.slider.component.get("padding"),i=Object(dM["__read"])(n,4),r=i[0],a=(i[1],i[2],i[3]),o=this.slider.component.getLayoutBBox(),s=new PT(o.x,o.y,Math.min(o.width,e),o.height).expand(n),l=this.getMinMaxText(this.start,this.end),c=l.minText,u=l.maxText,h=Object(dM["__read"])(uD(this.view.viewBBox,s,nM.BOTTOM),2),d=(h[0],h[1]),p=Object(dM["__read"])(uD(this.view.coordinateBBox,s,nM.BOTTOM),2),f=p[0];p[1];this.slider.component.update(Object(dM["__assign"])(Object(dM["__assign"])({},this.getSliderCfg()),{x:f+a,y:d+r,width:this.width,start:this.start,end:this.end,minText:c,maxText:u})),this.view.viewBBox=this.view.viewBBox.cut(s,nM.BOTTOM)}},e.prototype.update=function(){this.render()},e.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new pT["Slider"](Object(dM["__assign"])({container:this.container},t));return e.init(),{component:e,layer:eM.FORE,direction:nM.BOTTOM,type:iM.SLIDER}},e.prototype.updateSlider=function(){var t=this.getSliderCfg();if(this.width){var e=this.getMinMaxText(this.start,this.end),n=e.minText,i=e.maxText;t=Object(dM["__assign"])(Object(dM["__assign"])({},t),{width:this.width,start:this.start,end:this.end,minText:n,maxText:i})}return this.slider.component.update(t),this.slider},e.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},e.prototype.getSliderCfg=function(){var t={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if(Object(pM["isObject"])(this.option)){var e=Object(dM["__assign"])({data:this.getData()},Object(pM["get"])(this.option,"trendCfg",{}));t=Object(pM["deepMix"])({},t,this.getThemeOptions(),this.option),t=Object(dM["__assign"])(Object(dM["__assign"])({},t),{trendCfg:e})}return t.start=Object(pM["clamp"])(Math.min(Object(pM["isNil"])(t.start)?0:t.start,Object(pM["isNil"])(t.end)?1:t.end),0,1),t.end=Object(pM["clamp"])(Math.max(Object(pM["isNil"])(t.start)?0:t.start,Object(pM["isNil"])(t.end)?1:t.end),0,1),t},e.prototype.getData=function(){var t=this.view.getOptions().data,e=Object(dM["__read"])(this.view.getYScales(),1),n=e[0],i=this.view.getGroupScales();if(i.length){var r=i[0],a=r.field,o=r.ticks;return t.reduce((function(t,e){return e[a]===o[0]&&t.push(e[n.field]),t}),[])}return t.map((function(t){return t[n.field]||0}))},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return Object(pM["get"])(t,["components","slider","common"],{})},e.prototype.getMinMaxText=function(t,e){var n=this.view.getOptions().data,i=this.view.getXScale(),r=!0,a=Object(pM["valuesOfKey"])(n,i.field);i.isLinear&&(a=a.sort());var o=r?a:a.reverse(),s=Object(pM["size"])(n);if(!i||!s)return{};var l=Object(pM["size"])(o),c=Math.round(t*(l-1)),u=Math.round(e*(l-1)),h=Object(pM["get"])(o,[c]),d=Object(pM["get"])(o,[u]),p=this.getSliderCfg().formatter;return p&&(h=p(h,n[c],c),d=p(d,n[u],u)),{minText:h,maxText:d}},e.prototype.changeViewData=function(t,e){var n=this.view.getOptions().data,i=this.view.getXScale(),r=Object(pM["size"])(n);if(i&&r){var a=!0,o=Object(pM["valuesOfKey"])(n,i.field),s=this.view.getXScale().isLinear?o.sort((function(t,e){return Number(t)-Number(e)})):o,l=a?s:s.reverse(),c=Object(pM["size"])(l),u=Math.round(t*(c-1)),h=Math.round(e*(c-1));this.view.filter(i.field,(function(t,e){var n=l.indexOf(t);return!(n>-1)||LT(n,u,h)})),this.view.render(!0)}},e.prototype.getComponents=function(){return this.slider?[this.slider]:[]},e.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},e}(wj),mD=gD,vD=0,yD=8,bD=32,xD=20,_D=function(t){function e(e){var n=t.call(this,e)||this;return n.onChangeFn=pM["noop"],n.resetMeasure=function(){n.clear()},n.onValueChange=function(t){var e=t.ratio,i=n.getValidScrollbarCfg().animate;n.ratio=Object(pM["clamp"])(e,0,1);var r=n.view.getOptions().animate;i||n.view.animate(!1),n.changeViewData(n.getScrollRange(),!0),n.view.animate(r)},n.container=n.view.getLayer(eM.FORE).addGroup(),n.onChangeFn=Object(pM["throttle"])(n.onValueChange,20,{leading:!0}),n.trackLen=0,n.thumbLen=0,n.ratio=0,n.view.on(fM.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(fM.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Object(dM["__extends"])(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.view.off(fM.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(fM.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout((function(){t.view.destroyed||t.changeViewData(t.getScrollRange(),!0)}))),this.scrollbar){var e=this.view.coordinateBBox.width,n=this.scrollbar.component.get("padding"),i=this.scrollbar.component.getLayoutBBox(),r=new PT(i.x,i.y,Math.min(i.width,e),i.height).expand(n),a=this.getScrollbarComponentCfg(),o=void 0,s=void 0;if(a.isHorizontal){var l=Object(dM["__read"])(uD(this.view.viewBBox,r,nM.BOTTOM),2),c=(l[0],l[1]),u=Object(dM["__read"])(uD(this.view.coordinateBBox,r,nM.BOTTOM),2),h=u[0];u[1];o=h,s=c}else{var d=Object(dM["__read"])(uD(this.view.viewBBox,r,nM.RIGHT),2),p=(d[0],c=d[1],Object(dM["__read"])(uD(this.view.viewBBox,r,nM.RIGHT),2));h=p[0],p[1];o=h,s=c}o+=n[3],s+=n[0],this.trackLen?this.scrollbar.component.update(Object(dM["__assign"])(Object(dM["__assign"])({},a),{x:o,y:s,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update(Object(dM["__assign"])(Object(dM["__assign"])({},a),{x:o,y:s})),this.view.viewBBox=this.view.viewBBox.cut(r,a.isHorizontal?nM.BOTTOM:nM.RIGHT)}},e.prototype.update=function(){this.render()},e.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},e.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},e.prototype.setValue=function(t){this.onValueChange({ratio:t})},e.prototype.getValue=function(){return this.ratio},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return Object(pM["get"])(t,["components","scrollbar","common"],{})},e.prototype.getScrollbarTheme=function(t){var e=Object(pM["get"])(this.view.getTheme(),["components","scrollbar"]),n=t||{},i=n.thumbHighlightColor,r=Object(dM["__rest"])(n,["thumbHighlightColor"]);return{default:Object(pM["deepMix"])({},Object(pM["get"])(e,["default","style"],{}),r),hover:Object(pM["deepMix"])({},Object(pM["get"])(e,["hover","style"],{}),{thumbColor:i})}},e.prototype.measureScrollbar=function(){var t=this.view.getXScale(),e=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var n=this.getScrollbarComponentCfg(),i=n.trackLen,r=n.thumbLen;this.trackLen=i,this.thumbLen=r,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=e},e.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*Object(pM["clamp"])(this.ratio,0,1)),e=Math.min(t+this.step-1,this.cnt-1);return[t,e]},e.prototype.changeViewData=function(t,e){var n=this,i=Object(dM["__read"])(t,2),r=i[0],a=i[1],o=this.getValidScrollbarCfg().type,s="vertical"!==o,l=Object(pM["valuesOfKey"])(this.data,this.xScaleCfg.field),c=this.view.getXScale().isLinear?l.sort((function(t,e){return Number(t)-Number(e)})):l,u=s?c:c.reverse();this.yScalesCfg.forEach((function(t){n.view.scale(t.field,{formatter:t.formatter,type:t.type,min:t.min,max:t.max,tickMethod:t.tickMethod})})),this.view.filter(this.xScaleCfg.field,(function(t){var e=u.indexOf(t);return!(e>-1)||LT(e,r,a)})),this.view.render(!0)},e.prototype.createScrollbar=function(){var t=this.getValidScrollbarCfg().type,e="vertical"!==t,n=new pT["Scrollbar"](Object(dM["__assign"])(Object(dM["__assign"])({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return n.init(),{component:n,layer:eM.FORE,direction:e?nM.BOTTOM:nM.RIGHT,type:iM.SCROLLBAR}},e.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),e=this.trackLen?Object(dM["__assign"])(Object(dM["__assign"])({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):Object(dM["__assign"])({},t);return this.scrollbar.component.update(e),this.scrollbar},e.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,e=this.getValidScrollbarCfg(),n=e.type,i=e.categorySize,r="vertical"!==n;return Math.floor((r?t.width:t.height)/i)},e.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),e=this.getScrollbarData(),n=Object(pM["valuesOfKey"])(e,t.field);return Object(pM["size"])(n)},e.prototype.getScrollbarComponentCfg=function(){var t=this.view,e=t.coordinateBBox,n=t.viewBBox,i=this.getValidScrollbarCfg(),r=i.type,a=i.padding,o=i.width,s=i.height,l=i.style,c="vertical"!==r,u=Object(dM["__read"])(a,4),h=u[0],d=u[1],p=u[2],f=u[3],g=c?{x:e.minX+f,y:n.maxY-s-p}:{x:n.maxX-o-d,y:e.minY+h},m=this.getStep(),v=this.getCnt(),y=c?e.width-f-d:e.height-h-p,b=Math.max(y*Object(pM["clamp"])(m/v,0,1),xD);return Object(dM["__assign"])(Object(dM["__assign"])({},this.getThemeOptions()),{x:g.x,y:g.y,size:c?s:o,isHorizontal:c,trackLen:y,thumbLen:b,thumbOffset:0,theme:this.getScrollbarTheme(l)})},e.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:bD,width:yD,height:yD,padding:[0,0,0,0],animate:!0,style:{}};return Object(pM["isObject"])(this.option)&&(t=Object(dM["__assign"])(Object(dM["__assign"])({},t),this.option)),Object(pM["isObject"])(this.option)&&this.option.padding||(t.padding="horizontal"===t.type?[vD,0,vD,0]:[0,vD,0,vD]),t},e.prototype.getScrollbarData=function(){var t=this.view.getCoordinate(),e=this.getValidScrollbarCfg(),n=this.view.getOptions().data||[];return t.isReflect("y")&&"vertical"===e.type&&(n=Object(dM["__spreadArray"])([],Object(dM["__read"])(n),!1).reverse()),n},e}(wj),wD=_D,SD={fill:"#CCD6EC",opacity:.3};function OD(t,e,n){var i,r,a,o,s,l,c=ej(t,e,n);if(c.length){c=Object(pM["flatten"])(c);try{for(var u=Object(dM["__values"])(c),h=u.next();!h.done;h=u.next()){var d=h.value;try{for(var p=(a=void 0,Object(dM["__values"])(d)),f=p.next();!f.done;f=p.next()){var g=f.value,m=g.mappingData,v=m.x,y=m.y;g.x=Object(pM["isArray"])(v)?v[v.length-1]:v,g.y=Object(pM["isArray"])(y)?y[y.length-1]:y}}catch(A){a={error:A}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}}}catch(M){i={error:M}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}var b=n.shared;if(!1===b&&c.length>1){var x=c[0],_=Math.abs(e.y-x[0].y);try{for(var w=Object(dM["__values"])(c),S=w.next();!S.done;S=w.next()){var O=S.value,C=Math.abs(e.y-O[0].y);C<=_&&(x=O,_=C)}}catch(T){s={error:T}}finally{try{S&&!S.done&&(l=w.return)&&l.call(w)}finally{if(s)throw s.error}}c=[x]}return Object(pM["uniq"])(Object(pM["flatten"])(c))}return[]}var CD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dM["__extends"])(e,t),e.prototype.show=function(t){var e=this.context.view,n=this.context.event,i=e.getController("tooltip").getTooltipCfg(),r=OD(e,{x:n.x,y:n.y},i);if(!Object(pM["isEqual"])(r,this.items)&&(this.items=r,r.length)){var a=e.getXScale().field,o=r[0].data[a],s=[],l=e.geometries;if(Object(pM["each"])(l,(function(t){if("interval"===t.type||"schema"===t.type){var e=t.getElementsBy((function(t){var e=t.getData();return e[a]===o}));s=s.concat(e)}})),s.length){var c=e.getCoordinate(),u=s[0].shape.getCanvasBBox(),h=s[0].shape.getCanvasBBox(),d=u;Object(pM["each"])(s,(function(t){var e=t.shape.getCanvasBBox();c.isTransposed?(e.minY<u.minY&&(u=e),e.maxY>h.maxY&&(h=e)):(e.minX<u.minX&&(u=e),e.maxX>h.maxX&&(h=e)),d.x=Math.min(e.minX,d.minX),d.y=Math.min(e.minY,d.minY),d.width=Math.max(e.maxX,d.maxX)-d.x,d.height=Math.max(e.maxY,d.maxY)-d.y}));var p=e.backgroundGroup,f=e.coordinateBBox,g=void 0;if(c.isRect){var m=e.getXScale(),v=t||{},y=v.appendRatio,b=v.appendWidth;Object(pM["isNil"])(b)&&(y=Object(pM["isNil"])(y)?m.isLinear?0:.25:y,b=c.isTransposed?y*h.height:y*u.width);var x=void 0,_=void 0,w=void 0,S=void 0;c.isTransposed?(x=f.minX,_=Math.min(h.minY,u.minY)-b,w=f.width,S=d.height+2*b):(x=Math.min(u.minX,h.minX)-b,_=f.minY,w=d.width+2*b,S=f.height),g=[["M",x,_],["L",x+w,_],["L",x+w,_+S],["L",x,_+S],["Z"]]}else{var O=Object(pM["head"])(s),C=Object(pM["last"])(s),A=MT(O.getModel(),c).startAngle,M=MT(C.getModel(),c).endAngle,T=c.getCenter(),k=c.getRadius(),L=c.innerRadius*k;g=CT(T.x,T.y,k,A,M,L)}if(this.regionPath)this.regionPath.attr("path",g),this.regionPath.show();else{var j=Object(pM["get"])(t,"style",SD);this.regionPath=p.addShape({type:"path",name:"active-region",capture:!1,attrs:Object(dM["__assign"])(Object(dM["__assign"])({},j),{path:g})})}}}},e.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},e.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),t.prototype.destroy.call(this)},e}(pk),AD=CD,MD=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeStamp=0,e}return Object(dM["__extends"])(e,t),e.prototype.show=function(){var t=this.context,e=t.event,n=t.view,i=n.isTooltipLocked();if(!i){var r=this.timeStamp,a=+new Date,o=Object(pM["get"])(t.view.getOptions(),"tooltip.showDelay",16);if(a-r>o){var s=this.location,l={x:e.x,y:e.y};s&&Object(pM["isEqual"])(s,l)||this.showTooltip(n,l),this.timeStamp=a,this.location=l}}},e.prototype.hide=function(){var t=this.context.view,e=t.getController("tooltip"),n=this.context.event,i=n.clientX,r=n.clientY;e.isCursorEntered({x:i,y:r})||t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},e.prototype.showTooltip=function(t,e){t.showTooltip(e)},e.prototype.hideTooltip=function(t){t.hideTooltip()},e}(pk),TD=MD,kD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dM["__extends"])(e,t),e.prototype.showTooltip=function(t,e){var n=cL(t);Object(pM["each"])(n,(function(n){var i=hL(t,n,e);n.showTooltip(i)}))},e.prototype.hideTooltip=function(t){var e=cL(t);Object(pM["each"])(e,(function(t){t.hideTooltip()}))},e}(TD),LD=kD,jD=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeStamp=0,e}return Object(dM["__extends"])(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.show=function(){var t=this.context,e=t.event,n=this.timeStamp,i=+new Date;if(i-n>16){var r=this.location,a={x:e.x,y:e.y};r&&Object(pM["isEqual"])(r,a)||this.showTooltip(a),this.timeStamp=i,this.location=a}},e.prototype.hide=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var e=this.context,n=e.event,i=n.target;if(i&&i.get("tip")){this.tooltip||this.renderTooltip();var r=i.get("tip");this.tooltip.update(Object(dM["__assign"])({title:r},t)),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,e=this.context.view,n=e.canvas,i={start:{x:0,y:0},end:{x:n.get("width"),y:n.get("height")}},r=e.getTheme(),a=Object(pM["get"])(r,["components","tooltip","domStyles"],{}),o=new xT({parent:n.get("el").parentNode,region:i,visible:!1,crosshairs:null,domStyles:Object(dM["__assign"])({},Object(pM["deepMix"])({},a,(t={},t[pT["TOOLTIP_CSS_CONST"].CONTAINER_CLASS]={"max-width":"50%"},t[pT["TOOLTIP_CSS_CONST"].TITLE_CLASS]={"word-break":"break-all"},t)))});o.init(),o.setCapture(!1),this.tooltip=o},e}(pk),ID=jD,ED=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="",e}return Object(dM["__extends"])(e,t),e.prototype.hasState=function(t){return t.hasState(this.stateName)},e.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},e.prototype.clearViewState=function(t){var e=this,n=$k(t,this.stateName);Object(pM["each"])(n,(function(t){e.setElementState(t,!1)}))},e}(pk),PD=ED;function RD(t){return Object(pM["get"])(t.get("delegateObject"),"item")}var DD=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ignoreListItemStates=["unchecked"],e}return Object(dM["__extends"])(e,t),e.prototype.isItemIgnore=function(t,e){var n=this.ignoreListItemStates,i=n.filter((function(n){return e.hasState(t,n)}));return!!i.length},e.prototype.setStateByComponent=function(t,e,n){var i=this.context.view,r=t.get("field"),a=Jk(i);this.setElementsStateByItem(a,r,e,n)},e.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},e.prototype.isMathItem=function(t,e,n){var i=this.context.view,r=pL(i,e),a=tL(t,e);return!Object(pM["isNil"])(a)&&n.name===r.getText(a)},e.prototype.setElementsStateByItem=function(t,e,n,i){var r=this;Object(pM["each"])(t,(function(t){r.isMathItem(t,e,n)&&t.setState(r.stateName,i)}))},e.prototype.setStateEnable=function(t){var e=Bk(this.context);if(e)Gk(this.context)&&this.setStateByElement(e,t);else{var n=Vk(this.context);if(zk(n)){var i=n.item,r=n.component;if(i&&r&&!this.isItemIgnore(i,r)){var a=this.context.event.gEvent;if(a&&a.fromShape&&a.toShape&&RD(a.fromShape)===RD(a.toShape))return;this.setStateByComponent(r,i,t)}}}},e.prototype.toggle=function(){var t=Bk(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(PD),FD=DD,ND=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Object(dM["__extends"])(e,t),e.prototype.active=function(){this.setState()},e}(FD),BD=ND,VD=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cache={},e}return Object(dM["__extends"])(e,t),e.prototype.getColorScale=function(t,e){var n=e.geometry.getAttribute("color");if(!n)return null;var i=t.getScaleByField(n.getFields()[0]);return i},e.prototype.getLinkPath=function(t,e){var n=this.context.view,i=n.getCoordinate().isTransposed,r=t.shape.getCanvasBBox(),a=e.shape.getCanvasBBox(),o=i?[["M",r.minX,r.minY],["L",a.minX,a.maxY],["L",a.maxX,a.maxY],["L",r.maxX,r.minY],["Z"]]:[["M",r.maxX,r.minY],["L",a.minX,a.minY],["L",a.minX,a.maxY],["L",r.maxX,r.maxY],["Z"]];return o},e.prototype.addLinkShape=function(t,e,n,i){var r={opacity:.4,fill:e.shape.attr("fill")};t.addShape({type:"path",attrs:Object(dM["__assign"])(Object(dM["__assign"])({},Object(pM["deepMix"])({},r,Object(pM["isFunction"])(i)?i(r,e):i)),{path:this.getLinkPath(e,n)})})},e.prototype.linkByElement=function(t,e){var n=this,i=this.context.view,r=this.getColorScale(i,t);if(r){var a=tL(t,r.field);if(!this.cache[a]){var o=Kk(i,r.field,a),s=this.linkGroup,l=s.addGroup();this.cache[a]=l;var c=o.length;Object(pM["each"])(o,(function(t,i){if(i<c-1){var r=o[i+1];n.addLinkShape(l,t,r,e)}}))}}},e.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(e){var n=tL(t,e.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},e.prototype.link=function(t){var e=this.context;this.linkGroup||(this.linkGroup=e.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var n=Bk(e);n&&this.linkByElement(n,null===t||void 0===t?void 0:t.style)},e.prototype.unlink=function(){var t=Bk(this.context);t&&this.removeLink(t)},e.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},e}(pk),GD=VD,zD=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPoint=null,e.endPoint=null,e.isStarted=!1,e.effectSiblings=!1,e.effectByRecord=!1,e}return Object(dM["__extends"])(e,t),e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},e.prototype.getIntersectElements=function(){var t=null;if(Hk(this.context))t=Yk(this.context,10);else{var e=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!n)return;var i={minX:Math.min(e.x,n.x),minY:Math.min(e.y,n.y),maxX:Math.max(e.x,n.x),maxY:Math.max(e.y,n.y)},r=this.context.view;t=nL(r,i)}return t},e.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=Jk(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,e):this.clear()}},e.prototype.setSiblingsStateByRecord=function(t,e){var n=this,i=this.context.view,r=cL(i),a=t.map((function(t){return t.getModel().data})),o=i.getXScale().field,s=i.getYScales()[0].field;Object(pM["each"])(r,(function(t){var i=Jk(t),r=i.filter((function(t){var e=t.getModel().data;return dL(a,e,o,s)}));n.setElementsState(r,e,i)}))},e.prototype.setSiblingsState=function(t){var e=this,n=this.context.view,i=cL(n);Hk(this.context)&&Object(pM["each"])(i,(function(n){var i=Jk(n),r=qk(e.context,n,10);r&&r.length?e.setElementsState(r,t,i):e.clearViewState(n)}))},e.prototype.setElementsState=function(t,e,n){var i=this;Object(pM["each"])(n,(function(n){t.includes(n)?i.setElementState(n,e):i.setElementState(n,!1)}))},e.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},e.prototype.clear=function(){var t=this,e=this.context.view;if(this.effectSiblings){var n=cL(e);Object(pM["each"])(n,(function(e){t.clearViewState(e)}))}else this.clearViewState(e)},e}(PD),UD=zD,HD=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Object(dM["__extends"])(e,t),e.prototype.active=function(){this.setState()},e}(UD),WD=HD,YD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dM["__extends"])(e,t),e.prototype.setStateEnable=function(t){var e=Bk(this.context);if(e){if(!Gk(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},e.prototype.toggle=function(){var t=Bk(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(PD),XD=YD,qD=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Object(dM["__extends"])(e,t),e.prototype.active=function(){this.setState()},e}(XD),ZD=qD,QD="inactive",JD="active";function KD(t){var e=Jk(t);Object(pM["each"])(e,(function(t){t.hasState(JD)&&t.setState(JD,!1),t.hasState(QD)&&t.setState(QD,!1)}))}function $D(t,e,n){Object(pM["each"])(t,(function(t){e(t)?(t.hasState(QD)&&t.setState(QD,!1),t.setState(JD,n)):(t.hasState(JD)&&t.setState(JD,!1),t.setState(QD,n))}))}var tF,eF=vM.INACTIVE,nF=vM.ACTIVE,iF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName=nF,e}return Object(dM["__extends"])(e,t),e.prototype.setElementsStateByItem=function(t,e,n,i){var r=this,a=function(t){return r.isMathItem(t,e,n)};this.setHighlightBy(t,a,i)},e.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(eF)&&t.setState(eF,!1),t.setState(nF,!0)):t.hasState(nF)||t.setState(eF,!0)},e.prototype.setHighlightBy=function(t,e,n){var i=this;if(n)Object(pM["each"])(t,(function(t){i.setElementHighlight(t,e)}));else{var r=$k(this.context.view,nF),a=!0;Object(pM["each"])(r,(function(t){if(!e(t))return a=!1,!1})),a?this.clear():Object(pM["each"])(t,(function(t){e(t)&&(t.hasState(nF)&&t.setState(nF,!1),t.setState(eF,!0))}))}},e.prototype.setElementState=function(t,e){var n=this.context.view,i=Jk(n);this.setHighlightBy(i,(function(e){return t===e}),e)},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var t=this.context.view;KD(t)},e}(FD),rF=iF,aF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dM["__extends"])(e,t),e.prototype.setStateByElement=function(t,e){var n=this.context.view,i=t.geometry.getAttribute("color");if(i){var r=n.getScaleByField(i.getFields()[0]),a=tL(t,r.field),o=Jk(n),s=o.filter((function(t){return tL(t,r.field)===a}));this.setHighlightBy(o,(function(t){return s.includes(t)}),e)}},e}(rF),oF=aF,sF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dM["__extends"])(e,t),e.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(eF)&&t.setState(eF,!1),t.setState(nF,!0)):(t.setState(eF,!0),t.hasState(nF)&&t.setState(nF,!1))},e.prototype.setStateByElement=function(t,e){var n=this.context.view,i=n.getXScale(),r=tL(t,i.field),a=Jk(n),o=a.filter((function(t){return tL(t,i.field)===r}));this.setHighlightBy(a,(function(t){return o.includes(t)}),e)},e.prototype.toggle=function(){var t=Bk(this.context);if(t){var e=t.hasState(this.stateName);this.setStateByElement(t,!e)}},e}(rF),lF=sF;(function(t){t["BEFORE_HIGHLIGHT"]="element-range-highlight:beforehighlight",t["AFTER_HIGHLIGHT"]="element-range-highlight:afterhighlight",t["BEFORE_CLEAR"]="element-range-highlight:beforeclear",t["AFTER_CLEAR"]="element-range-highlight:afterclear"})(tF||(tF={}));var cF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Object(dM["__extends"])(e,t),e.prototype.clearViewState=function(t){KD(t)},e.prototype.highlight=function(){var t=this.context,e=t.view,n=t.event,i=this.getIntersectElements(),r={view:e,event:n,highlightElements:i};e.emit(tF.BEFORE_HIGHLIGHT,hj.fromData(e,tF.BEFORE_HIGHLIGHT,r)),this.setState(),e.emit(tF.AFTER_HIGHLIGHT,hj.fromData(e,tF.AFTER_HIGHLIGHT,r))},e.prototype.clear=function(){var e=this.context.view;e.emit(tF.BEFORE_CLEAR,hj.fromData(e,tF.BEFORE_CLEAR,{})),t.prototype.clear.call(this),e.emit(tF.AFTER_CLEAR,hj.fromData(e,tF.AFTER_CLEAR,{}))},e.prototype.setElementsState=function(t,e,n){$D(n,(function(e){return t.indexOf(e)>=0}),e)},e}(UD),uF=cF,hF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Object(dM["__extends"])(e,t),e.prototype.highlight=function(){this.setState()},e.prototype.setElementState=function(t,e){var n=this.context.view,i=Jk(n);$D(i,(function(e){return t===e}),e)},e.prototype.clear=function(){var t=this.context.view;KD(t)},e}(XD),dF=hF,pF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return Object(dM["__extends"])(e,t),e.prototype.selected=function(){this.setState()},e}(UD),fF=pF,gF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return Object(dM["__extends"])(e,t),e.prototype.selected=function(){this.setState()},e}(FD),mF=gF,vF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return Object(dM["__extends"])(e,t),e.prototype.selected=function(){this.setState()},e}(XD),yF=vF,bF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="",e.ignoreItemStates=[],e}return Object(dM["__extends"])(e,t),e.prototype.getTriggerListInfo=function(){var t=Vk(this.context),e=null;return zk(t)&&(e={item:t.item,list:t.component}),e},e.prototype.getAllowComponents=function(){var t=this,e=this.context.view,n=aL(e),i=[];return Object(pM["each"])(n,(function(e){e.isList()&&t.allowSetStateByElement(e)&&i.push(e)})),i},e.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},e.prototype.clearAllComponentsState=function(){var t=this,e=this.getAllowComponents();Object(pM["each"])(e,(function(e){e.clearItemsState(t.stateName)}))},e.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(-1===this.cfg.componentNames.indexOf(n))return!1}var i=this.context.view,r=pL(i,e);return r&&r.isCategory},e.prototype.allowSetStateByItem=function(t,e){var n=this.ignoreItemStates;if(n.length){var i=n.filter((function(n){return e.hasState(t,n)}));return 0===i.length}return!0},e.prototype.setStateByElement=function(t,e,n){var i=t.get("field"),r=this.context.view,a=pL(r,i),o=tL(e,i),s=a.getText(o);this.setItemsState(t,s,n)},e.prototype.setStateEnable=function(t){var e=this,n=Bk(this.context);if(n){var i=this.getAllowComponents();Object(pM["each"])(i,(function(i){e.setStateByElement(i,n,t)}))}else{var r=Vk(this.context);if(zk(r)){var a=r.item,o=r.component;this.allowSetStateByElement(o)&&this.allowSetStateByItem(a,o)&&this.setItemState(o,a,t)}}},e.prototype.setItemsState=function(t,e,n){var i=this,r=t.getItems();Object(pM["each"])(r,(function(r){r.name===e&&i.setItemState(t,r,n)}))},e.prototype.setItemState=function(t,e,n){t.setItemState(e,this.stateName,n)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.reset=function(){this.setStateEnable(!1)},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,i=this.hasState(e,n);this.setItemState(e,n,!i)}},e.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},e}(pk),xF=bF,_F=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="active",e}return Object(dM["__extends"])(e,t),e.prototype.active=function(){this.setState()},e}(xF),wF=_F,SF="inactive",OF="active";function CF(t){var e=t.getItems();Object(pM["each"])(e,(function(e){t.hasState(e,OF)&&t.setItemState(e,OF,!1),t.hasState(e,SF)&&t.setItemState(e,SF,!1)}))}var AF="inactive",MF="active",TF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName=MF,e.ignoreItemStates=["unchecked"],e}return Object(dM["__extends"])(e,t),e.prototype.setItemsState=function(t,e,n){this.setHighlightBy(t,(function(t){return t.name===e}),n)},e.prototype.setItemState=function(t,e,n){t.getItems();this.setHighlightBy(t,(function(t){return t===e}),n)},e.prototype.setHighlightBy=function(t,e,n){var i=t.getItems();if(n)Object(pM["each"])(i,(function(n){e(n)?(t.hasState(n,AF)&&t.setItemState(n,AF,!1),t.setItemState(n,MF,!0)):t.hasState(n,MF)||t.setItemState(n,AF,!0)}));else{var r=t.getItemsByState(MF),a=!0;Object(pM["each"])(r,(function(t){if(!e(t))return a=!1,!1})),a?this.clear():Object(pM["each"])(i,(function(n){e(n)&&(t.hasState(n,MF)&&t.setItemState(n,MF,!1),t.setItemState(n,AF,!0))}))}},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)CF(t.list);else{var e=this.getAllowComponents();Object(pM["each"])(e,(function(t){t.clearItemsState(MF),t.clearItemsState(AF)}))}},e}(xF),kF=TF,LF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="selected",e}return Object(dM["__extends"])(e,t),e.prototype.selected=function(){this.setState()},e}(xF),jF=LF,IF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName="unchecked",e}return Object(dM["__extends"])(e,t),e.prototype.unchecked=function(){this.setState()},e}(xF),EF=IF,PF="unchecked",RF="checked",DF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stateName=RF,e}return Object(dM["__extends"])(e,t),e.prototype.setItemState=function(t,e,n){this.setCheckedBy(t,(function(t){return t===e}),n)},e.prototype.setCheckedBy=function(t,e,n){var i=t.getItems();n&&Object(pM["each"])(i,(function(n){e(n)?(t.hasState(n,PF)&&t.setItemState(n,PF,!1),t.setItemState(n,RF,!0)):t.hasState(n,RF)||t.setItemState(n,PF,!0)}))},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,i=!Object(pM["some"])(e.getItems(),(function(t){return e.hasState(t,PF)}));i||e.hasState(n,PF)?this.setItemState(e,n,!0):this.reset()}},e.prototype.checked=function(){this.setState()},e.prototype.reset=function(){var t=this.getAllowComponents();Object(pM["each"])(t,(function(t){t.clearItemsState(RF),t.clearItemsState(PF)}))},e}(xF),FF=DF,NF="unchecked",BF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dM["__extends"])(e,t),e.prototype.toggle=function(){var t,e,n,i,r,a,o,s,l=this.getTriggerListInfo();if(null===l||void 0===l?void 0:l.item){var c=l.list,u=l.item,h=c.getItems(),d=h.filter((function(t){return!c.hasState(t,NF)})),p=h.filter((function(t){return c.hasState(t,NF)})),f=d[0];if(h.length===d.length)try{for(var g=Object(dM["__values"])(h),m=g.next();!m.done;m=g.next()){var v=m.value;c.setItemState(v,NF,v.id!==u.id)}}catch(O){t={error:O}}finally{try{m&&!m.done&&(e=g.return)&&e.call(g)}finally{if(t)throw t.error}}else if(h.length-p.length===1)if(f.id===u.id)try{for(var y=Object(dM["__values"])(h),b=y.next();!b.done;b=y.next()){v=b.value;c.setItemState(v,NF,!1)}}catch(C){n={error:C}}finally{try{b&&!b.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}else try{for(var x=Object(dM["__values"])(h),_=x.next();!_.done;_=x.next()){v=_.value;c.setItemState(v,NF,v.id!==u.id)}}catch(A){r={error:A}}finally{try{_&&!_.done&&(a=x.return)&&a.call(x)}finally{if(r)throw r.error}}else try{for(var w=Object(dM["__values"])(h),S=w.next();!S.done;S=w.next()){v=S.value;c.setItemState(v,NF,v.id!==u.id)}}catch(M){o={error:M}}finally{try{S&&!S.done&&(s=w.return)&&s.call(w)}finally{if(o)throw o.error}}}},e}(xF),VF=BF,GF="showRadio",zF="legend-radio-tip",UF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeStamp=0,e}return Object(dM["__extends"])(e,t),e.prototype.show=function(){var t=this.getTriggerListInfo();if(null===t||void 0===t?void 0:t.item){var e=t.list,n=t.item;e.setItemState(n,GF,!0)}},e.prototype.hide=function(){var t=this.getTriggerListInfo();if(null===t||void 0===t?void 0:t.item){var e=t.list,n=t.item;e.setItemState(n,GF,!1)}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.showTip=function(){var t=this.context,e=t.event,n=this.timeStamp,i=+new Date,r=this.context.event.target;if(i-n>16&&"legend-item-radio"===r.get("name")){var a=this.location,o={x:e.x,y:e.y};this.timeStamp=i,this.location=o,a&&Object(pM["isEqual"])(a,o)||this.showTooltip(o)}},e.prototype.hideTip=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var e=this.context,n=e.event,i=n.target;if(i&&i.get("tip")){this.tooltip||this.renderTooltip();var r=e.view.getCanvas().get("el").getBoundingClientRect(),a=r.x,o=r.y;this.tooltip.update(Object(dM["__assign"])(Object(dM["__assign"])({title:i.get("tip")},t),{x:t.x+a,y:t.y+o})),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,e=(t={},t[pT["TOOLTIP_CSS_CONST"].CONTAINER_CLASS]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},t[pT["TOOLTIP_CSS_CONST"].TITLE_CLASS]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},t);document.getElementById(zF)&&document.body.removeChild(document.getElementById(zF));var n=new xT({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:e,containerId:zF});n.init(),n.setCapture(!1),this.tooltip=n},e}(xF),HF=UF,WF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maskShape=null,e.points=[],e.starting=!1,e.moving=!1,e.preMovePoint=null,e.shapeType="path",e}return Object(dM["__extends"])(e,t),e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.emitEvent=function(t){var e="mask:".concat(t),n=this.context.view,i=this.context.event;n.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:i.x,y:i.y})},e.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs(),n=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:Object(dM["__assign"])({fill:"#C5D4EB",opacity:.3},e)});return n},e.prototype.getMaskPath=function(){return[]},e.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},e.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(null===t||void 0===t?void 0:t.maskStyle),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},e.prototype.move=function(){if(this.moving&&this.maskShape){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,i=t.y-e.y,r=this.points;Object(pM["each"])(r,(function(t){t.x+=n,t.y+=i})),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},e.prototype.updateMask=function(t){var e=Object(pM["deepMix"])({},this.getMaskAttrs(),t);this.maskShape.attr(e)},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},e.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},e.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},e.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,t.prototype.destroy.call(this)},e}(pk),YF=WF;function XF(t){var e=Object(pM["last"])(t),n=0,i=0,r=0;if(t.length){var a=t[0];n=oL(a,e)/2,i=(e.x+a.x)/2,r=(e.y+a.y)/2}return{x:i,y:r,r:n}}var qF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="circle",e}return Object(dM["__extends"])(e,t),e.prototype.getMaskAttrs=function(){return XF(this.points)},e}(YF),ZF=qF;function QF(t){return{start:Object(pM["head"])(t),end:Object(pM["last"])(t)}}function JF(t,e){var n=Math.min(t.x,e.x),i=Math.min(t.y,e.y),r=Math.abs(e.x-t.x),a=Math.abs(e.y-t.y);return{x:n,y:i,width:r,height:a}}var KF=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="rect",e}return Object(dM["__extends"])(e,t),e.prototype.getRegion=function(){return QF(this.points)},e.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,n=t.end;return JF(e,n)},e}(YF),$F=KF;function tN(t){t.x=Object(pM["clamp"])(t.x,0,1),t.y=Object(pM["clamp"])(t.y,0,1)}function eN(t,e,n,i){var r=null,a=null,o=i.invert(Object(pM["head"])(t)),s=i.invert(Object(pM["last"])(t));return n&&(tN(o),tN(s)),"x"===e?(r=i.convert({x:o.x,y:0}),a=i.convert({x:s.x,y:1})):(r=i.convert({x:0,y:o.y}),a=i.convert({x:1,y:s.y})),{start:r,end:a}}var nN=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dim="x",e.inPlot=!0,e}return Object(dM["__extends"])(e,t),e.prototype.getRegion=function(){var t=this.context.view.getCoordinate();return eN(this.points,this.dim,this.inPlot,t)},e}($F),iN=nN;function rN(t){var e=[];return t.length&&(Object(pM["each"])(t,(function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e.push(["L",t[0].x,t[0].y])),e}function aN(t){return{path:rN(t)}}var oN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dM["__extends"])(e,t),e.prototype.getMaskPath=function(){return rN(this.points)},e.prototype.getMaskAttrs=function(){return aN(this.points)},e.prototype.addPoint=function(){this.resize()},e}(YF),sN=oN;function lN(t){return sL(t,!0)}function cN(t){return{path:lN(t)}}var uN,hN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dM["__extends"])(e,t),e.prototype.getMaskPath=function(){return lN(this.points)},e.prototype.getMaskAttrs=function(){return cN(this.points)},e}(sN),dN=hN,pN=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maskShapes=[],e.starting=!1,e.moving=!1,e.recordPoints=null,e.preMovePoint=null,e.shapeType="path",e.maskType="multi-mask",e}return Object(dM["__extends"])(e,t),e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.emitEvent=function(t){var e="".concat(this.maskType,":").concat(t),n=this.context.view,i=this.context.event,r={type:this.shapeType,name:this.maskType,get:function(t){return r.hasOwnProperty(t)?r[t]:void 0}};n.emit(e,{target:r,maskShapes:this.maskShapes,multiPoints:this.recordPoints,x:i.x,y:i.y})},e.prototype.createMask=function(t){var e=this.context.view,n=this.recordPoints[t],i=this.getMaskAttrs(n),r=e.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:Object(dM["__assign"])({fill:"#C5D4EB",opacity:.3},i)});this.maskShapes.push(r)},e.prototype.getMaskPath=function(t){return[]},e.prototype.show=function(){this.maskShapes.length>0&&(this.maskShapes.forEach((function(t){return t.show()})),this.emitEvent("show"))},e.prototype.start=function(t){this.recordPointStart(),this.starting=!0,this.moving=!1;var e=this.recordPoints.length-1;this.createMask(e),this.updateShapesCapture(!1),this.updateMask(null===t||void 0===t?void 0:t.maskStyle),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint(),this.updateShapesCapture(!1)},e.prototype.move=function(){if(this.moving&&0!==this.maskShapes.length){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,i=t.y-e.y,r=this.getCurMaskShapeIndex();r>-1&&(this.recordPoints[r].forEach((function(t){t.x+=n,t.y+=i})),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t)}},e.prototype.updateMask=function(t){var e=this;this.recordPoints.forEach((function(n,i){var r=Object(pM["deepMix"])({},e.getMaskAttrs(n),t);e.maskShapes[i].attr(r)}))},e.prototype.resize=function(){this.starting&&this.maskShapes.length>0&&(this.recordPointContinue(),this.updateMask(),this.emitEvent("change"))},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null,this.updateShapesCapture(!0)},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.updateShapesCapture(!0)},e.prototype.hide=function(){this.maskShapes.length>0&&(this.maskShapes.forEach((function(t){return t.hide()})),this.emitEvent("hide"))},e.prototype.remove=function(){var t=this.getCurMaskShapeIndex();t>-1&&(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.updateShapesCapture(!0),this.emitEvent("change"))},e.prototype.clearAll=function(){this.recordPointClear(),this.maskShapes.forEach((function(t){return t.remove()})),this.maskShapes=[],this.preMovePoint=null},e.prototype.clear=function(){var t=this.getCurMaskShapeIndex();-1===t?(this.recordPointClear(),this.maskShapes.forEach((function(t){return t.remove()})),this.maskShapes=[],this.emitEvent("clearAll")):(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.emitEvent("clearSingle")),this.preMovePoint=null},e.prototype.destroy=function(){this.clear(),t.prototype.destroy.call(this)},e.prototype.getRecordPoints=function(){var t;return Object(dM["__spreadArray"])([],Object(dM["__read"])(null!==(t=this.recordPoints)&&void 0!==t?t:[]),!1)},e.prototype.recordPointStart=function(){var t=this.getRecordPoints(),e=this.getCurrentPoint();this.recordPoints=Object(dM["__spreadArray"])(Object(dM["__spreadArray"])([],Object(dM["__read"])(t),!1),[[e]],!1)},e.prototype.recordPointContinue=function(){var t=this.getRecordPoints(),e=this.getCurrentPoint(),n=t.splice(-1,1)[0]||[];n.push(e),this.recordPoints=Object(dM["__spreadArray"])(Object(dM["__spreadArray"])([],Object(dM["__read"])(t),!1),[n],!1)},e.prototype.recordPointClear=function(){this.recordPoints=[]},e.prototype.updateShapesCapture=function(t){this.maskShapes.forEach((function(e){return e.set("capture",t)}))},e.prototype.getCurMaskShapeIndex=function(){var t=this.getCurrentPoint();return this.maskShapes.findIndex((function(e){var n=e.attrs,i=n.width,r=n.height,a=n.r,o=0===i||0===r||0===a;return!o&&e.isHit(t.x,t.y)}))},e}(pk),fN=pN,gN=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="rect",e}return Object(dM["__extends"])(e,t),e.prototype.getRegion=function(t){return QF(t)},e.prototype.getMaskAttrs=function(t){var e=this.getRegion(t),n=e.start,i=e.end;return JF(n,i)},e}(fN),mN=gN,vN=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dim="x",e.inPlot=!0,e}return Object(dM["__extends"])(e,t),e.prototype.getRegion=function(t){var e=this.context.view.getCoordinate();return eN(t,this.dim,this.inPlot,e)},e}(mN),yN=vN,bN=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shapeType="circle",e.getMaskAttrs=XF,e}return Object(dM["__extends"])(e,t),e}(fN),xN=bN,_N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getMaskPath=rN,e.getMaskAttrs=aN,e}return Object(dM["__extends"])(e,t),e.prototype.addPoint=function(){this.resize()},e}(fN),wN=_N,SN=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getMaskPath=lN,e.getMaskAttrs=cN,e}return Object(dM["__extends"])(e,t),e}(wN),ON=SN,CN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dM["__extends"])(e,t),e.prototype.setCursor=function(t){var e=this.context.view;e.getCanvas().setCursor(t)},e.prototype.default=function(){this.setCursor("default")},e.prototype.pointer=function(){this.setCursor("pointer")},e.prototype.move=function(){this.setCursor("move")},e.prototype.crosshair=function(){this.setCursor("crosshair")},e.prototype.wait=function(){this.setCursor("wait")},e.prototype.help=function(){this.setCursor("help")},e.prototype.text=function(){this.setCursor("text")},e.prototype.eResize=function(){this.setCursor("e-resize")},e.prototype.wResize=function(){this.setCursor("w-resize")},e.prototype.nResize=function(){this.setCursor("n-resize")},e.prototype.sResize=function(){this.setCursor("s-resize")},e.prototype.neResize=function(){this.setCursor("ne-resize")},e.prototype.nwResize=function(){this.setCursor("nw-resize")},e.prototype.seResize=function(){this.setCursor("se-resize")},e.prototype.swResize=function(){this.setCursor("sw-resize")},e.prototype.nsResize=function(){this.setCursor("ns-resize")},e.prototype.ewResize=function(){this.setCursor("ew-resize")},e.prototype.zoomIn=function(){this.setCursor("zoom-in")},e.prototype.zoomOut=function(){this.setCursor("zoom-out")},e}(pk),AN=CN,MN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dM["__extends"])(e,t),e.prototype.filterView=function(t,e,n){var i=this;t.getScaleByField(e)&&t.filter(e,n),t.views&&t.views.length&&Object(pM["each"])(t.views,(function(t){i.filterView(t,e,n)}))},e.prototype.filter=function(){var t=Vk(this.context);if(t){var e=this.context.view,n=t.component,i=n.get("field");if(zk(t)){if(i){var r=n.getItemsByState("unchecked"),a=pL(e,i),o=r.map((function(t){return t.name}));o.length?this.filterView(e,i,(function(t){var e=a.getText(t);return!o.includes(e)})):this.filterView(e,i,null),e.render(!0)}}else if(Uk(t)){var s=n.getValue(),l=Object(dM["__read"])(s,2),c=l[0],u=l[1];this.filterView(e,i,(function(t){return t>=c&&t<=u})),e.render(!0)}}},e}(pk),TN=MN;function kN(t,e,n,i){var r=Math.min(n[e],i[e]),a=Math.max(n[e],i[e]),o=Object(dM["__read"])(t.range,2),s=o[0],l=o[1];if(r<s&&(r=s),a>l&&(a=l),r===l&&a===l)return null;var c=t.invert(r),u=t.invert(a);if(t.isCategory){var h=t.values.indexOf(c),d=t.values.indexOf(u),p=t.values.slice(h,d+1);return function(t){return p.includes(t)}}return function(t){return t>=c&&t<=u}}(function(t){t["FILTER"]="brush-filter-processing",t["RESET"]="brush-filter-reset",t["BEFORE_FILTER"]="brush-filter:beforefilter",t["AFTER_FILTER"]="brush-filter:afterfilter",t["BEFORE_RESET"]="brush-filter:beforereset",t["AFTER_RESET"]="brush-filter:afterreset"})(uN||(uN={}));var LN=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dims=["x","y"],e.startPoint=null,e.isStarted=!1,e}return Object(dM["__extends"])(e,t),e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},e.prototype.filter=function(){var t,e;if(Hk(this.context)){var n=this.context.event.target,i=n.getCanvasBBox();t={x:i.x,y:i.y},e={x:i.maxX,y:i.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var r=this.context,a=r.view,o=r.event,s={view:a,event:o,dims:this.dims};a.emit(uN.BEFORE_FILTER,hj.fromData(a,uN.BEFORE_FILTER,s));var l=a.getCoordinate(),c=l.invert(e),u=l.invert(t);if(this.hasDim("x")){var h=a.getXScale(),d=kN(h,"x",c,u);this.filterView(a,h.field,d)}if(this.hasDim("y")){var p=a.getYScales()[0];d=kN(p,"y",c,u);this.filterView(a,p.field,d)}this.reRender(a,{source:uN.FILTER}),a.emit(uN.AFTER_FILTER,hj.fromData(a,uN.AFTER_FILTER,s))}},e.prototype.end=function(){this.isStarted=!1},e.prototype.reset=function(){var t=this.context.view;if(t.emit(uN.BEFORE_RESET,hj.fromData(t,uN.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t,{source:uN.RESET}),t.emit(uN.AFTER_RESET,hj.fromData(t,uN.AFTER_RESET,{}))},e.prototype.filterView=function(t,e,n){t.filter(e,n)},e.prototype.reRender=function(t,e){t.render(!0,e)},e}(pk),jN=LN,IN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dM["__extends"])(e,t),e.prototype.filterView=function(t,e,n){var i=cL(t);Object(pM["each"])(i,(function(t){t.filter(e,n)}))},e.prototype.reRender=function(t){var e=cL(t);Object(pM["each"])(e,(function(t){t.render(!0)}))},e}(jN),EN=IN,PN=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dM["__extends"])(e,t),e.prototype.filter=function(){var t=Vk(this.context),e=this.context.view,n=Jk(e);if(Hk(this.context)){var i=Yk(this.context,10);i&&Object(pM["each"])(n,(function(t){i.includes(t)?t.show():t.hide()}))}else if(t){var r=t.component,a=r.get("field");if(zk(t)){if(a){var o=r.getItemsByState("unchecked"),s=pL(e,a),l=o.map((function(t){return t.name}));Object(pM["each"])(n,(function(t){var e=tL(t,a),n=s.getText(e);l.indexOf(n)>=0?t.hide():t.show()}))}}else if(Uk(t)){var c=r.getValue(),u=Object(dM["__read"])(c,2),h=u[0],d=u[1];Object(pM["each"])(n,(function(t){var e=tL(t,a);e>=h&&e<=d?t.show():t.hide()}))}}},e.prototype.clear=function(){var t=Jk(this.context.view);Object(pM["each"])(t,(function(t){t.show()}))},e.prototype.reset=function(){this.clear()},e}(pk),RN=PN,DN=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.byRecord=!1,e}return Object(dM["__extends"])(e,t),e.prototype.filter=function(){Hk(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},e.prototype.filterByRecord=function(){var t=this.context.view,e=Yk(this.context,10);if(e){var n=t.getXScale().field,i=t.getYScales()[0].field,r=e.map((function(t){return t.getModel().data})),a=cL(t);Object(pM["each"])(a,(function(t){var e=Jk(t);Object(pM["each"])(e,(function(t){var e=t.getModel().data;dL(r,e,n,i)?t.show():t.hide()}))}))}},e.prototype.filterByBBox=function(){var t=this,e=this.context.view,n=cL(e);Object(pM["each"])(n,(function(e){var n=qk(t.context,e,10),i=Jk(e);n&&Object(pM["each"])(i,(function(t){n.includes(t)?t.show():t.hide()}))}))},e.prototype.reset=function(){var t=cL(this.context.view);Object(pM["each"])(t,(function(t){var e=Jk(t);Object(pM["each"])(e,(function(t){t.show()}))}))},e}(pk),FN=DN,NN=10,BN=5,VN=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonGroup=null,e.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},e}return Object(dM["__extends"])(e,t),e.prototype.getButtonCfg=function(){return Object(pM["deepMix"])(this.buttonCfg,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=e.addShape({type:"text",name:"button-text",attrs:Object(dM["__assign"])({text:t.text},t.textStyle)}),i=n.getBBox(),r=ij(t.padding),a=e.addShape({type:"rect",name:"button-rect",attrs:Object(dM["__assign"])({x:i.x-r[3],y:i.y-r[0],width:i.width+r[1]+r[3],height:i.height+r[0]+r[2]},t.style)});a.toBack(),e.on("mouseenter",(function(){a.attr(t.activeStyle)})),e.on("mouseleave",(function(){a.attr(t.style)})),this.buttonGroup=e},e.prototype.resetPosition=function(){var t=this.context.view,e=t.getCoordinate(),n=e.convert({x:1,y:1}),i=this.buttonGroup,r=i.getBBox(),a=eT["ext"].transform(null,[["t",n.x-r.width-NN,n.y+r.height+BN]]);i.setMatrix(a)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var e=this.buttonGroup;e&&e.remove(),t.prototype.destroy.call(this)},e}(pk),GN=VN,zN=4,UN=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.starting=!1,e.dragStart=!1,e}return Object(dM["__extends"])(e,t),e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},e.prototype.drag=function(){if(this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,n=this.context.event;this.dragStart?e.emit("drag",{target:n.target,x:n.x,y:n.y}):oL(t,this.startPoint)>zN&&(e.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},e.prototype.end=function(){if(this.dragStart){var t=this.context.view,e=this.context.event;t.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},e}(pk),HN=UN,WN=5,YN=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.starting=!1,e.isMoving=!1,e.startPoint=null,e.startMatrix=null,e}return Object(dM["__extends"])(e,t),e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},e.prototype.move=function(){if(this.starting){var t=this.startPoint,e=this.context.getCurrentPoint(),n=oL(t,e);if(n>WN&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var i=this.context.view,r=eT["ext"].transform(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);i.backgroundGroup.setMatrix(r),i.foregroundGroup.setMatrix(r),i.middleGroup.setMatrix(r)}}},e.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},e.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},e}(pk),XN=YN,qN="x",ZN="y",QN=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dims=[qN,ZN],e.cfgFields=["dims"],e.cacheScaleDefs={},e}return Object(dM["__extends"])(e,t),e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.getScale=function(t){var e=this.context.view;return"x"===t?e.getXScale():e.getYScales()[0]},e.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);e.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},e.prototype.reset=function(){this.resetDim(qN),this.resetDim(ZN);var t=this.context.view;t.render(!0)},e}(pk),JN=QN,KN=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPoint=null,e.starting=!1,e.startCache={},e}return Object(dM["__extends"])(e,t),e.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var e=this.dims;Object(pM["each"])(e,(function(e){var n=t.getScale(e),i=n.min,r=n.max,a=n.values;t.startCache[e]={min:i,max:r,values:a}}))},e.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},e.prototype.translate=function(){var t=this;if(this.starting){var e=this.startPoint,n=this.context.view.getCoordinate(),i=this.context.getCurrentPoint(),r=n.invert(e),a=n.invert(i),o=a.x-r.x,s=a.y-r.y,l=this.context.view,c=this.dims;Object(pM["each"])(c,(function(e){t.translateDim(e,{x:-1*o,y:-1*s})})),l.render(!0)}},e.prototype.translateDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,e)}},e.prototype.translateLinear=function(t,e,n){var i=this.context.view,r=this.startCache[t],a=r.min,o=r.max,s=o-a,l=n[t]*s;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:a,max:o}),i.scale(e.field,{nice:!1,min:a+l,max:o+l})},e.prototype.reset=function(){t.prototype.reset.call(this),this.startPoint=null,this.starting=!1},e}(JN),$N=KN,tB=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.zoomRatio=.05,e}return Object(dM["__extends"])(e,t),e.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},e.prototype.zoom=function(t){var e=this,n=this.dims;Object(pM["each"])(n,(function(n){e.zoomDim(n,t)})),this.context.view.render(!0)},e.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},e.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,e)}},e.prototype.zoomLinear=function(t,e,n){var i=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var r=this.cacheScaleDefs[t],a=r.max-r.min,o=e.min,s=e.max,l=n*a,c=o-l,u=s+l,h=u-c,d=h/a;u>c&&d<100&&d>.01&&i.scale(e.field,{nice:!1,min:o-l,max:s+l})},e}(JN),eB=tB;function nB(t){var e=t.gEvent.originalEvent;return e.deltaY>0}var iB=1,rB=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dM["__extends"])(e,t),e.prototype.scroll=function(t){var e=this.context,n=e.view,i=e.event;if(n.getOptions().scrollbar){var r=(null===t||void 0===t?void 0:t.wheelDelta)||iB,a=n.getController("scrollbar"),o=n.getXScale(),s=n.getOptions().data,l=Object(pM["size"])(Object(pM["valuesOfKey"])(s,o.field)),c=Object(pM["size"])(o.values),u=a.getValue(),h=Math.floor((l-c)*u),d=h+(nB(i)?r:-r),p=r/(l-c)/1e4,f=Object(pM["clamp"])(d/(l-c)+p,0,1);a.setValue(f)}},e}(pk),aB=rB,oB="aixs-description-tooltip",sB=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dM["__extends"])(e,t),e.prototype.show=function(){var t=this.context,e=Vk(t).axis,n=e.cfg.title,i=n.description,r=n.text,a=n.descriptionTooltipStyle,o=t.event,s=o.x,l=o.y;this.tooltip||this.renderTooltip(),this.tooltip.update({title:r||"",customContent:function(){return'\n          <div class="'.concat(pT["TOOLTIP_CSS_CONST"].CONTAINER_CLASS,'" style={').concat(a,'}>\n            <div class="').concat(pT["TOOLTIP_CSS_CONST"].TITLE_CLASS,'">\n              字段说明：').concat(i,"\n            </div>\n          </div>\n        ")},x:s,y:l}),this.tooltip.show()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.hide=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,e=this.context.view,n=e.canvas,i={start:{x:0,y:0},end:{x:n.get("width"),y:n.get("height")}},r=new xT({parent:n.get("el").parentNode,region:i,visible:!1,containerId:oB,domStyles:Object(dM["__assign"])({},Object(pM["deepMix"])({},(t={},t[pT["TOOLTIP_CSS_CONST"].CONTAINER_CLASS]={"max-width":"50%",padding:"10px","line-height":"15px","font-size":"12px",color:"rgba(0, 0, 0, .65)"},t[pT["TOOLTIP_CSS_CONST"].TITLE_CLASS]={"word-break":"break-all","margin-bottom":"3px"},t)))});r.init(),r.setCapture(!1),this.tooltip=r},e}(pk),lB=sB;function cB(t){return t.isInPlot()}function uB(t){return t.gEvent.preventDefault(),t.gEvent.originalEvent.deltaY>0}VL("dark",kL(XI)),AM("canvas",qI),AM("svg",ZI),yj("Polygon",kE),yj("Interval",bE),yj("Schema",jE),yj("Path",JI),yj("Point",AE),yj("Line",_E),yj("Area",nE),yj("Edge",rE),yj("Heatmap",oE),yj("Violin",PE),zj("base",mI),zj("interval",iP),zj("pie",lP),zj("polar",oP),Hj("overlap",TP),Hj("distribute",hP),Hj("fixed-overlap",MP),Hj("hide-overlap",YP),Hj("limit-in-shape",wP),Hj("limit-in-canvas",_P),Hj("limit-in-plot",mR),Hj("pie-outer",gP),Hj("adjust-color",QP),Hj("interval-adjust-position",tR),Hj("interval-hide-overlap",nR),Hj("point-adjust-position",sR),Hj("pie-spider",xP),Hj("path-adjust-position",dR),Tj("fade-in",vR),Tj("fade-out",yR),Tj("grow-in-x",_R),Tj("grow-in-xy",SR),Tj("grow-in-y",wR),Tj("scale-in-x",AR),Tj("scale-in-y",MR),Tj("wave-in",IR),Tj("zoom-in",PR),Tj("zoom-out",RR),Tj("position-update",CR),Tj("sector-path-update",jR),Tj("path-in",OR),hk("rect",XR),hk("mirror",WR),hk("list",GR),hk("matrix",UR),hk("circle",BR),hk("tree",ZR),aj("axis",cD),aj("legend",fD),aj("tooltip",Cj),aj("annotation",eD),aj("slider",mD),aj("scrollbar",wD),yk("tooltip",TD),yk("sibling-tooltip",LD),yk("ellipsis-text",ID),yk("element-active",BD),yk("element-single-active",ZD),yk("element-range-active",WD),yk("element-highlight",rF),yk("element-highlight-by-x",lF),yk("element-highlight-by-color",oF),yk("element-single-highlight",dF),yk("element-range-highlight",uF),yk("element-sibling-highlight",uF,{effectSiblings:!0,effectByRecord:!0}),yk("element-selected",mF),yk("element-single-selected",yF),yk("element-range-selected",fF),yk("element-link-by-color",GD),yk("active-region",AD),yk("list-active",wF),yk("list-selected",jF),yk("list-highlight",kF),yk("list-unchecked",EF),yk("list-checked",FF),yk("list-focus",VF),yk("list-radio",HF),yk("legend-item-highlight",kF,{componentNames:["legend"]}),yk("axis-label-highlight",kF,{componentNames:["axis"]}),yk("axis-description",lB),yk("rect-mask",$F),yk("x-rect-mask",iN,{dim:"x"}),yk("y-rect-mask",iN,{dim:"y"}),yk("circle-mask",ZF),yk("path-mask",sN),yk("smooth-path-mask",dN),yk("rect-multi-mask",mN),yk("x-rect-multi-mask",yN,{dim:"x"}),yk("y-rect-multi-mask",yN,{dim:"y"}),yk("circle-multi-mask",xN),yk("path-multi-mask",wN),yk("smooth-path-multi-mask",ON),yk("cursor",AN),yk("data-filter",TN),yk("brush",jN),yk("brush-x",jN,{dims:["x"]}),yk("brush-y",jN,{dims:["y"]}),yk("sibling-filter",EN),yk("sibling-x-filter",EN,{dims:"x"}),yk("sibling-y-filter",EN,{dims:"y"}),yk("element-filter",RN),yk("element-sibling-filter",FN),yk("element-sibling-filter-record",FN,{byRecord:!0}),yk("view-drag",HN),yk("view-move",XN),yk("scale-translate",$N),yk("scale-zoom",eB),yk("reset-button",GN,{name:"reset-button",text:"reset"}),yk("mousewheel-scroll",aB),CL("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),CL("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseout",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),CL("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),CL("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),CL("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),CL("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),CL("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),CL("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),CL("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),CL("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),CL("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),CL("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(t){return!t.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),CL("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:cB,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:cB,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:cB,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),CL("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),CL("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:cB,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:cB,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:cB,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),CL("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:cB,action:"path-mask:start"},{trigger:"mousedown",isEnable:cB,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),CL("brush-x-multi",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"mousedown",isEnable:cB,action:["x-rect-multi-mask:start","x-rect-multi-mask:show"]},{trigger:"mask:dragstart",action:["x-rect-multi-mask:moveStart"]}],processing:[{trigger:"mousemove",isEnable:function(t){return!Wk(t)},action:["x-rect-multi-mask:resize"]},{trigger:"multi-mask:change",action:"element-range-highlight:highlight"},{trigger:"mask:drag",action:["x-rect-multi-mask:move"]}],end:[{trigger:"mouseup",action:["x-rect-multi-mask:end"]},{trigger:"mask:dragend",action:["x-rect-multi-mask:moveEnd"]}],rollback:[{trigger:"dblclick",action:["x-rect-multi-mask:clear","cursor:crosshair"]},{trigger:"multi-mask:clearAll",action:["element-range-highlight:clear"]},{trigger:"multi-mask:clearSingle",action:["element-range-highlight:highlight"]}]}),CL("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),CL("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(t){return!t.isInShape("legend-item-radio")},action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]}),CL("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),CL("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),CL("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","element-filter:filter"]}]}),CL("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),CL("axis-description",{start:[{trigger:"axis-description:mousemove",action:"axis-description:show"}],end:[{trigger:"axis-description:mouseleave",action:"axis-description:hide"}]}),CL("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(t){return uB(t.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(t){return!uB(t.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),CL("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]}),CL("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]});var hB={props:{item:{type:Object,default:()=>{}}},data(){return{chartDataLength:0,datas:[]}},mounted(){this.getFishTotal()},methods:{handleChange(t){this.getFishTotal(t),0!=this.datas.length&&this.chart.destroy()},initBar(){this.chart=new _j({container:"fisPic",autoFit:!0,height:500}),this.chart.source(this.datas),this.chart.scale("weight",{tickLine:null}),this.chart.axis("shipName",{tickLine:null,subTickLine:null,label:{autoRotate:!1,autoHide:!1,formatter(t){return t.length>6?t.slice(0,4)+"...":t}}}),this.chart.option("slider",{start:0,end:.03}),this.chart.axis("weight",{title:{text:"单位(kg)",offset:55,style:{fill:"#aaaaaa"}}}),this.chart.theme({minColumnWidth:30}),this.chart.legend({position:"right",layout:"vertical",flipPage:!0,itemHeight:20}),this.chart.tooltip({shared:!0,showMarkers:!1,inPlot:!1}),this.chart.interaction("active-region"),this.chart.interval().adjust("stack").position("shipName*weight").color("fishName",this.getColorRandom(this.chartDataLength)),this.chart.render()},async getFishTotal(t="Yesterday"){this.datas=[],await this.$axios.get("/fishingLogService/tbFishingChart/selectFishCatch?time="+t+" ").then(t=>{let e=[],n=t.result;n.sort((t,e)=>e.children.length-t.children.length);const i=new Set;n.forEach(t=>{t.children&&t.children.length>0&&t.children.forEach(t=>{i.add(t.fishName)})}),this.chartDataLength=i.size,t.result.forEach(t=>{t.children&&t.children.forEach(n=>{e.push({shipName:t.shipName,fishName:n.fishName,weight:n.weight})})}),this.datas=e}),0!=this.datas.length&&this.initBar()},getColorRandom(t){for(var e=[],n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],i=0;i<t;i++){for(var r="#",a=0;a<6;a++){var o=Math.round(15*Math.random());r+=n[o]}e[i]=r}return e}}},dB=hB,pB=(n("daa1"),Object(f["a"])(dB,uM,hM,!1,null,"12ecec84",null)),fB=pB.exports,gB=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"ship2-yujing"},[e("div",{staticClass:"title"},[e("img",{attrs:{src:n("9f6d"),alt:""}}),e("span",[t._v(t._s(t.item.name))])]),e("div",{staticClass:"yujing"},[this.alarmList.length>0?e("ul",[e("transition-group",{attrs:{name:"move"}},t._l(t.alarmList,(function(n,i){return e("li",{key:n.id,class:{"ship-move":0==i}},[e("div",[e("p",[t._v(" "+t._s(n.reason)+" "),e("br"),t._v(" "+t._s(n.lastInterval)+" ")]),e("span",[t._v(t._s(n.createTime))]),n.flag?e("span",[t._v("经度:"+t._s(n.lon?t.cacuLonLat(n.lon,"lon"):"")+",纬度:"+t._s(n.lat?t.cacuLonLat(n.lat,"lat"):""))]):t._e()]),e("div",[t._v(t._s(n.flag?"越界通知":"停报通知"))])])})),0)],1):e("div",[e("a-empty",{staticClass:"emptyClass",attrs:{description:"暂无报警通知数据"}})],1)])])])},mB=[],vB=(n("3c65"),{props:{item:{type:Object,default:()=>{}}},data(){return{alarmList:[],alarmListId:[],timeer:null}},created(){this.getCrossAlarm(0),this.timeer=setInterval(()=>{this.getCrossAlarm(3e3)},3e5)},destroyed(){clearInterval(this.timeer)},methods:{cacuLonLat(t,e,n){t/=6e5;let i=parseInt(t),r=null;"lon"==e?r=t>=0?"E":"W":"lat"==e&&(r=t>=0?"N":"S");let a=(60*(t-i)).toFixed(3);i=Math.abs(i),a=Math.abs(a);let o=i+"°"+a+"′"+r;return void 0==n?o:[i,a,r]},getCrossAlarm(t=0){this.$axios.get("/shipTube/chart/posShipHis/getCrossAlarm").then(e=>{e.result.map(t=>{"0"==t.flag?(t.flag=0,t.createTime=new Date(t.pushTime).toLocaleString().slice(5),t.reason=t.shipName+"最后船位时间"+new Date(t.lastPosTime).toLocaleString().slice(5),t.lastInterval="距最近船位间隔"+t.lastInterval):(t.flag=1,t.createTime=new Date(t.createTime).toLocaleString().slice(5))}),e.result.reverse().forEach((e,n)=>{setTimeout(()=>{let t=this.alarmList.some(t=>t.id===e.id);t||this.alarmList.unshift(e)},t*n)})})}}}),yB=vB,bB=(n("a3b3"),Object(f["a"])(yB,gB,mB,!1,null,"7d6421d6",null)),xB=bB.exports,_B=function(){var t=this,e=t._self._c;return e("div",{staticClass:"boxs"},[e("div",{staticClass:"title"},[e("img",{attrs:{src:n("d6a6"),alt:""}}),e("span",[t._v(t._s(t.item.name))])]),t.urlList.length?e("div",{staticClass:"url"},t._l(t.urlList,(function(n){return e("a",{key:n.id,attrs:{target:"_blank",href:n.linkUrl}},[t._v(t._s(n.linkName))])})),0):e("div",{staticClass:"url"},[e("span",{staticClass:"noneLink"},[t._v("暂未配置底部链接")])])])},wB=[],SB={props:{item:{type:Object,default:()=>{}}},data(){return{urlList:[]}},mounted(){this.getURL()},methods:{getURL(){this.$axios.get("/interface/tsSystemLink/list").then(t=>{"200"==t.code&&(this.urlList=t.result.records)})}}},OB=SB,CB=(n("4a73"),Object(f["a"])(OB,_B,wB,!1,null,"09db3683",null)),AB=CB.exports,MB=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"content_box"},[e("div",{staticClass:"title"},[e("img",{attrs:{src:n("0136"),alt:""}}),e("span",[t._v(t._s(t.item.name))])]),t.noticeList.length?e("ul",t._l(t.noticeList,(function(n){return e("li",{key:n.id},[e("p",[t._v("标题："+t._s(n.title))]),e("p",[t._v("创建时间："+t._s(n.createTime))]),e("p",[t._v("备注："+t._s(n.remark))])])})),0):e("div",[e("a-empty",{staticClass:"emptyClass",attrs:{description:"暂无通知下发数据"}})],1)])])},TB=[],kB={props:{item:{type:Object,default:()=>{}}},data(){return{noticeList:[]}},mounted(){this.getNotice()},methods:{getNotice(){this.$axios.get("/safetyService/news/notice/list?pageSize=10&pageNo=1").then(t=>{200==t.code&&(this.noticeList=t.result.records)}).catch(t=>{})}}},LB=kB,jB=(n("e8c3"),Object(f["a"])(LB,MB,TB,!1,null,"119507b4",null)),IB=jB.exports,EB=function(){var t=this,e=t._self._c;return e("div",[t.visible?e("a-modal",{staticClass:"modalBox",attrs:{width:"80vw",destroyOnClose:!0,footer:null,closable:!1,getContainer:t.getContainer},on:{cancel:t.componentsShow},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[e("div",{staticClass:"save"},[e("a-button",{attrs:{type:"primary",loading:t.isloading},on:{click:t.btnClick}},[t._v("保存 ")])],1),e("div",{staticClass:"contentbox"},[e("div",{staticClass:"preview"},[t.layouts.length>0?e("div",[e("grid-layout",{ref:"gridlayout",attrs:{layout:t.layouts,"col-num":12,"row-height":50,"is-resizable":!1,"vertical-compact":!0,"use-css-transforms":!0},on:{"layout-ready":t.layoutUpdatedEvent,"update:layout":function(e){t.layouts=e}}},t._l(t.layouts,(function(n){return e("grid-item",{key:n.i,attrs:{static:n.static,x:n.x,y:n.y,w:n.w,h:n.h,i:n.i},on:{moved:t.movedEvent}},[e("div",{staticClass:"laybox"},[e("img",{attrs:{src:n.img,alt:""}})]),e("div",{staticClass:"remove",on:{click:function(e){return t.remove(n)}}},[e("a-icon",{attrs:{type:"close-circle",theme:"twoTone","two-tone-color":"red"}})],1)])})),1)],1):e("div",[e("a-empty")],1)]),e("div",{staticClass:"storehouse"},[t.componentsList.length>0?e("a-collapse",{scopedSlots:t._u([{key:"expandIcon",fn:function(t){return[e("a-icon",{attrs:{type:"caret-right",rotate:t.isActive?90:0}})]}}],null,!1,766930589)},t._l(t.componentsList,(function(n){return e("a-collapse-panel",{key:n.id,attrs:{header:n.name}},t._l(n.children,(function(n){return e("div",{key:n.id,staticClass:"thumbnail"},[e("a-checkbox",{attrs:{checked:1==n.status},on:{change:function(e){return t.onChange(n)}}},[t._v(" 组件"+t._s(n.width)+"x"+t._s(n.longs)+"/"+t._s(n.name)+" ")]),e("img",{attrs:{src:n.thumbnail,alt:""}})],1)})),0)})),1):e("div",{staticClass:"description"},[e("a-empty")],1)],1)])]):t._e()],1)},PB=[],RB={components:{GridLayout:a["GridLayout"],GridItem:a["GridItem"]},data(){return{visible:!1,isloading:!1,layouts:[],componentsList:[]}},mounted(){this.$store.watch(t=>t.componentsShow,t=>{this.visible=t,this.getList()})},methods:{getContainer(){return document.getElementById("container")},btnClick(){this.isloading=!0;const t=[];for(const e of this.layouts)for(const n of this.componentsList){const i=n.children;for(const n of i)e.i==n.nameEn&&1==n.status&&t.push({x:e.x,y:e.y,id:n.id,tsHomeComponentId:n.tsHomeComponentId})}this.$axios.post("/interface/tsUserHomeComponent/updateComponent",JSON.stringify(t),{headers:{"Content-Type":"application/json"}}).then(t=>{200==t.code&&(this.$emit("updateComponent"),this.componentsShow(),this.isloading=!1)})},remove(t){this.onChange(t)},componentsShow(){this.$store.commit("componentsShow",!this.$store.state.componentsShow)},findItemById(t,e){for(let n=0;n<t.length;n++){const i=t[n];if(i.id===e)return i;if(i.children&&i.children.length>0){const t=this.findItemById(i.children,e);if(t)return t}}return null},onChange(t){const e=this.findItemById(this.componentsList,t.id);if(1==e.status){e.status=0;const t=this.layouts.findIndex(t=>t.i===e.nameEn);-1!==t&&this.layouts.splice(t,1)}else e.status=1,this.addClick(e)},movedEvent(t,e,n){},layoutUpdatedEvent(t){},addClick(t){let e=-1/0;const n=[];if(this.layouts.length>0){this.layouts.forEach(t=>{t.y>e&&(e=t.y,n.length=0),t.y===e&&n.push(t)});const i=t.width;let r=i,a=null,o=null;n.forEach(t=>{r+=t.w,o+=t.w,a=t.y}),r>12?this.layouts.push({x:0,y:r,w:t.width,h:t.longs,i:t.nameEn,img:t.thumbnail,id:t.id}):this.layouts.push({x:o,y:a,w:t.width,h:t.longs,i:t.nameEn,img:t.thumbnail,id:t.id})}else this.layouts.push({x:0,y:0,w:t.width,h:t.longs,i:t.nameEn,img:t.thumbnail,id:t.id})},getAllChildren(t){let e=[];return t.forEach(t=>{e=e.concat(t.children),t.children.length>0&&(e=e.concat(this.getAllChildren(t.children)))}),e},getList(){this.$axios.get("/interface/tsUserHomeComponent/list").then(t=>{this.componentsList=t.result;const e=this.getAllChildren(t.result);this.layouts=e.filter(t=>"1"===t.status).map(t=>({x:t.x,y:t.y,w:t.width,h:t.longs,i:t.nameEn,id:t.id,img:t.thumbnail}))})}}},DB=RB,FB=(n("b09b"),Object(f["a"])(DB,EB,PB,!1,null,"2a695012",null)),NB=FB.exports,BB=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"map"}},[e("Search"),e("TopNav",{ref:"TopNav"}),e("MouseInteraction"),e("SmallMap",{staticClass:"small-map-class"}),e("ToolBar"),e("RightDrawer",{on:{addShipName:t.addShipName}}),e("ShipInfo",{on:{closeVideo:t.closeVideo,addShipName:t.addShipName}}),e("TodayPosition"),e("ShipRecord"),e("MetTime",{directives:[{name:"show",rawName:"v-show",value:t.WeatherShow,expression:"WeatherShow"}]}),t._l(t.historyRouteList,(function(n,i,r){return e("HistoryInfo",{directives:[{name:"move",rawName:"v-move"}],key:i,attrs:{historyData:t.historyRouteList[i],index:r}})})),e("PoliceList"),e("DistanceShip"),e("DangerLIst"),e("LoseList"),e("AddSign"),t.videoShow?e("VideoView",{directives:[{name:"move",rawName:"v-move"}],ref:"videoRef"}):t._e(),e("HistoryWeather"),e("div",{staticClass:"bottom-shipInfo-class"},[e("div",[t._v("船队船舶-"+t._s(t.shipGroupNumber)+"艘")]),e("div",[t._v("周围船舶-"+t._s(t.shipRoundNumber)+"艘")])]),e("span",{attrs:{id:"text-name"}})],2)},VB=[],GB=n("5eee"),zB=n("a2c7"),UB=n("256f");const HB=new Object({projection:"EPSG:3857",center:Object(UB["s"])([0,0],"EPSG:4326","EPSG:3857"),zoom:3,minZoom:1,maxZoom:17,enableRotation:!1,constrainResolution:!0,extent:Object(UB["t"])([-540,-85,540,85],"EPSG:4326","EPSG:3857")}),WB=new Object({target:"map",layers:[],view:null,overlays:[],controls:[]});function YB(t=WB,e=HB){return Object.prototype.hasOwnProperty.call(t,"center")&&(e.center=Object(UB["s"])(e.center,"EPSG:4326","EPSG:3857")),Object.prototype.hasOwnProperty.call(t,"extent")&&(e.extent=Object(UB["t"])(e.extent,"EPSG:4326","EPSG:3857")),Object.prototype.hasOwnProperty.call(t,"layers")&&(t.layers=Object.values(t.layers)),Object.assign(HB,e),Object.assign(WB,t),WB.view=new zB["a"](HB),new GB["a"](WB)}var XB=n("480c"),qB=n("2ef16"),ZB=n("9c78");n("5bc0");class QB{constructor(){this.SeaLayer=this.createSeaLayer(),this.LandLayer=this.createLandLayer(),this.SateLayer=this.createSateLayer()}createSeaLayer(){return new XB["a"]({preload:1/0,source:new qB["a"]({url:"http://haitu.intertion.cn/haitu/ImgService?z={z}&x={x}&y={y}"}),zIndex:1})}createLandLayer(){return new ZB["b"]({layers:[new XB["a"]({source:new qB["a"]({crossOrigin:"anonymous",url:"https://t{0-7}.tianditu.gov.cn/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=32a5cea2cd257f71a7628814e873bd48"})}),new XB["a"]({source:new qB["a"]({crossOrigin:"anonymous",url:"https://t{0-7}.tianditu.gov.cn/DataServer?T=cva_w&x={x}&y={y}&l={z}&tk=32a5cea2cd257f71a7628814e873bd48"})})],zIndex:1,layerId:"LandLayer"})}createSateLayer(){return new ZB["b"]({layers:[new XB["a"]({source:new qB["a"]({crossOrigin:"anonymous",url:"https://t{0-7}.tianditu.gov.cn/DataServer?T=img_w&x={x}&y={y}&l={z}&tk=32a5cea2cd257f71a7628814e873bd48"})}),new XB["a"]({source:new qB["a"]({crossOrigin:"anonymous",url:"https://t{0-7}.tianditu.gov.cn/DataServer?T=cia_w&x={x}&y={y}&l={z}&tk=32a5cea2cd257f71a7628814e873bd48"})})],zIndex:1,layerId:"SateLayer"})}}const{SeaLayer:JB,LandLayer:KB,SateLayer:$B}=new QB;var tV=n("5831"),eV=n("ae50"),nV=n("39cf"),iV=n("da2f"),rV=n("01d4"),aV=n("8778"),oV=n("869f");class sV extends aV["a"]{constructor(t,e,n,i,r){const a=void 0!==r?oV["a"].IDLE:oV["a"].LOADED;super(t,e,n,a),this.loader_=void 0!==r?r:null,this.canvas_=i,this.error_=null}getError(){return this.error_}handleLoad_(t){t?(this.error_=t,this.state=oV["a"].ERROR):this.state=oV["a"].LOADED,this.changed()}load(){this.state==oV["a"].IDLE&&(this.state=oV["a"].LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}var lV=sV,cV=n("25a5"),uV=n.n(cV),hV=n("496f"),dV=n("a896"),pV=n("0af5");class fV extends nV["a"]{constructor(t){super(t),this.vectorRenderer_=new iV["a"](t),this.layerImageRatio_=t.getImageRatio(),this.coordinateToVectorPixelTransform_=Object(dV["c"])(),this.renderedPixelToCoordinateTransform_=null}disposeInternal(){this.vectorRenderer_.dispose(),super.disposeInternal()}getFeatures(t){if(!this.vectorRenderer_)return Promise.resolve([]);const e=Object(dV["a"])(this.coordinateToVectorPixelTransform_,Object(dV["a"])(this.renderedPixelToCoordinateTransform_,t.slice()));return this.vectorRenderer_.getFeatures(e)}handleFontsChanged(){this.vectorRenderer_.handleFontsChanged()}prepareFrame(t){const e=t.pixelRatio,n=t.viewState,i=n.resolution,r=t.viewHints,a=this.vectorRenderer_;let o=t.extent;1!==this.layerImageRatio_&&(o=o.slice(0),Object(pV["K"])(o,this.layerImageRatio_));const s=Object(pV["F"])(o)/i,l=Object(pV["A"])(o)/i;if(!r[hV["a"].ANIMATING]&&!r[hV["a"].INTERACTING]&&!Object(pV["I"])(o)){a.useContainer(null,null);const r=a.context,c=t.layerStatesArray[t.layerIndex],u=Object.assign({},c,{opacity:1}),h=Object.assign({},t,{declutterTree:new uV.a(9),extent:o,size:[s,l],viewState:Object.assign({},t.viewState,{rotation:0}),layerStatesArray:[u],layerIndex:0});let d=!0;const p=new lV(o,i,e,r.canvas,(function(t){a.prepareFrame(h)&&a.replayGroupChanged&&(a.clipping=!1,a.renderFrame(h,null)&&(a.renderDeclutter(h),d=!1),t())}));p.addEventListener(rV["a"].CHANGE,()=>{if(p.getState()!==oV["a"].LOADED)return;this.image_=d?null:p;const t=p.getResolution(),i=p.getPixelRatio(),r=t*e/i;this.renderedResolution=r,this.coordinateToVectorPixelTransform_=Object(dV["b"])(this.coordinateToVectorPixelTransform_,s/2,l/2,1/r,-1/r,0,-n.center[0],-n.center[1])}),p.load()}return this.image_&&(this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice()),!!this.image_}preRender(){}postRender(){}renderDeclutter(){}forEachFeatureAtCoordinate(t,e,n,i,r){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(t,e,n,i,r):super.forEachFeatureAtCoordinate(t,e,n,i,r)}}var gV=fV;class mV extends eV["a"]{constructor(t){t=t||{};const e=Object.assign({},t);delete e.imageRatio,super(e),this.imageRatio_=void 0!==t.imageRatio?t.imageRatio:1}getImageRatio(){return this.imageRatio_}createRenderer(){return new gV(this)}}var vV=mV,yV=n("4360"),bV=n("1af9"),xV=n("a43f"),_V=n("617d");const wV=34962,SV=34963,OV=35040,CV=35044,AV=35048,MV=5121,TV=5123,kV=5125,LV=5126,jV=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function IV(t,e){e=Object.assign({preserveDrawingBuffer:!0,antialias:!_V["f"]},e);const n=jV.length;for(let r=0;r<n;++r)try{const n=t.getContext(jV[r],e);if(n)return n}catch(i){}return null}var EV=n("92fa5");const PV={STATIC_DRAW:CV,STREAM_DRAW:OV,DYNAMIC_DRAW:AV};class RV{constructor(t,e){this.array=null,this.type=t,Object(EV["a"])(t===wV||t===SV,62),this.usage=void 0!==e?e:PV.STATIC_DRAW}ofSize(t){return this.array=new(DV(this.type))(t),this}fromArray(t){return this.array=DV(this.type).from(t),this}fromArrayBuffer(t){return this.array=new(DV(this.type))(t),this}getType(){return this.type}getArray(){return this.array}getUsage(){return this.usage}getSize(){return this.array?this.array.length:0}}function DV(t){switch(t){case wV:return Float32Array;case SV:return Uint32Array;default:return Float32Array}}var FV=RV,NV=n("df4c"),BV=n("faf4"),VV=n("3333"),GV=n("070d"),zV=(n("d9e2"),{LOST:"webglcontextlost",RESTORED:"webglcontextrestored"}),UV=n("da5c"),HV=n("1300");const WV="\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n",YV="\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n  uniform float u_opacity;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;\n  }\n";class XV{constructor(t){this.gl_=t.webGlContext;const e=this.gl_;this.scaleRatio_=t.scaleRatio||1,this.renderTargetTexture_=e.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=e.createFramebuffer(),this.depthBuffer_=e.createRenderbuffer();const n=e.createShader(e.VERTEX_SHADER);e.shaderSource(n,t.vertexShader||WV),e.compileShader(n);const i=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(i,t.fragmentShader||YV),e.compileShader(i),this.renderTargetProgram_=e.createProgram(),e.attachShader(this.renderTargetProgram_,n),e.attachShader(this.renderTargetProgram_,i),e.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=e.createBuffer();const r=[-1,-1,1,-1,-1,1,1,-1,1,1,-1,1];e.bindBuffer(e.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),e.bufferData(e.ARRAY_BUFFER,new Float32Array(r),e.STATIC_DRAW),this.renderTargetAttribLocation_=e.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetOpacityLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_opacity"),this.renderTargetTextureLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],t.uniforms&&Object.keys(t.uniforms).forEach(n=>{this.uniforms_.push({value:t.uniforms[n],location:e.getUniformLocation(this.renderTargetProgram_,n)})})}getGL(){return this.gl_}init(t){const e=this.getGL(),n=[e.drawingBufferWidth*this.scaleRatio_,e.drawingBufferHeight*this.scaleRatio_];if(e.bindFramebuffer(e.FRAMEBUFFER,this.getFrameBuffer()),e.bindRenderbuffer(e.RENDERBUFFER,this.getDepthBuffer()),e.viewport(0,0,n[0],n[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==n[0]||this.renderTargetTextureSize_[1]!==n[1]){this.renderTargetTextureSize_=n;const t=0,i=e.RGBA,r=0,a=e.RGBA,o=e.UNSIGNED_BYTE,s=null;e.bindTexture(e.TEXTURE_2D,this.renderTargetTexture_),e.texImage2D(e.TEXTURE_2D,t,i,n[0],n[1],r,a,o,s),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.renderTargetTexture_,0),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,n[0],n[1]),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this.depthBuffer_)}}apply(t,e,n,i){const r=this.getGL(),a=t.size;if(r.bindFramebuffer(r.FRAMEBUFFER,e?e.getFrameBuffer():null),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,this.renderTargetTexture_),!e){const e=Object(HV["b"])(r.canvas);if(!t.renderTargets[e]){const n=r.getContextAttributes();n&&n.preserveDrawingBuffer&&(r.clearColor(0,0,0,0),r.clearDepth(1),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT)),t.renderTargets[e]=!0}}r.disable(r.DEPTH_TEST),r.enable(r.BLEND),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA),r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight),r.bindBuffer(r.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),r.useProgram(this.renderTargetProgram_),r.enableVertexAttribArray(this.renderTargetAttribLocation_),r.vertexAttribPointer(this.renderTargetAttribLocation_,2,r.FLOAT,!1,0,0),r.uniform2f(this.renderTargetUniformLocation_,a[0],a[1]),r.uniform1i(this.renderTargetTextureLocation_,0);const o=t.layerStatesArray[t.layerIndex].opacity;r.uniform1f(this.renderTargetOpacityLocation_,o),this.applyUniforms(t),n&&n(r,t),r.drawArrays(r.TRIANGLES,0,6),i&&i(r,t)}getFrameBuffer(){return this.frameBuffer_}getDepthBuffer(){return this.depthBuffer_}applyUniforms(t){const e=this.getGL();let n,i=1;this.uniforms_.forEach((function(r){if(n="function"===typeof r.value?r.value(t):r.value,n instanceof HTMLCanvasElement||n instanceof ImageData)r.texture||(r.texture=e.createTexture()),e.activeTexture(e["TEXTURE"+i]),e.bindTexture(e.TEXTURE_2D,r.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n instanceof ImageData?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,n.width,n.height,0,e.UNSIGNED_BYTE,new Uint8Array(n.data)):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.uniform1i(r.location,i++);else if(Array.isArray(n))switch(n.length){case 2:return void e.uniform2f(r.location,n[0],n[1]);case 3:return void e.uniform3f(r.location,n[0],n[1],n[2]);case 4:return void e.uniform4f(r.location,n[0],n[1],n[2],n[3]);default:return}else"number"===typeof n&&e.uniform1f(r.location,n)}))}}var qV=XV,ZV=n("38f3");function QV(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function JV(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}const KV={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution",VIEWPORT_SIZE_PX:"u_viewportSizePx",PIXEL_RATIO:"u_pixelRatio",HIT_DETECTION:"u_hitDetection"},$V={UNSIGNED_BYTE:MV,UNSIGNED_SHORT:TV,UNSIGNED_INT:kV,FLOAT:LV},tG={};function eG(t){return"shared/"+t}let nG=0;function iG(){const t="unique/"+nG;return nG+=1,t}function rG(t){let e=tG[t];if(!e){const n=document.createElement("canvas");n.width=1,n.height=1,n.style.position="absolute",n.style.left="0";const i=IV(n);e={users:0,context:i},tG[t]=e}return e.users+=1,e.context}function aG(t){const e=tG[t];if(!e)return;if(e.users-=1,e.users>0)return;const n=e.context,i=n.getExtension("WEBGL_lose_context");i&&i.loseContext();const r=n.canvas;r.width=1,r.height=1,delete tG[t]}class oG extends UV["a"]{constructor(t){super(),t=t||{},this.boundHandleWebGLContextLost_=this.handleWebGLContextLost.bind(this),this.boundHandleWebGLContextRestored_=this.handleWebGLContextRestored.bind(this),this.canvasCacheKey_=t.canvasCacheKey?eG(t.canvasCacheKey):iG(),this.gl_=rG(this.canvasCacheKey_),this.bufferCache_={},this.extensionCache_={},this.currentProgram_=null;const e=this.gl_.canvas;e.addEventListener(zV.LOST,this.boundHandleWebGLContextLost_),e.addEventListener(zV.RESTORED,this.boundHandleWebGLContextRestored_),this.offsetRotateMatrix_=Object(dV["c"])(),this.offsetScaleMatrix_=Object(dV["c"])(),this.tmpMat4_=QV(),this.uniformLocationsByProgram_={},this.attribLocationsByProgram_={},this.uniforms_=[],t.uniforms&&this.setUniforms(t.uniforms),this.postProcessPasses_=t.postProcesses?t.postProcesses.map(t=>new qV({webGlContext:this.gl_,scaleRatio:t.scaleRatio,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms})):[new qV({webGlContext:this.gl_})],this.shaderCompileErrors_=null,this.startTime_=Date.now()}setUniforms(t){this.uniforms_=[];for(const e in t)this.uniforms_.push({name:e,value:t[e]})}canvasCacheKeyMatches(t){return this.canvasCacheKey_===eG(t)}getExtension(t){if(t in this.extensionCache_)return this.extensionCache_[t];const e=this.gl_.getExtension(t);return this.extensionCache_[t]=e,e}bindBuffer(t){const e=this.gl_,n=Object(HV["b"])(t);let i=this.bufferCache_[n];if(!i){const r=e.createBuffer();i={buffer:t,webGlBuffer:r},this.bufferCache_[n]=i}e.bindBuffer(t.getType(),i.webGlBuffer)}flushBufferData(t){const e=this.gl_;this.bindBuffer(t),e.bufferData(t.getType(),t.getArray(),t.getUsage())}deleteBuffer(t){const e=this.gl_,n=Object(HV["b"])(t),i=this.bufferCache_[n];i&&!e.isContextLost()&&e.deleteBuffer(i.webGlBuffer),delete this.bufferCache_[n]}disposeInternal(){const t=this.gl_.canvas;t.removeEventListener(zV.LOST,this.boundHandleWebGLContextLost_),t.removeEventListener(zV.RESTORED,this.boundHandleWebGLContextRestored_),aG(this.canvasCacheKey_),delete this.gl_}prepareDraw(t,e,n){const i=this.gl_,r=this.getCanvas(),a=t.size,o=t.pixelRatio;r.width===a[0]*o&&r.height===a[1]*o||(r.width=a[0]*o,r.height=a[1]*o,r.style.width=a[0]+"px",r.style.height=a[1]+"px");for(let s=this.postProcessPasses_.length-1;s>=0;s--)this.postProcessPasses_[s].init(t);i.bindTexture(i.TEXTURE_2D,null),i.clearColor(0,0,0,0),i.depthRange(0,1),i.clearDepth(1),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),i.enable(i.BLEND),i.blendFunc(i.ONE,e?i.ZERO:i.ONE_MINUS_SRC_ALPHA),n?(i.enable(i.DEPTH_TEST),i.depthFunc(i.LEQUAL)):i.disable(i.DEPTH_TEST)}bindTexture(t,e,n){const i=this.gl_;i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,t),i.uniform1i(this.getUniformLocation(n),e)}prepareDrawToRenderTarget(t,e,n,i){const r=this.gl_,a=e.getSize();r.bindFramebuffer(r.FRAMEBUFFER,e.getFramebuffer()),r.bindRenderbuffer(r.RENDERBUFFER,e.getDepthbuffer()),r.viewport(0,0,a[0],a[1]),r.bindTexture(r.TEXTURE_2D,e.getTexture()),r.clearColor(0,0,0,0),r.depthRange(0,1),r.clearDepth(1),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),r.enable(r.BLEND),r.blendFunc(r.ONE,n?r.ZERO:r.ONE_MINUS_SRC_ALPHA),i?(r.enable(r.DEPTH_TEST),r.depthFunc(r.LEQUAL)):r.disable(r.DEPTH_TEST)}drawElements(t,e){const n=this.gl_;this.getExtension("OES_element_index_uint");const i=n.UNSIGNED_INT,r=4,a=e-t,o=t*r;n.drawElements(n.TRIANGLES,a,i,o)}finalizeDraw(t,e,n){for(let i=0,r=this.postProcessPasses_.length;i<r;i++)i===r-1?this.postProcessPasses_[i].apply(t,null,e,n):this.postProcessPasses_[i].apply(t,this.postProcessPasses_[i+1])}getCanvas(){return this.gl_.canvas}getGL(){return this.gl_}applyFrameState(t){const e=t.size,n=t.viewState.rotation,i=t.pixelRatio,r=Object(dV["g"])(this.offsetScaleMatrix_);Object(dV["i"])(r,2/e[0],2/e[1]);const a=Object(dV["g"])(this.offsetRotateMatrix_);0!==n&&Object(dV["h"])(a,-n),this.setUniformMatrixValue(KV.OFFSET_SCALE_MATRIX,JV(this.tmpMat4_,r)),this.setUniformMatrixValue(KV.OFFSET_ROTATION_MATRIX,JV(this.tmpMat4_,a)),this.setUniformFloatValue(KV.TIME,.001*(Date.now()-this.startTime_)),this.setUniformFloatValue(KV.ZOOM,t.viewState.zoom),this.setUniformFloatValue(KV.RESOLUTION,t.viewState.resolution),this.setUniformFloatValue(KV.PIXEL_RATIO,i),this.setUniformFloatVec2(KV.VIEWPORT_SIZE_PX,[e[0],e[1]])}applyHitDetectionUniform(t){const e=this.getUniformLocation(KV.HIT_DETECTION);this.getGL().uniform1i(e,t?1:0)}applyUniforms(t){const e=this.gl_;let n,i=0;this.uniforms_.forEach(r=>{if(n="function"===typeof r.value?r.value(t):r.value,n instanceof HTMLCanvasElement||n instanceof HTMLImageElement||n instanceof ImageData){r.texture||(r.prevValue=void 0,r.texture=e.createTexture()),e.activeTexture(e["TEXTURE"+i]),e.bindTexture(e.TEXTURE_2D,r.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);const t=!(n instanceof HTMLImageElement)||n.complete;t&&r.prevValue!==n&&(r.prevValue=n,e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)),e.uniform1i(this.getUniformLocation(r.name),i++)}else if(Array.isArray(n)&&6===n.length)this.setUniformMatrixValue(r.name,JV(this.tmpMat4_,n));else if(Array.isArray(n)&&n.length<=4)switch(n.length){case 2:return void e.uniform2f(this.getUniformLocation(r.name),n[0],n[1]);case 3:return void e.uniform3f(this.getUniformLocation(r.name),n[0],n[1],n[2]);case 4:return void e.uniform4f(this.getUniformLocation(r.name),n[0],n[1],n[2],n[3]);default:return}else"number"===typeof n&&e.uniform1f(this.getUniformLocation(r.name),n)})}useProgram(t,e){const n=this.gl_;n.useProgram(t),this.currentProgram_=t,this.applyFrameState(e),this.applyUniforms(e)}compileShader(t,e){const n=this.gl_,i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}getProgram(t,e){const n=this.gl_,i=this.compileShader(t,n.FRAGMENT_SHADER),r=this.compileShader(e,n.VERTEX_SHADER),a=n.createProgram();if(n.attachShader(a,i),n.attachShader(a,r),n.linkProgram(a),!n.getShaderParameter(i,n.COMPILE_STATUS)){const t="Fragment shader compilation failed: "+n.getShaderInfoLog(i);throw new Error(t)}if(n.deleteShader(i),!n.getShaderParameter(r,n.COMPILE_STATUS)){const t="Vertex shader compilation failed: "+n.getShaderInfoLog(r);throw new Error(t)}if(n.deleteShader(r),!n.getProgramParameter(a,n.LINK_STATUS)){const t="GL program linking failed: "+n.getProgramInfoLog(a);throw new Error(t)}return a}getUniformLocation(t){const e=Object(HV["b"])(this.currentProgram_);return void 0===this.uniformLocationsByProgram_[e]&&(this.uniformLocationsByProgram_[e]={}),void 0===this.uniformLocationsByProgram_[e][t]&&(this.uniformLocationsByProgram_[e][t]=this.gl_.getUniformLocation(this.currentProgram_,t)),this.uniformLocationsByProgram_[e][t]}getAttributeLocation(t){const e=Object(HV["b"])(this.currentProgram_);return void 0===this.attribLocationsByProgram_[e]&&(this.attribLocationsByProgram_[e]={}),void 0===this.attribLocationsByProgram_[e][t]&&(this.attribLocationsByProgram_[e][t]=this.gl_.getAttribLocation(this.currentProgram_,t)),this.attribLocationsByProgram_[e][t]}makeProjectionTransform(t,e){const n=t.size,i=t.viewState.rotation,r=t.viewState.resolution,a=t.viewState.center;return Object(dV["b"])(e,0,0,2/(r*n[0]),2/(r*n[1]),-i,-a[0],-a[1]),e}setUniformFloatValue(t,e){this.gl_.uniform1f(this.getUniformLocation(t),e)}setUniformFloatVec2(t,e){this.gl_.uniform2fv(this.getUniformLocation(t),e)}setUniformFloatVec4(t,e){this.gl_.uniform4fv(this.getUniformLocation(t),e)}setUniformMatrixValue(t,e){this.gl_.uniformMatrix4fv(this.getUniformLocation(t),!1,e)}enableAttributeArray_(t,e,n,i,r){const a=this.getAttributeLocation(t);a<0||(this.gl_.enableVertexAttribArray(a),this.gl_.vertexAttribPointer(a,e,n,!1,i,r))}enableAttributes(t){const e=sG(t);let n=0;for(let i=0;i<t.length;i++){const r=t[i];this.enableAttributeArray_(r.name,r.size,r.type||LV,e,n),n+=r.size*lG(r.type)}}handleWebGLContextLost(){Object(ZV["a"])(this.bufferCache_),this.currentProgram_=null}handleWebGLContextRestored(){}createTexture(t,e,n){const i=this.gl_;n=n||i.createTexture();const r=0,a=i.RGBA,o=0,s=i.RGBA,l=i.UNSIGNED_BYTE;return i.bindTexture(i.TEXTURE_2D,n),e?i.texImage2D(i.TEXTURE_2D,r,a,s,l,e):i.texImage2D(i.TEXTURE_2D,r,a,t[0],t[1],o,s,l,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),n}}function sG(t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];e+=i.size*lG(i.type)}return e}function lG(t){switch(t){case $V.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case $V.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case $V.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case $V.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}var cG=oG;class uG extends BV["a"]{constructor(t,e){super(t),e=e||{},this.inversePixelTransform_=Object(dV["c"])(),this.pixelContext_=null,this.postProcesses_=e.postProcesses,this.uniforms_=e.uniforms,this.helper,t.addChangeListener(NV["a"].MAP,this.removeHelper.bind(this)),this.dispatchPreComposeEvent=this.dispatchPreComposeEvent.bind(this),this.dispatchPostComposeEvent=this.dispatchPostComposeEvent.bind(this)}dispatchPreComposeEvent(t,e){const n=this.getLayer();if(n.hasListener(GV["a"].PRECOMPOSE)){const i=new VV["a"](GV["a"].PRECOMPOSE,void 0,e,t);n.dispatchEvent(i)}}dispatchPostComposeEvent(t,e){const n=this.getLayer();if(n.hasListener(GV["a"].POSTCOMPOSE)){const i=new VV["a"](GV["a"].POSTCOMPOSE,void 0,e,t);n.dispatchEvent(i)}}reset(t){this.uniforms_=t.uniforms,this.helper&&this.helper.setUniforms(this.uniforms_)}removeHelper(){this.helper&&(this.helper.dispose(),delete this.helper)}prepareFrame(t){if(this.getLayer().getRenderSource()){let e,n=!0,i=-1;for(let a=0,o=t.layerStatesArray.length;a<o;a++){const r=t.layerStatesArray[a].layer,o=r.getRenderer();if(!(o instanceof uG)){n=!0;continue}const s=r.getClassName();if((n||s!==e)&&(i+=1,n=!1),e=s,o===this)break}const r="map/"+t.mapId+"/group/"+i;this.helper&&this.helper.canvasCacheKeyMatches(r)||(this.removeHelper(),this.helper=new cG({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:r}),e&&(this.helper.getCanvas().className=e),this.afterHelperCreated())}return this.prepareFrameInternal(t)}afterHelperCreated(){}prepareFrameInternal(t){return!0}disposeInternal(){this.removeHelper(),super.disposeInternal()}dispatchRenderEvent_(t,e,n){const i=this.getLayer();if(i.hasListener(t)){Object(dV["b"])(this.inversePixelTransform_,0,0,n.pixelRatio,-n.pixelRatio,0,0,-n.size[1]);const r=new VV["a"](t,this.inversePixelTransform_,n,e);i.dispatchEvent(r)}}preRender(t,e){this.dispatchRenderEvent_(GV["a"].PRERENDER,t,e)}postRender(t,e){this.dispatchRenderEvent_(GV["a"].POSTRENDER,t,e)}}var hG=uG,dG=n("9f5e");const pG=new Uint8Array(4);class fG{constructor(t,e){this.helper_=t;const n=t.getGL();this.texture_=n.createTexture(),this.framebuffer_=n.createFramebuffer(),this.depthbuffer_=n.createRenderbuffer(),this.size_=e||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}setSize(t){Object(dG["d"])(t,this.size_)||(this.size_[0]=t[0],this.size_[1]=t[1],this.updateSize_())}getSize(){return this.size_}clearCachedData(){this.dataCacheDirty_=!0}readAll(){if(this.dataCacheDirty_){const t=this.size_,e=this.helper_.getGL();e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.readPixels(0,0,t[0],t[1],e.RGBA,e.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_}readPixel(t,e){if(t<0||e<0||t>this.size_[0]||e>=this.size_[1])return pG[0]=0,pG[1]=0,pG[2]=0,pG[3]=0,pG;this.readAll();const n=Math.floor(t)+(this.size_[1]-Math.floor(e)-1)*this.size_[0];return pG[0]=this.data_[4*n],pG[1]=this.data_[4*n+1],pG[2]=this.data_[4*n+2],pG[3]=this.data_[4*n+3],pG}getTexture(){return this.texture_}getFramebuffer(){return this.framebuffer_}getDepthbuffer(){return this.depthbuffer_}updateSize_(){const t=this.size_,e=this.helper_.getGL();this.texture_=this.helper_.createTexture(t,null,this.texture_),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.viewport(0,0,t[0],t[1]),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture_,0),e.bindRenderbuffer(e.RENDERBUFFER,this.depthbuffer_),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t[0],t[1]),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this.depthbuffer_),this.data_=new Uint8Array(t[0]*t[1]*4)}}var gG=fG;const mG={GENERATE_POLYGON_BUFFERS:"GENERATE_POLYGON_BUFFERS",GENERATE_POINT_BUFFERS:"GENERATE_POINT_BUFFERS",GENERATE_LINE_STRING_BUFFERS:"GENERATE_LINE_STRING_BUFFERS"};n("5664");var vG=n("7fc9");function yG(t,e){e=e||[];const n=256,i=n-1;return e[0]=Math.floor(t/n/n/n)/i,e[1]=Math.floor(t/n/n)%n/i,e[2]=Math.floor(t/n)%n/i,e[3]=t%n/i,e}function bG(t){let e=0;const n=256,i=n-1;return e+=Math.round(t[0]*n*n*n*i),e+=Math.round(t[1]*n*n*i),e+=Math.round(t[2]*n*i),e+=Math.round(t[3]*i),e}var xG=n("7fd1"),_G=n("1e8d");class wG extends hG{constructor(t,e){var n;const i=e.uniforms||{},r=Object(dV["c"])();i[KV.PROJECTION_MATRIX]=r,super(t,{uniforms:i,postProcesses:e.postProcesses}),this.sourceRevision_=-1,this.verticesBuffer_=new FV(wV,AV),this.indicesBuffer_=new FV(SV,AV),this.vertexShader_=e.vertexShader,this.fragmentShader_=e.fragmentShader,this.program_,this.hitDetectionEnabled_=null===(n=e.hitDetectionEnabled)||void 0===n||n;const a=e.attributes?e.attributes.map((function(t){return{name:"a_"+t.name,size:1,type:$V.FLOAT}})):[];this.attributes=[{name:"a_position",size:2,type:$V.FLOAT},{name:"a_index",size:1,type:$V.FLOAT}],this.hitDetectionEnabled_&&(this.attributes.push({name:"a_hitColor",size:4,type:$V.FLOAT}),this.attributes.push({name:"a_featureUid",size:1,type:$V.FLOAT})),this.attributes.push(...a),this.customAttributes=e.attributes?e.attributes:[],this.previousExtent_=Object(pV["k"])(),this.currentTransform_=r,this.renderTransform_=Object(dV["c"])(),this.invertRenderTransform_=Object(dV["c"])(),this.renderInstructions_=new Float32Array(0),this.hitRenderTarget_,this.lastSentId=0,this.worker_=Object(xG["a"])(),this.worker_.addEventListener("message",t=>{const e=t.data;if(e.type===mG.GENERATE_POINT_BUFFERS){const n=e.projectionTransform;this.verticesBuffer_.fromArrayBuffer(e.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_),this.indicesBuffer_.fromArrayBuffer(e.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=n,Object(dV["d"])(this.invertRenderTransform_,this.renderTransform_),this.renderInstructions_=new Float32Array(t.data.renderInstructions),e.id===this.lastSentId&&(this.ready=!0),this.getLayer().changed()}}),this.featureCache_={},this.featureCount_=0;const o=this.getLayer().getSource();this.sourceListenKeys_=[Object(_G["a"])(o,xV["a"].ADDFEATURE,this.handleSourceFeatureAdded_,this),Object(_G["a"])(o,xV["a"].CHANGEFEATURE,this.handleSourceFeatureChanged_,this),Object(_G["a"])(o,xV["a"].REMOVEFEATURE,this.handleSourceFeatureDelete_,this),Object(_G["a"])(o,xV["a"].CLEAR,this.handleSourceFeatureClear_,this)],o.forEachFeature(t=>{this.featureCache_[Object(HV["b"])(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()},this.featureCount_++})}afterHelperCreated(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.hitDetectionEnabled_&&(this.hitRenderTarget_=new gG(this.helper))}handleSourceFeatureAdded_(t){const e=t.feature;this.featureCache_[Object(HV["b"])(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()},this.featureCount_++}handleSourceFeatureChanged_(t){const e=t.feature;this.featureCache_[Object(HV["b"])(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()}}handleSourceFeatureDelete_(t){const e=t.feature;delete this.featureCache_[Object(HV["b"])(e)],this.featureCount_--}handleSourceFeatureClear_(){this.featureCache_={},this.featureCount_=0}renderFrame(t){const e=this.helper.getGL();this.preRender(e,t);const[n,i,r]=this.getWorldParameters_(t);this.renderWorlds(t,!1,n,i,r),this.helper.finalizeDraw(t,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);const a=this.helper.getCanvas();return this.hitDetectionEnabled_&&(this.renderWorlds(t,!0,n,i,r),this.hitRenderTarget_.clearCachedData()),this.postRender(e,t),a}getWorldParameters_(t){const e=t.viewState.projection,n=this.getLayer(),i=n.getSource(),r=i.getWrapX()&&e.canWrapX(),a=e.getExtent(),o=t.extent,s=r?Object(pV["F"])(a):null,l=r?Math.ceil((o[2]-a[2])/s)+1:1,c=r?Math.floor((o[0]-a[0])/s):0;return[c,l,s]}prepareFrameInternal(t){const e=this.getLayer(),n=e.getSource(),i=t.viewState,r=!t.viewHints[hV["a"].ANIMATING]&&!t.viewHints[hV["a"].INTERACTING],a=!Object(pV["p"])(this.previousExtent_,t.extent),o=this.sourceRevision_<n.getRevision();if(o&&(this.sourceRevision_=n.getRevision()),r&&(a||o)){const r=i.projection,a=i.resolution,o=e instanceof eV["a"]?e.getRenderBuffer():0,s=Object(pV["d"])(t.extent,o*a);n.loadFeatures(s,a,r),this.rebuildBuffers_(t),this.previousExtent_=t.extent.slice()}return this.helper.useProgram(this.program_,t),this.helper.prepareDraw(t),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0}rebuildBuffers_(t){const e=Object(dV["c"])();this.helper.makeProjectionTransform(t,e);const n=this.hitDetectionEnabled_?7:2,i=n+this.customAttributes.length,r=i*this.featureCount_;let a,o;this.renderInstructions_&&this.renderInstructions_.length===r||(this.renderInstructions_=new Float32Array(r));const s=[],l=[];let c=-1;for(const h in this.featureCache_)if(a=this.featureCache_[h],o=a.geometry,o&&"Point"===o.getType()){if(s[0]=o.getFlatCoordinates()[0],s[1]=o.getFlatCoordinates()[1],Object(dV["a"])(e,s),this.renderInstructions_[++c]=s[0],this.renderInstructions_[++c]=s[1],this.hitDetectionEnabled_){const t=yG(c+5,l);this.renderInstructions_[++c]=t[0],this.renderInstructions_[++c]=t[1],this.renderInstructions_[++c]=t[2],this.renderInstructions_[++c]=t[3],this.renderInstructions_[++c]=Number(h)}for(let t=0;t<this.customAttributes.length;t++){const e=this.customAttributes[t].callback(a.feature,a.properties);this.renderInstructions_[++c]=e}}const u={id:++this.lastSentId,type:mG.GENERATE_POINT_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesSize:i-2};u["projectionTransform"]=e,this.ready=!1,this.worker_.postMessage(u,[this.renderInstructions_.buffer]),this.renderInstructions_=null}forEachFeatureAtCoordinate(t,e,n,i,r){if(Object(EV["a"])(this.hitDetectionEnabled_,66),!this.renderInstructions_||!this.hitDetectionEnabled_)return;const a=Object(dV["a"])(e.coordinateToPixelTransform,t.slice()),o=this.hitRenderTarget_.readPixel(a[0]/2,a[1]/2),s=[o[0]/255,o[1]/255,o[2]/255,o[3]/255],l=bG(s),c=this.renderInstructions_[l],u=Math.floor(c).toString(),h=this.getLayer().getSource(),d=h.getFeatureByUid(u);return d?i(d,this.getLayer(),null):void 0}renderWorlds(t,e,n,i,r){let a=n;this.helper.useProgram(this.program_,t),e&&(this.hitRenderTarget_.setSize([Math.floor(t.size[0]/2),Math.floor(t.size[1]/2)]),this.helper.prepareDrawToRenderTarget(t,this.hitRenderTarget_,!0)),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes);do{this.helper.makeProjectionTransform(t,this.currentTransform_),Object(dV["l"])(this.currentTransform_,a*r,0),Object(dV["f"])(this.currentTransform_,this.invertRenderTransform_),this.helper.applyUniforms(t),this.helper.applyHitDetectionUniform(e);const n=this.indicesBuffer_.getSize();this.helper.drawElements(0,n)}while(++a<i)}disposeInternal(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach((function(t){Object(_G["c"])(t)})),this.sourceListenKeys_=null,super.disposeInternal()}}var SG=wG;n("13d5");class OG{constructor(t,e){this.name=t,this.data=e,this.texture_=null}getTexture(t){if(!this.texture_){const e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.data.length/4,1,0,t.RGBA,t.UNSIGNED_BYTE,this.data),this.texture_=e}return this.texture_}}var CG=OG,AG=n("a504"),MG=n("5e31");n("acc1"),n("0999");MG["a"];var TG=n("b739"),kG=n("3c81");n("2efc");var LG=n("0ec0");n("7f98");LG["a"];n("345d");n("5116"),n("dc07"),n("2c30");const jG={TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",RENDER_EXTENT:"u_renderExtent",RESOLUTION:"u_resolution",ZOOM:"u_zoom",GLOBAL_ALPHA:"u_globalAlpha",PROJECTION_MATRIX:"u_projectionMatrix",SCREEN_TO_WORLD_MATRIX:"u_screenToWorldMatrix"};const IG={...jG,TILE_TEXTURE_ARRAY:"u_tileTextures",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",TEXTURE_RESOLUTION:"u_textureResolution",TEXTURE_ORIGIN_X:"u_textureOriginX",TEXTURE_ORIGIN_Y:"u_textureOriginY"},EG={TEXTURE_COORD:"a_textureCoord"};EG.TEXTURE_COORD,$V.FLOAT;var PG=n("5c38");const RG={NUMBER:1,STRING:2,COLOR:4,BOOLEAN:8,NUMBER_ARRAY:16,ANY:31,NONE:0};function DG(t){switch(t){case"string":return RG.STRING;case"color":return RG.COLOR;case"number":return RG.NUMBER;case"boolean":return RG.BOOLEAN;case"number[]":return RG.NUMBER_ARRAY;default:throw new Error("Unrecognized type hint: "+t)}}const FG={};function NG(t){if("number"===typeof t)return RG.NUMBER;if("boolean"===typeof t)return RG.BOOLEAN;if("string"===typeof t)return Object(PG["d"])(t)?RG.COLOR|RG.STRING:RG.STRING;if(!Array.isArray(t))throw new Error("Unhandled value type: "+JSON.stringify(t));const e=t,n=e.every((function(t){return"number"===typeof t}));if(n)return 3===e.length||4===e.length?RG.COLOR|RG.NUMBER_ARRAY:RG.NUMBER_ARRAY;if("string"!==typeof e[0])throw new Error("Expected an expression operator but received: "+JSON.stringify(e));const i=FG[e[0]];if(void 0===i)throw new Error("Unrecognized expression operator: "+JSON.stringify(e));return i.getReturnType(e.slice(1))}function BG(t){return Math.log2(t)%1===0}function VG(t){const e=[];return(t&RG.NUMBER)>0&&e.push("number"),(t&RG.COLOR)>0&&e.push("color"),(t&RG.BOOLEAN)>0&&e.push("boolean"),(t&RG.NUMBER_ARRAY)>0&&e.push("number[]"),(t&RG.STRING)>0&&e.push("string"),e.length>0?e.join(", "):"(no type)"}function GG(t,e){return`operator_${t}_${Object.keys(e.functions).length}`}function zG(t){const e=t.toString();return e.includes(".")?e:e+".0"}function UG(t){if(t.length<2||t.length>4)throw new Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return`vec${t.length}(${t.map(zG).join(", ")})`}function HG(t){const e=Object(PG["a"])(t),n=e.length>3?e[3]:1;return UG([e[0]/255*n,e[1]/255*n,e[2]/255*n,n])}function WG(t,e){return void 0===t.stringLiteralsMap[e]&&(t.stringLiteralsMap[e]=Object.keys(t.stringLiteralsMap).length),t.stringLiteralsMap[e]}function YG(t,e){return zG(WG(t,e))}function XG(t,e,n){const i=void 0!==n?n:RG.NUMBER;if(Array.isArray(e)&&"string"===typeof e[0]){const n=FG[e[0]];if(void 0===n)throw new Error("Unrecognized expression operator: "+JSON.stringify(e));return n.toGlsl(t,e.slice(1),i)}const r=NG(e)&i;if(iz(e,r,""),(r&RG.NUMBER)>0)return zG(e);if((r&RG.BOOLEAN)>0)return e.toString();if((r&RG.STRING)>0)return YG(t,e.toString());if((r&RG.COLOR)>0)return HG(e);if((r&RG.NUMBER_ARRAY)>0)return UG(e);throw new Error(`Unexpected expression ${e} (expected type ${VG(i)})`)}function qG(t){if(0===(NG(t)&RG.NUMBER))throw new Error(`A numeric value was expected, got ${JSON.stringify(t)} instead`)}function ZG(t){for(let e=0;e<t.length;e++)qG(t[e])}function QG(t){if(0===(NG(t)&RG.STRING))throw new Error(`A string value was expected, got ${JSON.stringify(t)} instead`)}function JG(t){if(0===(NG(t)&RG.BOOLEAN))throw new Error(`A boolean value was expected, got ${JSON.stringify(t)} instead`)}function KG(t,e){if(t.length!==e)throw new Error(`Exactly ${e} arguments were expected, got ${t.length} instead`)}function $G(t,e){if(t.length<e)throw new Error(`At least ${e} arguments were expected, got ${t.length} instead`)}function tz(t,e){if(t.length>e)throw new Error(`At most ${e} arguments were expected, got ${t.length} instead`)}function ez(t){if(t.length%2!==0)throw new Error(`An even amount of arguments was expected, got ${JSON.stringify(t)} instead`)}function nz(t){if(t.length%2===0)throw new Error(`An odd amount of arguments was expected, got ${JSON.stringify(t)} instead`)}function iz(t,e,n){if(e===RG.NONE)throw new Error(`No matching type was found for the following expression ${n}: ${JSON.stringify(t)}`)}function rz(t,e,n){if(iz(t,e,n),!BG(e))throw new Error(`Expected to have a unique type for the following expression ${n}: ${JSON.stringify(t)}\nGot the following types instead: ${VG(e)}`)}function az(t,e,n,i){if((e&n)===RG.NONE)throw new Error(`Expected the ${i} type of the following expression: ${JSON.stringify(t)} to be of the following types: ${VG(n)}\nGot these types instead: ${VG(e)}`)}function oz(t){return"u_var_"+t}FG["get"]={getReturnType:function(t){if(2===t.length){const e=t[1];return DG(e)}return RG.ANY},toGlsl:function(t,e,n){$G(e,1),tz(e,2),QG(e[0]);const i=n&FG["get"].getReturnType(e);rz(["get",...e],i,"");const r=e[0].toString(),a=t.attributes.find(t=>t.name===r);if(a){if(i!==a.type)throw new Error(`The following attribute was used in different places with incompatible types: ${r}\nTypes were: ${VG(a.type)} and ${VG(i)}`)}else t.attributes.push({name:r,type:i});const o=t.inFragmentShader?"v_":"a_";return o+r}},FG["var"]={getReturnType:function(){return RG.ANY},toGlsl:function(t,e,n){KG(e,1),QG(e[0]);const i=e[0].toString();if(!t.style.variables||void 0===t.style.variables[i])throw new Error("The following variable is missing from the style: "+i);const r=t.style.variables[i],a=n&NG(r);rz(["var",...e],a,"");const o=t.variables.find(t=>t.name===i);if(o){if(a!==o.type)throw new Error(`The following variable was used in different places with incompatible types: ${i}\nTypes were: ${VG(o.type)} and ${VG(a)}`)}else t.variables.push({name:i,type:a});return oz(i)}};const sz="u_paletteTextures";FG["palette"]={getReturnType:function(){return RG.COLOR},toGlsl:function(t,e){KG(e,2),qG(e[0]);const n=XG(t,e[0]),i=e[1];if(!Array.isArray(i))throw new Error("The second argument of palette must be an array");const r=i.length,a=new Uint8Array(4*r);for(let l=0;l<r;l++){const t=i[l];let e;if("string"===typeof t)e=Object(PG["c"])(t);else{if(!Array.isArray(t))throw new Error("The second argument of palette must be an array of strings or colors");const n=t.length;if(4===n)e=t;else{if(3!==n)throw new Error("Expected palette color to have 3 or 4 values, got "+n);e=[t[0],t[1],t[2],1]}}const n=4*l;a[n]=e[0],a[n+1]=e[1],a[n+2]=e[2],a[n+3]=255*e[3]}t.paletteTextures||(t.paletteTextures=[]);const o=`${sz}[${t.paletteTextures.length}]`,s=new CG(o,a);return t.paletteTextures.push(s),`texture2D(${o}, vec2((${n} + 0.5) / ${r}.0, 0.5))`}};const lz="getBandValue";function cz(t){return{getReturnType:function(){return RG.BOOLEAN},toGlsl:function(e,n){KG(n,2);let i=RG.ANY;for(let t=0;t<n.length;t++)i&=NG(n[t]);if(i===RG.NONE)throw new Error(`All arguments should be of compatible type, got ${JSON.stringify(n)} instead`);return i&=~RG.COLOR,`(${XG(e,n[0],i)} ${t} ${XG(e,n[1],i)})`}}}function uz(t){return{getReturnType:function(){return RG.BOOLEAN},toGlsl:function(e,n){$G(n,2);for(let t=0;t<n.length;t++)JG(n[t]);let i=n.map(t=>XG(e,t,RG.BOOLEAN)).join(` ${t} `);return i=`(${i})`,i}}}FG["band"]={getReturnType:function(){return RG.NUMBER},toGlsl:function(t,e){$G(e,1),tz(e,3);const n=e[0];if(!(lz in t.functions)){let e="";const n=t.bandCount||1;for(let t=0;t<n;t++){const i=Math.floor(t/4);let r=t%4;t===n-1&&1===r&&(r=3);const a=`${IG.TILE_TEXTURE_ARRAY}[${i}]`;e+=`\n          if (band == ${t+1}.0) {\n            return texture2D(${a}, v_textureCoord + vec2(dx, dy))[${r}];\n          }\n        `}t.functions[lz]=`\n        float getBandValue(float band, float xOffset, float yOffset) {\n          float dx = xOffset / ${IG.TEXTURE_PIXEL_WIDTH};\n          float dy = yOffset / ${IG.TEXTURE_PIXEL_HEIGHT};\n          ${e}\n        }\n      `}const i=XG(t,n),r=XG(t,e[1]||0),a=XG(t,e[2]||0);return`${lz}(${i}, ${r}, ${a})`}},FG["time"]={getReturnType:function(){return RG.NUMBER},toGlsl:function(t,e){return KG(e,0),"u_time"}},FG["zoom"]={getReturnType:function(){return RG.NUMBER},toGlsl:function(t,e){return KG(e,0),"u_zoom"}},FG["resolution"]={getReturnType:function(){return RG.NUMBER},toGlsl:function(t,e){return KG(e,0),"u_resolution"}},FG["geometry-type"]={getReturnType:function(){return RG.STRING},toGlsl:function(t,e){KG(e,0);const n="geometryType",i=t=>{const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return i(t.getGeometries()[0]);default:}},r=t.attributes.find(t=>t.name===n);r||t.attributes.push({name:n,type:RG.STRING,callback:t=>i(t.getGeometry())});const a=t.inFragmentShader?"v_":"a_";return a+n}},FG["*"]={getReturnType:function(t){let e=RG.NUMBER|RG.COLOR;for(let n=0;n<t.length;n++)e&=NG(t[n]);return e},toGlsl:function(t,e,n){$G(e,2);let i=n;for(let r=0;r<e.length;r++)i&=NG(e[r]);return az(e,i,RG.NUMBER|RG.COLOR,"output"),`(${e.map(e=>XG(t,e,i)).join(" * ")})`}},FG["/"]={getReturnType:function(){return RG.NUMBER},toGlsl:function(t,e){return KG(e,2),ZG(e),`(${XG(t,e[0])} / ${XG(t,e[1])})`}},FG["+"]={getReturnType:function(){return RG.NUMBER},toGlsl:function(t,e){return $G(e,2),ZG(e),`(${e.map(e=>XG(t,e)).join(" + ")})`}},FG["-"]={getReturnType:function(){return RG.NUMBER},toGlsl:function(t,e){return KG(e,2),ZG(e),`(${XG(t,e[0])} - ${XG(t,e[1])})`}},FG["clamp"]={getReturnType:function(){return RG.NUMBER},toGlsl:function(t,e){KG(e,3),ZG(e);const n=XG(t,e[1]),i=XG(t,e[2]);return`clamp(${XG(t,e[0])}, ${n}, ${i})`}},FG["%"]={getReturnType:function(){return RG.NUMBER},toGlsl:function(t,e){return KG(e,2),ZG(e),`mod(${XG(t,e[0])}, ${XG(t,e[1])})`}},FG["^"]={getReturnType:function(){return RG.NUMBER},toGlsl:function(t,e){return KG(e,2),ZG(e),`pow(${XG(t,e[0])}, ${XG(t,e[1])})`}},FG["abs"]={getReturnType:function(){return RG.NUMBER},toGlsl:function(t,e){return KG(e,1),ZG(e),`abs(${XG(t,e[0])})`}},FG["floor"]={getReturnType:function(){return RG.NUMBER},toGlsl:function(t,e){return KG(e,1),ZG(e),`floor(${XG(t,e[0])})`}},FG["round"]={getReturnType:function(){return RG.NUMBER},toGlsl:function(t,e){return KG(e,1),ZG(e),`floor(${XG(t,e[0])} + 0.5)`}},FG["ceil"]={getReturnType:function(){return RG.NUMBER},toGlsl:function(t,e){return KG(e,1),ZG(e),`ceil(${XG(t,e[0])})`}},FG["sin"]={getReturnType:function(){return RG.NUMBER},toGlsl:function(t,e){return KG(e,1),ZG(e),`sin(${XG(t,e[0])})`}},FG["cos"]={getReturnType:function(){return RG.NUMBER},toGlsl:function(t,e){return KG(e,1),ZG(e),`cos(${XG(t,e[0])})`}},FG["atan"]={getReturnType:function(){return RG.NUMBER},toGlsl:function(t,e){return $G(e,1),tz(e,2),ZG(e),2===e.length?`atan(${XG(t,e[0])}, ${XG(t,e[1])})`:`atan(${XG(t,e[0])})`}},FG["sqrt"]={getReturnType:function(){return RG.NUMBER},toGlsl:function(t,e){return KG(e,1),ZG(e),`sqrt(${XG(t,e[0])})`}},FG[">"]={getReturnType:function(){return RG.BOOLEAN},toGlsl:function(t,e){return KG(e,2),ZG(e),`(${XG(t,e[0])} > ${XG(t,e[1])})`}},FG[">="]={getReturnType:function(){return RG.BOOLEAN},toGlsl:function(t,e){return KG(e,2),ZG(e),`(${XG(t,e[0])} >= ${XG(t,e[1])})`}},FG["<"]={getReturnType:function(){return RG.BOOLEAN},toGlsl:function(t,e){return KG(e,2),ZG(e),`(${XG(t,e[0])} < ${XG(t,e[1])})`}},FG["<="]={getReturnType:function(){return RG.BOOLEAN},toGlsl:function(t,e){return KG(e,2),ZG(e),`(${XG(t,e[0])} <= ${XG(t,e[1])})`}},FG["=="]=cz("=="),FG["!="]=cz("!="),FG["!"]={getReturnType:function(){return RG.BOOLEAN},toGlsl:function(t,e){return KG(e,1),JG(e[0]),`(!${XG(t,e[0],RG.BOOLEAN)})`}},FG["all"]=uz("&&"),FG["any"]=uz("||"),FG["between"]={getReturnType:function(){return RG.BOOLEAN},toGlsl:function(t,e){KG(e,3),ZG(e);const n=XG(t,e[1]),i=XG(t,e[2]),r=XG(t,e[0]);return`(${r} >= ${n} && ${r} <= ${i})`}},FG["array"]={getReturnType:function(){return RG.NUMBER_ARRAY},toGlsl:function(t,e){$G(e,2),tz(e,4),ZG(e);const n=e.map((function(e){return XG(t,e)}));return`vec${e.length}(${n.join(", ")})`}},FG["color"]={getReturnType:function(){return RG.COLOR},toGlsl:function(t,e){$G(e,3),tz(e,4),ZG(e);const n=e.slice(0,3).map(e=>XG(t,e)+" / 255.0");if(3===e.length)return`vec4(${n.join(", ")}, 1.0)`;const i=XG(t,e[3]);return`(${i} * vec4(${n.join(", ")}, 1.0))`}},FG["interpolate"]={getReturnType:function(t){let e=RG.COLOR|RG.NUMBER;for(let n=3;n<t.length;n+=2)e&=NG(t[n]);return e},toGlsl:function(t,e,n){ez(e),$G(e,6);const i=e[0];let r;switch(i[0]){case"linear":r=1;break;case"exponential":r=i[1];break;default:r=null}if(!r)throw new Error('Invalid interpolation type for "interpolate" operator, received: '+JSON.stringify(i));const a=RG.NUMBER,o=FG["interpolate"].getReturnType(e)&n;rz(["interpolate",...e],o,"output");const s=XG(t,e[1],a),l=zG(r);let c="";for(let u=2;u<e.length-2;u+=2){const n=XG(t,e[u],a),i=c||XG(t,e[u+1],o),h=XG(t,e[u+2],a),d=XG(t,e[u+3],o);let p;p=1===r?`(${s} - ${n}) / (${h} - ${n})`:`(pow(${l}, (${s} - ${n})) - 1.0) / (pow(${l}, (${h} - ${n})) - 1.0)`,c=`mix(${i}, ${d}, clamp(${p}, 0.0, 1.0))`}return c}},FG["match"]={getReturnType:function(t){let e=RG.ANY;for(let n=2;n<t.length;n+=2)e&=NG(t[n]);return e&=NG(t[t.length-1]),e},toGlsl:function(t,e,n){ez(e),$G(e,4);let i=NG(e[0]);for(let l=1;l<e.length-1;l+=2)i&=NG(e[l]);az(["match",...e],i,RG.STRING|RG.NUMBER|RG.BOOLEAN,"input"),i=(RG.STRING|RG.NUMBER|RG.BOOLEAN)&i;const r=FG["match"].getReturnType(e)&n;rz(["match",...e],r,"output");const a=XG(t,e[0],i),o=XG(t,e[e.length-1],r);let s=null;for(let l=e.length-3;l>=1;l-=2){const n=XG(t,e[l],i),c=XG(t,e[l+1],r);s=`(${a} == ${n} ? ${c} : ${s||o})`}return s}},FG["case"]={getReturnType:function(t){let e=RG.ANY;for(let n=1;n<t.length;n+=2)e&=NG(t[n]);return e&=NG(t[t.length-1]),e},toGlsl:function(t,e,n){nz(e),$G(e,3);const i=FG["case"].getReturnType(e)&n;rz(["case",...e],i,"output");for(let o=0;o<e.length-1;o+=2)JG(e[o]);const r=XG(t,e[e.length-1],i);let a=null;for(let o=e.length-3;o>=0;o-=2){const n=XG(t,e[o],RG.BOOLEAN),s=XG(t,e[o+1],i);a=`(${n} ? ${s} : ${a||r})`}return a}},FG["in"]={getReturnType:function(t){return RG.BOOLEAN},toGlsl:function(t,e){KG(e,2);const n=e[0];let i=e[1];if(!Array.isArray(i))throw new Error('The "in" operator expects an array literal as its second argument.');if("string"===typeof i[0]){if("literal"!==i[0])throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(i[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');i=i[1]}let r=NG(n);for(let s=0;s<i.length-1;s+=1)r&=NG(i[s]);az(["match",...e],r,RG.STRING|RG.NUMBER|RG.BOOLEAN,"input"),r=(RG.STRING|RG.NUMBER|RG.BOOLEAN)&r;const a=GG("in",t),o=[];for(let s=0;s<i.length;s+=1)o.push(`  if (inputValue == ${XG(t,i[s],r)}) { return true; }`);return t.functions[a]=`bool ${a}(float inputValue) {\n${o.join("\n")}\n  return false;\n}`,`${a}(${XG(t,n,r)})`}};var hz=n("a172");const dz="uniform mat4 u_projectionMatrix;\nuniform mat4 u_screenToWorldMatrix;\nuniform vec2 u_viewportSizePx;\nuniform float u_pixelRatio;\nuniform float u_globalAlpha;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\nuniform vec4 u_renderExtent;\nuniform mediump int u_hitDetection;\n",pz=Object(hz["a"])();class fz{constructor(){this.uniforms_=[],this.attributes_=[],this.varyings_=[],this.hasSymbol_=!1,this.symbolSizeExpression_=`vec2(${zG(pz["circle-radius"])})`,this.symbolRotationExpression_="0.0",this.symbolOffsetExpression_="vec2(0.0)",this.symbolColorExpression_=HG(pz["circle-fill-color"]),this.texCoordExpression_="vec4(0.0, 0.0, 1.0, 1.0)",this.discardExpression_="false",this.symbolRotateWithView_=!1,this.hasStroke_=!1,this.strokeWidthExpression_=zG(pz["stroke-width"]),this.strokeColorExpression_=HG(pz["stroke-color"]),this.hasFill_=!1,this.fillColorExpression_=HG(pz["fill-color"]),this.vertexShaderFunctions_=[],this.fragmentShaderFunctions_=[]}addUniform(t){return this.uniforms_.push(t),this}addAttribute(t){return this.attributes_.push(t),this}addVarying(t,e,n){return this.varyings_.push({name:t,type:e,expression:n}),this}setSymbolSizeExpression(t){return this.hasSymbol_=!0,this.symbolSizeExpression_=t,this}getSymbolSizeExpression(){return this.symbolSizeExpression_}setSymbolRotationExpression(t){return this.symbolRotationExpression_=t,this}setSymbolOffsetExpression(t){return this.symbolOffsetExpression_=t,this}setSymbolColorExpression(t){return this.hasSymbol_=!0,this.symbolColorExpression_=t,this}getSymbolColorExpression(){return this.symbolColorExpression_}setTextureCoordinateExpression(t){return this.texCoordExpression_=t,this}setFragmentDiscardExpression(t){return this.discardExpression_=t,this}setSymbolRotateWithView(t){return this.symbolRotateWithView_=t,this}setStrokeWidthExpression(t){return this.hasStroke_=!0,this.strokeWidthExpression_=t,this}setStrokeColorExpression(t){return this.hasStroke_=!0,this.strokeColorExpression_=t,this}setFillColorExpression(t){return this.hasFill_=!0,this.fillColorExpression_=t,this}addVertexShaderFunction(t){this.vertexShaderFunctions_.includes(t)||this.vertexShaderFunctions_.push(t)}addFragmentShaderFunction(t){this.fragmentShaderFunctions_.includes(t)||this.fragmentShaderFunctions_.push(t)}getSymbolVertexShader(){if(!this.hasSymbol_)return null;const t=this.symbolRotateWithView_?"u_offsetScaleMatrix * u_offsetRotateMatrix":"u_offsetScaleMatrix";return`precision mediump float;\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\nuniform mediump int u_hitDetection;\n\n${this.uniforms_.map((function(t){return"uniform "+t+";"})).join("\n")}\nattribute vec2 a_position;\nattribute float a_index;\nattribute vec4 a_hitColor;\n${this.attributes_.map((function(t){return"attribute "+t+";"})).join("\n")}\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\nvarying vec4 v_hitColor;\n${this.varyings_.map((function(t){return"varying "+t.type+" "+t.name+";"})).join("\n")}\n${this.vertexShaderFunctions_.join("\n")}\nvoid main(void) {\n  mat4 offsetMatrix = ${t};\n  vec2 halfSize = ${this.symbolSizeExpression_} * 0.5;\n  vec2 offset = ${this.symbolOffsetExpression_};\n  float angle = ${this.symbolRotationExpression_};\n  float offsetX;\n  float offsetY;\n  if (a_index == 0.0) {\n    offsetX = (offset.x - halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY = (offset.y - halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  } else if (a_index == 1.0) {\n    offsetX = (offset.x + halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY = (offset.y - halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else if (a_index == 2.0) {\n    offsetX = (offset.x + halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY = (offset.y + halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else {\n    offsetX = (offset.x - halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY = (offset.y + halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  }\n  vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  vec4 texCoord = ${this.texCoordExpression_};\n  float u = a_index == 0.0 || a_index == 3.0 ? texCoord.s : texCoord.p;\n  float v = a_index == 2.0 || a_index == 3.0 ? texCoord.t : texCoord.q;\n  v_texCoord = vec2(u, v);\n  u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n  v = a_index == 2.0 || a_index == 3.0 ? 0.0 : 1.0;\n  v_quadCoord = vec2(u, v);\n  v_hitColor = a_hitColor;\n${this.varyings_.map((function(t){return"  "+t.name+" = "+t.expression+";"})).join("\n")}\n}`}getSymbolFragmentShader(){return this.hasSymbol_?`precision mediump float;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\nuniform mediump int u_hitDetection;\n${this.uniforms_.map((function(t){return"uniform "+t+";"})).join("\n")}\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\nvarying vec4 v_hitColor;\n${this.varyings_.map((function(t){return"varying "+t.type+" "+t.name+";"})).join("\n")}\n${this.fragmentShaderFunctions_.join("\n")}\nvoid main(void) {\n  if (${this.discardExpression_}) { discard; }\n  gl_FragColor = ${this.symbolColorExpression_};\n  gl_FragColor.rgb *= gl_FragColor.a;\n  if (u_hitDetection > 0) {\n    if (gl_FragColor.a < 0.1) { discard; };\n    gl_FragColor = v_hitColor;\n  }\n}`:null}getStrokeVertexShader(){return this.hasStroke_?`#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n${dz}\n${this.uniforms_.map((function(t){return"uniform "+t+";"})).join("\n")}\nattribute vec2 a_position;\nattribute float a_index;\nattribute vec2 a_segmentStart;\nattribute vec2 a_segmentEnd;\nattribute float a_parameters;\nattribute vec4 a_hitColor;\n${this.attributes_.map((function(t){return"attribute "+t+";"})).join("\n")}\nvarying vec2 v_segmentStart;\nvarying vec2 v_segmentEnd;\nvarying float v_angleStart;\nvarying float v_angleEnd;\nvarying float v_width;\nvarying vec4 v_hitColor;\n${this.varyings_.map((function(t){return"varying "+t.type+" "+t.name+";"})).join("\n")}\n${this.vertexShaderFunctions_.join("\n")}\nvec2 worldToPx(vec2 worldPos) {\n  vec4 screenPos = u_projectionMatrix * vec4(worldPos, 0.0, 1.0);\n  return (0.5 * screenPos.xy + 0.5) * u_viewportSizePx;\n}\n\nvec4 pxToScreen(vec2 pxPos) {\n  vec2 screenPos = pxPos * 4.0 / u_viewportSizePx;\n  return vec4(screenPos.xy, 0.0, 0.0);\n}\n\nvec2 getOffsetDirection(vec2 normalPx, vec2 tangentPx, float joinAngle) {\n  if (cos(joinAngle) > 0.93) return normalPx - tangentPx;\n  float halfAngle = joinAngle / 2.0;\n  vec2 angleBisectorNormal = vec2(\n    sin(halfAngle) * normalPx.x + cos(halfAngle) * normalPx.y,\n    -cos(halfAngle) * normalPx.x + sin(halfAngle) * normalPx.y\n  );\n  float length = 1.0 / sin(halfAngle);\n  return angleBisectorNormal * length;\n}\n\nvoid main(void) {\n  float lineWidth = ${this.strokeWidthExpression_};\n  float anglePrecision = 1500.0;\n  float paramShift = 10000.0;\n  v_angleStart = fract(a_parameters / paramShift) * paramShift / anglePrecision;\n  v_angleEnd = fract(floor(a_parameters / paramShift + 0.5) / paramShift) * paramShift / anglePrecision;\n  float vertexNumber = floor(a_parameters / paramShift / paramShift + 0.0001);\n  vec2 tangentPx = worldToPx(a_segmentEnd) - worldToPx(a_segmentStart);\n  tangentPx = normalize(tangentPx);\n  vec2 normalPx = vec2(-tangentPx.y, tangentPx.x);\n  float normalDir = vertexNumber < 0.5 || (vertexNumber > 1.5 && vertexNumber < 2.5) ? 1.0 : -1.0;\n  float tangentDir = vertexNumber < 1.5 ? 1.0 : -1.0;\n  float angle = vertexNumber < 1.5 ? v_angleStart : v_angleEnd;\n  vec2 offsetPx = getOffsetDirection(normalPx * normalDir, tangentDir * tangentPx, angle) * lineWidth * 0.5;\n  vec2 position =  vertexNumber < 1.5 ? a_segmentStart : a_segmentEnd;\n  gl_Position = u_projectionMatrix * vec4(position, 0.0, 1.0) + pxToScreen(offsetPx);\n  v_segmentStart = worldToPx(a_segmentStart);\n  v_segmentEnd = worldToPx(a_segmentEnd);\n  v_width = lineWidth;\n  v_hitColor = a_hitColor;\n${this.varyings_.map((function(t){return"  "+t.name+" = "+t.expression+";"})).join("\n")}\n}`:null}getStrokeFragmentShader(){return this.hasStroke_?`#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n${dz}\n${this.uniforms_.map((function(t){return"uniform "+t+";"})).join("\n")}\nvarying vec2 v_segmentStart;\nvarying vec2 v_segmentEnd;\nvarying float v_angleStart;\nvarying float v_angleEnd;\nvarying float v_width;\nvarying vec4 v_hitColor;\n${this.varyings_.map((function(t){return"varying "+t.type+" "+t.name+";"})).join("\n")}\n${this.fragmentShaderFunctions_.join("\n")}\nvec2 pxToWorld(vec2 pxPos) {\n  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;\n  return (u_screenToWorldMatrix * vec4(screenPos, 0.0, 1.0)).xy;\n}\n\nfloat segmentDistanceField(vec2 point, vec2 start, vec2 end, float radius) {\n  vec2 startToPoint = point - start;\n  vec2 startToEnd = end - start;\n  float ratio = clamp(dot(startToPoint, startToEnd) / dot(startToEnd, startToEnd), 0.0, 1.0);\n  float dist = length(startToPoint - ratio * startToEnd);\n  return 1.0 - smoothstep(radius - 1.0, radius, dist);\n}\n\nvoid main(void) {\n  vec2 v_currentPoint = gl_FragCoord.xy / u_pixelRatio;\n  #ifdef GL_FRAGMENT_PRECISION_HIGH\n  vec2 v_worldPos = pxToWorld(v_currentPoint);\n  if (\n    abs(u_renderExtent[0] - u_renderExtent[2]) > 0.0 && (\n      v_worldPos[0] < u_renderExtent[0] ||\n      v_worldPos[1] < u_renderExtent[1] ||\n      v_worldPos[0] > u_renderExtent[2] ||\n      v_worldPos[1] > u_renderExtent[3]\n    )\n  ) {\n    discard;\n  }\n  #endif\n  if (${this.discardExpression_}) { discard; }\n  gl_FragColor = ${this.strokeColorExpression_} * u_globalAlpha;\n  gl_FragColor *= segmentDistanceField(v_currentPoint, v_segmentStart, v_segmentEnd, v_width);\n  if (u_hitDetection > 0) {\n    if (gl_FragColor.a < 0.1) { discard; };\n    gl_FragColor = v_hitColor;\n  }\n}`:null}getFillVertexShader(){return this.hasFill_?`#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n${dz}\n${this.uniforms_.map((function(t){return"uniform "+t+";"})).join("\n")}\nattribute vec2 a_position;\nattribute vec4 a_hitColor;\n${this.attributes_.map((function(t){return"attribute "+t+";"})).join("\n")}\nvarying vec4 v_hitColor;\n${this.varyings_.map((function(t){return"varying "+t.type+" "+t.name+";"})).join("\n")}\n${this.vertexShaderFunctions_.join("\n")}\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n${this.varyings_.map((function(t){return"  "+t.name+" = "+t.expression+";"})).join("\n")}\n}`:null}getFillFragmentShader(){return this.hasFill_?`#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n${dz}\n${this.uniforms_.map((function(t){return"uniform "+t+";"})).join("\n")}\nvarying vec4 v_hitColor;\n${this.varyings_.map((function(t){return"varying "+t.type+" "+t.name+";"})).join("\n")}\n${this.fragmentShaderFunctions_.join("\n")}\nvec2 pxToWorld(vec2 pxPos) {\n  vec2 screenPos = 2.0 * pxPos / u_viewportSizePx - 1.0;\n  return (u_screenToWorldMatrix * vec4(screenPos, 0.0, 1.0)).xy;\n}\n\nvoid main(void) {\n  #ifdef GL_FRAGMENT_PRECISION_HIGH\n  vec2 v_worldPos = pxToWorld(gl_FragCoord.xy / u_pixelRatio);\n  if (\n    abs(u_renderExtent[0] - u_renderExtent[2]) > 0.0 && (\n      v_worldPos[0] < u_renderExtent[0] ||\n      v_worldPos[1] < u_renderExtent[1] ||\n      v_worldPos[0] > u_renderExtent[2] ||\n      v_worldPos[1] > u_renderExtent[3]\n    )\n  ) {\n    discard;\n  }\n  #endif\n  if (${this.discardExpression_}) { discard; }\n  gl_FragColor = ${this.fillColorExpression_} * u_globalAlpha;\n  if (u_hitDetection > 0) {\n    if (gl_FragColor.a < 0.1) { discard; };\n    gl_FragColor = v_hitColor;\n  }\n}`:null}}function gz(t,e){switch(t){case"square":case"image":return"1.0";case"circle":return`(1.0-smoothstep(1.-4./${e},1.,dot(v_quadCoord-.5,v_quadCoord-.5)*4.))`;case"triangle":const n="(v_quadCoord*2.-1.)",i=`(atan(${n}.x,${n}.y))`;return`(1.0-smoothstep(.5-3./${e},.5,cos(floor(.5+${i}/2.094395102)*2.094395102-${i})*length(${n})))`;default:throw new Error("Unexpected symbol type: "+t)}}function mz(t){const e=Object(PG["a"])(t),n=256*e[0],i=e[1],r=256*e[2],a=Math.round(255*e[3]);return[n+i,r+a]}const vz="vec4 unpackColor(vec2 packedColor) {\n  return fract(packedColor[1] / 256.0) * vec4(\n    fract(floor(packedColor[0] / 256.0) / 256.0),\n    fract(packedColor[0] / 256.0),\n    fract(floor(packedColor[1] / 256.0) / 256.0),\n    1.0\n  );\n}";function yz(t){return t===RG.COLOR?2:t===RG.NUMBER_ARRAY?4:1}function bz(t){const e=yz(t);return e>1?"vec"+e:"float"}function xz(t,e,n,i,r){if(!("symbol"in t))return;const a=t.symbol;if("color"in a){const t=a.color,n=void 0!==a.opacity?a.opacity:1,i=XG(r,t,RG.COLOR),o=XG(r,n,RG.NUMBER);e.setSymbolColorExpression(`vec4(${i}.rgb, ${i}.a * ${o})`)}if("image"===a.symbolType&&a.src){const t=new Image;t.crossOrigin=void 0===a.crossOrigin?"anonymous":a.crossOrigin,t.src=a.src,e.addUniform("sampler2D u_texture").setSymbolColorExpression(e.getSymbolColorExpression()+" * texture2D(u_texture, v_texCoord)"),n["u_texture"]=t}else if("symbolType"in a){let t=e.getSymbolSizeExpression();"size"in a&&(t=XG(r,a.size,RG.NUMBER_ARRAY|RG.NUMBER));const n=gz(a.symbolType,`vec2(${t}).x`);e.setSymbolColorExpression(`${e.getSymbolColorExpression()} * vec4(1.0, 1.0, 1.0, ${n})`)}if("size"in a){const t=a.size,n=XG(i,t,RG.NUMBER_ARRAY|RG.NUMBER);e.setSymbolSizeExpression(`vec2(${n})`)}"textureCoord"in a&&e.setTextureCoordinateExpression(XG(i,a.textureCoord,RG.NUMBER_ARRAY)),"offset"in a&&e.setSymbolOffsetExpression(XG(i,a.offset,RG.NUMBER_ARRAY)),"rotation"in a&&e.setSymbolRotationExpression(XG(i,a.rotation,RG.NUMBER)),"rotateWithView"in a&&e.setSymbolRotateWithView(!!a.rotateWithView)}function _z(t,e,n,i,r){"stroke-color"in t&&e.setStrokeColorExpression(XG(r,t["stroke-color"],RG.COLOR)),"stroke-width"in t&&e.setStrokeWidthExpression(XG(i,t["stroke-width"],RG.NUMBER))}function wz(t,e,n,i,r){"fill-color"in t&&e.setFillColorExpression(XG(r,t["fill-color"],RG.COLOR))}function Sz(t){const e={inFragmentShader:!1,variables:[],attributes:[],stringLiteralsMap:{},functions:{},style:t},n={inFragmentShader:!0,variables:e.variables,attributes:[],stringLiteralsMap:e.stringLiteralsMap,functions:{},style:t},i=new fz,r={};if(xz(t,i,r,e,n),_z(t,i,r,e,n),wz(t,i,r,e,n),t.filter){const e=XG(n,t.filter,RG.BOOLEAN);i.setFragmentDiscardExpression("!"+e)}n.variables.forEach((function(n){const a=oz(n.name);let o;i.addUniform(`${bz(n.type)} ${a}`),o=n.type===RG.STRING?()=>WG(e,t.variables[n.name]):n.type===RG.COLOR?()=>mz([...Object(PG["a"])(t.variables[n.name]||"#eee")]):n.type===RG.BOOLEAN?()=>t.variables[n.name]?1:0:()=>t.variables[n.name],r[a]=o})),n.attributes.forEach((function(t){e.attributes.find(e=>e.name===t.name)||e.attributes.push(t);let n=bz(t.type),r="a_"+t.name;t.type===RG.COLOR&&(n="vec4",r=`unpackColor(${r})`,i.addVertexShaderFunction(vz)),i.addVarying("v_"+t.name,n,r)})),e.attributes.forEach((function(t){i.addAttribute(`${bz(t.type)} a_${t.name}`)}));const a=e.attributes.map((function(t){let n;return n=t.callback?t.callback:t.type===RG.STRING?n=>WG(e,n.get(t.name)):t.type===RG.COLOR?e=>mz([...Object(PG["a"])(e.get(t.name)||"#eee")]):t.type===RG.BOOLEAN?e=>e.get(t.name)?1:0:e=>e.get(t.name),{name:t.name,size:yz(t.type),callback:n}}));for(const o in e.functions)i.addVertexShaderFunction(e.functions[o]);for(const o in n.functions)i.addFragmentShaderFunction(n.functions[o]);return{builder:i,attributes:a.reduce((t,e)=>({...t,[e.name]:{callback:e.callback,size:e.size}}),{}),uniforms:r}}class Oz extends bV["a"]{constructor(t){const e=Object.assign({},t);super(e),this.parseResult_=Sz(t.style),this.styleVariables_=t.style.variables||{},this.hitDetectionDisabled_=!!t.disableHitDetection}createRenderer(){const t=Object.keys(this.parseResult_.attributes).map(t=>({name:t,...this.parseResult_.attributes[t]}));return new SG(this,{vertexShader:this.parseResult_.builder.getSymbolVertexShader(),fragmentShader:this.parseResult_.builder.getSymbolFragmentShader(),hitDetectionEnabled:!this.hitDetectionDisabled_,uniforms:this.parseResult_.uniforms,attributes:t})}updateStyleVariables(t){Object.assign(this.styleVariables_,t),this.changed()}}var Cz=Oz,Az=n("6c77");function Mz(t,e=Iz()){let n=e.getLayers().getArray(),i=n.filter(e=>e.get("layerId")===t);return 0===i.length?void 0:i[0]}function Tz(t,e,n=new Az["c"]){return new vV({source:new tV["a"],zIndex:e,layerId:t,style:n})}function kz(t,e,n){return new Cz({style:n,source:new tV["a"]({wrapX:!0}),layerId:t,zIndex:e})}function Lz(t,e=Iz()){let n=e.getLayers().getArray(),i=n.filter(e=>e.get("layerId")===t);i&&i[0]&&e.removeLayer(i[0])}function jz(t,e=Iz()){e.addLayer(t)}function Iz(){return yV["a"].getters["mapModule/data"]("map")}var Ez=n("e300"),Pz=n("4cdf"),Rz=n("83a6"),Dz=n("7a09"),Fz=n("f403"),Nz=n("8682"),Bz=n("8295"),Vz=n("3e6b"),Gz=n("a568"),zz=n("c946"),Uz=n("30d1");function Hz(t){if(!(t.context instanceof CanvasRenderingContext2D))throw new Error("Only works for render events from Canvas 2D layers");const e=t.inversePixelTransform[0],n=t.inversePixelTransform[1],i=Math.sqrt(e*e+n*n),r=t.frameState,a=Object(dV["f"])(t.inversePixelTransform.slice(),r.coordinateToPixelTransform),o=Object(Uz["b"])(r.viewState.resolution,i);let s;const l=Object(UB["m"])();return l&&(s=Object(UB["l"])(l,r.viewState.projection)),new zz["a"](t.context,i,r.extent,a,r.viewState.rotation,o,s)}function Wz(t,e,n){const i=[];let r=t(0),a=t(1),o=e(r),s=e(a);const l=[a,r],c=[s,o],u=[1,0],h={};let d,p,f,g,m,v,y=1e5;while(--y>0&&u.length>0)f=u.pop(),r=l.pop(),o=c.pop(),v=f.toString(),v in h||(i.push(o[0],o[1]),h[v]=!0),g=u.pop(),a=l.pop(),s=c.pop(),m=(f+g)/2,d=t(m),p=e(d),Object(vG["h"])(p[0],p[1],o[0],o[1],s[0],s[1])<n?(i.push(s[0],s[1]),v=g.toString(),h[v]=!0):(u.push(g,m,m,f),c.push(s,p,p,o),l.push(a,d,d,r));return i}function Yz(t,e,n,i,r){const a=Object(UB["i"])("EPSG:4326");return Wz((function(i){return[t,e+(n-e)*i]}),Object(UB["k"])(a,i),r)}function Xz(t,e,n,i,r){const a=Object(UB["i"])("EPSG:4326");return Wz((function(i){return[e+(n-e)*i,t]}),Object(UB["k"])(a,i),r)}const qz=new Nz["a"]({color:"rgba(0,0,0,0.2)"}),Zz=[90,45,30,20,10,5,2,1,.5,20/60,10/60,5/60,2/60,1/60,30/3600,20/3600,10/3600,5/3600,2/3600,1/3600];class Qz extends Vz["a"]{constructor(t){t=t||{};const e=Object.assign({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},t);delete e.maxLines,delete e.strokeStyle,delete e.targetSize,delete e.showLabels,delete e.lonLabelFormatter,delete e.latLabelFormatter,delete e.lonLabelPosition,delete e.latLabelPosition,delete e.lonLabelStyle,delete e.latLabelStyle,delete e.intervals,super(e),this.projection_=null,this.maxLat_=1/0,this.maxLon_=1/0,this.minLat_=-1/0,this.minLon_=-1/0,this.maxX_=1/0,this.maxY_=1/0,this.minX_=-1/0,this.minY_=-1/0,this.targetSize_=void 0!==t.targetSize?t.targetSize:100,this.maxLines_=void 0!==t.maxLines?t.maxLines:100,this.meridians_=[],this.parallels_=[],this.strokeStyle_=void 0!==t.strokeStyle?t.strokeStyle:qz,this.fromLonLatTransform_=void 0,this.toLonLatTransform_=void 0,this.projectionCenterLonLat_=null,this.bottomLeft_=null,this.bottomRight_=null,this.topLeft_=null,this.topRight_=null,this.meridiansLabels_=null,this.parallelsLabels_=null,t.showLabels&&(this.lonLabelFormatter_=void 0==t.lonLabelFormatter?Gz["c"].bind(this,"EW"):t.lonLabelFormatter,this.latLabelFormatter_=void 0==t.latLabelFormatter?Gz["c"].bind(this,"NS"):t.latLabelFormatter,this.lonLabelPosition_=void 0==t.lonLabelPosition?0:t.lonLabelPosition,this.latLabelPosition_=void 0==t.latLabelPosition?1:t.latLabelPosition,this.lonLabelStyleBase_=new Az["c"]({text:void 0!==t.lonLabelStyle?t.lonLabelStyle.clone():new Bz["a"]({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new Rz["a"]({color:"rgba(0,0,0,1)"}),stroke:new Nz["a"]({color:"rgba(255,255,255,1)",width:3})})}),this.lonLabelStyle_=t=>{const e=t.get("graticule_label");return this.lonLabelStyleBase_.getText().setText(e),this.lonLabelStyleBase_},this.latLabelStyleBase_=new Az["c"]({text:void 0!==t.latLabelStyle?t.latLabelStyle.clone():new Bz["a"]({font:"12px Calibri,sans-serif",textAlign:"right",fill:new Rz["a"]({color:"rgba(0,0,0,1)"}),stroke:new Nz["a"]({color:"rgba(255,255,255,1)",width:3})})}),this.latLabelStyle_=t=>{const e=t.get("graticule_label");return this.latLabelStyleBase_.getText().setText(e),this.latLabelStyleBase_},this.meridiansLabels_=[],this.parallelsLabels_=[],this.addEventListener(GV["a"].POSTRENDER,this.drawLabels_.bind(this))),this.intervals_=void 0!==t.intervals?t.intervals:Zz,this.setSource(new tV["a"]({loader:this.loaderFunction.bind(this),strategy:this.strategyFunction.bind(this),features:new Ez["a"],overlaps:!1,useSpatialIndex:!1,wrapX:t.wrapX})),this.featurePool_=[],this.lineStyle_=new Az["c"]({stroke:this.strokeStyle_}),this.loadedExtent_=null,this.renderedExtent_=null,this.renderedResolution_=null,this.setRenderOrder(null)}strategyFunction(t,e){let n=t.slice();return this.projection_&&this.getSource().getWrapX()&&Object(pV["M"])(n,this.projection_),this.loadedExtent_&&(Object(pV["b"])(this.loadedExtent_,n,e)?n=this.loadedExtent_.slice():this.getSource().removeLoadedExtent(this.loadedExtent_)),[n]}loaderFunction(t,e,n){this.loadedExtent_=t;const i=this.getSource(),r=this.getExtent()||[-1/0,-1/0,1/0,1/0],a=Object(pV["B"])(r,t);if(this.renderedExtent_&&Object(pV["p"])(this.renderedExtent_,a)&&this.renderedResolution_===e)return;if(this.renderedExtent_=a,this.renderedResolution_=e,Object(pV["I"])(a))return;const o=Object(pV["x"])(a),s=e*e/4,l=!this.projection_||!Object(UB["d"])(this.projection_,n);l&&this.updateProjectionInfo_(n),this.createGraticule_(a,o,e,s);let c,u=this.meridians_.length+this.parallels_.length;this.meridiansLabels_&&(u+=this.meridians_.length),this.parallelsLabels_&&(u+=this.parallels_.length);while(u>this.featurePool_.length)c=new Pz["a"],this.featurePool_.push(c);const h=i.getFeaturesCollection();h.clear();let d,p,f=0;for(d=0,p=this.meridians_.length;d<p;++d)c=this.featurePool_[f++],c.setGeometry(this.meridians_[d]),c.setStyle(this.lineStyle_),h.push(c);for(d=0,p=this.parallels_.length;d<p;++d)c=this.featurePool_[f++],c.setGeometry(this.parallels_[d]),c.setStyle(this.lineStyle_),h.push(c)}addMeridian_(t,e,n,i,r,a){const o=this.getMeridian_(t,e,n,i,a);if(Object(pV["G"])(o.getExtent(),r)){if(this.meridiansLabels_){const e=this.lonLabelFormatter_(t);a in this.meridiansLabels_?this.meridiansLabels_[a].text=e:this.meridiansLabels_[a]={geom:new Fz["a"]([]),text:e}}this.meridians_[a++]=o}return a}addParallel_(t,e,n,i,r,a){const o=this.getParallel_(t,e,n,i,a);if(Object(pV["G"])(o.getExtent(),r)){if(this.parallelsLabels_){const e=this.latLabelFormatter_(t);a in this.parallelsLabels_?this.parallelsLabels_[a].text=e:this.parallelsLabels_[a]={geom:new Fz["a"]([]),text:e}}this.parallels_[a++]=o}return a}drawLabels_(t){const e=t.frameState.viewState.rotation,n=t.frameState.viewState.resolution,i=t.frameState.size,r=t.frameState.extent,a=Object(pV["x"])(r);let o=r;if(e){const t=i[0]*n,e=i[1]*n;o=[a[0]-t/2,a[1]-e/2,a[0]+t/2,a[1]+e/2]}let s=0,l=0,c=this.latLabelPosition_<.5;const u=this.projection_.getExtent(),h=Object(pV["F"])(u);if(this.getSource().getWrapX()&&this.projection_.canWrapX()&&!Object(pV["h"])(u,r)){s=Math.floor((r[0]-u[0])/h),l=Math.ceil((r[2]-u[2])/h);const t=Math.abs(e)>Math.PI/2;c=c!==t}const d=Hz(t);for(let p=s;p<=l;++p){let t,n,i,u,f=this.meridians_.length+this.parallels_.length;if(this.meridiansLabels_)for(n=0,i=this.meridiansLabels_.length;n<i;++n){const i=this.meridians_[n];if(e||0!==p){const t=i.clone();t.translate(p*h,0),t.rotate(-e,a),u=this.getMeridianPoint_(t,o,n),u.rotate(e,a)}else u=this.getMeridianPoint_(i,r,n);t=this.featurePool_[f++],t.setGeometry(u),t.set("graticule_label",this.meridiansLabels_[n].text),d.drawFeature(t,this.lonLabelStyle_(t))}if(this.parallelsLabels_&&(p===s&&c||p===l&&!c))for(n=0,i=this.parallels_.length;n<i;++n){const i=this.parallels_[n];if(e||0!==p){const t=i.clone();t.translate(p*h,0),t.rotate(-e,a),u=this.getParallelPoint_(t,o,n),u.rotate(e,a)}else u=this.getParallelPoint_(i,r,n);t=this.featurePool_[f++],t.setGeometry(u),t.set("graticule_label",this.parallelsLabels_[n].text),d.drawFeature(t,this.latLabelStyle_(t))}}}createGraticule_(t,e,n,i){const r=this.getInterval_(n);if(-1==r)return this.meridians_.length=0,this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));let a=!1;const o=this.projection_.getExtent(),s=Object(pV["F"])(o);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!Object(pV["h"])(o,t)&&(Object(pV["F"])(t)>=s?(t[0]=o[0],t[2]=o[2]):a=!0);const l=[Object(vG["b"])(e[0],this.minX_,this.maxX_),Object(vG["b"])(e[1],this.minY_,this.maxY_)],c=this.toLonLatTransform_(l);isNaN(c[1])&&(c[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);let u=Object(vG["b"])(c[0],this.minLon_,this.maxLon_),h=Object(vG["b"])(c[1],this.minLat_,this.maxLat_);const d=this.maxLines_;let p,f,g,m,v=t;a||(v=[Object(vG["b"])(t[0],this.minX_,this.maxX_),Object(vG["b"])(t[1],this.minY_,this.maxY_),Object(vG["b"])(t[2],this.minX_,this.maxX_),Object(vG["b"])(t[3],this.minY_,this.maxY_)]);const y=Object(pV["a"])(v,this.toLonLatTransform_,void 0,8);let b=y[3],x=y[2],_=y[1],w=y[0];if(a||(Object(pV["g"])(v,this.bottomLeft_)&&(w=this.minLon_,_=this.minLat_),Object(pV["g"])(v,this.bottomRight_)&&(x=this.maxLon_,_=this.minLat_),Object(pV["g"])(v,this.topLeft_)&&(w=this.minLon_,b=this.maxLat_),Object(pV["g"])(v,this.topRight_)&&(x=this.maxLon_,b=this.maxLat_),b=Object(vG["b"])(b,h,this.maxLat_),x=Object(vG["b"])(x,u,this.maxLon_),_=Object(vG["b"])(_,this.minLat_,h),w=Object(vG["b"])(w,this.minLon_,u)),u=Math.floor(u/r)*r,m=Object(vG["b"])(u,this.minLon_,this.maxLon_),f=this.addMeridian_(m,_,b,i,t,0),p=0,a)while((m-=r)>=w&&p++<d)f=this.addMeridian_(m,_,b,i,t,f);else while(m!=this.minLon_&&p++<d)m=Math.max(m-r,this.minLon_),f=this.addMeridian_(m,_,b,i,t,f);if(m=Object(vG["b"])(u,this.minLon_,this.maxLon_),p=0,a)while((m+=r)<=x&&p++<d)f=this.addMeridian_(m,_,b,i,t,f);else while(m!=this.maxLon_&&p++<d)m=Math.min(m+r,this.maxLon_),f=this.addMeridian_(m,_,b,i,t,f);this.meridians_.length=f,this.meridiansLabels_&&(this.meridiansLabels_.length=f),h=Math.floor(h/r)*r,g=Object(vG["b"])(h,this.minLat_,this.maxLat_),f=this.addParallel_(g,w,x,i,t,0),p=0;while(g!=this.minLat_&&p++<d)g=Math.max(g-r,this.minLat_),f=this.addParallel_(g,w,x,i,t,f);g=Object(vG["b"])(h,this.minLat_,this.maxLat_),p=0;while(g!=this.maxLat_&&p++<d)g=Math.min(g+r,this.maxLat_),f=this.addParallel_(g,w,x,i,t,f);this.parallels_.length=f,this.parallelsLabels_&&(this.parallelsLabels_.length=f)}getInterval_(t){const e=this.projectionCenterLonLat_[0],n=this.projectionCenterLonLat_[1];let i=-1;const r=Math.pow(this.targetSize_*t,2),a=[],o=[];for(let s=0,l=this.intervals_.length;s<l;++s){const t=Object(vG["b"])(this.intervals_[s]/2,0,90),l=Object(vG["b"])(n,-90+t,90-t);a[0]=e-t,a[1]=l-t,o[0]=e+t,o[1]=l+t,this.fromLonLatTransform_(a,a),this.fromLonLatTransform_(o,o);const c=Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2);if(c<=r)break;i=this.intervals_[s]}return i}getMeridian_(t,e,n,i,r){const a=Yz(t,e,n,this.projection_,i);let o=this.meridians_[r];return o?(o.setFlatCoordinates("XY",a),o.changed()):(o=new Dz["a"](a,"XY"),this.meridians_[r]=o),o}getMeridianPoint_(t,e,n){const i=t.getFlatCoordinates();let r=1,a=i.length-1;i[r]>i[a]&&(r=a,a=1);const o=Math.max(e[1],i[r]),s=Math.min(e[3],i[a]),l=Object(vG["b"])(e[1]+Math.abs(e[1]-e[3])*this.lonLabelPosition_,o,s),c=i[r-1]+(i[a-1]-i[r-1])*(l-i[r])/(i[a]-i[r]),u=[c,l],h=this.meridiansLabels_[n].geom;return h.setCoordinates(u),h}getMeridians(){return this.meridians_}getParallel_(t,e,n,i,r){const a=Xz(t,e,n,this.projection_,i);let o=this.parallels_[r];return o?(o.setFlatCoordinates("XY",a),o.changed()):o=new Dz["a"](a,"XY"),o}getParallelPoint_(t,e,n){const i=t.getFlatCoordinates();let r=0,a=i.length-2;i[r]>i[a]&&(r=a,a=0);const o=Math.max(e[0],i[r]),s=Math.min(e[2],i[a]),l=Object(vG["b"])(e[0]+Math.abs(e[0]-e[2])*this.latLabelPosition_,o,s),c=i[r+1]+(i[a+1]-i[r+1])*(l-i[r])/(i[a]-i[r]),u=[l,c],h=this.parallelsLabels_[n].geom;return h.setCoordinates(u),h}getParallels(){return this.parallels_}updateProjectionInfo_(t){const e=Object(UB["i"])("EPSG:4326"),n=t.getWorldExtent();this.maxLat_=n[3],this.maxLon_=n[2],this.minLat_=n[1],this.minLon_=n[0];const i=Object(UB["k"])(t,e);if(this.minLon_<this.maxLon_)this.toLonLatTransform_=i;else{const t=this.minLon_+this.maxLon_/2;this.maxLon_+=360,this.toLonLatTransform_=function(e,n,r){r=r||2;const a=i(e,n,r);for(let i=0,o=a.length;i<o;i+=r)a[i]<t&&(a[i]+=360);return a}}this.fromLonLatTransform_=Object(UB["k"])(e,t);const r=Object(pV["a"])([this.minLon_,this.minLat_,this.maxLon_,this.maxLat_],this.fromLonLatTransform_,void 0,8);this.minX_=r[0],this.maxX_=r[2],this.minY_=r[1],this.maxY_=r[3],this.bottomLeft_=this.fromLonLatTransform_([this.minLon_,this.minLat_]),this.bottomRight_=this.fromLonLatTransform_([this.maxLon_,this.minLat_]),this.topLeft_=this.fromLonLatTransform_([this.minLon_,this.maxLat_]),this.topRight_=this.fromLonLatTransform_([this.maxLon_,this.maxLat_]),this.projectionCenterLonLat_=this.toLonLatTransform_(Object(pV["x"])(t.getExtent())),isNaN(this.projectionCenterLonLat_[1])&&(this.projectionCenterLonLat_[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_),this.projection_=t}}var Jz=Qz;function Kz(t,e=!0,n=tU()){let i=Mz(t);i&&n.removeLayer(i),e&&n.addLayer($z(t))}function $z(t){return new Jz({showLabels:!0,wrapX:!0,zIndex:99,layerId:t})}function tU(){return yV["a"].getters["mapModule/data"]("map")}function eU(t,e){return(new Array(t).join("0")+e).slice(-t)}function nU(t,e=!0,n=rU()){let i=Mz(t);i&&n.removeLayer(i),e&&n.addLayer(iU(t))}function iU(t){return new XB["a"]({preload:1/0,source:new qB["a"]({cacheSize:256,visible:!0,tileUrlFunction:function(t){if(!t)return"";let e=t[0],n=Math.abs(t[1]),i=-t[2]-1;i+=Math.pow(2,e);let r,a,o=Math.pow(2,Math.ceil(e/2)-1),s=Math.pow(2,e),l=s/o,c=parseInt(n/l),u=parseInt(i/l),h=eU(2,e),d="0_0";return d=e<=5?c+"_"+u:e>=6&&e<=11?eU(2,c)+"_"+eU(2,u):e>=12&&e<=17?eU(3,c)+"_"+eU(3,u):eU(4,c)+"_"+eU(4,u),e<=5?(r=eU(2,n),a=eU(2,i)):e>=6&&e<=11?(r=eU(100==n||1e3==n?5:4,n),a=eU(100==i||1e3==i?5:4,i)):e>=12&&e<=17?(r=eU(100==n||1e3==n||1e4==n||1e5==n?7:6,n),a=eU(100==i||1e3==i||1e4==n||1e5==n?7:6,i)):(r=eU(100==n||1e3==n||1e4==n||1e5==n||1e6==n||1e7==n?9:8,n),a=eU(100==i||1e3==i||1e4==n||1e5==n||1e6==n||1e7==n?9:8,i)),"https://cloudwx.intertion.cn/haitu02/EPSG_900913_"+h+"/"+d+"/"+r+"_"+a+".png"}}),zIndex:4,layerId:t})}function rU(){return yV["a"].getters["mapModule/data"]("map")}function aU(t,e,n){let i=parseInt(t),r=null;"lon"==e?r=t>=0?"E":"W":"lat"==e&&(r=t>=0?"N":"S");var a=(60*(t-i)).toFixed(3);return i=Math.abs(i),a=Math.abs(a),"String"==n?i+"°"+a+"′"+r:[i,a,r]}function oU(t){t[0]=Number(t[0]),t[1]=Number(t[1]);let e=t[0]+t[1]/60;return"S"!=t[2]&&"W"!=t[2]||(e=-e),e}var sU=n("9d47"),lU=n("35a7"),cU=n("0710"),uU=n("9abc"),hU=n("abb7"),dU=n("bef8");class pU extends uU["a"]{constructor(t,e,n){super(),void 0!==n&&void 0===e?this.setFlatCoordinates(n,t):(e=e||0,this.setCenterAndRadius(t,e,n))}clone(){const t=new pU(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,i){const r=this.flatCoordinates,a=t-r[0],o=e-r[1],s=a*a+o*o;if(s<i){if(0===s)for(let t=0;t<this.stride;++t)n[t]=r[t];else{const t=this.getRadius()/Math.sqrt(s);n[0]=r[0]+t*a,n[1]=r[1]+t*o;for(let e=2;e<this.stride;++e)n[e]=r[e]}return n.length=this.stride,s}return i}containsXY(t,e){const n=this.flatCoordinates,i=t-n[0],r=e-n[1];return i*i+r*r<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(t){const e=this.flatCoordinates,n=e[this.stride]-e[0];return Object(pV["l"])(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e}getType(){return"Circle"}intersectsExtent(t){const e=this.getExtent();if(Object(pV["G"])(t,e)){const e=this.getCenter();return t[0]<=e[0]&&t[2]>=e[0]||(t[1]<=e[1]&&t[3]>=e[1]||Object(pV["t"])(t,this.intersectsCoordinate.bind(this)))}return!1}setCenter(t){const e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],i=t.slice();i[e]=i[0]+n;for(let r=1;r<e;++r)i[e+r]=t[r];this.setFlatCoordinates(this.layout,i),this.changed()}setCenterAndRadius(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);const i=this.flatCoordinates;let r=Object(hU["a"])(i,0,t,this.stride);i[r++]=i[0]+e;for(let a=1,o=this.stride;a<o;++a)i[r++]=i[a];i.length=r,this.changed()}getCoordinates(){return null}setCoordinates(t,e){}setRadius(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()}rotate(t,e){const n=this.getCenter(),i=this.getStride();this.setCenter(Object(dU["a"])(n,0,n.length,i,t,e,n)),this.changed()}}pU.prototype.transform;var fU=pU,gU=n("cef7"),mU=n("d352"),vU=n("bf62"),yU=n("509b"),bU=n("0b2d"),xU=n("47e4"),_U=n("9a44"),wU=n("88da"),SU=n("4105b"),OU=n("5bc3"),CU=n("57cba"),AU=n("06f8");const MU={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"};class TU extends gU["a"]{constructor(t,e){super(t),this.feature=e}}function kU(t,e){const n=[];for(let i=0;i<e.length;++i){const r=e[i],a=r.getGeometry();EU(t,a,n)}return n}function LU(t,e){return Object(vG["g"])(t[0],t[1],e[0],e[1])}function jU(t,e){const n=t.length;return e<0?t[e+n]:e>=n?t[e-n]:t[e]}function IU(t,e,n){let i,r;e<n?(i=e,r=n):(i=n,r=e);const a=Math.ceil(i),o=Math.floor(r);if(a>o){const e=BU(t,i),n=BU(t,r);return LU(e,n)}let s=0;if(i<a){const e=BU(t,i),n=jU(t,a);s+=LU(e,n)}if(o<r){const e=jU(t,o),n=BU(t,r);s+=LU(e,n)}for(let l=a;l<o-1;++l){const e=jU(t,l),n=jU(t,l+1);s+=LU(e,n)}return s}function EU(t,e,n){if(e instanceof Dz["a"])DU(t,e.getCoordinates(),!1,n);else if(e instanceof xU["a"]){const i=e.getCoordinates();for(let e=0,r=i.length;e<r;++e)DU(t,i[e],!1,n)}else if(e instanceof OU["b"]){const i=e.getCoordinates();for(let e=0,r=i.length;e<r;++e)DU(t,i[e],!0,n)}else if(e instanceof wU["a"]){const i=e.getCoordinates();for(let e=0,r=i.length;e<r;++e){const r=i[e];for(let e=0,i=r.length;e<i;++e)DU(t,r[e],!0,n)}}else if(e instanceof mU["a"]){const i=e.getGeometries();for(let e=0;e<i.length;++e)EU(t,i[e],n)}else;}const PU={index:-1,endIndex:NaN};function RU(t,e,n,i){const r=t[0],a=t[1];let o=1/0,s=-1,l=NaN;for(let h=0;h<e.targets.length;++h){const t=e.targets[h],n=t.coordinates;let i,c=1/0;for(let e=0;e<n.length-1;++e){const t=n[e],o=n[e+1],s=NU(r,a,t,o);s.squaredDistance<c&&(c=s.squaredDistance,i=e+s.along)}c<o&&(o=c,t.ring&&e.targetIndex===h&&(t.endIndex>t.startIndex?i<t.startIndex&&(i+=n.length):t.endIndex<t.startIndex&&i>t.startIndex&&(i-=n.length)),l=i,s=h)}const c=e.targets[s];let u=c.ring;if(e.targetIndex===s&&u){const t=BU(c.coordinates,l),r=n.getPixelFromCoordinate(t);Object(Gz["d"])(r,e.startPx)>i&&(u=!1)}if(u){const t=c.coordinates,e=t.length,n=c.startIndex,i=l;if(n<i){const r=IU(t,n,i),a=IU(t,n,i-e);a<r&&(l-=e)}else{const r=IU(t,n,i),a=IU(t,n,i+e);a<r&&(l+=e)}}return PU.index=s,PU.endIndex=l,PU}function DU(t,e,n,i){const r=t[0],a=t[1];for(let o=0,s=e.length-1;o<s;++o){const t=e[o],s=e[o+1],l=NU(r,a,t,s);if(0===l.squaredDistance){const t=o+l.along;return void i.push({coordinates:e,ring:n,startIndex:t,endIndex:t})}}}const FU={along:0,squaredDistance:0};function NU(t,e,n,i){const r=n[0],a=n[1],o=i[0],s=i[1],l=o-r,c=s-a;let u=0,h=r,d=a;return 0===l&&0===c||(u=Object(vG["b"])(((t-r)*l+(e-a)*c)/(l*l+c*c),0,1),h+=l*u,d+=c*u),FU.along=u,FU.squaredDistance=Object(vG["j"])(Object(vG["g"])(t,e,h,d),10),FU}function BU(t,e){const n=t.length;let i=Math.floor(e);const r=e-i;i>=n?i-=n:i<0&&(i+=n);let a=i+1;a>=n&&(a-=n);const o=t[i],s=o[0],l=o[1],c=t[a],u=c[0]-s,h=c[1]-l;return[s+u*r,l+h*r]}class VU extends SU["b"]{constructor(t){const e=t;e.stopDown||(e.stopDown=CU["a"]),super(e),this.on,this.once,this.un,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=t.source?t.source:null,this.features_=t.features?t.features:null,this.snapTolerance_=t.snapTolerance?t.snapTolerance:12,this.type_=t.type,this.mode_=zU(this.type_),this.stopClick_=!!t.stopClick,this.minPoints_=t.minPoints?t.minPoints:"Polygon"===this.mode_?3:2,this.maxPoints_="Circle"===this.mode_?2:t.maxPoints?t.maxPoints:1/0,this.finishCondition_=t.finishCondition?t.finishCondition:CU["b"],this.geometryLayout_=t.geometryLayout?t.geometryLayout:"XY";let n=t.geometryFunction;if(!n){const t=this.mode_;if("Circle"===t)n=function(t,e,n){const i=e||new fU([NaN,NaN]),r=Object(UB["f"])(t[0],n),a=Object(Gz["i"])(r,Object(UB["f"])(t[t.length-1],n));i.setCenterAndRadius(r,Math.sqrt(a),this.geometryLayout_);const o=Object(UB["m"])();return o&&i.transform(n,o),i};else{let e;"Point"===t?e=Fz["a"]:"LineString"===t?e=Dz["a"]:"Polygon"===t&&(e=OU["b"]),n=function(n,i,r){return i?"Polygon"===t?n[0].length?i.setCoordinates([n[0].concat([n[0][0]])],this.geometryLayout_):i.setCoordinates([],this.geometryLayout_):i.setCoordinates(n,this.geometryLayout_):i=new e(n,this.geometryLayout_),i}}}this.geometryFunction_=n,this.dragVertexDelay_=void 0!==t.dragVertexDelay?t.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.overlay_=new Vz["a"]({source:new tV["a"]({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:GU(),updateWhileInteracting:!0}),this.geometryName_=t.geometryName,this.condition_=t.condition?t.condition:AU["i"],this.freehandCondition_,t.freehand?this.freehandCondition_=AU["d"]:this.freehandCondition_=t.freehandCondition?t.freehandCondition:AU["l"],this.traceCondition_,this.setTrace(t.trace||!1),this.traceState_={active:!1},this.traceSource_=t.traceSource||t.source||null,this.addChangeListener(vU["a"].ACTIVE,this.updateState_)}setTrace(t){let e;e=t?!0===t?AU["d"]:t:AU["h"],this.traceCondition_=e}setMap(t){super.setMap(t),this.updateState_()}getOverlay(){return this.overlay_}handleEvent(t){t.originalEvent.type===rV["a"].CONTEXTMENU&&t.originalEvent.preventDefault(),this.freehand_="Point"!==this.mode_&&this.freehandCondition_(t);let e=t.type===bU["a"].POINTERMOVE,n=!0;if(!this.freehand_&&this.lastDragTime_&&t.type===bU["a"].POINTERDRAG){const n=Date.now();n-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,e=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&t.type===bU["a"].POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(t.coordinate),n=!1):this.freehand_&&t.type===bU["a"].POINTERDOWN?n=!1:e&&this.getPointerCount()<2?(n=t.type===bU["a"].POINTERMOVE,n&&this.freehand_?(this.handlePointerMove_(t),this.shouldHandle_&&t.originalEvent.preventDefault()):("mouse"===t.originalEvent.pointerType||t.type===bU["a"].POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(t)):t.type===bU["a"].DBLCLICK&&(n=!1),super.handleEvent(t)&&n}handleDownEvent(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(()=>{this.handlePointerMove_(new yU["a"](bU["a"].POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))},this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(t){if(!this.traceSource_||!this.traceCondition_(t))return;if(this.traceState_.active)return void this.deactivateTrace_();const e=this.getMap(),n=e.getCoordinateFromPixel([t.pixel[0]-this.snapTolerance_,t.pixel[1]+this.snapTolerance_]),i=e.getCoordinateFromPixel([t.pixel[0]+this.snapTolerance_,t.pixel[1]-this.snapTolerance_]),r=Object(pV["c"])([n,i]),a=this.traceSource_.getFeaturesInExtent(r);if(0===a.length)return;const o=kU(t.coordinate,a);o.length&&(this.traceState_={active:!0,startPx:t.pixel.slice(),targets:o,targetIndex:-1})}addOrRemoveTracedCoordinates_(t,e){const n=t.startIndex<=t.endIndex,i=t.startIndex<=e;n===i?n&&e>t.endIndex||!n&&e<t.endIndex?this.addTracedCoordinates_(t,t.endIndex,e):(n&&e<t.endIndex||!n&&e>t.endIndex)&&this.removeTracedCoordinates_(e,t.endIndex):(this.removeTracedCoordinates_(t.startIndex,t.endIndex),this.addTracedCoordinates_(t,t.startIndex,e))}removeTracedCoordinates_(t,e){if(t===e)return;let n=0;if(t<e){const i=Math.ceil(t);let r=Math.floor(e);r===e&&(r-=1),n=r-i+1}else{const i=Math.floor(t);let r=Math.ceil(e);r===e&&(r+=1),n=i-r+1}n>0&&this.removeLastPoints_(n)}addTracedCoordinates_(t,e,n){if(e===n)return;const i=[];if(e<n){const r=Math.ceil(e);let a=Math.floor(n);a===n&&(a-=1);for(let e=r;e<=a;++e)i.push(jU(t.coordinates,e))}else{const r=Math.floor(e);let a=Math.ceil(n);a===n&&(a+=1);for(let e=r;e>=a;--e)i.push(jU(t.coordinates,e))}i.length&&this.appendCoordinates(i)}updateTrace_(t){const e=this.traceState_;if(!e.active)return;if(-1===e.targetIndex&&Object(Gz["d"])(e.startPx,t.pixel)<this.snapTolerance_)return;const n=RU(t.coordinate,e,this.getMap(),this.snapTolerance_);if(e.targetIndex!==n.index){if(-1!==e.targetIndex){const t=e.targets[e.targetIndex];this.removeTracedCoordinates_(t.startIndex,t.endIndex)}const t=e.targets[n.index];this.addTracedCoordinates_(t,t.startIndex,n.endIndex)}else{const t=e.targets[e.targetIndex];this.addOrRemoveTracedCoordinates_(t,n.endIndex)}e.targetIndex=n.index;const i=e.targets[e.targetIndex];i.endIndex=n.endIndex;const r=BU(i.coordinates,i.endIndex),a=this.getMap().getPixelFromCoordinate(r);t.coordinate=r,t.pixel=[Math.round(a[0]),Math.round(a[1])]}handleUpEvent(t){let e=!0;if(0===this.getPointerCount()){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);const n=this.traceState_.active;if(this.toggleTraceState_(t),this.shouldHandle_){const i=!this.finishCoordinate_;i&&this.startDrawing_(t.coordinate),!i&&this.freehand_?this.finishDrawing():this.freehand_||i&&"Point"!==this.mode_||(this.atFinish_(t.pixel,n)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),e=!1}else this.freehand_&&this.abortDrawing()}return!e&&this.stopClick_&&t.preventDefault(),e}handlePointerMove_(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const e=this.downPx_,n=t.pixel,i=e[0]-n[0],r=e[1]-n[1],a=i*i+r*r;if(this.shouldHandle_=this.freehand_?a>this.squaredClickTolerance_:a<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?(this.updateTrace_(t),this.modifyDrawing_(t.coordinate)):this.createOrUpdateSketchPoint_(t.coordinate.slice())}atFinish_(t,e){let n=!1;if(this.sketchFeature_){let i=!1,r=[this.finishCoordinate_];const a=this.mode_;if("Point"===a)n=!0;else if("Circle"===a)n=2===this.sketchCoords_.length;else if("LineString"===a)i=!e&&this.sketchCoords_.length>this.minPoints_;else if("Polygon"===a){const t=this.sketchCoords_;i=t[0].length>this.minPoints_,r=[t[0][0],t[0][t[0].length-2]],r=e?[t[0][0]]:[t[0][0],t[0][t[0].length-2]]}if(i){const e=this.getMap();for(let i=0,a=r.length;i<a;i++){const a=r[i],o=e.getPixelFromCoordinate(a),s=t[0]-o[0],l=t[1]-o[1],c=this.freehand_?1:this.snapTolerance_;if(n=Math.sqrt(s*s+l*l)<=c,n){this.finishCoordinate_=a;break}}}}return n}createOrUpdateSketchPoint_(t){if(this.sketchPoint_){const e=this.sketchPoint_.getGeometry();e.setCoordinates(t)}else this.sketchPoint_=new Pz["a"](new Fz["a"](t)),this.updateSketchFeatures_()}createOrUpdateCustomSketchLine_(t){this.sketchLine_||(this.sketchLine_=new Pz["a"]);const e=t.getLinearRing(0);let n=this.sketchLine_.getGeometry();n?(n.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates()),n.changed()):(n=new Dz["a"](e.getFlatCoordinates(),e.getLayout()),this.sketchLine_.setGeometry(n))}startDrawing_(t){const e=this.getMap().getView().getProjection(),n=Object(uU["b"])(this.geometryLayout_);while(t.length<n)t.push(0);this.finishCoordinate_=t,"Point"===this.mode_?this.sketchCoords_=t.slice():"Polygon"===this.mode_?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Pz["a"](new Dz["a"](this.sketchLineCoords_)));const i=this.geometryFunction_(this.sketchCoords_,void 0,e);this.sketchFeature_=new Pz["a"],this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(i),this.updateSketchFeatures_(),this.dispatchEvent(new TU(MU.DRAWSTART,this.sketchFeature_))}modifyDrawing_(t){const e=this.getMap(),n=this.sketchFeature_.getGeometry(),i=e.getView().getProjection(),r=Object(uU["b"])(this.geometryLayout_);let a,o;while(t.length<r)t.push(0);if("Point"===this.mode_?o=this.sketchCoords_:"Polygon"===this.mode_?(a=this.sketchCoords_[0],o=a[a.length-1],this.atFinish_(e.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):(a=this.sketchCoords_,o=a[a.length-1]),o[0]=t[0],o[1]=t[1],this.geometryFunction_(this.sketchCoords_,n,i),this.sketchPoint_){const e=this.sketchPoint_.getGeometry();e.setCoordinates(t)}if("Polygon"===n.getType()&&"Polygon"!==this.mode_)this.createOrUpdateCustomSketchLine_(n);else if(this.sketchLineCoords_){const t=this.sketchLine_.getGeometry();t.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()}addToDrawing_(t){const e=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection();let i,r;const a=this.mode_;"LineString"===a||"Circle"===a?(this.finishCoordinate_=t.slice(),r=this.sketchCoords_,r.length>=this.maxPoints_&&(this.freehand_?r.pop():i=!0),r.push(t.slice()),this.geometryFunction_(r,e,n)):"Polygon"===a&&(r=this.sketchCoords_[0],r.length>=this.maxPoints_&&(this.freehand_?r.pop():i=!0),r.push(t.slice()),i&&(this.finishCoordinate_=r[0]),this.geometryFunction_(this.sketchCoords_,e,n)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),i&&this.finishDrawing()}removeLastPoints_(t){if(!this.sketchFeature_)return;const e=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),i=this.mode_;for(let r=0;r<t;++r){let t;if("LineString"===i||"Circle"===i){if(t=this.sketchCoords_,t.splice(-2,1),t.length>=2){this.finishCoordinate_=t[t.length-2].slice();const e=this.finishCoordinate_.slice();t[t.length-1]=e,this.createOrUpdateSketchPoint_(e)}this.geometryFunction_(t,e,n),"Polygon"===e.getType()&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(e)}else if("Polygon"===i){t=this.sketchCoords_[0],t.splice(-2,1);const i=this.sketchLine_.getGeometry();if(t.length>=2){const e=t[t.length-2].slice();t[t.length-1]=e,this.createOrUpdateSketchPoint_(e)}i.setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e,n)}if(1===t.length){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){const t=this.abortDrawing_();if(!t)return;let e=this.sketchCoords_;const n=t.getGeometry(),i=this.getMap().getView().getProjection();"LineString"===this.mode_?(e.pop(),this.geometryFunction_(e,n,i)):"Polygon"===this.mode_&&(e[0].pop(),this.geometryFunction_(e,n,i),e=n.getCoordinates()),"MultiPoint"===this.type_?t.setGeometry(new _U["a"]([e])):"MultiLineString"===this.type_?t.setGeometry(new xU["a"]([e])):"MultiPolygon"===this.type_&&t.setGeometry(new wU["a"]([e])),this.dispatchEvent(new TU(MU.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}abortDrawing_(){this.finishCoordinate_=null;const t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),t}abortDrawing(){const t=this.abortDrawing_();t&&this.dispatchEvent(new TU(MU.DRAWABORT,t))}appendCoordinates(t){const e=this.mode_,n=!this.sketchFeature_;let i;if(n&&this.startDrawing_(t[0]),"LineString"===e||"Circle"===e)i=this.sketchCoords_;else{if("Polygon"!==e)return;i=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}n&&i.shift(),i.pop();for(let a=0;a<t.length;a++)this.addToDrawing_(t[a]);const r=t[t.length-1];this.addToDrawing_(r),this.modifyDrawing_(r)}extend(t){const e=t.getGeometry(),n=e;this.sketchFeature_=t,this.sketchCoords_=n.getCoordinates();const i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.sketchPoint_=new Pz["a"](new Fz["a"](i)),this.updateSketchFeatures_(),this.dispatchEvent(new TU(MU.DRAWSTART,this.sketchFeature_))}updateSketchFeatures_(){const t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);const e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)}updateState_(){const t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing(),this.overlay_.setMap(e?t:null)}}function GU(){const t=Object(Az["b"])();return function(e,n){return t[e.getGeometry().getType()]}}function zU(t){switch(t){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+t)}}var UU=VU,HU=n("ce2c"),WU=n("790a");class YU{constructor(){this.measureStyle=this.createMeasureStyle()}createMeasureStyle(){return new Az["c"]({fill:new Rz["a"]({color:"rgba(255, 255, 255, 0.2)"}),stroke:new Nz["a"]({color:"#ff5500",width:3}),image:new HU["a"]({radius:7,fill:new Rz["a"]({color:"#ff5500"})})})}}const{measureStyle:XU}=new YU;function qU(t,e=JU()){try{let n=e.getControls().getArray().filter(e=>e.get("controlId")==t)[0];if(n)throw new Error("Scale already exists");{let n=new sU["a"];n.set("controlId",t),e.addControl(n)}}catch(n){}}const ZU=new Object({measureTooltipElement:null,measureTooltip:null}),QU=new Object({formatLength:null,createMeasureTooltip:null});function JU(){return yV["a"].getters["mapModule/data"]("map")}QU.formatLength=function(t){let e,n=Object(WU["b"])(t);return e=(n/1852).toFixed(2)+" 海里",e},QU.createMeasureTooltip=function(t){ZU.measureTooltipElement&&ZU.measureTooltipElement.parentNode.removeChild(ZU.measureTooltipElement),ZU.measureTooltipElement=document.createElement("div"),ZU.measureTooltipElement.className="ol-tooltip ol-tooltip-measure",ZU.measureTooltip=new cU["a"]({element:ZU.measureTooltipElement,offset:[0,-15],positioning:"bottom-center"}),t.addOverlay(ZU.measureTooltip)};var KU=n("6cbf");n("6b45");function $U(t){return new qB["a"]({cacheSize:256,tileUrlFunction:function(e){if(!e)return"";var n=e[0],i=Math.abs(e[1]),r=-e[2]-1;r+=Math.pow(2,n);var a,o,s=Math.pow(2,Math.ceil(n/2)-1),l=Math.pow(2,n),c=l/s,u=parseInt(i/c),h=parseInt(r/c),d=tH(2,n),p="0_0";return p=n<=5?u+"_"+h:n>=6&&n<=11?tH(2,u)+"_"+tH(2,h):n>=12&&n<=17?tH(3,u)+"_"+tH(3,h):tH(4,u)+"_"+tH(4,h),n<=5?(a=tH(2,i),o=tH(2,r)):n>=6&&n<=11?(a=tH(100==i||1e3==i?5:4,i),o=tH(100==r||1e3==r?5:4,r)):n>=12&&n<=17?(a=tH(100==i||1e3==i||1e4==i||1e5==i?7:6,i),o=tH(100==r||1e3==r||1e4==i||1e5==i?7:6,r)):(a=tH(100==i||1e3==i||1e4==i||1e5==i||1e6==i||1e7==i?9:8,i),o=tH(100==r||1e3==r||1e4==i||1e5==i||1e6==i||1e7==i?9:8,r)),t+d+"/"+p+"/"+a+"_"+o+".png"}})}function tH(t,e){return(new Array(t).join("0")+e).slice(-t)}const eH=new XB["a"]({source:$U("https://cloudwx.intertion.cn/haitu02/fao/EPSG_900913_"),zIndex:2}),nH=new XB["a"]({source:$U("https://cloudwx.intertion.cn/haitu02/spr/EPSG_900913_"),zIndex:2}),iH=new XB["a"]({source:$U("https://cloudwx.intertion.cn/haitu02/npfc/EPSG_900913_"),zIndex:2}),rH=new XB["a"]({source:new qB["a"]({crossOrigin:"anonymous",url:"https://cloudwx.intertion.cn/haitu01/geoserver/gwc/service/wmts?v=1&layer=yyyy:tb_eez_12nm&style&tilematrixset=EPSG:900913&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image/png&TileMatrix=EPSG:900913:{z}&TileCol={x}&TileRow={y}"}),zIndex:2});function aH(t,e=!0,n=oH()){let i=Mz(t);if(i&&n.removeLayer(i),e)switch(t){case"199":eH.set("layerId",t),n.addLayer(eH);break;case"201":nH.set("layerId",t),n.addLayer(nH);break;case"202":iH.set("layerId",t),n.addLayer(iH);break;case"197":rH.set("layerId",t),n.addLayer(rH);break;default:break}}function oH(){return yV["a"].getters["mapModule/data"]("map")}class sH{constructor(){this.map=null,this.measureVar={sketch:null,continuePolygonMsg:"点击开始绘制面",continueCircleMsg:"单击结束电子方位"},this.style=new Az["c"]({fill:new Rz["a"]({color:[50,80,161,.2]}),stroke:new Nz["a"]({color:[50,80,161],width:1})}),this.mapElement={},this.mapOverLay={},this.measureinteraction=void 0,this.measureId="",this.measureinit=this.measureinit.bind(this),this.pointMove=null}createMeasureTip(){this.mapElement.measureTip=document.createElement("div"),this.mapElement.measureTip.className="measuretooltip tooltip-measure",this.mapOverLay.measureTip=new cU["a"]({id:"tip_"+this.measureId,element:this.mapElement.measureTip,offset:[50,30],positioning:"bottom-center"}),this.map.addOverlay(this.mapOverLay.measureTip)}measureMoveHandler(t){if(t.dragging)return;let e="点击开始测量";if(this.tooltipCoord=t.coordinate,this.measureVar.sketch){let t;var n=this.measureVar.sketch.getGeometry();n instanceof fU&&(t=this.formatAzimuth(n),e=this.measureVar.continueCircleMsg),this.showMeasureResult(t,this.tooltipCoord)}this.showMeasureHelp(e,t.coordinate)}showMeasureHelp(t,e){this.mapElement.measureTip.innerHTML=t,this.mapOverLay.measureTip.setPosition(e)}formatAzimuth(t){let e=t.getCenter(),n=this.tooltipCoord,i=e[0],r=e[1],a=n[0],o=n[1],s=a-i,l=o-r,c=Math.atan(l/s);c=180*c/Math.PI;let u=0;s>0?u=90-c:s<0?u=270-c:0==s&&l<0&&(u=180),u=parseFloat(u).toFixed(4),e=Object(UB["o"])(e),n=Object(UB["o"])(n);let h=Object(WU["a"])(e,n);h=Math.round(h/1e3*100)/100*.5399568,h=parseFloat(h).toFixed(2);let d="距离:"+h+"海里<br/>方位:"+u+`°<a class='${"closeCircle"+this.measureId}' style='cursor:pointer'>✖</a>`;return d}closeMeasure(){this.map.removeLayer(Mz(this.measureId)),this.map.removeOverlay(this.map.getOverlayById("mo_"+this.measureId)),this.map.removeOverlay(this.map.getOverlayById("mo1_"+this.measureId)),this.map.removeOverlay(this.map.getOverlayById("mo2_"+this.measureId))}showMeasureResult(t,e){let n=this.transTo4326(e);-180<n[0]<180?(this.mapElement.measureTooltipElement.innerHTML=t,this.mapOverLay.measureTooltip.setPosition(e),this.mapElement.measureTooltipElement1.innerHTML=t,this.mapOverLay.measureTooltip1.setPosition(this.transTo3857([n[0]+360,n[1]])),this.mapElement.measureTooltipElement2.innerHTML=t,this.mapOverLay.measureTooltip2.setPosition(this.transTo3857([n[0]-360,n[1]]))):n[0]<=-180?(this.mapElement.measureTooltipElement.innerHTML=t,this.mapOverLay.measureTooltip.setPosition(e),this.mapElement.measureTooltipElement1.innerHTML=t,this.mapOverLay.measureTooltip1.setPosition(this.transTo3857([n[0]+360,n[1]])),this.mapElement.measureTooltipElement2.innerHTML=t,this.mapOverLay.measureTooltip2.setPosition(this.transTo3857([n[0]+720,n[1]]))):n[0]>=180&&(this.mapElement.measureTooltipElement.innerHTML=t,this.mapOverLay.measureTooltip.setPosition(e),this.mapElement.measureTooltipElement1.innerHTML=t,this.mapOverLay.measureTooltip1.setPosition(this.transTo3857([n[0]-360,n[1]])),this.mapElement.measureTooltipElement2.innerHTML=t,this.mapOverLay.measureTooltip2.setPosition(this.transTo3857([n[0]-720,n[1]])))}addMeasureinteraction(t,e){this.addCircleLayer(e),this.measureinteraction=this.addDrawLayer(t),this.measureinteraction.on("drawstart",t=>this.measureStart(t,this)),this.measureinteraction.on("drawend",t=>this.measureEnd(t,this)),e.addInteraction(this.measureinteraction)}addCircleLayer(t){let e=new Vz["a"]({source:new tV["a"],style:new Az["c"]({fill:new Rz["a"]({color:[50,80,161,.2]}),stroke:new Nz["a"]({color:[50,80,161],width:1})}),layerId:this.measureId,zIndex:99});t.addLayer(e)}addDrawLayer(t){let e=new UU({source:new tV["a"],type:t,style:this.style});return e.set("layerId",this.measureId),e}measureStart(t,e){this.createMeasureOverlay(e.measureId),this.measureVar.sketch=t.feature}___uuid(){var t=[],e="0123456789abcdef";for(let i=0;i<36;i++)t[i]=e.substr(Math.floor(16*Math.random()),1);t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="";var n=t.join("");return n}measureEnd(t){this.mapElement.measureTooltipElement.className="measuretooltip tooltip-static",this.mapOverLay.measureTooltip.setOffset([0,-7]),this.mapElement.measureTooltipElement1.className="measuretooltip tooltip-static",this.mapOverLay.measureTooltip1.setOffset([0,-7]),this.mapElement.measureTooltipElement2.className="measuretooltip tooltip-static",this.mapOverLay.measureTooltip2.setOffset([0,-7]);let e=t.feature.getGeometry();if(document.querySelectorAll("."+("closeCircle"+this.measureId)).forEach(t=>{t.onclick=function(){this.closeMeasure()}.bind(this)}),e instanceof fU){let n=e.getCenter(),i=new Dz["a"]([n,this.tooltipCoord]),r=new Pz["a"]({geometry:i});r.setStyle(this.style),r.setId("mr_"+this.measureId),Mz(this.measureId).getSource().addFeature(r),Mz(this.measureId).getSource().addFeature(t.feature)}t.feature.setId("m_"+this.measureId),this.measureVar.sketch=null,this.measureinit(this.map),this.map.removeOverlay(this.map.getOverlayById("tip_"+this.measureId))}createMeasureOverlay(t){this.mapElement.measureTooltipElement=document.createElement("div"),this.mapElement.measureTooltipElement.className="measuretooltip tooltip-measure",this.mapOverLay.measureTooltip=new cU["a"]({id:"mo_"+t,element:this.mapElement.measureTooltipElement,offset:[0,-15],positioning:"bottom-center"}),this.map.addOverlay(this.mapOverLay.measureTooltip),this.mapElement.measureTooltipElement1=document.createElement("div"),this.mapElement.measureTooltipElement1.className="measuretooltip tooltip-measure",this.mapOverLay.measureTooltip1=new cU["a"]({id:"mo1_"+t,element:this.mapElement.measureTooltipElement1,offset:[0,-15],positioning:"bottom-center"}),this.map.addOverlay(this.mapOverLay.measureTooltip1),this.mapElement.measureTooltipElement2=document.createElement("div"),this.mapElement.measureTooltipElement2.className="measuretooltip tooltip-measure",this.mapOverLay.measureTooltip2=new cU["a"]({id:"mo2_"+t,element:this.mapElement.measureTooltipElement2,offset:[0,-15],positioning:"bottom-center"}),this.map.addOverlay(this.mapOverLay.measureTooltip2)}measureinit(){var t,e;this.pointMove&&this.map.un("pointermove",this.pointMove),this.removeDrawLayer(),null===(t=this.mapOverLay)||void 0===t||null===(e=t.measureHelpTooltip)||void 0===e||e.setPosition(void 0)}removeDrawLayer(){let t=this.map.getInteractions().getArray().filter(t=>t.get("layerId")===this.measureId);t.length>0&&this.map.removeInteraction(t[0])}transTo4326(t){return Object(UB["s"])(t,"EPSG:3857","EPSG:4326")}transTo3857(t){return Object(UB["s"])(t,"EPSG:4326","EPSG:3857")}startDirection(t=lH()){this.map=t,this.measureinit(t),this.measureId=this.___uuid(),this.createMeasureTip(),this.pointMove=this.measureMoveHandler.bind(this),this.map.on("pointermove",this.pointMove),this.addMeasureinteraction("Circle",t)}}function lH(){return yV["a"].getters["mapModule/data"]("map")}var cH=sH,uH=(n("0fb7"),n("450d"),n("f529")),hH=n.n(uH),dH=n("eeb9");Object({NODE_ENV:"production",VUE_APP_BASEURL:"https://springcloud.intertion.cn",VUE_APP_CURRENTMODE:"prod",VUE_APP_IMG_URL:"https://cloudwx.intertion.cn/bills",VUE_APP_Minio_IMG_URL:"https://minio.fisheryvms.com/",VUE_APP_SERVER_Webscoket:"wss://springcloud.intertion.cn",VUE_APP_SOCKET_URL:"wss://springcloud.intertion.cn/shipCameraService/webCamera",BASE_URL:""}).VUE_APP_SERVER_URL;function pH(){return new Promise((t,e)=>{Object(dH["a"])({url:"/interface/org/getOrgCode",method:"GET"}).then(n=>{n?t(n):(e("获取orgcode失败"),hH.a.error("获取orgcode失败"))}).catch(()=>{e("获取orgcode失败"),hH.a.error("获取orgcode失败")})})}function fH(){return new Promise((t,e)=>{Object(dH["a"])({url:"/fishingSeachartService/posCurrent/selectType",method:"GET"}).then(n=>{n?t(n):(e("获取船舶类型失败"),hH.a.error("获取船舶类型失败"))}).catch(()=>{e("获取船舶类型失败"),hH.a.error("获取船舶类型失败")})})}function gH(){return new Promise((t,e)=>{Object(dH["a"])({url:"/shipTube/tbUserBorder/selectUserBorder ",method:"GET"}).then(n=>{n?t(n):e("用户配置区域线获取失败")}).catch(()=>{e("用户配置区域线获取失败")})})}var mH=n("2f62"),vH=n("020f"),yH=n("2ce2");const bH=new Object({3:"平台",6:"卫星报位",9:"AIS"}),xH=(t,e,n)=>{var i,r;let a=yV["a"].state.shipModule.shipCheckedInfo,o=Object(UB["s"])([t.lon,t.lat],"EPSG:4326","EPSG:3857");var s=new Fz["a"](o);let l=new Pz["a"]({geometry:s,type:e,co:t.co?Math.PI/180*t.co:0,lon:t.lon,lat:t.lat,sp:t.sp?t.sp:0,tp:bH[t.tp],tpOriginal:t.tp,name:t.name?t.name:t.nameEn?t.nameEn:"",pt:t.pt,mmsi:t.mmsi,id:t.sid,imo:t.imo,callsign:t.callsign?t.callsign:"",length:t.length?t.length:"",width:t.width?t.width:"",shapeType:SH(t.sp,t.status,t.valueChs,e,t.company),company:null!==(i=t.company)&&void 0!==i?i:"0",isFocus:null!==(r=t.isFocus)&&void 0!==r?r:"0",color:n,visible:wH(e,t.sid)?"hide":"show",ct:t.ct,so:t.so,valueChs:t.valueChs,cName:t.cName});return l.setId(t.sid),"shipRound"===e&&l.set("rid",t.rid),"shipOther"===e&&l.set("isPos",t.isPos),l.set("geom",s),a.id===t.sid&&(BH({id:"clickKuang",coor:l.getGeometry().getCoordinates()},!0),yV["a"].commit("shipModule/changeShipInfoShow",!0),yV["a"].commit("shipModule/setShipCheckedInfo",l.values_)),l};function _H(t,e,n,i,r,a,o=20,s=AH()){let l=CH(t,i,o,s),c=[];a&&l.getSource().clear();for(let u=0;u<n.length;u++)OH(l,n[u])&&c.push(xH(n[u],e,r,l.getSource()));l.getSource().addFeatures(c)}const wH=(t,e)=>{let n=yV["a"].state.shipModule.shipGroupHideList,i=yV["a"].state.shipModule.shipRoundHideList,r=yV["a"].state.shipModule.shipFocusHideList;switch(t){case"shipGroup":return n.includes(e);case"shipLose":return n.includes(e);case"shipFocus":return r.includes(e);case"shipRound":return r.includes(e)||i.includes(e);default:return!1}},SH=(t,e,n,i,r)=>{let a=[];return 0===t?a.push(0):t>0&&t<5?a.push(1):t>5&&t<10?a.push(2):a.push(3),"shipGroup"===i||"shipLose"===i||"shipCrash"===i&&"1"===r?"1"===e?"渔货船"===n?a.push(2):a.push(1):a.push(0):"渔船"===n?a.push(4):a.push(0),a.join("-")},OH=(t,e)=>{let n=t.getSource().getFeatureById(e.sid);if(n){const i=new Date(n.get("pt")).getTime(),r=new Date(e.pt).getTime();return!(i>=r)&&(t.getSource().removeFeature(n),!0)}return!0},CH=(t,e,n,i=AH())=>{let r=Mz(t,i);if(r)return r;{let r=new Cz({style:e,source:new tV["a"]({wrapX:!0}),layerId:t,zIndex:n});return i.addLayer(r),r}};function AH(){return yV["a"].getters["mapModule/data"]("map")}var MH=["match",["get","shapeType"],"0-0",[0,0,.2,.185],"1-0",[.2,0,.4,.185],"2-0",[.4,0,.6,.185],"3-0",[.6,0,.8,.185],"0-1",[0,.18,.2,.385],"1-1",[.2,.18,.4,.385],"2-1",[.4,.18,.6,.385],"3-1",[.6,.18,.8,.385],"0-2",[0,.4,.2,.6],"1-2",[.2,.4,.4,.6],"2-2",[.4,.4,.6,.6],"3-2",[.6,.4,.8,.6],"0-3",[0,.6,.2,.8],"1-3",[.2,.6,.4,.8],"2-3",[.4,.6,.6,.8],"3-3",[.6,.6,.8,.8],"0-4",[0,.81,.2,1],"1-4",[.2,.81,.4,1],"2-4",[.4,.81,.6,1],"3-4",[.6,.81,.8,1],[0,0,.2,.2]];const TH={variables:{filterShape:"show"},filter:["any",["==",["var","filterShape"],["get","visible"]],["==",["var","filterShape"],["get","visible"]]],symbol:{symbolType:"image",src:n("3820"),rotation:["get","co"],size:[14,28],color:["match",["get","color"],"3","rgba(163, 16, 255,0.9)","4","rgba(90, 90, 90,0.9)","5","red","6","rgba(28, 214, 108,0.9)","8","rgba(255, 165, 0,0.9)","9","rgba(85, 150, 92,0.9)","rgba(24, 52, 91,0.8)"],rotateWithView:!1,textureCoord:MH}},kH={symbol:{symbolType:"image",rotation:["get","co"],src:n("e537"),size:[13,27],rotateWithView:!1,textureCoord:MH}},LH={symbol:{symbolType:"image",rotation:["get","co"],src:n("7fc2"),size:[7,16],rotateWithView:!1}};var jH=n("4e2b"),IH=n.n(jH);let EH=null,PH=void 0;class RH{constructor(){this.mouseMoveed=this.mouseMoveed.bind(this)}mouseMoveed(t,e=DH()){document.getElementById(t).style.display="inline-block";let n=new cU["a"]({element:document.getElementById(t),id:"popupMessage",positioning:"bottom-center"});e.addOverlay(n),_H("shipFindLayer","shipFind",[],kH,"0",!0,12),e.on("pointermove",t=>{let e=t.target;n.setPosition(null),clearTimeout(EH),t.dragging||e.getView().getInteracting()||e.getView().getAnimating()||(yV["a"].commit("shipModule/setMouseHoverInfo",{}),Mz("shipFindLayer").getSource().clear(),EH=setTimeout(()=>{let i=e.getView().calculateExtent(e.getSize()),r=e.getFeaturesAtPixel(t.pixel).filter(t=>{let e=t.get("type");if("shipGroup"===e||"shipRound"===e||"shipCrash"===e||"shipFocus"===e||"shipDistance"===e||"Buoy"===e||"historyPoint"===e||"Escort"===e||"Pirate"===e||"Typhoon"===e||"historyWeather"===e){let e=t.clone(),n=t.clone(),r=e.getGeometry().getCoordinates(),a=n.getGeometry().getCoordinates();return e.getGeometry().setCoordinates([r[0]-40075016,r[1]]),n.getGeometry().setCoordinates([a[0]+40075016,a[1]]),t.getGeometry().intersectsExtent(i)||n.getGeometry().intersectsExtent(i)||e.getGeometry().intersectsExtent(i)}return!1});if(r.length>0){let e=r[0].get("type");if("shipGroup"===e||"shipRound"===e||"shipCrash"===e||"shipFocus"===e||"shipDistance"===e||"Buoy"===e||"historyPoint"===e||"Escort"===e||"Pirate"===e||"Typhoon"===e||"historyWeather"===e){if("shipDistance"!=e&&"Buoy"!=e&&"historyPoint"!=e&&"Escort"!=e&&"Pirate"!=e&&"Typhoon"!=e&&"historyWeather"!=e){let t=r[0].clone();PH=r[0].getId(),t.setId(PH),t.set("typeX","shipFind"),Mz("shipFindLayer").getSource().addFeature(t)}yV["a"].commit("shipModule/setMouseHoverInfo",r[0].values_),n.setPosition(t.coordinate),n.setOffset([0,-20])}}},300))})}mouseClick(t,e=DH()){let n=new yH["a"]({});n.on("select",i=>{let r=e.getView().calculateExtent(e.getSize()),a=e.getFeaturesAtPixel(i.mapBrowserEvent.pixel).filter(t=>{let e=t.get("type");if("shipGroup"===e||"shipRound"===e||"shipCrash"===e||"shipFocus"===e||"shipDistance"===e||"Buoy"===e||"shipOther"===e){let e=t.clone(),n=t.clone(),i=e.getGeometry().getCoordinates(),a=n.getGeometry().getCoordinates();return e.getGeometry().setCoordinates([i[0]-40075016,i[1]]),n.getGeometry().setCoordinates([a[0]+40075016,a[1]]),t.getGeometry().intersectsExtent(r)||n.getGeometry().intersectsExtent(r)||e.getGeometry().intersectsExtent(r)}return!1});if(a.length>0){a[0].getGeometry().intersectsExtent(r),n.getFeatures().clear();let i=a[0];i&&t(i,e)}}),e.addInteraction(n)}selectKuang(t,e=!0,n=DH()){if(!t)return;let i=Mz("KuangLayer",n);if(!i){let t=new Az["c"]({image:new KU["a"]({anchor:[.5,.5],src:IH.a})});i=Tz("KuangLayer",20,t),n.addLayer(i)}e&&i.getSource().clear();let r=t instanceof Pz["a"]?t.getId():t.id,a=i.getSource().getFeatureById(r);if(a&&i.getSource().removeFeature(a),t instanceof Pz["a"])i.getSource().addFeature(t);else{let e=new Fz["a"](t.coor),n=new Pz["a"]({geometry:e,geom:e});n.setId(t.id),i.getSource().addFeature(n)}}listenMousePosition(t,e,n=DH()){try{let i=n.getControls().getArray().filter(e=>e.get("controlId")==t)[0];if(i)throw new Error("The control was not found");{let i=new vH["a"]({target:document.getElementById(e),coordinateFormat:function(t){let n=document.getElementById(e),i=Object(UB["s"])(t,"EPSG:3857","EPSG:4326");while(i[0]<-180)i[0]=i[0]+360;while(i[0]>180)i[0]=i[0]-360;let r=aU(i[0],"lon","String"),a=aU(i[1],"lat","String");return n.innerHTML=a+"<br/>"+r,""},projection:"EPSG:3857"});i.set("controlId",t),n.addControl(i)}}catch(i){}}}function DH(){return yV["a"].getters["mapModule/data"]("map")}const{mouseMoveed:FH,mouseClick:NH,selectKuang:BH,listenMousePosition:VH}=new RH;var GH=n("d212"),zH=n.n(GH),UH=n("da4b"),HH=n.n(UH);function WH(t){return new Az["c"]({stroke:new Nz["a"]({color:t,width:2})})}function YH(t,e,n){return new Az["c"]({text:new Bz["a"]({textAlign:"left",font:"10px Microsoft YaHei",fill:new Rz["a"]({color:"rgba(90,90,90,0.9)"}),backgroundFill:new Rz["a"]({color:"rgba(255,255,255,0.8)"}),textBaseline:"bottom",offsetX:n.offsetX||0,offsetY:n.offsetY||0,text:n.canDraw?e:""})})}function XH(){return new Az["c"]({image:new KU["a"]({src:zH.a,anchor:[.5,1]})})}function qH(){return new Az["c"]({image:new KU["a"]({src:HH.a,anchor:[.5,1]})})}function ZH(){return new Az["c"]({fill:new Rz["a"]({color:"red"}),stroke:new Nz["a"]({color:"red",width:1})})}const QH={symbol:{symbolType:"image",rotation:["get","co"],src:n("dacc"),size:12,rotateWithView:!1,textureCoord:["match",["get","tp"],3,[0,0,.25,1],5,[.25,0,.5,1],6,[.25,0,.5,1],9,[.5,0,.75,1],[.78,0,1,1]]}},JH={symbol:{symbolType:"image",rotation:["get","co"],src:n("98d4"),size:[10,8],offset:[-.5,-.5],color:["match",["get","color"],"rgb(163, 16, 255)","rgb(163, 16, 255)","rgb(255,0,0)","rgb(255,0,0)","rgba(0, 0, 255, 0.7)","rgba(0, 0, 255, 0.7)","rgb(255, 220, 0)","rgb(255, 220, 0)","black","black","black"],rotateWithView:!1}};function KH(t,e,n,i,r,a){if(a)return t;let o=[];if(0===t.length)return o;let s=t[0];o.push(s);let l=Object(UB["s"])([Number(s.lon/60/1e4),Number(s.lat/60/1e4)],"EPSG:4326","EPSG:3857");for(let c=1;c<=t.length-2;c++){let e=t[c],a=Object(UB["s"])([Number(e.lon/60/1e4),Number(e.lat/60/1e4)],"EPSG:4326","EPSG:3857"),s=n.getPixelFromCoordinate(a),u=n.getPixelFromCoordinate(l);if(Math.abs(s[0]-u[0])>i||Math.abs(s[1]-u[1])>i)o.push(e),l=a;else{let n=l,i=a,s=[Number(t[c+1].lon/60/1e4),Number(t[c+1].lat/60/1e4)],u=Object(UB["s"])(s,"EPSG:4326","EPSG:3857"),h=i[0]-n[0],d=i[1]-n[1],p=Math.atan2(d,h),f=u[0]-i[0],g=u[1]-i[1],m=Math.atan2(g,f),v=Math.abs(m-p),y=180/Math.PI*v;y>r&&(o.push(e),l=a)}}return o.push(t[t.length-1]),o}class $H{constructor(t){this.screenText=t,this.height=-10,this.currentText={},this.hasLable=!1}calcText(t,e,n){let i={},r={};r.left=parseInt((t.left+10)/30),r.length=parseInt(e.width/30)+1,r.top=parseInt((t.top-10)/30),this.hasLable=!1,this.currentText={};for(let a=r.left;a<r.left+r.length;a++){let e=(t.top-10)%30===0,{o1:i,o2:o}=this.isExist(e,a,r,n);if(i&&i!==n||!e&&o&&o!==n){this.hasLable=!0;break}}if(!this.hasLable)return i.canDraw=!0,i.offsetX=10,i.offsetY=-10,Object.assign(this.screenText,this.currentText),i;r.top=parseInt((t.top+20)/30),this.hasLable=!1,this.currentText={};for(let a=r.left;a<r.left+r.length;a++){let e=(t.top+20)%30===0,{o1:i,o2:o}=this.isExist(e,a,r,n);if(i&&i!==n||!e&&o&&o!==n){this.hasLable=!0;break}}if(!this.hasLable)return i.canDraw=!0,i.offsetX=10,i.offsetY=20,Object.assign(this.screenText,this.currentText),i;r.left=parseInt((t.left-e.width-10)/30),r.top=parseInt((t.top-10)/30),this.hasLable=!1,this.currentText={};for(let a=r.left;a<r.left+r.length;a++){let e=(t.top-10)%30===0,{o1:i,o2:o}=this.isExist(e,a,r,n);if(i&&i!==n||!e&&o&&o!==n){this.hasLable=!0;break}}if(!this.hasLable)return i.canDraw=!0,i.offsetX=-e.width-10,i.offsetY=-10,Object.assign(this.screenText,this.currentText),i;r.left=parseInt((t.left-e.width-10)/30),r.top=parseInt((t.top+20)/30),this.hasLable=!1,this.currentText={};for(let a=r.left;a<r.left+r.length;a++){let e=(t.top+20)%30===0,{o1:i,o2:o}=this.isExist(e,a,r,n);if(i&&i!==n||!e&&o&&o!==n){this.hasLable=!0;break}}return this.hasLable||(i.canDraw=!0,i.offsetX=-e.width-10,i.offsetY=20,Object.assign(this.screenText,this.currentText)),i}isExist(t,e,n,i){let r=this.screenText[e+"-"+n.top],a=void 0;return t||(a=this.screenText[e+"-"+(n.top+1)]),this.currentText[e+"-"+n.top]=i,t||(this.currentText[e+"-"+(n.top+1)]=i),{o1:r,o2:a}}}function tW(t,e){let n=new $H({}),i=Mz(t).getSource(),r=e.getView().calculateExtent(e.getSize()),a=Object(UB["t"])(r,"EPSG:3857","EPSG:4326"),o=i.getFeatureById("line"),s=i.getFeatureById("start");if(s){let l=s.get("lineColor"),c=i.getFeatureById("end");r=Object(UB["t"])(a,"EPSG:4326","EPSG:3857"),i.clear(),i.addFeature(o),i.addFeature(s),i.addFeature(c);let u=Mz(t+"webgl").getSource().getFeaturesInExtent(r,e.getView().getProjection());u.forEach((t,r)=>{let a={},o=e.getPixelFromCoordinate(t.getGeometry().getCoordinates());a.left=Math.round(o[0]),a.top=Math.round(o[1]);let s=n.calcText(a,{width:100,height:20},t.get("time")),c=[];if(s.offsetX>0&&(c[0]=o[0]+10,c[1]=s.offsetY>0?o[1]+10:o[1]-10),s.offsetX<0&&(c[0]=o[0]-10,c[1]=s.offsetY>0?o[1]+10:o[1]-10),c.length>0){let n=e.getCoordinateFromPixel(c);nW(t.getGeometry().getCoordinates(),n,i),t.setStyle(YH(l,t.get("time"),s,r)),i.addFeature(t)}}),eW(t,u,e)}}function eW(t,e,n){let i=Mz(t+"arrowwebgl");if(!i)return;let r=Mz(t).getSource().getFeatureById("line");i.getSource().clear();let a=e.sort((t,e)=>Number(t.get("index"))-Number(e.get("index")));for(let o=0;o<a.length;o++){if(o===a.length-1)return;let t=a[o].get("index"),e=a[o+1].get("index");if(e-1!==t)continue;let s=a[o].getGeometry().getCoordinates(),l=a[o+1].getGeometry().getCoordinates(),c=l[0]-s[0],u=l[1]-s[1],h=Math.atan2(u,c),d=(l[0]+s[0])/2,p=(l[1]+s[1])/2,f=new Fz["a"]([d,p]),g=new Pz["a"]({geometry:f,type:"historyArow",co:-h,color:r.get("lineColor")}),m=n.getPixelFromCoordinate(s),v=n.getPixelFromCoordinate(l);(Math.abs(m[0]-v[0])>30||Math.abs(m[1]-v[1])>30)&&i.getSource().addFeature(g)}}function nW(t,e,n){let i=new Dz["a"]([t,e]),r=new Pz["a"]({geometry:i});r.setStyle(ZH),n.addFeature(r)}function iW(t){var e,n,i,r,a;null===(e=Mz("shipNameLayer"))||void 0===e||e.getSource().clear(),null===(n=Mz("shipGroupLayer"))||void 0===n||n.setVisible(t),null===(i=Mz("shipRoundLayer"))||void 0===i||i.setVisible(t),null===(r=Mz("shipLoseLayer"))||void 0===r||r.setVisible(t),null===(a=Mz("shipFocusLayer"))||void 0===a||a.setVisible(t)}class rW{constructor(t,e,n){this.historyRouteLineLayer=t,this.historyRoutePointLayer=e,this.color=n,this.screenText={}}addHistoryLine(t){const e=t=>t.map(t=>Object(UB["s"])([t[0]/60/1e4,t[1]/60/1e4],"EPSG:4326","EPSG:3857"));let n=!1,i=[],r=[];for(let a=0;a<t.length;a++){let e=t[0].lon/60/1e4,o=t[a].lon/60/1e4;e>0&&e-o>180&&a>0?(i.push(t[a]),n="add"):e<0&&e-o<-180&&a>0?(i.push(t[a]),n="sub"):r.push(t[a])}if("add"===n){let t=i.map(t=>[t.lon+216e6,t.lat]),n=r.map(t=>[t.lon,t.lat]);this.HistoryLine(e([...n,...t]),"line");let a=r.map(t=>[t.lon-216e6,t.lat]),o=i.map(t=>[t.lon,t.lat]);this.HistoryLine(e([...a,...o]),"line2")}else if("sub"===n){let t=i.map(t=>[t.lon-216e6,t.lat]),n=r.map(t=>[t.lon,t.lat]);this.HistoryLine(e([...n,...t]),"line");let a=r.map(t=>[t.lon+216e6,t.lat]),o=i.map(t=>[t.lon,t.lat]);this.HistoryLine(e([...a,...o]),"line2")}else{let e=aW(t);this.HistoryLine(e,"line")}}HistoryLine(t,e){let n=new Pz["a"]({geometry:new Dz["a"](t),lineColor:this.color});n.setId(e),n.setStyle(WH(this.color)),this.historyRouteLineLayer.getSource().addFeature(n)}addHistoryPoint(t,e,n,i){let r=new $H({}),a=n.getView().calculateExtent(n.getSize()),o=t.length>0?t[0].sid:"";for(let s=0;s<t.length;s++){let n=this.createPoint(e[s],t[s],s,a,i);(n||i)&&(0===s&&(i?this.historyRoutePointLayer.getSource().addFeature(n):(n.setStyle(XH()),n.setId("start"),n.set("lineColor",this.color),this.historyRouteLineLayer.getSource().addFeature(n))),0!==s&&s!==t.length-1&&this.historyRoutePointLayer.getSource().addFeature(n),s===t.length-1&&(i?this.historyRoutePointLayer.getSource().addFeature(n):(n.setStyle(qH),n.setId("end"),this.historyRouteLineLayer.getSource().addFeature(n))))}if(!i){let t=n.getView().calculateExtent(n.getSize()),e=Object(UB["t"])(t,"EPSG:3857","EPSG:4326");t=Object(UB["t"])(e,"EPSG:4326","EPSG:3857");let i=this.historyRoutePointLayer.getSource().getFeaturesInExtent(t,n.getView().getProjection());i.forEach((t,e)=>{let i={},a=n.getPixelFromCoordinate(t.getGeometry().getCoordinates());i.left=Math.round(a[0]),i.top=Math.round(a[1]);let o=r.calcText(i,{width:100,height:20},t.get("time")),s=[];if(o.offsetX>0&&(s[0]=a[0]+15,s[1]=o.offsetY>0?a[1]+10:a[1]-10),o.offsetX<0&&(s[0]=a[0]-15,s[1]=o.offsetY>0?a[1]+10:a[1]-10),s.length>0){let i=n.getCoordinateFromPixel(s);this.textLine(t.getGeometry().getCoordinates(),i),t.setStyle(YH(this.color,t.get("time"),o,e)),this.historyRouteLineLayer.getSource().addFeature(t)}}),eW(o,i,n)}}textLine(t,e){let n=new Dz["a"]([t,e]),i=new Pz["a"]({geometry:n});i.setStyle(ZH),this.historyRouteLineLayer.getSource().addFeature(i)}isPoint(t,e,n){let i=new Fz["a"]([e[0]-40075016,e[1]]),r=new Fz["a"]([e[0]+40075016,e[1]]);return t.intersectsExtent(n)||i.intersectsExtent(n)||r.intersectsExtent(n)}createPoint(t,e,n,i,r){let a=new Fz["a"](t);if(!this.isPoint(a,t,i)&&!r)return!1;let o=null;return o="historyWeather"===e.pointType?new Pz["a"]({geometry:a,center:t,type:"historyWeather",time:e.reportUtcTime,weatherWindSpeed:e.weatherWindSpeed,weatherTemperature:e.weatherTemperature,weatherHumidity:e.weatherHumidity,weatherAirPressure:e.weatherAirPressure,weatherWindAngleNorth:e.weatherWindAngleNorth,weatherPointTemperature:e.weatherPointTemperature,weatherAltitude:e.weatherAltitude,index:n,id:e.id,tp:9,mmsi:e.mmsi}):new Pz["a"]({geometry:a,center:t,type:"historyPoint",direction:e.co?e.co/10:0,lon:this.isCrossOcean(e)/60/1e4,lat:e.lat/60/1e4,lonStr:this.cacuLonLat(e.lon/60/1e4,"lon").join(""),latStr:this.cacuLonLat(e.lat/60/1e4,"lat").join(""),speed:e.sp?e.sp/10:0,time:e.pt,tp:e.tp,co:e.co?e.co/10:0,index:n,name:e.name}),o.set("geom",a),o.setId(t[0]+t[1]+e.pt),o}isCrossOcean(t){return"add"===t.crossOcean?t.lon-216e6:"sub"===t.crossOcean?t.lon+216e6:t.lon}cacuLonLat(t,e,n){let i=parseInt(t),r=null;"lon"===e?r=t>=0?"E":"W":"lat"===e&&(r=t>=0?"N":"S");let a=(60*(t-i)).toFixed(3);i=Math.abs(i),a=Math.abs(a);let o=[i+"°"+a+"′",r];return void 0===n?o:[i,a,r]}}function aW(t){return t.map(t=>{let e=[t.lon/60/1e4,t.lat/60/1e4];return Object(UB["s"])(e,"EPSG:4326","EPSG:3857")})}class oW{addhistoryRoute(t,e,n,i=sW(),r,a,o,s=!1){let l,c;t=JSON.parse(JSON.stringify(t)),e.getSource().clear(),n.getSource().clear(),t.points?l=KH(t.points,t.name,i,r,a,o):(l=[],c=[]);for(let h=0;h<l.length;h++)l[h].name||(l[h].name=t.name);c=aW(l);let u=new rW(e,n,t.color);u.addHistoryLine(l),u.addHistoryPoint(l,c,i,s)}}function sW(){return yV["a"].getters["mapModule/data"]("map")}const{addhistoryRoute:lW}=new oW;var cW=function(t,e,n,i=50,r=360,a,o=!1){let s=Mz(e),l=Mz(e+"webgl"),c=Mz(e+"arrowwebgl");s||(s=Tz(e,16),n.addLayer(s)),l||(l=kz(e+"webgl",17,QH),n.addLayer(l)),c||(c=kz(e+"arrowwebgl",18,JH),n.addLayer(c)),lW(t,s,l,n,i,r,a,o)},uW=function(t,e,n=!1,i=hW()){let r=i.getView().getZoom();n?cW(e,t,i,null,null,!0,n):r<=3?cW(e,t,i,60,360,!1):r>3&&r<=5?cW(e,t,i,50,300,!1):r>5&&r<=7?cW(e,t,i,40,240,!1):r>7&&r<=9?cW(e,t,i,30,180,!1):r>9&&r<=11?cW(e,t,i,20,120,!1):r>11&&r<=13?cW(e,t,i,10,60,!1):r>13&&r<=15?cW(e,t,i,10,30,!1):r>15&&r<=17&&cW(e,t,i,null,null,!0)};function hW(){return yV["a"].getters["mapModule/data"]("map")}const dW=t=>{if("WebSocket"in window)try{let e="wss://springcloud.intertion.cn",n=new WebSocket(`${e}/shipSetNewService/AisWebSocketServerOcean/${sessionStorage.getItem("orgcode")}_o_${yV["a"].state.token}`);return n.onopen=pW,n.onmessage=t,n.onerror=e=>fW(e,t),yV["a"].commit("shipModule/setShipWebScoket",n),n}catch(e){}},pW=t=>{let e=`${sessionStorage.getItem("orgcode")}_o_${yV["a"].state.token}`,n={messageType:"6",toUserId:e,allship:"1",cancelship:"[]",source:yV["a"].state.mapModule.source.toString()},i={messageType:"5",isWarning:0,source:yV["a"].state.mapModule.source.toString(),toUserId:e},r={messageType:"3",toUserId:e,allship:"1",whole:"1",cancelship:"[]",source:yV["a"].state.mapModule.source.toString()},a={messageType:"8",toUserId:e,source:yV["a"].state.mapModule.source.toString(),isFleet:!0};t.currentTarget.send(JSON.stringify(n)),t.currentTarget.send(JSON.stringify(r)),setTimeout(()=>{t.currentTarget.send(JSON.stringify(i))},1e4),setTimeout(()=>{t.currentTarget.send(JSON.stringify(a))},3e3)};function fW(t,e){setTimeout(()=>{dW(e)},1e4)}function gW(t){var e=[],n=t.get("type");return"Point"==n?e=new Az["c"]({image:new HU["a"]({fill:new Rz["a"]({color:"#409EFF"}),stroke:new Nz["a"]({color:"white",width:1}),radius:5})}):"Circle"==n?e=new Az["c"]({fill:new Rz["a"]({color:"rgba(51,153,204,0)"}),stroke:new Nz["a"]({color:"rgb(90,90,90)",width:2})}):"Line"==n&&(e=new Az["c"]({stroke:new Nz["a"]({color:"rgb(90,90,90)",width:2})})),e}function mW(t,e,n="circle",i=bW()){i.getOverlayById("circle")&&i.removeOverlay(i.getOverlayById("circle"));let r=yW(e).getSource();var a=[vW(t.lon),vW(t.lat)],o=Object(UB["s"])(a,"EPSG:4326","EPSG:3857");let s=a[0],l=a[1],c=1852*t.r,u=Object(OU["a"])([s,l],c,98),h=u.clone().transform("EPSG:4326","EPSG:3857"),d=new Pz["a"](h);d.set("type","Circle"),r.addFeature(d);let p=[];p.push(o);var f=h.getFirstCoordinate();p.push(f);let g=new Dz["a"](p),m=new Pz["a"]({geometry:g,type:"Line"});r.addFeature(m);let v=document.createElement("div"),y=document.createElement("span"),b=document.createElement("span");y.innerText=t.r+" 海里",b.innerHTML="<B style='color:red;cursor:pointer'>✖</B>",v.appendChild(y),v.appendChild(b);let x=new cU["a"]({element:v,id:n,autoPan:!0,autoPanAnimation:{duration:250},position:f});v.className="popup-circle",i.addOverlay(x);let _=b.addEventListener("click",()=>{i.removeOverlay(i.getOverlayById("circle"));let t=Mz("distanceLayer");i.removeLayer(t),t.dispose(),r.clear(),iW(!0),b.removeEventListener("click",_)})}function vW(t){t[0]=Number(t[0]),t[1]=Number(t[1]);let e=t[0]+t[1]/60;return"S"!=t[2]&&"W"!=t[2]||(e=-e),e}const yW=(t,e=bW())=>{let n=Mz(t,e);if(n)return n;{let i=new Vz["a"]({source:new tV["a"],zIndex:6,style:gW,layerId:t});return e.addLayer(i),n}};function bW(){return yV["a"].getters["mapModule/data"]("map")}function xW(t,e,n,i,r="rgba(255,255,255,0)"){let a=[],o=t.split(",");for(let h in o){let t=o[h].split(" ");a.push({lon:Number(t[0])>180?Number(t[0])-360:Number(t[0]),lat:Number(t[1])})}let s=a[0];a.map((function(t,e){e>0&&(t.lon-s.lon<-180?t.lon+=360:t.lon-s.lon>180&&(t.lon-=360))}));let l=[];a.forEach((function(t){l.push(Object(UB["e"])([Number(t.lon),Number(t.lat)]))}));let c=null;"LineString"===e?c=new Dz["a"](l):"Polygon"===e||"PolygonDash"===e?c=new OU["b"]([l]):("LineStringDash"===e||"hxLineStringDash"===e)&&(c=new Dz["a"](l));let u=new Pz["a"]({geometry:c,id:n,name:i,visible:!0});return u.setStyle(_W(e,r)),u.setId(n),u}function _W(t,e){switch(t){case"Polygon":return function(t){return new Az["c"]({stroke:new Nz["a"]({color:"#FF0000",width:1.5}),text:new Bz["a"]({font:"14px Microsoft YaHei",fill:new Rz["a"]({color:"#fff"}),text:t.get("name")}),fill:new Rz["a"]({color:e})})};case"PolygonDash":return function(t){return new Az["c"]({stroke:new Nz["a"]({color:"#FF0000",lineDash:[10,10],width:1.5}),text:new Bz["a"]({font:"14px Microsoft YaHei",fill:new Rz["a"]({color:"#fff"}),text:t.get("name")}),fill:new Rz["a"]({color:e})})};case"LineString":return function(){return new Az["c"]({stroke:new Nz["a"]({color:"#FF5454",width:2})})};case"LineStringDash":return function(t){let e=t.get("visible");return e?new Az["c"]({stroke:new Nz["a"]({color:"#FF5454",lineDash:[10,10],width:2})}):null};case"hxLineStringDash":return function(t){let e=t.get("visible");return e?new Az["c"]({stroke:new Nz["a"]({color:"#FF5454",lineDash:[10,10],width:2})}):null};default:return[]}}function wW(t,e,n,i=6,r,a,o="",s,l=OW()){if(r){let r=SW(t,i),l=r.getSource();l.addFeature(xW(n,a,t+e,o,s,t,e))}else Mz(t)||l.removeLayer(Mz(t))}function SW(t,e,n=OW()){let i=Mz(t);if(i)return i;{let i=new Vz["a"]({source:new tV["a"],zIndex:e,layerId:t});return n.addLayer(i),i}}function OW(){return yV["a"].getters["mapModule/data"]("map")}var CW=n("468b"),AW=n.n(CW),MW=n("a764"),TW=n.n(MW),kW=n("45a7"),LW=n.n(kW),jW=n("cc17"),IW=n.n(jW);function EW(t){return new Az["c"]({image:new KU["a"]({anchor:[.5,.5],src:AW.a}),text:new Bz["a"]({text:t.get("name"),font:"bold 12px serif",offsetY:20,offsetX:0,fill:new Rz["a"]({color:"#00a0e9"}),stroke:new Nz["a"]({color:"white",width:4})})})}function PW(t){return new Az["c"]({image:new KU["a"]({anchor:[.5,.5],src:"A"===t.get("Escort")?TW.a:LW.a}),text:new Bz["a"]({text:t.get("name"),font:"bold 12px serif",offsetY:20,offsetX:0,fill:new Rz["a"]({color:"#00a0e9"}),stroke:new Nz["a"]({color:"white",width:4})})})}function RW(t){return new Az["c"]({image:new KU["a"]({anchor:[.5,.5],src:IW.a}),text:new Bz["a"]({text:t.get("name"),font:"bold 12px serif",offsetY:20,offsetX:0,fill:new Rz["a"]({color:"#00a0e9"}),stroke:new Nz["a"]({color:"white",width:4})})})}function DW(t,e,n,i,r=VW()){let a=BW(i,r),o=Object(UB["s"])(t,"EPSG:4326","EPSG:3857"),s=a.getSource().getFeatureById(e);if(!s||s&&s.get("name")!=n){s&&a.getSource().removeFeature(s);let t=new Fz["a"](o),i=new Pz["a"]({geometry:t,type:"signPoint",name:n});i.setId(e),i.setStyle(EW),a.getSource().addFeature(i)}}function FW(t,e,n,i=VW()){let r=BW(e,i);r&&r.getSource().clear(),n?t.forEach((t,e)=>{t=Object(UB["s"])(t,"EPSG:4326","EPSG:3857");let n=new Fz["a"](t),i=new Pz["a"]({geometry:n,type:"Escort",Escort:0===e?"A":"B",sp:12,lon:0===e?"53°50′E":"44°12′E",lat:0===e?"14°50′N":"11°52′N",date:0===e?"02月08日0900L.T.,02月14日0900L.T.,02月20日0900L.T.,02月26日0900L.T.":"02月05日0900L.T.,02月11日0900L.T.,02月17日0900L.T.,02月23日0900L.T.,03月01日0900L.T.",name:0===e?"护航点pointA":"护航点pointB"});i.setStyle(PW),r.getSource().addFeature(i)}):i.removeLayer(r)}function NW(t,e,n,i=VW()){let r=BW(e,i);r&&r.getSource().clear(),n?t.forEach(t=>{let e=Object(UB["s"])([t.lon,t.lat],"EPSG:4326","EPSG:3857"),n=new Fz["a"](e),i=new Pz["a"]({geometry:n,type:"Pirate",time:t.signTime,lon:t.lonStr,lat:t.latStr,text:t.contenText});i.setId(t.id),i.setStyle(RW),r.getSource().addFeature(i)}):i.removeLayer(r)}function BW(t,e){let n=Mz(t);if(n)return n;{let n=new Vz["a"]({source:new tV["a"],zIndex:4,layerId:t});return e.addLayer(n),n}}function VW(){return yV["a"].getters["mapModule/data"]("map")}function GW(){return new Promise((t,e)=>{Object(dH["a"])({url:"/interface/tsUserShipFleet/selectUserFlotilla",method:"GET"}).then(n=>{n?t(n):(e("列表获取失败"),hH.a.error("列表获取失败"))}).catch(()=>{e("列表获取失败"),hH.a.error("列表获取失败")})})}function zW(){return new Promise((t,e)=>{Object(dH["a"])({url:"/interface/tsUserShipFleet/selectProjectUserFleet",method:"GET"}).then(n=>{n?t(n):(e("列表获取失败"),hH.a.error("列表获取失败"))}).catch(()=>{e("列表获取失败"),hH.a.error("列表获取失败")})})}function UW(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/interface/tsUserShipFocus/queryShipFocusTreeByUser",method:"GET",params:t}).then(t=>{t?e(t):(n("获取关注列表失败"),hH.a.error("获取关注列表失败"))}).catch(()=>{n("获取关注列表失败")})})}function HW(){return new Promise((t,e)=>{Object(dH["a"])({url:"/fishingSeachartService/seachartController/selectUserFleets",method:"POST"}).then(n=>{n?t(n):e("获取离线在线状态失败")}).catch(()=>{e("获取离线在线状态失败")})})}function WW(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/interface/tsUserShipFocus/moveShipGroup",method:"GET",params:t}).then(t=>{t?e(t):(n("移动失败"),hH.a.error("移动失败"))}).catch(()=>{n("移动失败"),hH.a.error("移动失败")})})}function YW(){return new Promise((t,e)=>{Object(dH["a"])({url:"/shipTube/tbLineGroup/list",method:"GET"}).then(n=>{n?t(n):(e("列表获取失败"),hH.a.error("列表获取失败"))}).catch(()=>{e("列表获取失败"),hH.a.error("列表获取失败")})})}function XW(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/shipTube/tbLineGroup/add",method:"POST",data:t}).then(t=>{t?e(t):n("获取航线组列表失败")}).catch(()=>{n("获取航线组列表失败")})})}function qW(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/shipTube/tbLineGroup/edit",method:"POST",data:t}).then(t=>{t?e(t):(n("修改失败"),hH.a.error("修改失败"))}).catch(()=>{n("修改失败")})})}function ZW(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/shipTube/tbLineGroup/removeById",method:"DELETE",data:t}).then(t=>{t?e(t):(n("删除航线失败"),hH.a.error("删除航线失败"))}).catch(()=>{n("删除航线失败")})})}function QW(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/shipTube/tbLine/add",method:"POST",data:t}).then(t=>{t?e(t):n("获取航线列表失败")}).catch(()=>{n("获取航线列表失败")})})}function JW(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/shipTube/tbLine/edit",method:"POST",data:t}).then(t=>{t?e(t):(n("修改失败"),hH.a.error("修改失败"))}).catch(()=>{n("修改失败")})})}function KW(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/shipTube/tbLine/removeById",method:"DELETE",data:t}).then(t=>{t?e(t):(n("删除航线失败"),hH.a.error("删除航线失败"))}).catch(()=>{n("删除航线失败")})})}Object({NODE_ENV:"production",VUE_APP_BASEURL:"https://springcloud.intertion.cn",VUE_APP_CURRENTMODE:"prod",VUE_APP_IMG_URL:"https://cloudwx.intertion.cn/bills",VUE_APP_Minio_IMG_URL:"https://minio.fisheryvms.com/",VUE_APP_SERVER_Webscoket:"wss://springcloud.intertion.cn",VUE_APP_SOCKET_URL:"wss://springcloud.intertion.cn/shipCameraService/webCamera",BASE_URL:""}).VUE_APP_SERVER_URL;function $W(){return new Promise((t,e)=>{Object(dH["a"])({url:"/fishingSeachartService/oaBuoy/selectBuoy",method:"GET"}).then(n=>{n?t(n):(e("获取浮标失败"),hH.a.error("获取浮标失败"))}).catch(()=>{e("获取浮标失败"),hH.a.error("获取浮标失败")})})}function tY(){return new Promise((t,e)=>{Object(dH["a"])({url:"/shipTube/chart/border/lists",method:"GET"}).then(n=>{n?t(n):(e("获取区域或线列表失败"),hH.a.error("获取区域或线列表失败"))}).catch(()=>{e("获取区域或线列表失败"),hH.a.error("获取区域或线列表失败")})})}function eY(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/fishingSeachartService/posShipHis/selectBorder",method:"GET",params:t}).then(t=>{t?e(t):(n("获取常见区域或线数据失败"),hH.a.error("获取常见区域或线数据失败"))}).catch(()=>{n("获取常见区域或线数据失败"),hH.a.error("获取常见区域或线数据失败")})})}function nY(){return new Promise((t,e)=>{Object(dH["a"])({url:"/fishingSeachartService/ship/shipUpload/getPointOfPirates",method:"GET"}).then(n=>{n?t(n):e("获取海盗点失败")}).catch(()=>{e("获取海盗点失败")})})}function iY(){return new Promise((t,e)=>{Object(dH["a"])({url:"/shipTube/base/rule/selectOrgBorder",method:"GET"}).then(n=>{n?t(n):(e("获取区域或线列表失败"),hH.a.error("获取区域或线列表失败"))}).catch(()=>{e("获取区域或线列表失败"),hH.a.error("获取区域或线列表失败")})})}function rY(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/shipTube/chart/border/selectOrgBorderWire",method:"GET",params:t}).then(t=>{t?e(t):(n("获取区域或线数据失败"),hH.a.error("获取区域或线数据失败"))}).catch(()=>{n("获取区域或线数据失败"),hH.a.error("获取区域或线数据失败")})})}function aY(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/shipTube/tbUserBorder/add",method:"PUT",data:t}).then(t=>{t?e(t):(n("区域线储存失败"),hH.a.error("区域线储存失败"))}).catch(()=>{n("区域线储存失败"),hH.a.error("区域线储存失败")})})}function oY(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/shipTube/tbUserBorder/removeById",method:"DELETE",data:t}).then(t=>{t?e(t):(n("关闭区域线失败"),hH.a.error("关闭区域线失败"))}).catch(()=>{n("关闭区域线失败"),hH.a.error("关闭区域线失败")})})}function sY(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/interface/chartSign/list",method:"GET",params:t}).then(t=>{t?e(t):(n("获取标记失败"),hH.a.error("获取标记失败"))}).catch(()=>{n("获取标记失败"),hH.a.error("获取标记失败")})})}function lY(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/interface/chartSign/delete",method:"DELETE",data:t}).then(t=>{t?e(t):(n("删除失败"),hH.a.error("删除失败"))}).catch(()=>{n("删除失败"),hH.a.error("删除失败")})})}function cY(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/shipTube/tbUserBorder/edit",method:"PUT",params:t}).then(t=>{t?e(t):(n("储存状态失败"),hH.a.error("储存状态失败"))}).catch(()=>{n("储存状态失败"),hH.a.error("储存状态失败")})})}var uY={data(){return{map:null,timer:null,stopAdd:!1,currentZoom:0,histoyrTimer:null,historyZoom:0,moveListen:null,historyWeatherTimer:null}},mounted(){this.map=this.newMap(),this.$nextTick(()=>{qU("ScaleLine"),this.map.on("movestart",()=>{this.stopAdd=!0,clearTimeout(this.timer)}),this.moveListen=this.map.on("moveend",t=>{t.dragging||t.map.getView().getInteracting()||t.map.getView().getAnimating()||(this.addShipName(t),this.historyListen(t),this.historyWeatherListen(t))}),NH(this.clickFilter),this.connection()})},methods:{...Object(mH["b"])("mapModule",["setMapPointer","setMap","setSource","setUserAreaLine","setHasSource","deleteSource","setShowClassify","deleteShowClassify"]),...Object(mH["b"])("shipModule",["changeShipInfoShow","setShipCheckedInfo","setTodayInfo"]),newMap(){let t=YB({layers:[JB]});return this.setMapPointer(this),t},async connection(){try{let{message:t}=await pH();sessionStorage.setItem("orgcode",t);let{message:e}=await fH();e&&(this.setSource(e.split(",")),this.setHasSource(e.split(",")));let{result:n}=await gH();if(n["aisType"]&&(this.deleteSource("clear"),n["aisType"].split(",").forEach(t=>{e.split(",").includes(t)&&this.setSource(t)})),n["classify"])this.deleteShowClassify("clear"),n["classify"].split(",").forEach(t=>{this.setShowClassify(t)});else{let t=["shipGroup","shipFocus","shipRound"];t.forEach(t=>{this.setShowClassify(t)})}this.addUserAreaLine(n),this.$refs.TopNav.addJurisdiction(),this.shipScoket=dW(this.shipHandle)}catch(t){}},judgeType(t){return"1"===t.state&&"1"===t.lineType?"Polygon":"1"===t.state&&"2"===t.lineType?"PolygonDash":"2"===t.state&&"1"===t.lineType?"LineString":"LineStringDash"},clickFilter(t){this.setTodayInfo({show:!1,data:[]});let e=t.get("type");var n;"shipGroup"===e||"shipRound"===e||"shipCrash"===e||"shipFocus"===e||"shipDistance"===e?(null===(n=Mz("shipOtherLayer"))||void 0===n||n.getSource().clear(),BH({id:"clickKuang",coor:t.getGeometry().getCoordinates()},!0),this.changeShipInfoShow(!0),this.setShipCheckedInfo(t.values_)):("shipOther"===e||"Buoy"===e)&&(BH({id:"clickKuang",coor:t.getGeometry().getCoordinates()},!0),this.changeShipInfoShow(!0),this.setShipCheckedInfo(t.values_))},historyListen(t){clearTimeout(this.histoyrTimer),this.histoyrTimer=setTimeout(()=>{for(let e in this.historyRouteList)uW(e,{points:this.historyRouteList[e].points,color:this.historyRouteList[e].color,name:this.historyRouteList[e].name},!1,t.map);this.historyZoom=t.map.getView().getZoom()},700)},historyWeatherListen(t){this.historyWeatherTimer=setTimeout(()=>{let e=this.$store.state.historyModule.historyWeatherList;"{}"!==JSON.stringify(e)&&uW(e.message.mmsi+"weather",{points:e.data,color:"blue",name:e.message.name},!1,t.map)},700)},filterTimeAndArrow(t){if(t.map.getView().getZoom()===this.historyZoom)for(let e in this.historyRouteList)this.historyRouteList[e].points.length>0&&tW(e,t.map)},addUserAreaLine(t){t["border"].forEach(t=>{t.id=t.id.toString();let e=t.id,n=t.borderName,i=JSON.parse(t.wire);if("SPRFMO"===n||"FAO Areas"===n||"NPFC"===n||"领海"===n)aH(t.id.toString(),!0);else if("EEZ"===n)nU(t.id.toString(),!0);else if("海盗警戒点"===n)nY().then(({result:t})=>{let n=JSON.parse(t.results);NW(n,e,!0)});else if("护航编队"===n){let e=[[53.5,14.5],[44.12,11.52]];FW(e,t.id.toString(),!0)}else i.forEach((i,r)=>{1===t.state?wW(e,r,i.wire,4,!0,this.judgeType("Polygon"),n,i.colour):wW(e,r,i.wire,4,!0,this.judgeType(i),n,i.colour)});this.setUserAreaLine(t)})}}};function hY(t,e=yV["a"].state.mapModule.source.toString()){let n=yV["a"].state.historyModule.historyRealRouteList,i={messageType:"6",toUserId:`${sessionStorage.getItem("orgcode")}_o_${yV["a"].state.token}`,allship:t,source:e,shiShi:Object.keys(n).toString()};vY(i)}function dY(t,e,n,i=yV["a"].state.mapModule.source.toString()){let r={messageType:"3",toUserId:`${sessionStorage.getItem("orgcode")}_o_${yV["a"].state.token}`,allship:t,whole:e,cancelship:n,source:i};vY(r)}function pY(t,e=yV["a"].state.mapModule.source.toString()){let n={messageType:"5",toUserId:`${sessionStorage.getItem("orgcode")}_o_${yV["a"].state.token}`,isWarning:t,source:e};vY(n)}function fY(t=yV["a"].state.mapModule.source.toString()){let e={messageType:"4",toUserId:`${sessionStorage.getItem("orgcode")}_o_${yV["a"].state.token}`,source:t};vY(e)}function gY(t){let e={messageType:"7",toUserId:`${sessionStorage.getItem("orgcode")}_o_${yV["a"].state.token}`,...t};vY(e)}function mY(t=!0,e=yV["a"].state.mapModule.source.toString()){let n=yV["a"].state.historyModule.historyRealRouteList,i={messageType:"8",toUserId:`${sessionStorage.getItem("orgcode")}_o_${yV["a"].state.token}`,shiShi:Object.keys(n).toString(),source:e,isFleet:t};vY(i)}function vY(t){var e,n;t=JSON.stringify(t),null===(e=yV["a"].state.shipModule)||void 0===e||null===(n=e.shipWebScoket)||void 0===n||n.send(t)}let yY=t=>new Date(t).getTime();function bY(){let t=yV["a"].state.shipModule.shipCrashList,e=yV["a"].state.shipModule.shipGroupList;for(let n in t)e[n]&&(yY(e[n].pt)>=yY(t[n].pt)?(e[n].company="1",yV["a"].commit("shipModule/setShipList",{shipCrashList:{[n]:e[n]}}),_H("shipCrashLayer","shipCrash",[e[n]],TH,"5",!1,11)):(yV["a"].commit("shipModule/setShipList",{shipGroupList:{[n]:t[n]}}),_H("shipGroupLayer","shipGroup",[t[n]],TH,"6",!1,9),fY()))}function xY(){let t=yV["a"].state.shipModule.shipCrashList,e=yV["a"].state.shipModule.shipRoundList;for(let n in t)e[n]&&(yY(e[n].pt)>=yY(t[n].pt)?(e[n].company="0",yV["a"].commit("shipModule/setShipList",{shipCrashList:{[n]:e[n]}}),_H("shipCrashLayer","shipCrash",[e[n]],TH,"5",!1,11)):(yV["a"].commit("shipModule/setShipList",{shipRoundList:{[n]:t[n]}}),_H("shipRoundLayer","shipRound",[t[n]],TH,"3",!1,7)))}function _Y(t){t.forEach(t=>{if("1"===t.company){_H("shipGroupLayer","shipGroup",[t],TH,"6",!1,9);let e=Mz("shipLoseLayer").getSource().getFeatureById(t.sid);e&&Mz("shipLoseLayer").getSource().removeFeature(e),yV["a"].commit("shipModule/setShipList",{shipGroupList:{[t.sid]:t}})}else _H("shipRoundLayer","shipRound",[t],TH,"3",!1,7),yV["a"].commit("shipModule/setShipList",{shipRoundList:{[t.sid]:t}})})}function wY(){let t=yV["a"].state.shipModule.shipFocusList,e=yV["a"].state.shipModule.shipRoundList;for(let n in t)if(e[n])if(yY(e[n].pt)>=yY(t[n].pt)){let i=Object.assign(t[n],e[n]);yV["a"].commit("shipModule/setShipList",{shipFocusList:{[n]:i}}),yV["a"].commit("shipModule/setShipList",{shipRoundList:{[n]:i}}),_H("shipFocusLayer","shipFocus",[i],TH,"8",!1,8)}else{let i=Object.assign(e[n],t[n]);yV["a"].commit("shipModule/setShipList",{shipRoundList:{[n]:i}}),yV["a"].commit("shipModule/setShipList",{shipFocusList:{[n]:i}}),_H("shipRoundLayer","shipRound",[i],TH,"3",!1,7)}}function SY(){let t=yV["a"].state.shipModule.shipCrashList,e=yV["a"].state.shipModule.shipFocusList;for(let n in e)if(t[n])if(yY(t[n].pt)>=yY(e[n].pt)){let i=Object.assign(e[n],t[n]);yV["a"].commit("shipModule/setShipList",{shipFocusList:{[n]:i}}),yV["a"].commit("shipModule/setShipList",{shipCrashList:{[n]:i}}),_H("shipFocusLayer","shipFocus",[i],TH,"8",!1,8)}else{let i=Object.assign(t[n],e[n]);yV["a"].commit("shipModule/setShipList",{shipCrashList:{[n]:i}}),yV["a"].commit("shipModule/setShipList",{shipFocusList:{[n]:i}}),_H("shipCrashLayer","shipCrash",[i],TH,"5",!1,11)}}function OY(t){let e=t.data,n=Object.values(e).map(t=>(t.lon=t.lon/60/1e4,t.lat=t.lat/60/1e4,t.co=t.co/10,t.sp=t.sp/10,t.company="1",t));"1"===t.allship?(yV["a"].commit("shipModule/deleteShip",{shipGroupList:"clear"}),_H("shipGroupLayer","shipGroup",n,TH,"6",!0,9)):_H("shipGroupLayer","shipGroup",n,TH,"6",!1,9);let i=yV["a"].state.mapModule.showClassify;i.includes("shipGroup")?Mz("shipGroupLayer").setVisible(!0):Mz("shipGroupLayer").setVisible(!1),yV["a"].commit("shipModule/setShipList",{shipGroupList:e}),bY(),fY()}function CY(t){let e=t.data,n=Object.values(e).map(t=>(t.lon=t.lon/60/1e4,t.lat=t.lat/60/1e4,t.co=t.co/10,t.sp=t.sp/10,t));if("0"===t.whole){yV["a"].commit("shipModule/deleteShip",{shipRoundList:"clear"});let t=yV["a"].state.shipModule.shipRoundList,e=Object.keys(t);e.forEach(t=>{let e=n.some(e=>t===e.sid);if(!e){let e=Mz("shipRoundLayer").getSource(),n=e.getFeatureById(t);e.removeFeature(n)}}),_H("shipRoundLayer","shipRound",n,TH,"3",!0,7)}else _H("shipRoundLayer","shipRound",n,TH,"3",!1,7);let i=yV["a"].state.mapModule.showClassify;i.includes("shipRound")?Mz("shipRoundLayer").setVisible(!0):Mz("shipRoundLayer").setVisible(!1),yV["a"].commit("shipModule/setShipList",{shipRoundList:e}),xY(),wY()}function AY(t){let e=t.data;e.forEach(e=>{let n=e.data,i=Object.values(n).map(t=>(t.lon=t.lon/60/1e4,t.lat=t.lat/60/1e4,t.co=t.co/10,t.sp=t.sp/10,t));0===t.isWarning&&(yV["a"].commit("shipModule/deleteShip",{shipCrashList:"clear"}),yV["a"].commit("shipModule/deleteShipCrashCompareList"),_H("shipCrashLayer","shipCrash",[],TH,"5",!0,11)),yV["a"].commit("shipModule/setShipList",{shipCrashList:n}),_Y(i),SY(),_H("shipCrashLayer","shipCrash",i,TH,"5",!1,11),yV["a"].commit("shipModule/setShipCrashCompareList",e)})}function MY(t){let e=t.data,n=yV["a"].state.shipModule.shipGroupList,i=yV["a"].state.shipModule.shipCrashList;yV["a"].commit("shipModule/deleteShip",{shipLoseList:"clear"}),_H("shipLoseLayer","shipLose",[],TH,"4",!0,10);for(let a in e)n[a]&&!i[a]&&("0"===e[a].status&&"1"===e[a].judge?_H("shipLoseLayer","shipLose",[n[a]],TH,"9",!1,10):_H("shipLoseLayer","shipLose",[n[a]],TH,"4",!1,10));let r=yV["a"].state.mapModule.showClassify;r.includes("shipGroup")?Mz("shipLoseLayer").setVisible(!0):Mz("shipLoseLayer").setVisible(!1),yV["a"].commit("shipModule/setShipList",{shipLoseList:e})}function TY(t){let e=t.data;for(let i in e){if("1"===t.state){var n;yV["a"].commit("historyModule/deleteHistoryRealRouteList",i);let t=null===(n=e[i][0])||void 0===n?void 0:n.name;e[i].map(e=>(e.name=t,e))}yV["a"].commit("historyModule/setHistoryRealRouteList",{[i]:{points:e[i],id:i,loading:!1}});let r=yV["a"].state.historyModule.historyRealRouteList;uW(i+"real",r[i],!0)}"1"===t.state&&hH.a.success("实时轨迹开启成功")}function kY(t){let e=t.data,n=Object.values(e).map(t=>(t.lon=t.lon/60/1e4,t.lat=t.lat/60/1e4,t.co=t.co/10,t.sp=t.sp/10,t));yV["a"].commit("shipModule/deleteShip",{shipFocusList:"clear"}),yV["a"].commit("shipModule/setShipList",{shipFocusList:e}),SY(),wY(),_H("shipFocusLayer","shipFocus",n,TH,"8",!0,8);let i=yV["a"].state.mapModule.showClassify;i.includes("shipFocus")?Mz("shipFocusLayer").setVisible(!0):Mz("shipFocusLayer").setVisible(!1)}function LY(t){let e=t.data;yV["a"].commit("mapModule/setPoliceList",e),yV["a"].commit("mapModule/setPoliceNumber",1)}class jY{constructor(t){this.screenText=t,this.height=-10,this.currentText={},this.hasLable=!1}calcText(t,e,n){let i={},r={};r.left=parseInt((t.left+20)/30),r.length=parseInt(e.width/30)+1,r.top=parseInt(t.top/20),this.hasLable=!1,this.currentText={};for(let a=r.left;a<r.left+r.length;a++){let e=t.top%20===0,{o1:i,o2:o}=this.isExist(e,a,r,n);if(i&&i!==n||!e&&o&&o!==n){this.hasLable=!0;break}}if(!this.hasLable)return i.canDraw=!0,i.offsetX=20,i.offsetY=0,Object.assign(this.screenText,this.currentText),i;r.top=parseInt((t.top-25)/20),this.hasLable=!1,this.currentText={};for(let a=r.left;a<r.left+r.length;a++){let e=(t.top-25)%20===0,{o1:i,o2:o}=this.isExist(e,a,r,n);if(i&&i!==n||!e&&o&&o!==n){this.hasLable=!0;break}}if(!this.hasLable)return i.canDraw=!0,i.offsetX=20,i.offsetY=-e.height,Object.assign(this.screenText,this.currentText),i;r.top=parseInt((t.top+25)/20),this.hasLable=!1,this.currentText={};for(let a=r.left;a<r.left+r.length;a++){let e=(t.top+25)%20===0,{o1:i,o2:o}=this.isExist(e,a,r,n);if(i&&i!==n||!e&&o&&o!==n){this.hasLable=!0;break}}if(!this.hasLable)return i.canDraw=!0,i.offsetX=20,i.offsetY=e.height,Object.assign(this.screenText,this.currentText),i;r.left=parseInt((t.left-e.width-20)/30),r.top=parseInt(t.top/20),this.hasLable=!1,this.currentText={};for(let a=r.left;a<r.left+r.length;a++){let e=t.top%20===0,{o1:i,o2:o}=this.isExist(e,a,r,n);if(i&&i!==n||!e&&o&&o!==n){this.hasLable=!0;break}}if(!this.hasLable)return i.canDraw=!0,i.offsetX=-e.width-20,i.offsetY=0,Object.assign(this.screenText,this.currentText),i;r.left=parseInt((t.left-e.width-20)/30),r.top=parseInt((t.top-25)/20),this.hasLable=!1,this.currentText={};for(let a=r.left;a<r.left+r.length;a++){let e=(t.top-25)%20===0,{o1:i,o2:o}=this.isExist(e,a,r,n);if(i&&i!==n||!e&&o&&o!==n){this.hasLable=!0;break}}if(!this.hasLable)return i.canDraw=!0,i.offsetX=-e.width-20,i.offsetY=-e.height,Object.assign(this.screenText,this.currentText),i;r.left=parseInt((t.left-e.width-20)/30),r.top=parseInt((t.top+25)/20),this.hasLable=!1,this.currentText={};for(let a=r.left;a<r.left+r.length;a++){let e=(t.top+25)%20===0,{o1:i,o2:o}=this.isExist(e,a,r,n);if(i&&i!==n||!e&&o&&o!==n){this.hasLable=!0;break}}return this.hasLable||(i.canDraw=!0,i.offsetX=-e.width-20,i.offsetY=e.height,Object.assign(this.screenText,this.currentText)),i}isExist(t,e,n,i){let r=this.screenText[e+"-"+n.top],a=void 0;return t||(a=this.screenText[e+"-"+(n.top+1)]),this.currentText[e+"-"+n.top]=i,t||(this.currentText[e+"-"+(n.top+1)]=i),{o1:r,o2:a}}}const IY=(t,e,n)=>{let i=new Az["c"]({text:new Bz["a"]({textAlign:"left",font:"12px Microsoft YaHei",fill:new Rz["a"]({color:"rgba(29, 55, 76,1)"}),backgroundFill:new Rz["a"]({color:"rgba(255,255,255,0.8)"}),padding:[2,1,1,4],textBaseline:"bottom",offsetX:n.offsetX||0,offsetY:n.offsetY||0,text:n.canDraw?t.get("name").trim():""})});return i},EY=()=>new Az["c"]({stroke:new Nz["a"]({color:"rgba(90,90,90,0.4)",width:1})});function PY(t,e,n=FY()){var i;let r=new jY({}),a=[];if(!t)return;if(e)return void(a=[]);null===(i=RY("shipNameLayer"))||void 0===i||i.getSource().clear();const o="12px Microsoft YaHei",s=document.createElement("canvas"),l=s.getContext("2d");for(let d=0;d<t.length;d++){var c,u,h;if(e)return a=[],void(null===(h=RY("shipNameLayer"))||void 0===h||h.getSource().clear());if(!t[d].get("name"))continue;const i=t[d].get("name").trim();l.font=o;const{width:s}=l.measureText(i);let p=27,f={},g=n.getPixelFromCoordinate(t[d].getGeometry().getCoordinates());f.left=Math.round(g[0]),f.top=Math.round(g[1]);let m=r.calcText(f,{width:s,height:p},t[d].get("id")),v=[],y=[];m.offsetX&&(a.push(t[d]),t[d].setStyle((t,e)=>IY(t,e,m)),v.push(t[d]),y.push(DY(m,t[d],g))),null===(c=RY("shipNameLayer"))||void 0===c||c.getSource().addFeatures(y),null===(u=RY("shipNameLayer"))||void 0===u||u.getSource().addFeatures(v)}return a}function RY(t,e=FY()){let n=Mz(t,e);if(n)return n.setZIndex(22),n;{let n=Tz(t,22);return e.addLayer(n),n}}function DY(t,e,n,i=FY()){let r=[];t.offsetX>0&&(r[0]=n[0]+20,r[1]=t.offsetY>0?n[1]+20:t.offsetY<0?n[1]-24:n[1]),t.offsetX<0&&(r[0]=n[0]-20,r[1]=t.offsetY>0?n[1]+20:t.offsetY<0?n[1]-24:n[1]);let a=i.getCoordinateFromPixel(r),o=new Dz["a"]([e.getGeometry().getCoordinates(),a]),s=new Pz["a"]({geometry:o});return s.setStyle(EY()),s}function FY(){return yV["a"].getters["mapModule/data"]("map")}var NY={data(){return{shipScoket:null,nameList:[]}},mounted(){},methods:{shipHandle(t){let e=JSON.parse(t.data);"3"===e.messageType&&CY(e),"4"===e.messageType&&MY(e),"5"===e.messageType&&AY(e),"6"===e.messageType&&OY(e),"7"===e.messageType&&TY(e),"8"===e.messageType&&kY(e),"11"===e.messageType&&LY(e)},addShipName(t){var e;let n=t.target||t.map;var i;n.getView().getZoom()!=this.currentZoom&&(null===(e=Mz("shipNameLayer"))||void 0===e?void 0:e.getSource().getFeatures().length)>0&&(null===(i=Mz("shipNameLayer"))||void 0===i||i.getSource().clear());this.shipGroupNumber=0,this.shipRoundNumber=0,this.stopAdd=!1,this.currentZoom=n.getView().getZoom(),this.timer=setTimeout(()=>{if(!this.stopAdd){this.nameList=[];let t=[],e=n.getView().calculateExtent(n.getSize()),i=Object(UB["t"])(e,"EPSG:3857","EPSG:4326");e=Object(UB["t"])(i,"EPSG:4326","EPSG:3857");let r=Mz("shipRoundLayer"),a=Mz("shipGroupLayer"),o=Mz("shipFocusLayer"),s=Mz("shipCrashLayer"),l=Mz("distanceLayer"),c=null===a||void 0===a?void 0:a.getSource().getFeaturesInExtent(e,n.getView().getProjection());this.shipGroupNumber=c&&c.length;let u=null===s||void 0===s?void 0:s.getSource().getFeaturesInExtent(e,n.getView().getProjection()),h=null===o||void 0===o?void 0:o.getSource().getFeaturesInExtent(e,n.getView().getProjection()),d=null===r||void 0===r?void 0:r.getSource().getFeaturesInExtent(e,n.getView().getProjection());this.shipRoundNumber=d&&d.length;let p=null===l||void 0===l?void 0:l.getSource().getFeaturesInExtent(e,n.getView().getProjection());u&&null!==s&&void 0!==s&&s.getVisible()&&this.nameListFilter(u,t),c&&null!==a&&void 0!==a&&a.getVisible()&&this.nameListFilter(c,t),h&&null!==o&&void 0!==o&&o.getVisible()&&this.nameListFilter(h,t),d&&d.length>0&&d.length<200&&null!==r&&void 0!==r&&r.getVisible()&&this.nameListFilter(d,t),p&&p.length>0&&p.length<200&&this.nameListFilter(p,t);PY(t,this.stopAdd)}},1500)},nameListFilter(t,e){t.forEach(t=>{this.nameList.includes(t.getId())||"show"!==t.get("visible")||(e.push(t),this.nameList.push(t.getId()))})}}},BY=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"show",mode:"out-in"}},[t.smallMapShow?e("div",{class:{"smallmap-static-class":!t.isRightDrawer,"smallmap-move-class":t.isRightDrawer,"small-map-class":!0},staticStyle:{overflow:"hidden"},on:{click:t.changeMap}},[e("div",{staticClass:"img-box-class"},t._l(t.list,(function(i){return e("div",{key:i,class:{[i]:!0,"is-LayerId-class":t.checked===i,"isnot-LayerId-class":t.checked!==i,"map-class":!0},staticStyle:{position:"relative","margin-right":"4px"}},[e("img",{class:{"small-pt-class":!0},attrs:{src:n("0ed3")(`./${i}.png`),alt:"",id:i}})])})),0)]):t._e()])},VY=[],GY={data(){return{smallMapShow:!0,list:["SeaLayer","LandLayer","SateLayer"],checked:"SeaLayer"}},methods:{changeMap(t){let e=this.list.indexOf(t.target.id);switch(-1!=e&&(this.list.splice(e,1),this.list.unshift(t.target.id)),this.checked=t.target.id,this.removeLayer(),t.target.id){case"LandLayer":jz(KB);break;case"SateLayer":jz($B);break;case"SeaLayer":jz(JB);break;default:break}},removeLayer(){Lz("LandLayer"),Lz("SeaLayer"),Lz("SateLayer")}},computed:{isRightDrawer(){return this.$store.state.mapModule.rightDrawerShow}},watch:{isRightDrawer(){this.smallMapShow=!1,setTimeout(()=>{this.smallMapShow=!0},300)}}},zY=GY,UY=(n("e54a"),Object(f["a"])(zY,BY,VY,!1,null,"9837f592",null)),HY=UY.exports,WY=function(){var t=this,e=t._self._c;return e("div",{class:{"met-time-container":!0,"met-time-container-splce ":t.isRightDrawer}},[e("div",{staticClass:"bottom-box"},[e("el-row",[e("el-col",{attrs:{span:24}},[e("div",{staticClass:"time-tip"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.reciprocalTime,expression:"reciprocalTime"}]},[t._v(t._s(t._f("timeTrans")(t.timeValue)))])]),e("SliderTime")],1),e("div",{staticClass:"right-tip"},[e("SwitchBox"),e("LayerTips")],1)],1)],1),e("WeatherBtns")],1)},YY=[],XY=function(){var t=this,e=t._self._c;return e("div",{staticClass:"layer-tips-container"},[e("div",{class:t.Metclass,attrs:{id:"legend"}},t._l(t.MetSpanArray,(function(n,i){return e("span",{key:i,staticClass:"legendspan",style:t.MetSpanStyle},[t._v(" "+t._s(n)+" ")])})),0)])},qY=[],ZY={name:"LayerTips",data(){return{MetSpanArray:[],Metclass:"",metInfoList:{Waves:{class:"Waveclass",spanArray:["m","0.5","1","1.5","2","6","9"]},Wind:{class:"windclass",spanArray:["m/s","0","3","5","10","15","20","30"]},Pressure:{class:"Pressureclass",spanArray:["hPa","990","1000","1010","1020","1040"]},SeaCurrents:{class:"currentsclass",spanArray:["m/s","0","0.2","0.4","0.8","1.2","1.8","2","3.2"]},WaterTemp:{class:"temperaturesclass",spanArray:["℃","0","10","20","30","40"]},Temp:{class:"temperaturesclass",spanArray:["℃","-20","-10","0","10","20","30","40"]},Humidity:{class:"Humidityclass",spanArray:["%","100","90","80","50","30","0"]},Rain:{class:"Rainclass",spanArray:["mm","5","10","20","50","100","500","1m"]},Visibility:{class:"Visibility",spanArray:["km","0.8","2.7","6","16"]}}}},computed:{MetSpanStyle(){return"width:"+1/Number(this.MetSpanArray.length)*100+"%"},layerValue(){return this.$store.getters["metModule/layerValue"]}},watch:{layerValue:{handler:function(t){const e=this.metInfoList;this.MetSpanArray=e[t.name].spanArray,this.Metclass=e[t.name].class},immediate:!0}}},QY=ZY,JY=(n("69b8"),Object(f["a"])(QY,XY,qY,!1,null,"24a488fa",null)),KY=JY.exports,$Y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"slider-time-container"},[e("div",{staticClass:"play-icon"},[e("i",{staticClass:"iconfont icon-anniu_jiantouxiangzuo",on:{click:function(e){return t.timeInput(0)}}}),t.isPlay?e("i",{staticClass:"iconfont icon-bofang1",attrs:{href:"javascript:;"},on:{click:t.changeStatus}}):e("i",{staticClass:"iconfont icon-zanting1",attrs:{href:"javascript:;"},on:{click:t.changeStatus}}),e("i",{staticClass:"iconfont icon-anniu-jiantouxiangyou",on:{click:function(e){return t.timeInput(1)}}})]),e("div",{staticClass:"slider-box"},[e("div",{staticClass:"sliderbar"},[e("el-slider",{attrs:{step:1,max:40,"show-tooltip":!0,"format-tooltip":t.formatTip,"show-stops":""},on:{change:t.changetime},model:{value:t.NewTimeValue,callback:function(e){t.NewTimeValue=e},expression:"NewTimeValue"}})],1),e("div",{staticClass:"marks"},[e("ul",t._l([0,1,2,3,4,5],(function(n){return e("li",{key:n},[t._v(" "+t._s(t._f("marksFun")(n))+" ")])})),0)])])])},tX=[],eX=(n("4181"),{name:"SliderTime",data(){return{NewTimeValue:0,isPlay:!0,timeFlag:null}},watch:{NewTimeValue(t){this.changeTimeValue(t)},stopTime(t){t||this.endTime()}},computed:{timeValue(){return this.$store.state.metModule.timeValue},stopTime(){return this.$store.state.metModule.stopTime},map(){return this.$store.getters["mapModule/data"]("map")}},methods:{...Object(mH["b"])("metModule",["changeTimeValue","changeStopTime"]),changetime(t){var e;this.changeTimeValue(t),null===(e=this.map.getOverlayById("popup-weather"))||void 0===e||e.setPosition(null)},getNowTime(){const t=(new Date).getTime(),e=new Date((new Date).toLocaleDateString()).getTime(),n=parseInt(parseInt((t-e)/1e3/3600)/3);this.NewTimeValue=n,this.changeTimeValue(n)},changeStatus(){var t;this.isPlay=!this.isPlay,null===(t=this.map.getOverlayById("popup-weather"))||void 0===t||t.setPosition(null),this.isPlay?this.endTime():this.NewTimeValue<40?this.timeFlag=setInterval(()=>{var t;this.NewTimeValue<40?(this.changeStopTime(!0),this.NewTimeValue+=1):this.endTime(),null===(t=this.map.getOverlayById("popup-weather"))||void 0===t||t.setPosition(null)},1500):this.endTime()},endTime(){this.timeFlag=clearInterval(this.timeFlag),this.isPlay=!0},timeInput(t){var e;t?this.NewTimeValue<=40&&(this.NewTimeValue+=1):this.NewTimeValue>0&&(this.NewTimeValue-=1),null===(e=this.map.getOverlayById("popup-weather"))||void 0===e||e.setPosition(null)},formatTip(t){const e=new Date((new Date).toLocaleDateString()).getTime(),n=e+1e3*t*3600*3;return u()(n).format("YYYY-MM-DD HH:mm")}},created(){this.getNowTime()},filters:{marksFun:function(t){const e=new Date((new Date).toLocaleDateString()).getTime(),n=e+1e3*t*3600*24;return u()(n).format("MM-DD")}}}),nX=eX,iX=(n("850b"),Object(f["a"])(nX,$Y,tX,!1,null,"2f425208",null)),rX=iX.exports,aX=function(){var t=this,e=t._self._c;return e("div",{staticClass:"switch-box-container"},t._l(t.switchArray,(function(n){return e("div",{directives:[{name:"show",rawName:"v-show",value:n.show,expression:"item.show"}],key:n.title,staticClass:"box-item"},[e("div",[e("el-switch",{on:{change:function(e){return t.changeSwitch(n)}},model:{value:n.choose,callback:function(e){t.$set(n,"choose",e)},expression:"item.choose"}})],1),e("div",{class:{"font-class":!0,"chcked-class":n.choose}},[t._v(t._s(n.title))])])})),0)},oX=[],sX={name:"SwitchBox",data(){return{switchArray:[{title:"台风",choose:!0,show:!1},{title:"风向标",choose:!1,show:!1},{title:"洋流标",choose:!1,show:!1},{title:"等压线",choose:!1,show:!0},{title:"等温线",choose:!1,show:!0},{title:"气温线",choose:!1,show:!0},{title:"海浪线",choose:!1,show:!0},{title:"粒子动画",choose:!1,show:!1}]}},computed:{newSwitchArray(){return this.$store.state.metModule.switchArray}},methods:{...Object(mH["b"])("metModule",["changeSwitchItem"]),changeSwitch(t){this.changeSwitchItem(t)}},watch:{newSwitchArray:{handler(t){this.switchArray=t},deep:!0}}},lX=sX,cX=(n("6686"),Object(f["a"])(lX,aX,oX,!1,null,"590f7dd5",null)),uX=cX.exports,hX=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"margin-top":"10px","margin-left":"5px"}},[t._l(t.valueArray,(function(n){return e("el-button",{key:n.title,class:n.select?"checked-class":"",attrs:{size:"mini"},on:{click:function(e){return t.layerSelect(n)}}},[t._v(" "+t._s(n.title)+" ")])})),e("el-dropdown",{staticClass:"btn-group-class",attrs:{size:"mini",placement:"top"},on:{command:t.handleCommand}},[e("el-button",{class:t.hierarchyTemperature?"checked-class":"",staticStyle:{padding:"7px 8px 6px 11px"},attrs:{size:"mini"}},[t._v(" "+t._s(t.hierarchyTemperature?"分层海温:"+t.hierarchyTemperature:"分层海温")+" "),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.WaterTemp,(function(n){return e("el-dropdown-item",{key:n.title,staticStyle:{width:"80px","text-align":"center"},attrs:{command:n}},[t._v(" "+t._s(n.title)+" ")])})),1)],1)],2)},dX=[],pX={name:"WeatherMenu",data(){return{}},computed:{valueArray(){return this.$store.state.metModule.valueArray},WaterTemp(){return this.$store.state.metModule.WaterTemp},layerValue(){return this.$store.getters["metModule/layerValue"]},hierarchyTemperature(){let t=this.WaterTemp.filter(t=>t.select);return t.length>0&&t[0].title}},methods:{...Object(mH["b"])("metModule",["changeValueArray"]),layerSelect(t){this.changeValueArray(t)},handleCommand(t){this.layerSelect(t)}}},fX=pX,gX=(n("db81"),Object(f["a"])(fX,hX,dX,!1,null,"6cf22c37",null)),mX=gX.exports,vX={name:"MetTime",components:{LayerTips:KY,SliderTime:rX,SwitchBox:uX,WeatherBtns:mX},data(){return{reciprocalTime:0,countTime:null}},methods:{startCountDown(){clearTimeout(this.countTime),this.countTime=setTimeout(()=>{this.reciprocalTime=0},3e3)}},computed:{timeValue(){return this.$store.state.metModule.timeValue},isRightDrawer(){return this.$store.state.mapModule.rightDrawerShow}},filters:{timeTrans:t=>{const e=new Date((new Date).toLocaleDateString()).getTime(),n=e+1e3*t*3600*3;return u()(n).format("YYYY-MM-DD HH:mm")}},watch:{timeValue(){this.reciprocalTime=3,this.startCountDown()}},destroyed(){clearTimeout(this.countTime)}},yX=vX,bX=(n("86fa"),Object(f["a"])(yX,WY,YY,!1,null,"7125bc4d",null)),xX=bX.exports,_X=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"show",mode:"out-in"}},[t.boxShow?e("div",{class:{"topNav-class":!0,"topNav-move-class":t.isRightDrawer,"topNav-static-class":!t.isRightDrawer},on:{click:t.checkBox}},[e("div",{class:{"box-class":!0,"checked-class":t.$store.state.shipModule.loseListShow},staticStyle:{position:"relative"},attrs:{id:"lose"}},[t.loseNumber?e("el-badge",{staticClass:"policeInfo-class",attrs:{value:t.loseNumber}}):t._e(),e("i",{staticClass:"iconfont icon-dingweidiushi",staticStyle:{color:"gray","font-size":"15px","margin-left":"18px"},attrs:{id:"lose"}}),t._v(" 离线 ")],1),e("p"),e("div",{class:{"box-class":!0,"checked-class":t.$store.state.shipModule.crashListShow},staticStyle:{position:"relative"},attrs:{id:"danger"}},[t.dangerNumber?e("el-badge",{staticClass:"policeInfo-class",attrs:{value:t.dangerNumber}}):t._e(),e("i",{staticClass:"iconfont icon-alarm",staticStyle:{color:"red","margin-left":"18px"},attrs:{id:"danger"}}),t._v(" 危险 ")],1),e("p"),e("div",{class:{"box-class":!0,"checked-class":t.weatherShow},attrs:{id:"weather"}},[e("i",{staticClass:"iconfont icon-nongyun",staticStyle:{"font-size":"14px",color:"rgba(251, 187, 89)"},attrs:{id:"weather"}}),t._v(" 气象 ")]),e("p"),e("div",{class:{"box-class":!0,"checked-class":"shipList"===t.rightDrawId},attrs:{id:"shipList"}},[e("i",{staticClass:"iconfont icon-chuanbo1",staticStyle:{color:"rgba(125, 178, 244)"},attrs:{id:"shipList"}}),t._v(" 船舶 ")]),e("p"),t.buoyBtnShow?e("div",{class:{"box-class":!0,"checked-class":"buoy"===t.rightDrawId},attrs:{id:"buoy"}},[e("i",{staticClass:"iconfont icon-fubiaobuoy",attrs:{id:"buoy"}}),t._v(" 浮标 ")]):t._e(),e("p"),t.policeBtnShow?e("div",{class:{"box-class":!0,"checked-class":t.policeShow},staticStyle:{position:"relative"},attrs:{id:"police"}},[t.policeNumber?e("el-badge",{staticClass:"policeInfo-class",attrs:{value:t.policeNumber}}):t._e(),e("i",{staticClass:"iconfont icon-baojingshezhi",staticStyle:{"margin-left":"18px",color:"rgb(16, 203, 228)"},attrs:{id:"police"}}),t._v(" 越界 ")],1):t._e(),e("p"),e("div",{class:{"box-class":!0,"checked-class":"filter"===t.rightDrawId},attrs:{id:"filter"}},[e("i",{staticClass:"iconfont icon-caidan",staticStyle:{color:"rgb(93, 193, 253)"},attrs:{id:"filter"}}),t._v(" 筛选 ")]),e("p")]):t._e()])},wX=[];Object({NODE_ENV:"production",VUE_APP_BASEURL:"https://springcloud.intertion.cn",VUE_APP_CURRENTMODE:"prod",VUE_APP_IMG_URL:"https://cloudwx.intertion.cn/bills",VUE_APP_Minio_IMG_URL:"https://minio.fisheryvms.com/",VUE_APP_SERVER_Webscoket:"wss://springcloud.intertion.cn",VUE_APP_SOCKET_URL:"wss://springcloud.intertion.cn/shipCameraService/webCamera",BASE_URL:""}).VUE_APP_SERVER_URL;function SX(){return new Promise((t,e)=>{Object(dH["a"])({url:"/interface/tsUserApplication/selectJurisdictionApplication",method:"GET"}).then(n=>{n?t(n):(e("权限获取失败"),hH.a.error("权限获取失败"))}).catch(()=>{e("权限获取失败"),hH.a.error("权限获取失败")})})}function OX(){return new Promise((t,e)=>{Object(dH["a"])({url:"/fishingSeachartService/oaBuoy/selectBuoyTree",method:"GET"}).then(n=>{n?t(n):(e("获取浮标列表失败"),hH.a.error("获取浮标列表失败"))}).catch(()=>{e("获取浮标列表失败"),hH.a.error("获取浮标列表失败")})})}function CX(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/fishingSeachartService/seachartController/selectAlarmList",method:"GET",params:t}).then(t=>{t?e(t):(n("获取越界列表失败"),hH.a.error("获取越界列表失败"))}).catch(()=>{n("获取越界列表失败")})})}const AX={variables:{filterShape:"all"},filter:["any",["==",["var","filterShape"],"all"],["==",["var","filterShape"],["get","shapeType"]]],symbol:{symbolType:"image",src:n("889d"),size:[15,20]}};function MX(t,e,n,i){let r=TX(e,AX,n,i),a=[];r.getSource().clear();for(let o=0;o<t.length;o++)a.push(kX(t[o]));r.getSource().addFeatures(a)}const TX=(t,e,n,i=LX())=>{let r=Mz(t,i);if(r)return r;{let r=new Cz({style:e,source:new tV["a"]({wrapX:!0}),layerId:t,zIndex:n});return i.addLayer(r),r}},kX=t=>{let e=Object(UB["s"])([t.lon,t.lat],"EPSG:4326","EPSG:3857");var n=new Fz["a"](e);let i=new Pz["a"]({geometry:n,type:"Buoy",lon:t.lon,lat:t.lat,name:t.name,buoyOwner:t.buoyOwner,co:t.course,time:t.dateTime,id:t.idNumder,callsign:t.radioCallsign,sp:t.speed,typeOfMessage:t.typeOfMessage,waterTemperature:t.waterTemperature,oaEmailBuoyId:t.oaEmailBuoyId});return i.setId(t.idNumder),i.set("geom",n),i};function LX(){return yV["a"].getters["mapModule/data"]("map")}var jX={Temp:"temp",Pressure:"pressure",Humidity:"humidity",Visibility:"Visibility",Rain:"rain",Wind:"wind",Waves:"waves",WaterTemp:"waterTemp",SeaCurrents:"seaCurrents"},IX="web",EX=function(){function t(){}return t.setWx=function(){IX="wx"},t.createCanvas2d=function(t){return t||(t={type:"2d"}),"web"===IX?document.createElement("canvas"):uni.createOffscreenCanvas(t)},t.createCanvasGL=function(t){return t||(t={type:"webgl"}),"web"===IX?document.createElement("canvas"):uni.createOffscreenCanvas(t)},t}();function PX(t){var e=EX.createCanvas2d();e.width=256,e.height=1;var n=e.getContext("2d"),i=n.createLinearGradient(0,0,256,1);return t.forEach((function(t){var e=t[0],n=t[1];i.addColorStop(e,n)})),n.fillStyle=i,n.fillRect(0,0,256,1),{canvas:e,data:n.getImageData(0,0,256,1).data}}var RX={temp:void 0,pressure:void 0,rain:void 0,humidity:void 0,visibility:void 0,wind:void 0,waves:void 0,waterTemp:void 0,seacurrent:void 0,getColorRamp:PX};RX.temp=PX([[0,"rgb(149, 137, 211)"],[100/255,"rgb(149, 137, 211)"],[110/255,"rgb(150, 209, 216)"],[120/255,"rgb(129, 204, 197)"],[130/255,"rgb(103, 180, 186)"],[140/255,"rgb(95, 143, 197)"],[150/255,"rgb(80, 140, 62)"],[160/255,"rgb(121, 146, 28)"],[170/255,"rgb(171, 161, 14)"],[180/255,"rgb(223, 177, 6)"],[190/255,"rgb(243, 150, 6)"],[200/255,"rgb(236, 95, 21)"],[210/255,"rgb(190, 65, 18)"],[220/255,"rgb(138, 43, 10)"],[1,"rgb(138, 43, 10)"]]),RX.pressure=PX([[0,"rgb(0, 103, 148)"],[100/255,"rgb(0, 103, 148)"],[110/255,"rgb(0, 103, 148)"],[120/255,"rgb(0, 103, 148)"],[130/255,"rgb(0, 117, 147)"],[140/255,"rgb(18, 134, 147)"],[150/255,"rgb(72, 154, 152)"],[160/255,"rgb(140, 178, 168)"],[170/255,"rgb(178, 176, 157)"],[180/255,"rgb(167, 142, 99)"],[190/255,"rgb(163, 111, 63)"],[200/255,"rgb(160, 82, 44)"],[1,"rgb(160, 82, 44)"]]),RX.rain=PX([[0,"#a3a8af"],[41/255,"#81cd71"],[57/255,"#6ec569"],[70/255,"#68c19a"],[79/255,"#5db7c6"],[87/255,"#5fabd9"],[95/255,"#6199dc"],[104/255,"#6488e0"],[111/255,"#6973e4"],[127/255,"#9a84e7"],[132/255,"#f2a0e5"],[141/255,"#dc80c9"],[148/255,"#c15da8"],[1,"#b24a97"]]),RX.humidity=PX([[0,"rgb(174, 110, 56)"],[30/255,"rgb(174, 110, 56)"],[60/255,"rgb(174, 110, 56)"],[90/255,"rgb(174, 146, 56)"],[100/255,"rgb(105, 174, 56)"],[130/255,"rgb(54, 175, 148)"],[160/255,"rgb(56, 158, 174)"],[170/255,"rgb(56, 142, 174)"],[180/255,"rgb(56, 133, 174)"],[190/255,"rgb(56, 111, 166)"],[200/255,"rgb(56, 71, 116)"],[1,"rgb(56, 71, 116)"]]),RX.visibility=PX([[0,"rgb(164, 89, 164)"],[8/255,"rgb(164, 89, 164)"],[27/255,"rgb(168, 86, 86)"],[60/255,"rgb(89, 99, 164)"],[110/255,"rgb(70, 180, 74)"],[160/255,"rgb(91, 158, 85)"],[1,"rgb(91, 158, 85)"]]),RX.wind=PX([[0,"rgb(98, 113, 184)"],[12/255,"rgb(61, 110, 163)"],[24/255,"rgb(74, 148, 170)"],[32/255,"rgb(74, 146, 148)"],[40/255,"rgb(77, 142, 124)"],[60/255,"rgb(76, 164, 76)"],[80/255,"rgb(103, 164, 54)"],[100/255,"rgb(162, 135, 64)"],[120/255,"rgb(162, 109, 92)"],[140/255,"rgb(141, 63, 92)"],[160/255,"rgb(151, 75, 145)"],[200/255,"rgb(95, 100, 160)"],[240/255,"rgb(91, 136, 161)"],[1,"rgb(91, 136, 161)"]]),RX.waves=PX([[0,"rgb(50,158,186)"],[5/255,"rgb(50,158,186)"],[10/255,"rgb(50,158,186)"],[15/255,"rgb(48,128,164)"],[20/255,"rgb(48,99,142)"],[25/255,"rgb(52,101,166)"],[30/255,"rgb(56,104,192)"],[35/255,"rgb(56,83,169)"],[40/255,"rgb(57,61,143)"],[60/255,"rgb(172,68,196)"],[80/255,"rgb(134,48,49)"],[120/255,"rgb(194,76,91)"],[150/255,"rgb(192,118,105)"],[180/255,"rgb(192,162,157)"],[254/255,"rgb(192,162,157)"],[1,"rgb(236,225,203)"]]),RX.waterTemp=PX([[0,"rgba(144, 144, 144, 0)"],[1/255,"rgb(95, 143, 197)"],[50/255,"rgb(95, 143, 197)"],[75/255,"rgb(80, 140, 62)"],[100/255,"rgb(121, 146, 28)"],[125/255,"rgb(171, 161, 14)"],[150/255,"rgb(223, 177, 6)"],[175/255,"rgb(243, 150, 6)"],[200/255,"rgb(236, 95, 21)"],[225/255,"rgb(190, 65, 18)"],[250/255,"rgb(138, 43, 10)"],[1,"rgb(138, 43, 10)"]]),RX.seacurrent=PX([[0,"rgb(72, 102, 170)"],[10/255,"rgb(61, 121, 110)"],[20/255,"rgb(50, 140, 50)"],[30/255,"rgb(140, 133, 49)"],[40/255,"rgb(143, 115, 50)"],[60/255,"rgb(117, 52, 68)"],[80/255,"rgb(107, 67, 131)"],[90/255,"rgb(67, 93, 133)"],[100/255,"rgb(73, 122, 132)"],[130/255,"rgb(115, 135, 139)"],[160/255,"rgb(144, 144, 144)"],[254/255,"rgb(144, 144, 144)"],[1,"rgb(144, 144, 144, 0)"]]);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var DX=function(t,e){return DX=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},DX(t,e)};function FX(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}DX(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var NX=function(){this.visible=!0},BX={exports:{}};!function(t,e){var n=function(){var t={},e=Math.PI/180,n=180/Math.PI,i=6378137,r=20037508.342789244;function a(t){return Number(t)===t&&t%1!=0}function o(e){if(e=e||{},this.size=e.size||256,this.expansion=!0===e.antimeridian?2:1,!t[this.size]){var n=this.size,i=t[this.size]={};i.Bc=[],i.Cc=[],i.zc=[],i.Ac=[];for(var r=0;r<30;r++)i.Bc.push(n/360),i.Cc.push(n/(2*Math.PI)),i.zc.push(n/2),i.Ac.push(n),n*=2}this.Bc=t[this.size].Bc,this.Cc=t[this.size].Cc,this.zc=t[this.size].zc,this.Ac=t[this.size].Ac}return o.prototype.px=function(t,n){if(a(n)){var i=this.size*Math.pow(2,n),r=i/2,o=i/360,s=i/(2*Math.PI),l=i,c=Math.min(Math.max(Math.sin(e*t[1]),-.9999),.9999),u=r+t[0]*o,h=r+.5*Math.log((1+c)/(1-c))*-s;return u>l*this.expansion&&(u=l*this.expansion),h>l&&(h=l),[u,h]}return r=this.zc[n],c=Math.min(Math.max(Math.sin(e*t[1]),-.9999),.9999),u=Math.round(r+t[0]*this.Bc[n]),h=Math.round(r+.5*Math.log((1+c)/(1-c))*-this.Cc[n]),u>this.Ac[n]*this.expansion&&(u=this.Ac[n]*this.expansion),h>this.Ac[n]&&(h=this.Ac[n]),[u,h]},o.prototype.ll=function(t,e){if(a(e)){var i=this.size*Math.pow(2,e),r=i/360,o=i/(2*Math.PI),s=i/2,l=(t[1]-s)/-o;return[(t[0]-s)/r,n*(2*Math.atan(Math.exp(l))-.5*Math.PI)]}return l=(t[1]-this.zc[e])/-this.Cc[e],[(t[0]-this.zc[e])/this.Bc[e],n*(2*Math.atan(Math.exp(l))-.5*Math.PI)]},o.prototype.bbox=function(t,e,n,i,r){i&&(e=Math.pow(2,n)-1-e);var a=[t*this.size,(+e+1)*this.size],o=[(+t+1)*this.size,e*this.size],s=this.ll(a,n).concat(this.ll(o,n));return"900913"===r?this.convert(s,"900913"):s},o.prototype.xyz=function(t,e,n,i){"900913"===i&&(t=this.convert(t,"WGS84"));var r=[t[0],t[1]],a=[t[2],t[3]],o=this.px(r,e),s=this.px(a,e),l=[Math.floor(o[0]/this.size),Math.floor((s[0]-1)/this.size)],c=[Math.floor(s[1]/this.size),Math.floor((o[1]-1)/this.size)],u={minX:Math.min.apply(Math,l)<0?0:Math.min.apply(Math,l),minY:Math.min.apply(Math,c)<0?0:Math.min.apply(Math,c),maxX:Math.max.apply(Math,l),maxY:Math.max.apply(Math,c)};if(n){var h={minY:Math.pow(2,e)-1-u.maxY,maxY:Math.pow(2,e)-1-u.minY};u.minY=h.minY,u.maxY=h.maxY}return u},o.prototype.convert=function(t,e){return"900913"===e?this.forward(t.slice(0,2)).concat(this.forward(t.slice(2,4))):this.inverse(t.slice(0,2)).concat(this.inverse(t.slice(2,4)))},o.prototype.forward=function(t){var n=[i*t[0]*e,i*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return n[0]>r&&(n[0]=r),n[0]<-r&&(n[0]=-r),n[1]>r&&(n[1]=r),n[1]<-r&&(n[1]=-r),n},o.prototype.inverse=function(t){return[t[0]*n/i,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/i)))*n]},o}();t.exports=n}(BX);var VX=20037508.342789244,GX=2*VX,zX=GX/8,UX=new(0,BX.exports)({size:256});function HX(t,e,n){var i=new Image;i.crossOrigin="anonymous",i.onload=function(){return e(i)},i.onerror=n||function(t){},i.src=t}function WX(t,e){var n=EX.createCanvas2d();n.width=t.width,n.height=t.height;var i=n.getContext("2d");i.drawImage(t,0,0);for(var r=i.getImageData(0,0,n.width,n.height).data,a=[],o=[],s=0,l=r.length/4;s<l;s++){var c=4*s,u=r[c],h=r[c+1];e===jX.Wind?(a[s]=.2*u-25,o[s]=.2*h-25):e===jX.SeaCurrents&&(0===u&&0===h?(a[s]=null,o[s]=null):(a[s]=.04*u-5,o[s]=.04*h-5))}return[{header:{nx:1440,ny:721,lo1:-180,la1:90,lo2:179.75,la2:-90,dx:.25,dy:.25,parameterCategory:2,parameterNumber:2},data:a},{header:{nx:1440,ny:721,lo1:-180,la1:90,lo2:179.75,la2:-90,dx:.25,dy:.25,parameterCategory:2,parameterNumber:3},data:o}]}function YX(t,e,n){return[Math.round((e-t[0])/t[1]),Math.round((n-t[3])/t[5])]}function XX(t){return~~((t+VX)/zX)}function qX(t){return~~((VX-t)/zX)}function ZX(t,e){return t<0?ZX(t+e,e):t>=e?ZX(t-e,e):t}function QX(t){return parseFloat(Math.log2(GX/t/256).toFixed(6))}function JX(t,e,n){t+=VX,e=VX-e;var i=256*Math.pow(2,n),r=GX/i;return[t/r,e/r]}function KX(t,e,n){return void 0===n&&(n=3),~~(t/(256*Math.pow(2,e)/Math.pow(2,n)))}function $X(t,e,n){return t/(256*e/n)}function tq(t,e,n){void 0===n&&(n=3);var i=t.southWestX,r=t.southWestY,a=t.northEastX,o=t.northEastY,s=Math.pow(2,e),l=Math.pow(2,n);return{southWestX:$X(i,s,l),southWestY:$X(r,s,l),northEastX:$X(a,s,l),northEastY:$X(o,s,l)}}function eq(t,e,n,i){void 0===i&&(i=3);var r=Math.pow(2,n),a=Math.pow(2,i),o=t/(256*r/a);return o>a-1&&(o%=a),o<0&&(o=a+o%a),{cx:o,cy:e/(256*r/a)}}function nq(t){var e=256*Math.pow(2,t[2])/2,n=!1;return t[1]>e&&(n=!0),n}function iq(t,e,n,i){var r=Math.pow(2,n),a=256*Math.pow(2,i)/r;return[a*t,a*e,a]}function rq(t,e,n,i,r,a){var o=256*Math.pow(2,r),s=256*Math.pow(2,a);return[Math.round(t*s/o),Math.round(e*s/o),Math.round(n*s/o),Math.round(i*s/o)]}function aq(t,e){var n=256*Math.pow(2,e);return[t.southWestX/n,t.northEastX/n,t.northEastY/n,t.southWestY/n]}function oq(t,e){var n=UX.ll([t.southWestX,t.southWestY],e),i=UX.ll([t.northEastX,t.northEastY],e);return{southWestX:n[0],southWestY:n[1],northEastX:i[0],northEastY:i[1]}}function sq(t,e){var n=t[0],i=t[1],r=uq(n),a=r[0],o=r[1],s=UX.px([a,i],e),l=s[0],c=s[1];return[l+o*(256*Math.pow(2,e)),c]}function lq(t,e){var n=t[0],i=t[1],r=function(t,e){return void 0===e&&(e=0),t<0?uq(t,e+1):[t,e]}(n),a=r[0],o=r[1],s=UX.px([a,i],e),l=s[0],c=s[1];return[l+o*(256*Math.pow(2,e)),c]}function cq(t,e,n){var i=t[0],r=t[1],a=e[0],o=e[1],s=uq(i),l=s[0],c=s[1],u=uq(a),h=u[0],d=u[1],p=UX.px([l,r],n),f=p[0],g=p[1],m=UX.px([h,o],n),v=m[0],y=m[1],b=256*Math.pow(2,n);return[[f+c*b,g],[v+d*b,y]]}function uq(t,e){return void 0===e&&(e=0),t>180?uq(t-360,e+1):t<-180?uq(t+360,e-1):[t,e]}function hq(){var t=(new Date).getTime().toString();return t.substring(6,t.length)+Math.random().toString(36).substring(2,6)}Object.freeze({__proto__:null,loadImage:HX,loadImageWx:function(t,e,n){var i=EX.createCanvas2d({type:"2d",width:257,height:257});i.getContext("2d");var r=i.createImage();r.onload=function(){return e(r)},r.src=t},loadSvg:function(t,e,n){var i=new XMLHttpRequest;i.addEventListener("load",(function(){var t=i.responseXML.documentElement.cloneNode(!0);e(t)})),i.open("GET",t),i.send()},getVectorJsonFromImage:WX,wrap:function(t,e,n){var i=n-e,r=((t-e)%i+i)%i+e;return r===e?n:r},lonLat2pixel:YX,lonLatExtent2canvasCS:function(t,e,n,i,r){var a=YX(t,e,r),o=a[0],s=a[1],l=YX(t,i,n);return[o,s,l[0]-o,l[1]-s]},tileX:XX,tileY:qX,tileRange:function(t){var e=t[0],n=t[1],i=t[2],r=t[3];return[XX(e),qX(n),XX(i),qX(r)]},formatXY:ZX,getTransform:function(t,e,n){var i=e/n;return[t[0],i,0,t[3],0,-i]},zoomFromResolution3857:QX,pixelFrom3857:JX,tileRangeAmap:function(t,e){var n=t[0],i=t[1],r=t[2],a=t[3];return[KX(n,e),KX(i,e),KX(r,e),KX(a,e)]},tileIndexFromWorldPixelAndZoom:KX,tileIndexFromWorldPixel:$X,extentFromPixelToTile:tq,canvasXYFromWorldXY:eq,checkNorthOrSouth:nq,xyz2Amap:function(t,e,n,i){var r=Math.pow(2,n),a=256*Math.pow(2,i)/r;return[[a*t,a*e],[a*(t+1),a*(e+1)]]},xyz2Amap2:iq,source2world:rq,extent2UV:aq,extent2extent4326:oq,px:sq,px2:lq,px3:cq,convert:function(t,e){return UX.convert(t,e)},genUUID:hq});var dq,pq,fq,gq,mq={},vq={};function yq(t,e,n,i,r){for(var a=t.data,o=i?i.data:null,s=t.data.length,l=0;l<s;l+=4){var c=void 0;if(!n)throw new Error("no decodeStrategy");c=n(l/4,a[l],a[l+1]),o&&r&&(o[l]=r[c],o[l+1]=r[c+1],o[l+2]=r[c+2],o[l+3]=r[c+3])}}function bq(t,e,n,i,r,a){yq(t,0,(function(t,n){return e[t]={r:n,value:n*a+r},4*n}),n,i)}function xq(t){switch(t){case jX.Temp:return"°C";case jX.Pressure:return"hPa";case jX.Humidity:return"%";case jX.Visibility:return"km";case jX.Wind:return"m/s";case jX.Rain:return"mm";case jX.WaterTemp:return"°C";case jX.Waves:return"m";case jX.SeaCurrents:return"m/s"}return""}function _q(t,e,n,i){var r;if(257===t.width)r=pq;else if(2049===t.width)r=gq;else{var a=EX.createCanvas2d();a.width=t.width,a.height=t.height,r=a.getContext("2d")}r.drawImage(t,0,0);var o=r.getImageData(0,0,t.width,t.height),s=null,l=null,c=null;return i&&((l=(s=EX.createCanvas2d()).getContext("2d")).canvas.width=t.width,l.canvas.height=t.height,l.imageSmoothingQuality="high",c=l.createImageData(t.width,t.height)),mq[n]?bq(o,e,c,i,mq[n].min,mq[n].step):vq[n]?function(t,e,n,i,r){yq(t,0,(function(t,n){return e[t]={r:n,value:r(n)},4*n}),n,i)}(o,e,c,i,vq[n]):n===jX.Wind?function(t,e,n,i){yq(t,0,(function(t,n,i){var r=.2*n-25,a=.2*i-25,o=Math.sqrt(r*r+a*a);return e[t]={r:r,g:a,value:o},4*Math.floor(8*o)}),n,i)}(o,e,c,i):n===jX.SeaCurrents?function(t,e,n,i){yq(t,0,(function(t,n,i){var r,a,o;return n<10&&i<10?(r=125,a=125,o=0):(r=.04*n-5,a=.04*i-5,o=Math.sqrt(r*r+a*a)),e[t]={r:r,g:a,value:o},4*Math.floor(100*o)}),n,i)}(o,e,c,i):n===jX.Rain?function(t,e,n,i){function r(t){var e=t/16,n=Math.floor(e),i=0;return n>0&&(i=Math.pow(2,n+3)),((t-16*n)*((Math.pow(2,n+4)-i)/16)+i)/10}yq(t,0,(function(t,n){return e[t]={r:n,value:r(n)},4*n}),n,i)}(o,e,c,i):n===jX.Temp?bq(o,e,c,i,-70,.5):n===jX.Pressure?bq(o,e,c,i,930,.5):n===jX.Humidity?bq(o,e,c,i,0,.5):n===jX.Visibility?bq(o,e,c,i,0,.1):n===jX.Waves?bq(o,e,c,i,0,.05):n===jX.WaterTemp&&bq(o,e,c,i,-10,.2),l&&l.putImageData(c,0,0),s}function wq(t,e,n){mq[t]={min:e,step:n}}function Sq(t,e){vq[t]=e}var Oq=function(){function t(t){this.sourceZoom=3,this.sourceTileSize=Math.pow(2,this.sourceZoom),this.renderCallbackArray=[],void 0===t.zoom&&(t.zoom=3);var e=t.zoom;this.sourceZoom=e;var n=Math.pow(2,e);this.sourceTileSize=n;for(var i=new Array(this.sourceTileSize*this.sourceTileSize),r=n-1;r>=0;--r)for(var a=n-1;a>=0;--a)i[r*n+a]={tileXYZ:[a,r,e],pixelXYS:[0,0,0],image:null,isLoaded:!1,isDecoded:!1,decodeArr:null};this.url=t.url,this.factor=t.factor,this.tileArray=i}return t.prototype.setConfig=function(t){if(void 0===t.zoom&&(t.zoom=3),this.url!==t.url){this.url=t.url,this.factor=t.factor;var e=t.zoom;this.sourceZoom=e;var n=Math.pow(2,e);if(this.sourceTileSize=n,this.tileArray.length<n*n){this.tileArray=new Array(this.sourceTileSize*this.sourceTileSize);for(var i=this.tileArray,r=n-1;r>=0;--r)for(var a=n-1;a>=0;--a)i[r*n+a]={tileXYZ:[a,r,e],pixelXYS:[0,0,0],image:null,isLoaded:!1,isDecoded:!1,decodeArr:null}}else for(var o=(i=this.tileArray).length-1;o>=0;--o)i[o].image=null,i[o].isDecoded=!1,i[o].canvas=null,i[o].texture=null;this.renderCallbackArray=[]}},t.prototype.getFactor=function(){return this.factor},t.prototype.addRenderCallback=function(t){this.renderCallbackArray.push(t)},t.prototype.loadByExtent=function(t,e,n){var i=this;if(this.url){this.copyArray=[];for(var r=this.sourceZoom,a=this.sourceTileSize,o=this.tileArray,s=tq(t,e,r),l=s.southWestX,c=s.southWestY,u=s.northEastX,h=s.northEastY,d=(Math.floor(c)-Math.floor(h)+1)*Math.floor(Math.floor(u)-Math.floor(l)+1),p=function(t){for(var e=ZX(t,a),s=function(s){var l=ZX(s,a),c=e*a+l;o[c].image?f.tileLoadedCallback(c,s,t,r,d):f.loadTile(l,e,f.sourceZoom,(function(e){o[c].image=e,i.tileLoadedCallback(c,s,t,r,d)}),(function(){o[c].image=null,i.tileLoadedCallback(c,s,t,r,d),n&&n()}))},c=Math.floor(l);c<=Math.floor(u);c+=1)s(c)},f=this,g=Math.floor(h);g<=Math.floor(c);g+=1)p(g)}},t.prototype.decodeTextByViewPixel=function(t,e,n){return this.decodeTextByWorldPixel(e.southWestX+t[0],e.northEastY+t[1],n)},t.prototype.decodeByViewPixel=function(t,e,n){return this.decodeByWorldPixel(e.southWestX+t[0],e.northEastY+t[1],n)},t.prototype.decodeTextByWorldPixel=function(t,e,n){return parseFloat(this.decodeByWorldPixel(t,e,n).value.toFixed(1))+xq(this.factor)},t.prototype.decodeByWorldPixel=function(t,e,n){var i=eq(t,e,n,this.sourceZoom),r=~~i.cx,a=~~i.cy*this.sourceTileSize+r;if(a>this.tileArray.length-1||a<0)return null;var o=this.tileArray[a];if(!o.isDecoded){if(!o.image)return null;o.decodeArr=new Array(o.image.width*o.image.height),o.canvas=_q(o.image,o.decodeArr,this.factor),o.isDecoded=!0}var s=o.image.width-1,l=i.cx.toString().split("."),c=(i.cx-parseInt(l[0],10))*s,u=Math.round(c),h=i.cy.toString().split("."),d=(i.cy-parseInt(h[0],10))*s,p=Math.round(d);return o.decodeArr[p*(s+1)+u]},t.prototype.tileLoadedCallback=function(t,e,n,i,r){this.copyArray.push(t,e,n,i),this.copyArray.length===4*r&&this.allLoadedCallback()},t.prototype.allLoadedCallback=function(){for(var t=0,e=this.renderCallbackArray.length;t<e;t++)this.renderCallbackArray[t](this.tileArray,this.copyArray)},t.prototype.loadTile=function(t,e,n,i,r){var a=this.url.replace(/{x}/,"".concat(t));HX(a=(a=a.replace(/{y}/,"".concat(e))).replace(/{z}/,"".concat(n)),i,r)},t.prototype.clear=function(){this.url=void 0},t.idw=function(t,e){for(var n=0,i=0,r=0;r<t.length;r++){var a=Math.pow(e[r],2);n+=t[r].value/a,i+=1/a}return{r:0,g:0,value:n/i}},t}();function Cq(t){}const Aq=/ERROR:\s*\d+:(\d+)/gi;function Mq(t,e=""){const n=[...e.matchAll(Aq)],i=new Map(n.map((t,i)=>{const r=parseInt(t[1]),a=n[i+1],o=a?a.index:e.length;return[r-1,e.substring(t.index,o)]}));return t.split("\n").map((t,e)=>{const n=i.get(e);return`${e+1}: ${t}${n?"\n\n^^^ "+n:""}`}).join("\n")}function Tq(t,e,n,i){const r=i||Cq,a=t.createShader(n);if(t.shaderSource(a,e),t.compileShader(a),!t.getShaderParameter(a,t.COMPILE_STATUS)){const n=t.getShaderInfoLog(a);return r(`Error compiling shader: ${n}\n${Mq(e,n)}`),t.deleteShader(a),null}return a}const kq=["VERTEX_SHADER","FRAGMENT_SHADER"];function Lq(t,e,n,i,r){const a=[];for(let o=0;o<e.length;++o)a.push(Tq(t,e[o],t[kq[o]],r));return function(t,e,n,i,r){const a=r||Cq,o=t.createProgram();return e.forEach((function(e){t.attachShader(o,e)})),n&&n.forEach((function(e,n){t.bindAttribLocation(o,i?i[n]:n,e)})),t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS)?o:(a(`Error in program linking: ${t.getProgramInfoLog(o)}\n${e.map(e=>{const n=Mq(t.getShaderSource(e));return`${t.getShaderParameter(e,t.SHADER_TYPE)}:\n${n}`}).join("\n")}`),t.deleteProgram(o),null)}(t,a,n,i,r)}var jq=function(){function t(){this.visible=!0,this.layerCanvas=EX.createCanvasGL(),this.layerSize=new Int32Array(2)}return t.prototype.resize=function(){if(this.size){var t=this.size;this.layerSize[0]===t[0]&&this.layerSize[1]===t[1]||(this.layerCanvas.width=t[0],this.layerCanvas.height=t[1],this.layerSize[0]=t[0],this.layerSize[1]=t[1],this.layerCanvas.width=t[0],this.layerCanvas.height=t[1],this.layerSize[0]=t[0],this.layerSize[1]=t[1])}},t.prototype.setView=function(t,e,n,i){this.extent=t,this.extent4326=oq(t,e),this.zoom=e,this.size=n,this.pixelRadio=i,this.worldSize=256*Math.pow(2,e),this.resize()},t.prototype.show=function(){this.visible=!0},t}(),Iq=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tiled=!0,e}return FX(e,t),e.prototype.render=function(){this.visible&&(this.tiled&&this.compute(),this.prepare(),this.draw(),this.refresh&&this.refresh())},e.prototype.setQueue=function(t,e,n,i){this.tileChunks=t,this.copyArray=e,this.factor=n,this.mapColors=i,this.render()},e.prototype.compute=function(){for(var t=this.copyArray,e=[],n=0,i=t.length;n<i;n+=4){var r=iq(t[n+1],t[n+2],t[n+3],this.zoom),a=r[0],o=r[1],s=r[2];e.push(t[n],a,o,s)}this.pixelXYArray=e},e}(jq);function Eq(t,e,n){var i=t.createShader(e);if(t.shaderSource(i,n),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(i));return i}function Pq(t,e,n){var i=t.createProgram(),r=Eq(t,t.VERTEX_SHADER,e),a=Eq(t,t.FRAGMENT_SHADER,n);if(t.attachShader(i,r),t.attachShader(i,a),t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS))throw new Error(t.getProgramInfoLog(i));for(var o={program:i},s=t.getProgramParameter(i,t.ACTIVE_ATTRIBUTES),l=0;l<s;l++){var c=t.getActiveAttrib(i,l);o[c.name]=t.getAttribLocation(i,c.name)}var u=t.getProgramParameter(i,t.ACTIVE_UNIFORMS);for(l=0;l<u;l++){var h=t.getActiveUniform(i,l);o[h.name]=t.getUniformLocation(i,h.name)}return o}function Rq(t,e,n,i,r,a,o){var s=t.createTexture();return t.bindTexture(t.TEXTURE_2D,s),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,i),r instanceof Uint8Array?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,a,o,0,t.RGBA,t.UNSIGNED_BYTE,r):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r),t.bindTexture(t.TEXTURE_2D,null),s}function Dq(t,e,n){t.activeTexture(t.TEXTURE0+n),t.bindTexture(t.TEXTURE_2D,e)}function Fq(t,e){var n=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),n}function Nq(t,e,n,i){t.bindBuffer(t.ARRAY_BUFFER,e),t.enableVertexAttribArray(n),t.vertexAttribPointer(n,i,t.FLOAT,!1,0,0)}function Bq(t,e,n){t.bindFramebuffer(t.FRAMEBUFFER,e),n&&t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0)}var Vq="\nattribute vec2 a_position;  // 输入像素坐标\nattribute vec2 a_texCoord;  // 输入纹理坐标\nuniform vec2 u_resolution;  // Used to pass in the resolution of the canvas\nvarying vec2 v_texCoord;    // Used to pass the texture coordinates to the fragment shader\n\nvoid main() {\n  // convert the position from pixels to 0.0 to 1.0\n  vec2 zeroToOne = a_position / u_resolution;\n\n  // convert from 0->1 to 0->2\n  vec2 zeroToTwo = zeroToOne * 2.0;\n\n  // convert from 0->2 to -1->+1 (clipspace)\n  vec2 clipSpace = zeroToTwo - 1.0;\n\n  gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);  // 已经是裁剪空间坐标，坐标方向和纹理坐标一致\n\n  // pass the texCoord to the fragment shader\n  // The GPU will interpolate this value between points.\n  v_texCoord = a_texCoord;\n}",Gq="\nprecision highp float;\nuniform sampler2D u_image;// 灰度\nuniform sampler2D u_color;// 色值映射\nvarying vec2 v_texCoord;// 坐标\n\nvoid main() {\n  vec4 rgba = texture2D(u_image, v_texCoord);\n  // 用灰度r转色斑rgba\n  vec4 color = texture2D(u_color, vec2(rgba.r, 0.5));\n  gl_FragColor = color;\n}",zq="\nprecision highp float;\nuniform sampler2D u_image;\nuniform vec2 u_range_uv;\nuniform vec2 u_range_s;\nuniform sampler2D u_color;\nvarying vec2 v_texCoord;\n\nvoid main() {\n  // 用矢量uv转灰度r\n  vec4 uv = texture2D(u_image, v_texCoord);\n  float u = uv.r * (u_range_uv.y - u_range_uv.x) + u_range_uv.x;\n  float v = uv.g * (u_range_uv.y - u_range_uv.x) + u_range_uv.x;\n  float s = sqrt(u * u + v * v);\n  float r = (s - u_range_s.x) / (u_range_s.y - u_range_s.x);\n  // 用灰度r转色斑rgba\n  float f = 1.0 - uv.b;\n  vec4 color = texture2D(u_color, vec2(r, 0.5)) * f;\n  // 输出\n  gl_FragColor = color;\n}\n",Uq=function(t){function e(){var e=t.call(this)||this;if(e.gl=e.layerCanvas.getContext("webgl"),!e.gl)throw new Error("cannot get webgl context!");return e.scalarProgram=Lq(e.gl,[Vq,Gq]),e.sPositionBuffer=e.bufferInitPixelCoord(e.scalarProgram),e.bufferInitTextureCoord(e.scalarProgram),e.sResolutionLocation=e.gl.getUniformLocation(e.scalarProgram,"u_resolution"),e.sImageLocation=e.gl.getUniformLocation(e.scalarProgram,"u_image"),e.sColorMapLocation=e.gl.getUniformLocation(e.scalarProgram,"u_color"),e.vectorProgram=Lq(e.gl,[Vq,zq]),e.vPositionBuffer=e.bufferInitPixelCoord(e.vectorProgram),e.bufferInitTextureCoord(e.vectorProgram),e.vResolutionLocation=e.gl.getUniformLocation(e.vectorProgram,"u_resolution"),e.vImageLocation=e.gl.getUniformLocation(e.vectorProgram,"u_image"),e.vColorMapLocation=e.gl.getUniformLocation(e.vectorProgram,"u_color"),e.vRangeUVLocation=e.gl.getUniformLocation(e.vectorProgram,"u_range_uv"),e.vRangeSLocation=e.gl.getUniformLocation(e.vectorProgram,"u_range_s"),e}return FX(e,t),e.prototype.setLayerCanvas=function(t){this.layerCanvas=t,this.gl=t.getContext("webgl"),this.scalarProgram=Lq(this.gl,[Vq,Gq]),this.sPositionBuffer=this.bufferInitPixelCoord(this.scalarProgram),this.bufferInitTextureCoord(this.scalarProgram),this.sResolutionLocation=this.gl.getUniformLocation(this.scalarProgram,"u_resolution"),this.sImageLocation=this.gl.getUniformLocation(this.scalarProgram,"u_image"),this.sColorMapLocation=this.gl.getUniformLocation(this.scalarProgram,"u_color"),this.vectorProgram=Lq(this.gl,[Vq,zq]),this.vPositionBuffer=this.bufferInitPixelCoord(this.vectorProgram),this.bufferInitTextureCoord(this.vectorProgram),this.vResolutionLocation=this.gl.getUniformLocation(this.vectorProgram,"u_resolution"),this.vImageLocation=this.gl.getUniformLocation(this.vectorProgram,"u_image"),this.vColorMapLocation=this.gl.getUniformLocation(this.vectorProgram,"u_color"),this.vRangeUVLocation=this.gl.getUniformLocation(this.vectorProgram,"u_range_uv"),this.vRangeSLocation=this.gl.getUniformLocation(this.vectorProgram,"u_range_s")},e.prototype.prepare=function(){for(var t=this.gl,e=this.pixelXYArray,n=0,i=e.length;n<i;n+=4){var r=this.tileChunks[e[n]];r.texture||r.image&&(r.texture=Rq(t,t.NEAREST,t.LINEAR,t.CLAMP_TO_EDGE,r.image,r.image.width,r.image.height))}var a=this.mapColors.canvas;this.mapColors.texture=Rq(t,t.NEAREST,t.LINEAR,t.CLAMP_TO_EDGE,a,a.width,a.height)},e.prototype.draw=function(){var t=this.gl;t.viewport(0,0,t.canvas.width,t.canvas.height),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);var e=this.vPositionBuffer,n=this.sImageLocation;this.factor===jX.Wind?(this.useVectorProgram([-25,26],[0,255/8]),n=this.vImageLocation):this.factor===jX.SeaCurrents?(this.useVectorProgram([-2.5,255*.02-2.5],[0,2.55]),n=this.vImageLocation):this.useScalarProgram(),this.drawTile(e,n),t.bindTexture(t.TEXTURE_2D,null)},e.prototype.drawTile=function(t,e){for(var n=this.pixelXYArray,i=0,r=n.length;i<r;i+=4){var a=(n[i+1]-this.extent.southWestX)*this.pixelRadio,o=(n[i+2]-this.extent.northEastY)*this.pixelRadio,s=n[i+3]*this.pixelRadio,l=this.tileChunks[n[i]];l.texture&&this.renderTile(l.texture,a,o,s,t,e)}},e.prototype.clear=function(){var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},e.prototype.bufferInitPixelCoord=function(t){var e=this.gl,n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n);var i=e.getAttribLocation(t,"a_position");return e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),n},e.prototype.bufferInitTextureCoord=function(t){var e=this.gl,n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW);var i=e.getAttribLocation(t,"a_texCoord");e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0)},e.prototype.renderTile=function(t,e,n,i,r,a){var o=this.gl;o.bindBuffer(o.ARRAY_BUFFER,r),this.setSquare(o,e,n,i),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,t),o.uniform1i(a,0),o.drawArrays(o.TRIANGLES,0,6)},e.prototype.useScalarProgram=function(){var t=this.gl;t.useProgram(this.scalarProgram),t.bindBuffer(t.ARRAY_BUFFER,this.sPositionBuffer),t.uniform2f(this.sResolutionLocation,t.canvas.width,t.canvas.height),t.uniform1i(this.sImageLocation,0),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,this.mapColors.texture),t.uniform1i(this.sColorMapLocation,1)},e.prototype.useVectorProgram=function(t,e){var n=this.gl;n.useProgram(this.vectorProgram),n.bindBuffer(n.ARRAY_BUFFER,this.vPositionBuffer),n.uniform2f(this.vResolutionLocation,n.canvas.width,n.canvas.height),n.uniform1i(this.vImageLocation,0),n.activeTexture(n.TEXTURE1),n.bindTexture(n.TEXTURE_2D,this.mapColors.texture),n.uniform1i(this.vColorMapLocation,1),n.uniform2f(this.vRangeUVLocation,t[0],t[1]),n.uniform2f(this.vRangeSLocation,e[0],e[1])},e.prototype.setSquare=function(t,e,n,i){this.setSquareBase(t,e,n,i,i)},e.prototype.setSquareBase=function(t,e,n,i,r){var a=e,o=e+i,s=n,l=n+r;t.bufferData(t.ARRAY_BUFFER,new Float32Array([a,s,o,s,a,l,a,l,o,s,o,l]),t.STATIC_DRAW)},e}(Iq),Hq={},Wq=function(t){function e(){var e=t.call(this)||this;return e.renderer=new Uq,e.source=null,e.setColorConfig(jX.Temp,RX.temp),e.setColorConfig(jX.Pressure,RX.pressure),e.setColorConfig(jX.Humidity,RX.humidity),e.setColorConfig(jX.Visibility,RX.visibility),e.setColorConfig(jX.Rain,RX.rain),e.setColorConfig(jX.Wind,RX.wind),e.setColorConfig(jX.Waves,RX.waves),e.setColorConfig(jX.WaterTemp,RX.waterTemp),e.setColorConfig(jX.SeaCurrents,RX.seacurrent),e}return FX(e,t),e.prototype.setOption=function(t){var e=this;this.source?this.source.setConfig({url:t.url,factor:t.factor,zoom:t.zoom}):this.source=new Oq({url:t.url,factor:t.factor,zoom:t.zoom}),this.source.addRenderCallback((function(n,i){e.renderer.setQueue(n,i,t.factor,Hq[t.factor])}))},e.prototype.setColorConfig=function(t,e){return Hq[t]=e,this},e.prototype.setDecodeConfig=function(t,e,n,i){return i?Sq(t,i):wq(t,e,n),this},e.prototype.renderExtent=function(t,e,n,i){return this.renderer.setView(t,e,n,i),this.renderer.show(),this.source&&this.source.loadByExtent(t,e),this.renderer.layerCanvas},e.prototype.render4326=function(){return this.renderer.layerCanvas},e.prototype.decodeFromCanvasPixel=function(t,e,n){return this.source.decodeTextByViewPixel(t,e,n)},e}(NX),Yq=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return FX(e,t),e.prototype.render=function(){this.visible&&(this.compute(),this.prepare(),this.draw(),this.refresh&&this.refresh())},e.prototype.setQueue=function(t,e,n,i){this.tileChunks=t,this.copyArray=e,this.factor=n,this.mapColors=i,this.render()},e.prototype.compute=function(){this.pixelXYArray=rq(this.x,this.y,this.w,this.h,this.z,this.zoom)},e}(jq),Xq="\nattribute vec2 a_position;//输入像素坐标\nattribute vec2 a_texCoord;//输入纹理坐标\nuniform vec2 u_resolution;// Used to pass in the resolution of the canvas\nvarying vec2 v_texCoord;// Used to pass the texture coordinates to the fragment shader\n\nvoid main() {\n  // convert the position from pixels to 0.0 to 1.0\n  vec2 zeroToOne = a_position / u_resolution;\n\n  // convert from 0->1 to 0->2\n  vec2 zeroToTwo = zeroToOne * 2.0;\n\n  // convert from 0->2 to -1->+1 (clipspace)\n  vec2 clipSpace = zeroToTwo - 1.0;\n\n  gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);//已经是裁剪空间坐标，坐标方向和纹理坐标一致\n\n  // pass the texCoord to the fragment shader\n  // The GPU will interpolate this value between points.\n  v_texCoord = a_texCoord;\n}",qq=function(t){function e(){var e=t.call(this)||this;if(e.gl=e.layerCanvas.getContext("webgl"),!e.gl)throw new Error("cannot get webgl context!");return e.scalarProgram=Lq(e.gl,[Xq,"\nprecision highp float;\nuniform sampler2D u_image;// 灰度\nuniform sampler2D u_color;// 色值映射\nvarying vec2 v_texCoord;// 坐标\n\nvoid main() {\n  vec4 rgba = texture2D(u_image, v_texCoord);\n  // 用灰度r转色斑rgba\n  vec4 color = texture2D(u_color, vec2(rgba.r, 0.5));\n  gl_FragColor = color;\n}"]),e.sPositionBuffer=e.bufferInitPixelCoord(e.scalarProgram),e.bufferInitTextureCoord(e.scalarProgram),e.sResolutionLocation=e.gl.getUniformLocation(e.scalarProgram,"u_resolution"),e.sImageLocation=e.gl.getUniformLocation(e.scalarProgram,"u_image"),e.sColorMapLocation=e.gl.getUniformLocation(e.scalarProgram,"u_color"),e.vectorProgram=Lq(e.gl,[Xq,"\nprecision highp float;\nuniform sampler2D u_image;\nuniform vec2 u_range_uv;\nuniform vec2 u_range_s;\nuniform sampler2D u_color;\nvarying vec2 v_texCoord;\n\nvoid main() {\n  // 用矢量uv转灰度r\n  vec4 uv = texture2D(u_image, v_texCoord);\n  float u = uv.r * (u_range_uv.y - u_range_uv.x) + u_range_uv.x;\n  float v = uv.g * (u_range_uv.y - u_range_uv.x) + u_range_uv.x;\n  float s = sqrt(u * u + v * v);\n  float r = (s - u_range_s.x) / (u_range_s.y - u_range_s.x);\n  // 用灰度r转色斑rgba\n  float f = 1.0 - uv.b;\n  vec4 color = texture2D(u_color, vec2(r, 0.5)) * f;\n  // 输出\n  gl_FragColor = color;\n}\n"]),e.vPositionBuffer=e.bufferInitPixelCoord(e.vectorProgram),e.bufferInitTextureCoord(e.vectorProgram),e.vResolutionLocation=e.gl.getUniformLocation(e.vectorProgram,"u_resolution"),e.vImageLocation=e.gl.getUniformLocation(e.vectorProgram,"u_image"),e.vColorMapLocation=e.gl.getUniformLocation(e.vectorProgram,"u_color"),e.vRangeUVLocation=e.gl.getUniformLocation(e.vectorProgram,"u_range_uv"),e.vRangeSLocation=e.gl.getUniformLocation(e.vectorProgram,"u_range_s"),e}return FX(e,t),e.prototype.setLayerCanvas=function(t){},e.prototype.prepare=function(){var t=this.gl,e=this.tileChunks[0];e.texture||(e.texture=Rq(t,t.NEAREST,t.LINEAR,t.CLAMP_TO_EDGE,e.image,e.image.width,e.image.height));var n=this.mapColors.canvas;this.mapColors.texture=Rq(t,t.NEAREST,t.LINEAR,t.CLAMP_TO_EDGE,n,n.width,n.height)},e.prototype.draw=function(){var t=this.gl;t.viewport(0,0,t.canvas.width,t.canvas.height),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);var e=this.vPositionBuffer,n=this.sImageLocation;this.factor===jX.Wind?(this.useVectorProgram([-25,26],[0,255/8]),n=this.vImageLocation):this.factor===jX.SeaCurrents?(this.useVectorProgram([-2.5,255*.02-2.5],[0,2.55]),n=this.vImageLocation):this.useScalarProgram(),this.drawSquare(e,n),t.bindTexture(t.TEXTURE_2D,null)},e.prototype.drawSquare=function(t,e){var n=this.gl;n.bindBuffer(n.ARRAY_BUFFER,t),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,this.tileChunks[0].texture),n.uniform1i(e,0);var i=this.pixelXYArray,r=i[0],a=i[1],o=i[2],s=i[3],l=(r-this.extent.southWestX)*this.pixelRadio,c=(a-this.extent.northEastY)*this.pixelRadio,u=o*this.pixelRadio,h=s*this.pixelRadio;this.setSquareBase(n,l,c,u,h),n.drawArrays(n.TRIANGLES,0,6)},e.prototype.clear=function(){this.visible=!1;var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},e.prototype.bufferInitPixelCoord=function(t){var e=this.gl,n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n);var i=e.getAttribLocation(t,"a_position");return e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),n},e.prototype.bufferInitTextureCoord=function(t){var e=this.gl,n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW);var i=e.getAttribLocation(t,"a_texCoord");e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0)},e.prototype.useScalarProgram=function(){var t=this.gl;t.useProgram(this.scalarProgram),t.bindBuffer(t.ARRAY_BUFFER,this.sPositionBuffer),t.uniform2f(this.sResolutionLocation,t.canvas.width,t.canvas.height),t.uniform1i(this.sImageLocation,0),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,this.mapColors.texture),t.uniform1i(this.sColorMapLocation,1)},e.prototype.useVectorProgram=function(t,e){var n=this.gl;n.useProgram(this.vectorProgram),n.bindBuffer(n.ARRAY_BUFFER,this.vPositionBuffer),n.uniform2f(this.vResolutionLocation,n.canvas.width,n.canvas.height),n.uniform1i(this.vImageLocation,0),n.activeTexture(n.TEXTURE1),n.bindTexture(n.TEXTURE_2D,this.mapColors.texture),n.uniform1i(this.vColorMapLocation,1),n.uniform2f(this.vRangeUVLocation,t[0],t[1]),n.uniform2f(this.vRangeSLocation,e[0],e[1])},e.prototype.setSquareWest=function(t,e,n,i,r){var a=e-(i+1)/2,o=e+(i+1)/2,s=n,l=n+r;t.bufferData(t.ARRAY_BUFFER,new Float32Array([a,s,o,s,a,l,a,l,o,s,o,l]),t.STATIC_DRAW)},e.prototype.setSquareEast=function(t,e,n,i,r){var a=e+(i+1)/2,o=e+i+(i+1)/2,s=n,l=n+r;t.bufferData(t.ARRAY_BUFFER,new Float32Array([a,s,o,s,a,l,a,l,o,s,o,l]),t.STATIC_DRAW)},e.prototype.setSquare=function(t,e,n,i){this.setSquareBase(t,e,n,i,i)},e.prototype.setSquareBase=function(t,e,n,i,r){var a=e,o=e+i,s=n,l=n+r;t.bufferData(t.ARRAY_BUFFER,new Float32Array([a,s,o,s,a,l,a,l,o,s,o,l]),t.STATIC_DRAW)},e}(Yq),Zq=function(){function t(t){this.sourceZoom=3,this.sourceTileSize=Math.pow(2,this.sourceZoom),this.renderCallbackArray=[];var e=new Array(1);this.url=t.url,this.factor=t.factor,this.tileArray=e}return t.prototype.setConfig=function(t){this.url!==t.url&&(this.url=t.url,this.factor=t.factor,this.renderCallbackArray=[])},t.prototype.addRenderCallback=function(t){this.renderCallbackArray.push(t)},t.prototype.load=function(t){var e=this;if(this.url){var n=this.tileArray;HX(this.url,(function(t){n[0]={tileXYZ:[],pixelXYS:[],image:t,isDecoded:!1,isLoaded:!1,decodeArr:[],canvas:null,texture:null},e.allLoadedCallback()}),(function(){t&&t()}))}},t.prototype.decodeTextByViewPixel=function(t,e,n){return this.decodeTextByWorldPixel(e.southWestX+t[0],e.northEastY+t[1],n)},t.prototype.decodeByViewPixel=function(t,e,n){return this.decodeByWorldPixel(e.southWestX+t[0],e.northEastY+t[1],n)},t.prototype.decodeTextByWorldPixel=function(t,e,n){return parseFloat(this.decodeByWorldPixel(t,e,n).value.toFixed(1))+xq(this.factor)},t.prototype.decodeByWorldPixel=function(t,e,n){var i=eq(t,e,n,this.sourceZoom),r=~~i.cx,a=~~i.cy*this.sourceTileSize+r,o=this.tileArray[a];if(!o.isDecoded){if(!o.image)return null;o.canvas=_q(o.image,o.decodeArr,this.factor),o.isDecoded=!0}var s=i.cx.toString().split("."),l=256*(i.cx-parseInt(s[0],10)),c=Math.round(l),u=i.cy.toString().split("."),h=256*(i.cy-parseInt(u[0],10)),d=Math.round(h);return o.decodeArr[257*d+c],o.decodeArr[257*d+c+1],o.decodeArr[257*(d+1)+c],o.decodeArr[257*(d+1)+c+1],o.decodeArr[257*d+c]},t.prototype.allLoadedCallback=function(){for(var t=0,e=this.renderCallbackArray.length;t<e;t++)this.renderCallbackArray[t](this.tileArray,this.copyArray)},t.idw=function(t,e){for(var n=0,i=0,r=0;r<t.length;r++){var a=Math.pow(e[r],2);n+=t[r].value/a,i+=1/a}return{r:0,g:0,value:n/i}},t}(),Qq={},Jq=function(t){function e(){var e=t.call(this)||this;return e.renderer=new qq,e.source=null,e.setColorConfig(jX.Temp,RX.temp),e.setColorConfig(jX.Pressure,RX.pressure),e.setColorConfig(jX.Humidity,RX.humidity),e.setColorConfig(jX.Visibility,RX.visibility),e.setColorConfig(jX.Rain,RX.rain),e.setColorConfig(jX.Wind,RX.wind),e.setColorConfig(jX.Waves,RX.waves),e.setColorConfig(jX.WaterTemp,RX.waterTemp),e.setColorConfig(jX.SeaCurrents,RX.seacurrent),e}return FX(e,t),e.prototype.setOption=function(t){var e=this;this.source?this.source.setConfig({url:t.url,factor:t.factor,zoom:t.zoom}):this.source=new Zq({url:t.url,factor:t.factor,zoom:t.zoom}),this.renderer.z=t.zoom,this.renderer.x=t.x,this.renderer.y=t.y,this.renderer.w=t.w,this.renderer.h=t.h,this.source.addRenderCallback((function(n,i){e.renderer.setQueue(n,i,t.factor,Qq[t.factor])}))},e.prototype.setColorConfig=function(t,e){return Qq[t]=e,this},e.prototype.setDecodeConfig=function(t,e,n,i){return i?Sq(t,i):wq(t,e,n),this},e.prototype.renderExtent=function(t,e,n,i){return this.renderer.setView(t,e,n,i),this.renderer.show(),this.source&&this.source.load(),this.renderer.layerCanvas},e.prototype.renderAll=function(){return this.source&&this.source.load(),this.renderer.layerCanvas},e.prototype.decodeFromCanvasPixel=function(t,e,n){return this.source.decodeTextByViewPixel(t,e,n)},e}(NX),Kq=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return FX(e,t),e}(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.FRAME_RATE=30,e.FRAME_TIME=1e3/e.FRAME_RATE,e.initialized=!0,e.requestAnimationFrameId=void 0,e.lastAnimationFrameTime=0,e}return FX(e,t),e.prototype.startAnimation=function(){!this.requestAnimationFrameId&&this.initialized&&(this.lastAnimationFrameTime=Date.now(),this.animationFrameCallback()),this.startCallback&&this.startCallback()},e.prototype.stopAnimation=function(){this.requestAnimationFrameId&&(this.windowCancelAnimationFrame(),this.requestAnimationFrameId=null),this.stopCallback&&this.stopCallback()},e.prototype.animationFrameCallback=function(){this.windowAnimationFrameCallback()},e.prototype.windowAnimationFrameCallback=function(){var t=this;this.requestAnimationFrameId=window.requestAnimationFrame((function(){t.animationFrameCallback();var e=Date.now();e-t.lastAnimationFrameTime>t.FRAME_TIME&&(t.lastAnimationFrameTime=e,t.render())}))},e.prototype.windowCancelAnimationFrame=function(){window.cancelAnimationFrame(this.requestAnimationFrameId)},e.prototype.wxAnimationFrameCallback=function(){var t=this;this.requestAnimationFrameId=setTimeout((function(){t.animationFrameCallback(),t.render()}),this.FRAME_TIME)},e.prototype.wxCancelAnimationFrame=function(){clearTimeout(this.requestAnimationFrameId)},e.prototype.drawFrame=function(){},e}(jq)),$q="\nprecision mediump float;\n\nattribute float a_index;//粒子索引\n\nuniform sampler2D u_particles;//粒子状态纹理\nuniform float u_particles_res;//粒子状态纹理边长\nuniform float u_point;\nuniform vec4 u_viewport;//视口在UV上的纹理坐标范围（可能大于1）\n\nvarying vec2 v_particle_pos_uv;\n\nvoid main() {\n    // 粒子状态\n    vec4 color = texture2D(u_particles, vec2(\n        fract(a_index / u_particles_res),\n        floor(a_index / u_particles_res) / u_particles_res));\n\n    // 粒子状态 RGBA 值解码当前粒子位置，视口纹理坐标\n    vec2 v_particle_pos = vec2(\n        color.r / 255.0 + color.b,\n        color.g / 255.0 + color.a);\n        \n    // 转UV纹理坐标\n    v_particle_pos_uv = vec2(\n        fract(v_particle_pos.x * (u_viewport.y - u_viewport.x) + u_viewport.x),\n        v_particle_pos.y * (u_viewport.w - u_viewport.z) + u_viewport.z);\n    \n    // 转视口顶点坐标\n    gl_PointSize = u_point;\n    gl_Position = vec4(2.0 * v_particle_pos.x - 1.0, 1.0 - 2.0 * v_particle_pos.y, 0, 1);\n}\n",tZ="\nprecision mediump float;\n\nuniform sampler2D u_wind;\nuniform vec2 u_wind_min;\nuniform vec2 u_wind_max;\nuniform sampler2D u_color_ramp;\n\nvarying vec2 v_particle_pos_uv;\n\nvoid main() {\n    vec4 uv = texture2D(u_wind, v_particle_pos_uv);\n    vec2 velocity = mix(u_wind_min, u_wind_max, uv.rg);\n    float speed_t = length(velocity) / length(u_wind_max);\n\n    // 色值映射编码为 16x16\n    vec2 ramp_pos = vec2(\n        fract(16.0 * speed_t),\n        floor(16.0 * speed_t) / 16.0);\n\n    float f = 1.0 - uv.b;\n    gl_FragColor = texture2D(u_color_ramp, ramp_pos) * f;\n}\n",eZ="\nprecision mediump float;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_tex_pos;\n\nvoid main() {\n    v_tex_pos = a_pos;\n    gl_Position = vec4(1.0 - 2.0 * a_pos, 0, 1);\n}\n",nZ="\nprecision mediump float;\n\nuniform sampler2D u_screen;\nuniform float u_opacity;\n\nvarying vec2 v_tex_pos;\n\nvoid main() {\n    vec4 color = texture2D(u_screen, 1.0 - v_tex_pos);\n    // 即使值接近 1.0 也能保证不透明度淡出的技巧\n    gl_FragColor = vec4(floor(255.0 * color * u_opacity) / 255.0);\n}",iZ="\nprecision highp float;\n\nuniform sampler2D u_particles;\nuniform sampler2D u_wind;\nuniform vec2 u_wind_res;\nuniform vec2 u_wind_min;\nuniform vec2 u_wind_max;\nuniform float u_rand_seed;\nuniform float u_speed_factor;\nuniform float u_drop_rate;\nuniform float u_drop_rate_bump;\nuniform vec4 u_viewport;//视口在UV上的纹理坐标范围（可能大于1）\n\nvarying vec2 v_tex_pos;\n\n// 一个用于伪随机数生成的 GLSL 函数，可以接受一对数字作为输入。\n// https://stackoverflow.com/questions/4200224/random-noise-functions-for-glsl\n// http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\nconst vec3 rand_constants = vec3(12.9898, 78.233, 4375.85453);\nfloat rand(const vec2 co) {\n    float t = dot(rand_constants.xy, co);\n    return fract(sin(t) * (rand_constants.z + t));\n}\n\n// 风速查询；使用基于 4 个相邻像素的手动双线性过滤进行平滑插值\nvec2 lookup_wind(const vec2 uv) {\n    // return texture2D(u_wind, uv).rg;\n    vec2 px = 1.0 / u_wind_res;\n    vec2 vc = (floor(uv * u_wind_res)) * px;\n    vec2 f = fract(uv * u_wind_res);\n    vec2 tl = texture2D(u_wind, vc).rg;\n    vec2 tr = texture2D(u_wind, vc + vec2(px.x, 0)).rg;\n    vec2 bl = texture2D(u_wind, vc + vec2(0, px.y)).rg;\n    vec2 br = texture2D(u_wind, vc + px).rg;\n    return mix(mix(tl, tr, f.x), mix(bl, br, f.x), f.y);\n}\n\nvoid main() {\n    // 查找粒子像素颜色\n    vec4 color = texture2D(u_particles, v_tex_pos);\n    \n    // 粒子状态 RGBA 值解码当前粒子位置，视口纹理坐标\n    vec2 pos = vec2(\n        color.r / 255.0 + color.b,\n        color.g / 255.0 + color.a);\n    \n    // uv纹理坐标\n    vec2 pos_uv = vec2(\n        fract(pos.x * (u_viewport.y - u_viewport.x) + u_viewport.x),\n        pos.y * (u_viewport.w - u_viewport.z) + u_viewport.z);\n\n    // 在uv中插值出 速度矢量\n    vec2 velocity = mix(u_wind_min, u_wind_max, lookup_wind(pos_uv));\n    \n    // length(vec2) 代表计算向量长度，求一个百分比速度\n    float speed_t = length(velocity) / length(u_wind_max);\n    \n    // 洋流计算陆地，b代表是否是陆地（0或1）\n    float b = texture2D(u_wind, pos_uv).b;\n    float p = (b / -1.0) + 1.0;\n    velocity = velocity * p;\n    speed_t = speed_t * p;\n\n    // 考虑 EPSG:4236 失真来计算粒子移动的位置\n    // float distortion = cos(radians(pos.y * 180.0 - 90.0));\n    \n    // 计算粒子偏移\n    vec2 offset = vec2(velocity.x, -velocity.y) * 0.0001 * u_speed_factor;\n\n    // 更新粒子位置\n    pos = fract(1.0 + pos + offset);\n\n    // 用于粒子drop的随机种子\n    vec2 seed = (pos + v_tex_pos) * u_rand_seed;\n\n    // drop rate 是粒子在随机位置重新启动的机会\n    float drop_rate = u_drop_rate + speed_t * u_drop_rate_bump;\n    float drop = step(1.0 - drop_rate, rand(seed));\n\n    vec2 random_pos = vec2(\n        rand(seed + 1.3),\n        rand(seed + 2.1));\n    pos = mix(pos, random_pos, drop);\n\n    // 将新的粒子位置编码回RGBA\n    gl_FragColor = vec4(\n        fract(pos * 255.0),\n        floor(pos * 255.0) / 255.0);\n}",rZ=function(t){function e(){var e=t.call(this)||this;e.colorRamp={0:"rgba(110,110,110,0.3)",1:"rgba(110,110,110,0.3)"};var n=e.layerCanvas.getContext("webgl");return e.gl=n,e.lineWidth=1.2,e.speedFactor=.4,e.fadeOpacity=.95,e.dropRate=.03,e.dropRateBump=.01,e.particlesNumber=1e4,e.drawProgram=Pq(n,$q,tZ),e.screenProgram=Pq(n,eZ,nZ),e.updateProgram=Pq(n,eZ,iZ),e.quadBuffer=Fq(n,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1])),e.framebuffer=n.createFramebuffer(),e.setColorRamp(e.colorRamp),e}return FX(e,t),e.prototype.setLayerCanvas=function(t){this.layerCanvas=t;var e=t.getContext("webgl");this.gl=e,this.lineWidth=1.2,this.speedFactor=.4,this.fadeOpacity=.95,this.dropRate=.03,this.dropRateBump=.01,this.particlesNumber=1e4,this.drawProgram=Pq(e,$q,tZ),this.screenProgram=Pq(e,eZ,nZ),this.updateProgram=Pq(e,eZ,iZ),this.quadBuffer=Fq(e,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1])),this.framebuffer=e.createFramebuffer(),this.setColorRamp(this.colorRamp)},e.prototype.setColorRamp=function(t){this.colorRampTexture=Rq(this.gl,this.gl.LINEAR,this.gl.LINEAR,this.gl.CLAMP_TO_EDGE,function(t){var e=EX.createCanvas2d(),n=e.getContext("2d");e.width=256,e.height=1;var i=n.createLinearGradient(0,0,256,0);for(var r in t)i.addColorStop(+r,t[r]);return n.fillStyle=i,n.fillRect(0,0,256,1),new Uint8Array(n.getImageData(0,0,256,1).data)}(t),16,16)},e.prototype.resize=function(){t.prototype.resize.call(this);var e=this.gl,n=new Uint8Array(e.canvas.width*e.canvas.height*4).fill(0,0,e.canvas.width*e.canvas.height*4);this.backgroundTexture=Rq(e,e.NEAREST,e.NEAREST,e.CLAMP_TO_EDGE,n,e.canvas.width,e.canvas.height),this.screenTexture=Rq(e,e.NEAREST,e.NEAREST,e.CLAMP_TO_EDGE,n,e.canvas.width,e.canvas.height)},Object.defineProperty(e.prototype,"particlesNumber",{get:function(){return this._particlesNumber},set:function(t){var e=this.gl,n=this.particleStateResolution=Math.ceil(Math.sqrt(t));this._particlesNumber=n*n;for(var i=new Uint8Array(4*this.particlesNumber),r=0,a=i.length;r<a;r++)i[r]=Math.floor(256*Math.random());this.particleStateTexture0=Rq(e,e.NEAREST,e.NEAREST,e.CLAMP_TO_EDGE,i,n,n),this.particleStateTexture1=Rq(e,e.NEAREST,e.NEAREST,e.CLAMP_TO_EDGE,i,n,n);var o=new Float32Array(this.particlesNumber);for(r=0;r<this.particlesNumber;r++)o[r]=r;this.particleIndexBuffer=Fq(e,o)},enumerable:!1,configurable:!0}),e.prototype.setData=function(t){if(t){var e=this.gl;this.gridData=t,this.uvTexture=Rq(e,e.NEAREST,e.LINEAR,e.CLAMP_TO_EDGE,t.image,t.image.width,t.image.height)}else this.gridData=null,this.uvTexture=null},e.prototype.setConfig=function(t){(null==t?void 0:t.lineWidth)&&(this.lineWidth=null==t?void 0:t.lineWidth),(null==t?void 0:t.speedFactor)&&(this.speedFactor=t.speedFactor),(null==t?void 0:t.fadeOpacity)&&(this.fadeOpacity=t.fadeOpacity),(null==t?void 0:t.dropRate)&&(this.dropRate=t.dropRate),(null==t?void 0:t.dropRateBump)&&(this.dropRateBump=t.dropRateBump),(null==t?void 0:t.particlesNumber)&&(this.particlesNumber=t.particlesNumber),(null==t?void 0:t.colorRamp)&&this.setColorRamp(t.colorRamp)},e.prototype.clear=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},e.prototype.render=function(){if(this.uvTexture){var t=this.gl;t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST);var e=aq(this.extent,this.zoom);Dq(t,this.uvTexture,0),Dq(t,this.particleStateTexture0,1),this.drawScreen(e),this.updateParticles(e),this.refresh&&this.refresh(this.layerCanvas)}},e.prototype.drawScreen=function(t){var e=this.gl;Bq(e,this.framebuffer,this.screenTexture),e.viewport(0,0,e.canvas.width,e.canvas.height),this.drawTexture(this.backgroundTexture,this.fadeOpacity),this.drawParticles(t),Bq(e,null),this.drawTexture(this.screenTexture,1);var n=this.backgroundTexture;this.backgroundTexture=this.screenTexture,this.screenTexture=n},e.prototype.drawTexture=function(t,e){var n=this.gl,i=this.screenProgram;n.useProgram(i.program),Nq(n,this.quadBuffer,i.a_pos,2),Dq(n,t,2),n.uniform1i(i.u_screen,2),n.uniform1f(i.u_opacity,e),n.drawArrays(n.TRIANGLES,0,6)},e.prototype.drawParticles=function(t){var e=this.gl,n=this.drawProgram;e.useProgram(n.program),Nq(e,this.particleIndexBuffer,n.a_index,1),Dq(e,this.colorRampTexture,2),e.uniform1i(n.u_wind,0),e.uniform1i(n.u_particles,1),e.uniform1i(n.u_color_ramp,2),e.uniform1f(n.u_particles_res,this.particleStateResolution),e.uniform1f(n.u_point,this.lineWidth*this.pixelRadio),e.uniform4f(n.u_viewport,t[0],t[1],t[2],t[3]),e.uniform2f(n.u_wind_min,this.gridData.uMin,this.gridData.vMin),e.uniform2f(n.u_wind_max,this.gridData.uMax,this.gridData.vMax),e.drawArrays(e.POINTS,0,this.particlesNumber)},e.prototype.updateParticles=function(t){var e=this.gl;Bq(e,this.framebuffer,this.particleStateTexture1),e.viewport(0,0,this.particleStateResolution,this.particleStateResolution);var n=this.updateProgram;e.useProgram(n.program),Nq(e,this.quadBuffer,n.a_pos,2),e.uniform1i(n.u_wind,0),e.uniform1i(n.u_particles,1),e.uniform4f(n.u_viewport,t[0],t[1],t[2],t[3]),e.uniform1f(n.u_rand_seed,Math.random()),e.uniform2f(n.u_wind_res,this.gridData.image.width,this.gridData.image.height),e.uniform2f(n.u_wind_min,this.gridData.uMin,this.gridData.vMin),e.uniform2f(n.u_wind_max,this.gridData.uMax,this.gridData.vMax),e.uniform1f(n.u_speed_factor,this.speedFactor*this.pixelRadio),e.uniform1f(n.u_drop_rate,this.dropRate),e.uniform1f(n.u_drop_rate_bump,this.dropRateBump),e.drawArrays(e.TRIANGLES,0,6);var i=this.particleStateTexture0;this.particleStateTexture0=this.particleStateTexture1,this.particleStateTexture1=i},e}(Kq),aZ=function(t){function e(){var e=t.call(this)||this;return e.notStop=!0,e.renderer=new rZ,e}return FX(e,t),e.prototype.setOption=function(t){var e=this;if(!t.url)throw Error("config need url");t.type||(t.type="image"),this.notStop=!0,"image"===t.type?HX(t.url,(function(n){t.image=n,e.renderer.factor=t.factor,t.factor===jX.Wind?(t.uMin=-25,t.uMax=26,t.vMin=-25,t.vMax=26):t.factor===jX.SeaCurrents?(t.uMin=-2.5,t.uMax=.02*255-2.5,t.vMin=-2.5,t.vMax=.02*255-2.5):(t.uMin=-25,t.uMax=26,t.vMin=-25,t.vMax=26),e.renderer.setData(t),e.notStop&&e.start()}),(function(t){e.renderer.setData(null)})):"json"===t.type&&fetch(t.url).then((function(t){return t.json()})).then((function(n){t.json=n,e.renderer.setData(t),e.notStop&&e.start()}))},e.prototype.setConfig=function(t){this.renderer.setConfig(t)},e.prototype.start=function(){this.notStop=!0,this.renderer.startAnimation()},e.prototype.stop=function(){this.notStop=!1,this.renderer.stopAnimation()},e}(NX),oZ=Object.freeze({__proto__:null,wind0:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind0</title>\n    <g id="wind0" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组" transform="translate(78.000000, 38.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="15" x2="11.5" y2="119" id="直线-4"></line>\n            <polyline id="直线-6" points="0.5 113.063181 11.5 124.063181 22.5 113.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind1:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind2</title>\n    <g id="wind2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组备份" transform="translate(78.000000, 44.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="9" x2="11.5" y2="113" id="直线-4"></line>\n            <line x1="10.6717936" y1="4.92507883" x2="30.6709968" y2="5.10359501" id="直线-5" transform="translate(20.671395, 5.014337) rotate(-24.000000) translate(-20.671395, -5.014337) "></line>\n            <polyline id="直线-6" points="0.5 107.063181 11.5 118.063181 22.5 107.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind2:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind1</title>\n    <g id="wind1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组" transform="translate(78.000000, 38.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="15" x2="11.5" y2="119" id="直线-4"></line>\n            <line x1="10.0506387" y1="7.86888795" x2="45.0492445" y2="8.18129128" id="直线-5" transform="translate(27.549942, 8.025090) rotate(-24.000000) translate(-27.549942, -8.025090) "></line>\n            <polyline id="直线-6" points="0.5 113.063181 11.5 124.063181 22.5 113.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind3:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind3</title>\n    <g id="wind3" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组" transform="translate(78.000000, 38.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="15" x2="11.5" y2="119" id="直线-4"></line>\n            <line x1="10.0506387" y1="7.86888795" x2="45.0492445" y2="8.18129128" id="直线-5" transform="translate(27.549942, 8.025090) rotate(-24.000000) translate(-27.549942, -8.025090) "></line>\n            <line x1="10.6717936" y1="26.9250788" x2="30.6709968" y2="27.103595" id="直线-5备份" transform="translate(20.671395, 27.014337) rotate(-24.000000) translate(-20.671395, -27.014337) "></line>\n            <polyline id="直线-6" points="0.5 113.063181 11.5 124.063181 22.5 113.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind4:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind4</title>\n    <g id="wind4" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组" transform="translate(78.000000, 38.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="15" x2="11.5" y2="119" id="直线-4"></line>\n            <line x1="10.0506387" y1="7.86888795" x2="45.0492445" y2="8.18129128" id="直线-5" transform="translate(27.549942, 8.025090) rotate(-24.000000) translate(-27.549942, -8.025090) "></line>\n            <line x1="10.0506387" y1="23.868888" x2="45.0492445" y2="24.1812913" id="直线-5备份" transform="translate(27.549942, 24.025090) rotate(-24.000000) translate(-27.549942, -24.025090) "></line>\n            <polyline id="直线-6" points="0.5 113.063181 11.5 124.063181 22.5 113.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind5:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind5</title>\n    <g id="wind5" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组" transform="translate(78.000000, 38.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="15" x2="11.5" y2="119" id="直线-4"></line>\n            <line x1="10.0506387" y1="7.86888795" x2="45.0492445" y2="8.18129128" id="直线-5" transform="translate(27.549942, 8.025090) rotate(-24.000000) translate(-27.549942, -8.025090) "></line>\n            <line x1="10.0506387" y1="23.868888" x2="45.0492445" y2="24.1812913" id="直线-5备份" transform="translate(27.549942, 24.025090) rotate(-24.000000) translate(-27.549942, -24.025090) "></line>\n            <line x1="10.6717936" y1="42.9250788" x2="30.6709968" y2="43.103595" id="直线-5备份-2" transform="translate(20.671395, 43.014337) rotate(-24.000000) translate(-20.671395, -43.014337) "></line>\n            <polyline id="直线-6" points="0.5 113.063181 11.5 124.063181 22.5 113.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind6:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind6</title>\n    <g id="wind6" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组" transform="translate(78.000000, 38.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="15" x2="11.5" y2="119" id="直线-4"></line>\n            <line x1="10.0506387" y1="7.86888795" x2="45.0492445" y2="8.18129128" id="直线-5" transform="translate(27.549942, 8.025090) rotate(-24.000000) translate(-27.549942, -8.025090) "></line>\n            <line x1="10.0506387" y1="23.868888" x2="45.0492445" y2="24.1812913" id="直线-5备份" transform="translate(27.549942, 24.025090) rotate(-24.000000) translate(-27.549942, -24.025090) "></line>\n            <line x1="10.0506387" y1="39.868888" x2="45.0492445" y2="40.1812913" id="直线-5备份-2" transform="translate(27.549942, 40.025090) rotate(-24.000000) translate(-27.549942, -40.025090) "></line>\n            <polyline id="直线-6" points="0.5 113.063181 11.5 124.063181 22.5 113.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind7:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind7</title>\n    <g id="wind7" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组" transform="translate(78.000000, 38.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="15" x2="11.5" y2="119" id="直线-4"></line>\n            <line x1="10.0506387" y1="7.86888795" x2="45.0492445" y2="8.18129128" id="直线-5" transform="translate(27.549942, 8.025090) rotate(-24.000000) translate(-27.549942, -8.025090) "></line>\n            <line x1="10.0506387" y1="23.868888" x2="45.0492445" y2="24.1812913" id="直线-5备份" transform="translate(27.549942, 24.025090) rotate(-24.000000) translate(-27.549942, -24.025090) "></line>\n            <line x1="10.0506387" y1="39.868888" x2="45.0492445" y2="40.1812913" id="直线-5备份-2" transform="translate(27.549942, 40.025090) rotate(-24.000000) translate(-27.549942, -40.025090) "></line>\n            <line x1="10.6717936" y1="58.9250788" x2="30.6709968" y2="59.103595" id="直线-5备份-3" transform="translate(20.671395, 59.014337) rotate(-24.000000) translate(-20.671395, -59.014337) "></line>\n            <polyline id="直线-6" points="0.5 113.063181 11.5 124.063181 22.5 113.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind8:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind8</title>\n    <g id="wind8" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组" transform="translate(78.000000, 38.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="15" x2="11.5" y2="119" id="直线-4"></line>\n            <line x1="10.0506387" y1="7.86888795" x2="45.0492445" y2="8.18129128" id="直线-5" transform="translate(27.549942, 8.025090) rotate(-24.000000) translate(-27.549942, -8.025090) "></line>\n            <line x1="10.0506387" y1="23.868888" x2="45.0492445" y2="24.1812913" id="直线-5备份" transform="translate(27.549942, 24.025090) rotate(-24.000000) translate(-27.549942, -24.025090) "></line>\n            <line x1="10.0506387" y1="39.868888" x2="45.0492445" y2="40.1812913" id="直线-5备份-2" transform="translate(27.549942, 40.025090) rotate(-24.000000) translate(-27.549942, -40.025090) "></line>\n            <line x1="10.0506387" y1="55.868888" x2="45.0492445" y2="56.1812913" id="直线-5备份-3" transform="translate(27.549942, 56.025090) rotate(-24.000000) translate(-27.549942, -56.025090) "></line>\n            <polyline id="直线-6" points="0.5 113.063181 11.5 124.063181 22.5 113.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind9:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind9</title>\n    <g id="wind9" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组" transform="translate(78.000000, 38.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="15" x2="11.5" y2="119" id="直线-4"></line>\n            <line x1="10.0506387" y1="7.86888795" x2="45.0492445" y2="8.18129128" id="直线-5" transform="translate(27.549942, 8.025090) rotate(-24.000000) translate(-27.549942, -8.025090) "></line>\n            <line x1="10.0506387" y1="23.868888" x2="45.0492445" y2="24.1812913" id="直线-5备份" transform="translate(27.549942, 24.025090) rotate(-24.000000) translate(-27.549942, -24.025090) "></line>\n            <line x1="10.0506387" y1="39.868888" x2="45.0492445" y2="40.1812913" id="直线-5备份-2" transform="translate(27.549942, 40.025090) rotate(-24.000000) translate(-27.549942, -40.025090) "></line>\n            <line x1="10.0506387" y1="55.868888" x2="45.0492445" y2="56.1812913" id="直线-5备份-3" transform="translate(27.549942, 56.025090) rotate(-24.000000) translate(-27.549942, -56.025090) "></line>\n            <line x1="10.6717936" y1="74.9250788" x2="30.6709968" y2="75.103595" id="直线-5备份-4" transform="translate(20.671395, 75.014337) rotate(-24.000000) translate(-20.671395, -75.014337) "></line>\n            <polyline id="直线-6" points="0.5 113.063181 11.5 124.063181 22.5 113.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind10:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind11</title>\n    <g id="wind10" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组" transform="translate(78.000000, 41.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="12" x2="11.5" y2="116" id="直线-4"></line>\n            <polyline id="直线-5备份" stroke-linejoin="round" transform="translate(24.577362, 14.348567) rotate(-24.000000) translate(-24.577362, -14.348567) " points="7.07805942 21.5007292 42.0766652 21.8131325 13.5858457 6.88400186"></polyline>\n            <polyline id="直线-6" points="0.5 110.063181 11.5 121.063181 22.5 110.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind11:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind11</title>\n    <g id="wind11" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组" transform="translate(78.000000, 41.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="12" x2="11.5" y2="116" id="直线-4"></line>\n            <polyline id="直线-5备份" stroke-linejoin="round" transform="translate(24.577362, 14.348567) rotate(-24.000000) translate(-24.577362, -14.348567) " points="7.07805942 21.5007292 42.0766652 21.8131325 13.5858457 6.88400186"></polyline>\n            <line x1="10.6717936" y1="39.9250788" x2="30.6709968" y2="40.103595" id="直线-5备份-2" transform="translate(20.671395, 40.014337) rotate(-24.000000) translate(-20.671395, -40.014337) "></line>\n            <polyline id="直线-6" points="0.5 110.063181 11.5 121.063181 22.5 110.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind12:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind12</title>\n    <g id="wind12" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组" transform="translate(78.000000, 41.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="12" x2="11.5" y2="116" id="直线-4"></line>\n            <polyline id="直线-5备份" stroke-linejoin="round" transform="translate(24.577362, 14.348567) rotate(-24.000000) translate(-24.577362, -14.348567) " points="7.07805942 21.5007292 42.0766652 21.8131325 13.5858457 6.88400186"></polyline>\n            <line x1="10.0506387" y1="36.868888" x2="45.0492445" y2="37.1812913" id="直线-5备份-2" transform="translate(27.549942, 37.025090) rotate(-24.000000) translate(-27.549942, -37.025090) "></line>\n            <polyline id="直线-6" points="0.5 110.063181 11.5 121.063181 22.5 110.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind13:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind13</title>\n    <g id="wind13" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组" transform="translate(78.000000, 41.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="12" x2="11.5" y2="116" id="直线-4"></line>\n            <polyline id="直线-5备份" stroke-linejoin="round" transform="translate(24.577362, 14.348567) rotate(-24.000000) translate(-24.577362, -14.348567) " points="7.07805942 21.5007292 42.0766652 21.8131325 13.5858457 6.88400186"></polyline>\n            <line x1="10.0506387" y1="36.868888" x2="45.0492445" y2="37.1812913" id="直线-5备份-2" transform="translate(27.549942, 37.025090) rotate(-24.000000) translate(-27.549942, -37.025090) "></line>\n            <line x1="10.6717936" y1="55.9250788" x2="30.6709968" y2="56.103595" id="直线-5备份-3" transform="translate(20.671395, 56.014337) rotate(-24.000000) translate(-20.671395, -56.014337) "></line>\n            <polyline id="直线-6" points="0.5 110.063181 11.5 121.063181 22.5 110.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind14:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind14</title>\n    <g id="wind14" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组" transform="translate(78.000000, 41.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="12" x2="11.5" y2="116" id="直线-4"></line>\n            <polyline id="直线-5备份" stroke-linejoin="round" transform="translate(24.577362, 14.348567) rotate(-24.000000) translate(-24.577362, -14.348567) " points="7.07805942 21.5007292 42.0766652 21.8131325 13.5858457 6.88400186"></polyline>\n            <line x1="10.0506387" y1="36.868888" x2="45.0492445" y2="37.1812913" id="直线-5备份-2" transform="translate(27.549942, 37.025090) rotate(-24.000000) translate(-27.549942, -37.025090) "></line>\n            <line x1="10.0506387" y1="52.868888" x2="45.0492445" y2="53.1812913" id="直线-5备份-3" transform="translate(27.549942, 53.025090) rotate(-24.000000) translate(-27.549942, -53.025090) "></line>\n            <polyline id="直线-6" points="0.5 110.063181 11.5 121.063181 22.5 110.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind15:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind15</title>\n    <g id="wind15" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组" transform="translate(78.000000, 41.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="12" x2="11.5" y2="116" id="直线-4"></line>\n            <polyline id="直线-5备份" stroke-linejoin="round" transform="translate(24.577362, 14.348567) rotate(-24.000000) translate(-24.577362, -14.348567) " points="7.07805942 21.5007292 42.0766652 21.8131325 13.5858457 6.88400186"></polyline>\n            <line x1="10.0506387" y1="36.868888" x2="45.0492445" y2="37.1812913" id="直线-5备份-2" transform="translate(27.549942, 37.025090) rotate(-24.000000) translate(-27.549942, -37.025090) "></line>\n            <line x1="10.0506387" y1="52.868888" x2="45.0492445" y2="53.1812913" id="直线-5备份-3" transform="translate(27.549942, 53.025090) rotate(-24.000000) translate(-27.549942, -53.025090) "></line>\n            <line x1="10.6717936" y1="71.9250788" x2="30.6709968" y2="72.103595" id="直线-5备份-4" transform="translate(20.671395, 72.014337) rotate(-24.000000) translate(-20.671395, -72.014337) "></line>\n            <polyline id="直线-6" points="0.5 110.063181 11.5 121.063181 22.5 110.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind16:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind16</title>\n    <g id="wind16" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组" transform="translate(78.000000, 41.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="12" x2="11.5" y2="116" id="直线-4"></line>\n            <polyline id="直线-5备份" stroke-linejoin="round" transform="translate(24.577362, 14.348567) rotate(-24.000000) translate(-24.577362, -14.348567) " points="7.07805942 21.5007292 42.0766652 21.8131325 13.5858457 6.88400186"></polyline>\n            <line x1="10.0506387" y1="36.868888" x2="45.0492445" y2="37.1812913" id="直线-5备份-2" transform="translate(27.549942, 37.025090) rotate(-24.000000) translate(-27.549942, -37.025090) "></line>\n            <line x1="10.0506387" y1="52.868888" x2="45.0492445" y2="53.1812913" id="直线-5备份-3" transform="translate(27.549942, 53.025090) rotate(-24.000000) translate(-27.549942, -53.025090) "></line>\n            <line x1="10.0506387" y1="68.868888" x2="45.0492445" y2="69.1812913" id="直线-5备份-4" transform="translate(27.549942, 69.025090) rotate(-24.000000) translate(-27.549942, -69.025090) "></line>\n            <polyline id="直线-6" points="0.5 110.063181 11.5 121.063181 22.5 110.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind17:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind17</title>\n    <g id="wind17" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组备份" transform="translate(100.000000, 100.500000) scale(-1, 1) translate(-100.000000, -100.500000) translate(78.000000, 38.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="15" x2="11.5" y2="119" id="直线-4"></line>\n            <line x1="10.0506387" y1="7.86888795" x2="45.0492445" y2="8.18129128" id="直线-5" transform="translate(27.549942, 8.025090) rotate(-24.000000) translate(-27.549942, -8.025090) "></line>\n            <polyline id="直线-6" points="0.5 113.063181 11.5 124.063181 22.5 113.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind18:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind18</title>\n    <g id="wind18" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组备份-2" transform="translate(93.500000, 103.500000) scale(-1, 1) translate(-93.500000, -103.500000) translate(78.000000, 44.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="9" x2="11.5" y2="113" id="直线-4"></line>\n            <line x1="10.6717936" y1="4.92507883" x2="30.6709968" y2="5.10359501" id="直线-5" transform="translate(20.671395, 5.014337) rotate(-24.000000) translate(-20.671395, -5.014337) "></line>\n            <polyline id="直线-6" points="0.5 107.063181 11.5 118.063181 22.5 107.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind19:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind19</title>\n    <g id="wind19" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组备份" transform="translate(100.000000, 100.500000) scale(-1, 1) translate(-100.000000, -100.500000) translate(78.000000, 38.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="15" x2="11.5" y2="119" id="直线-4"></line>\n            <line x1="10.0506387" y1="7.86888795" x2="45.0492445" y2="8.18129128" id="直线-5" transform="translate(27.549942, 8.025090) rotate(-24.000000) translate(-27.549942, -8.025090) "></line>\n            <line x1="10.6717936" y1="26.9250788" x2="30.6709968" y2="27.103595" id="直线-5备份" transform="translate(20.671395, 27.014337) rotate(-24.000000) translate(-20.671395, -27.014337) "></line>\n            <polyline id="直线-6" points="0.5 113.063181 11.5 124.063181 22.5 113.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind20:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind20</title>\n    <g id="wind20" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组备份" transform="translate(100.000000, 100.500000) scale(-1, 1) translate(-100.000000, -100.500000) translate(78.000000, 38.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="15" x2="11.5" y2="119" id="直线-4"></line>\n            <line x1="10.0506387" y1="7.86888795" x2="45.0492445" y2="8.18129128" id="直线-5" transform="translate(27.549942, 8.025090) rotate(-24.000000) translate(-27.549942, -8.025090) "></line>\n            <line x1="10.0506387" y1="23.868888" x2="45.0492445" y2="24.1812913" id="直线-5备份" transform="translate(27.549942, 24.025090) rotate(-24.000000) translate(-27.549942, -24.025090) "></line>\n            <polyline id="直线-6" points="0.5 113.063181 11.5 124.063181 22.5 113.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind21:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind21</title>\n    <g id="wind21" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组备份" transform="translate(100.000000, 100.500000) scale(-1, 1) translate(-100.000000, -100.500000) translate(78.000000, 38.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="15" x2="11.5" y2="119" id="直线-4"></line>\n            <line x1="10.0506387" y1="7.86888795" x2="45.0492445" y2="8.18129128" id="直线-5" transform="translate(27.549942, 8.025090) rotate(-24.000000) translate(-27.549942, -8.025090) "></line>\n            <line x1="10.0506387" y1="23.868888" x2="45.0492445" y2="24.1812913" id="直线-5备份" transform="translate(27.549942, 24.025090) rotate(-24.000000) translate(-27.549942, -24.025090) "></line>\n            <line x1="10.6717936" y1="42.9250788" x2="30.6709968" y2="43.103595" id="直线-5备份-2" transform="translate(20.671395, 43.014337) rotate(-24.000000) translate(-20.671395, -43.014337) "></line>\n            <polyline id="直线-6" points="0.5 113.063181 11.5 124.063181 22.5 113.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind22:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind22</title>\n    <g id="wind22" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组备份" transform="translate(100.000000, 100.500000) scale(-1, 1) translate(-100.000000, -100.500000) translate(78.000000, 38.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="15" x2="11.5" y2="119" id="直线-4"></line>\n            <line x1="10.0506387" y1="7.86888795" x2="45.0492445" y2="8.18129128" id="直线-5" transform="translate(27.549942, 8.025090) rotate(-24.000000) translate(-27.549942, -8.025090) "></line>\n            <line x1="10.0506387" y1="23.868888" x2="45.0492445" y2="24.1812913" id="直线-5备份" transform="translate(27.549942, 24.025090) rotate(-24.000000) translate(-27.549942, -24.025090) "></line>\n            <line x1="10.0506387" y1="39.868888" x2="45.0492445" y2="40.1812913" id="直线-5备份-2" transform="translate(27.549942, 40.025090) rotate(-24.000000) translate(-27.549942, -40.025090) "></line>\n            <polyline id="直线-6" points="0.5 113.063181 11.5 124.063181 22.5 113.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind23:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind23</title>\n    <g id="wind23" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组备份" transform="translate(100.000000, 100.500000) scale(-1, 1) translate(-100.000000, -100.500000) translate(78.000000, 38.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="15" x2="11.5" y2="119" id="直线-4"></line>\n            <line x1="10.0506387" y1="7.86888795" x2="45.0492445" y2="8.18129128" id="直线-5" transform="translate(27.549942, 8.025090) rotate(-24.000000) translate(-27.549942, -8.025090) "></line>\n            <line x1="10.0506387" y1="23.868888" x2="45.0492445" y2="24.1812913" id="直线-5备份" transform="translate(27.549942, 24.025090) rotate(-24.000000) translate(-27.549942, -24.025090) "></line>\n            <line x1="10.0506387" y1="39.868888" x2="45.0492445" y2="40.1812913" id="直线-5备份-2" transform="translate(27.549942, 40.025090) rotate(-24.000000) translate(-27.549942, -40.025090) "></line>\n            <line x1="10.6717936" y1="58.9250788" x2="30.6709968" y2="59.103595" id="直线-5备份-3" transform="translate(20.671395, 59.014337) rotate(-24.000000) translate(-20.671395, -59.014337) "></line>\n            <polyline id="直线-6" points="0.5 113.063181 11.5 124.063181 22.5 113.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind24:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind24</title>\n    <g id="wind24" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组备份" transform="translate(100.000000, 100.500000) scale(-1, 1) translate(-100.000000, -100.500000) translate(78.000000, 38.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="15" x2="11.5" y2="119" id="直线-4"></line>\n            <line x1="10.0506387" y1="7.86888795" x2="45.0492445" y2="8.18129128" id="直线-5" transform="translate(27.549942, 8.025090) rotate(-24.000000) translate(-27.549942, -8.025090) "></line>\n            <line x1="10.0506387" y1="23.868888" x2="45.0492445" y2="24.1812913" id="直线-5备份" transform="translate(27.549942, 24.025090) rotate(-24.000000) translate(-27.549942, -24.025090) "></line>\n            <line x1="10.0506387" y1="39.868888" x2="45.0492445" y2="40.1812913" id="直线-5备份-2" transform="translate(27.549942, 40.025090) rotate(-24.000000) translate(-27.549942, -40.025090) "></line>\n            <line x1="10.0506387" y1="55.868888" x2="45.0492445" y2="56.1812913" id="直线-5备份-3" transform="translate(27.549942, 56.025090) rotate(-24.000000) translate(-27.549942, -56.025090) "></line>\n            <polyline id="直线-6" points="0.5 113.063181 11.5 124.063181 22.5 113.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind25:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind25</title>\n    <g id="wind25" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组备份" transform="translate(100.000000, 100.500000) scale(-1, 1) translate(-100.000000, -100.500000) translate(78.000000, 38.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="15" x2="11.5" y2="119" id="直线-4"></line>\n            <line x1="10.0506387" y1="7.86888795" x2="45.0492445" y2="8.18129128" id="直线-5" transform="translate(27.549942, 8.025090) rotate(-24.000000) translate(-27.549942, -8.025090) "></line>\n            <line x1="10.0506387" y1="23.868888" x2="45.0492445" y2="24.1812913" id="直线-5备份" transform="translate(27.549942, 24.025090) rotate(-24.000000) translate(-27.549942, -24.025090) "></line>\n            <line x1="10.0506387" y1="39.868888" x2="45.0492445" y2="40.1812913" id="直线-5备份-2" transform="translate(27.549942, 40.025090) rotate(-24.000000) translate(-27.549942, -40.025090) "></line>\n            <line x1="10.0506387" y1="55.868888" x2="45.0492445" y2="56.1812913" id="直线-5备份-3" transform="translate(27.549942, 56.025090) rotate(-24.000000) translate(-27.549942, -56.025090) "></line>\n            <line x1="10.6717936" y1="74.9250788" x2="30.6709968" y2="75.103595" id="直线-5备份-4" transform="translate(20.671395, 75.014337) rotate(-24.000000) translate(-20.671395, -75.014337) "></line>\n            <polyline id="直线-6" points="0.5 113.063181 11.5 124.063181 22.5 113.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind26:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind27</title>\n    <g id="wind26" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组备份" transform="translate(100.000000, 102.000000) scale(-1, 1) translate(-100.000000, -102.000000) translate(78.000000, 41.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="12" x2="11.5" y2="116" id="直线-4"></line>\n            <polyline id="直线-5备份" stroke-linejoin="round" transform="translate(24.577362, 14.348567) rotate(-24.000000) translate(-24.577362, -14.348567) " points="7.07805942 21.5007292 42.0766652 21.8131325 13.5858457 6.88400186"></polyline>\n            <polyline id="直线-6" points="0.5 110.063181 11.5 121.063181 22.5 110.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind27:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind27</title>\n    <g id="wind27" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组备份" transform="translate(100.000000, 102.000000) scale(-1, 1) translate(-100.000000, -102.000000) translate(78.000000, 41.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="12" x2="11.5" y2="116" id="直线-4"></line>\n            <polyline id="直线-5备份" stroke-linejoin="round" transform="translate(24.577362, 14.348567) rotate(-24.000000) translate(-24.577362, -14.348567) " points="7.07805942 21.5007292 42.0766652 21.8131325 13.5858457 6.88400186"></polyline>\n            <line x1="10.6717936" y1="39.9250788" x2="30.6709968" y2="40.103595" id="直线-5备份-2" transform="translate(20.671395, 40.014337) rotate(-24.000000) translate(-20.671395, -40.014337) "></line>\n            <polyline id="直线-6" points="0.5 110.063181 11.5 121.063181 22.5 110.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind28:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind28</title>\n    <g id="wind28" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组备份" transform="translate(100.000000, 102.000000) scale(-1, 1) translate(-100.000000, -102.000000) translate(78.000000, 41.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="12" x2="11.5" y2="116" id="直线-4"></line>\n            <polyline id="直线-5备份" stroke-linejoin="round" transform="translate(24.577362, 14.348567) rotate(-24.000000) translate(-24.577362, -14.348567) " points="7.07805942 21.5007292 42.0766652 21.8131325 13.5858457 6.88400186"></polyline>\n            <line x1="10.0506387" y1="36.868888" x2="45.0492445" y2="37.1812913" id="直线-5备份-2" transform="translate(27.549942, 37.025090) rotate(-24.000000) translate(-27.549942, -37.025090) "></line>\n            <polyline id="直线-6" points="0.5 110.063181 11.5 121.063181 22.5 110.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind29:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind29</title>\n    <g id="wind29" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组备份" transform="translate(100.000000, 102.000000) scale(-1, 1) translate(-100.000000, -102.000000) translate(78.000000, 41.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="12" x2="11.5" y2="116" id="直线-4"></line>\n            <polyline id="直线-5备份" stroke-linejoin="round" transform="translate(24.577362, 14.348567) rotate(-24.000000) translate(-24.577362, -14.348567) " points="7.07805942 21.5007292 42.0766652 21.8131325 13.5858457 6.88400186"></polyline>\n            <line x1="10.0506387" y1="36.868888" x2="45.0492445" y2="37.1812913" id="直线-5备份-2" transform="translate(27.549942, 37.025090) rotate(-24.000000) translate(-27.549942, -37.025090) "></line>\n            <line x1="10.6717936" y1="55.9250788" x2="30.6709968" y2="56.103595" id="直线-5备份-3" transform="translate(20.671395, 56.014337) rotate(-24.000000) translate(-20.671395, -56.014337) "></line>\n            <polyline id="直线-6" points="0.5 110.063181 11.5 121.063181 22.5 110.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind30:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind30</title>\n    <g id="wind30" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组备份" transform="translate(100.000000, 102.000000) scale(-1, 1) translate(-100.000000, -102.000000) translate(78.000000, 41.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="12" x2="11.5" y2="116" id="直线-4"></line>\n            <polyline id="直线-5备份" stroke-linejoin="round" transform="translate(24.577362, 14.348567) rotate(-24.000000) translate(-24.577362, -14.348567) " points="7.07805942 21.5007292 42.0766652 21.8131325 13.5858457 6.88400186"></polyline>\n            <line x1="10.0506387" y1="36.868888" x2="45.0492445" y2="37.1812913" id="直线-5备份-2" transform="translate(27.549942, 37.025090) rotate(-24.000000) translate(-27.549942, -37.025090) "></line>\n            <line x1="10.0506387" y1="52.868888" x2="45.0492445" y2="53.1812913" id="直线-5备份-3" transform="translate(27.549942, 53.025090) rotate(-24.000000) translate(-27.549942, -53.025090) "></line>\n            <polyline id="直线-6" points="0.5 110.063181 11.5 121.063181 22.5 110.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind31:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind31</title>\n    <g id="wind31" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组备份" transform="translate(100.000000, 102.000000) scale(-1, 1) translate(-100.000000, -102.000000) translate(78.000000, 41.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="12" x2="11.5" y2="116" id="直线-4"></line>\n            <polyline id="直线-5备份" stroke-linejoin="round" transform="translate(24.577362, 14.348567) rotate(-24.000000) translate(-24.577362, -14.348567) " points="7.07805942 21.5007292 42.0766652 21.8131325 13.5858457 6.88400186"></polyline>\n            <line x1="10.0506387" y1="36.868888" x2="45.0492445" y2="37.1812913" id="直线-5备份-2" transform="translate(27.549942, 37.025090) rotate(-24.000000) translate(-27.549942, -37.025090) "></line>\n            <line x1="10.0506387" y1="52.868888" x2="45.0492445" y2="53.1812913" id="直线-5备份-3" transform="translate(27.549942, 53.025090) rotate(-24.000000) translate(-27.549942, -53.025090) "></line>\n            <line x1="10.6717936" y1="71.9250788" x2="30.6709968" y2="72.103595" id="直线-5备份-4" transform="translate(20.671395, 72.014337) rotate(-24.000000) translate(-20.671395, -72.014337) "></line>\n            <polyline id="直线-6" points="0.5 110.063181 11.5 121.063181 22.5 110.063181"></polyline>\n        </g>\n    </g>\n</svg>',wind32:'<?xml version="1.0" encoding="UTF-8"?>\n<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind32</title>\n    <g id="wind32" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组备份" transform="translate(100.000000, 102.000000) scale(-1, 1) translate(-100.000000, -102.000000) translate(78.000000, 41.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="12" x2="11.5" y2="116" id="直线-4"></line>\n            <polyline id="直线-5备份" stroke-linejoin="round" transform="translate(24.577362, 14.348567) rotate(-24.000000) translate(-24.577362, -14.348567) " points="7.07805942 21.5007292 42.0766652 21.8131325 13.5858457 6.88400186"></polyline>\n            <line x1="10.0506387" y1="36.868888" x2="45.0492445" y2="37.1812913" id="直线-5备份-2" transform="translate(27.549942, 37.025090) rotate(-24.000000) translate(-27.549942, -37.025090) "></line>\n            <line x1="10.0506387" y1="52.868888" x2="45.0492445" y2="53.1812913" id="直线-5备份-3" transform="translate(27.549942, 53.025090) rotate(-24.000000) translate(-27.549942, -53.025090) "></line>\n            <line x1="10.0506387" y1="68.868888" x2="45.0492445" y2="69.1812913" id="直线-5备份-4" transform="translate(27.549942, 69.025090) rotate(-24.000000) translate(-27.549942, -69.025090) "></line>\n            <polyline id="直线-6" points="0.5 110.063181 11.5 121.063181 22.5 110.063181"></polyline>\n        </g>\n    </g>\n</svg>'}),sZ=function(t){function e(){var e=t.call(this)||this;return e.pixelInterval=100,e.pixelSide=30,e.svgArr={},e.iconCache={},e.icons={},e.computed=!1,e}return FX(e,t),e.prototype.setLayerCanvas=function(t){this.layerCanvas=t},e.prototype.clear=function(){this.visible=!1,this.layerCanvas.getContext("2d").clearRect(0,0,this.size[0],this.size[1])},e.prototype.render=function(){if(this.source&&this.visible){var t=this.layerCanvas.getContext("2d");t.clearRect(0,0,t.canvas.width,t.canvas.height),this.computePosition();for(var e=0,n=this.featherArr.length;e<n;e++){var i=this.featherArr[e];this.computeValue(i),i.featherId&&this.drawFeather(t,i)}this.refresh&&this.refresh()}},e.prototype.setConfig=function(t){t&&(t.color?this.color=t.color:this.color="#fff",t.pixelInterval&&(this.pixelInterval=Number(t.pixelInterval)),t.pixelSide&&(this.pixelSide=Number(t.pixelSide)),t.iconType||(t.iconType="default"),this.iconCache[t.iconType]?this.icons=this.iconCache[t.iconType]:this.loadFeather(t.icon,t.iconType))},e.prototype.computePosition=function(){for(var t=[],e=this.layerSize[0],n=this.layerSize[1],i=e/this.pixelInterval,r=n/this.pixelInterval,a=0;a<i;a++)for(var o=this.pixelInterval*(a+.4),s=0;s<r;s++){var l=this.pixelInterval*(s+.4);t.push({canvasPosition:[o,l],u:null,v:null,value:null,direction:null,featherId:null})}this.featherArr=t},e.prototype.computeValue=function(t){var e=this.extent.southWestX+t.canvasPosition[0],n=this.extent.northEastY+t.canvasPosition[1];t.worldXYZ=[e,n,this.zoom];var i=this.source.decodeByWorldPixel(e,n,this.zoom);if(i){t.u=i.r,t.v=i.g,t.value=i.value;var r=t.u,a=t.v,o=t.value,s=999.9;r>0&&a>0?s=270-180*Math.atan(a/r)/Math.PI:r<0&&a>0||r<0&&a<0?s=90-180*Math.atan(a/r)/Math.PI:r>0&&a<0?s=270-180*Math.atan(a/r)/Math.PI:0===r&&a>0?s=180:0===r&&a<0?s=0:r>0&&0===a?s=270:r<0&&0===a?s=90:0===r&&0===a&&(s=999.9);var l="0";l=this.source.getFactor()===jX.SeaCurrents?this.seacurrentsValue2svg(o):this.windValue2svg(o),nq(t.worldXYZ)&&(l=(parseInt(l,10)+16).toString()),l="wind"+l,t.direction=s,t.featherId=l}},e.prototype.windValue2svg=function(t){return t<=2?"1":t>2&&t<=4?"2":t>4&&t<=6?"3":t>6&&t<=8?"4":t>8&&t<=10?"5":t>10&&t<=12?"6":t>12&&t<=14?"7":t>14&&t<=16?"8":t>16&&t<=18?"9":t>18&&t<=20?"10":t>20&&t<=22?"11":t>22&&t<=24?"12":t>24&&t<=26?"13":t>26&&t<=28?"14":t>28&&t<=30?"15":t>30?"16":"0"},e.prototype.seacurrentsValue2svg=function(t){var e=.1;return t<=e?"1":t>e&&t<=.2?"2":t>.2&&t<=3*e?"3":t>3*e&&t<=.4?"4":t>.4&&t<=.5?"5":t>.5&&t<=6*e?"6":t>6*e&&t<=7*e?"7":t>7*e&&t<=.8?"8":t>.8&&t<=.9?"9":t>.9&&t<=1?"10":t>1&&t<=1.1?"11":t>1.1&&t<=12*e?"12":t>12*e&&t<=1.3?"13":t>1.3&&t<=14*e?"14":t>14*e&&t<=1.5?"15":t>1.5?"16":"0"},e.prototype.loadFeather=function(t,e){t||(t=oZ),this.svgArr=[];for(var n=0,i=0;i<=32;i++){var r="wind"+i;this.svgArr[r]=t[r],33===++n&&this.prepareFeather(e)}},e.prototype.prepareFeather=function(t){var e=this;this.icons=[];for(var n=0,i=function(i){var a="wind"+i,o=r.svgArr[a],s=(new DOMParser).parseFromString(o,"text/xml").children[0];s.children[1].children[0].setAttribute("stroke",r.color);var l=(new XMLSerializer).serializeToString(s),c=new Blob([l],{type:"image/svg+xml"}),u=URL.createObjectURL(c),h=new Image;h.src=u,h.onload=function(){e.icons[a]=h,32===++n&&(e.iconCache[t]=e.icons,e.render())}},r=this,a=0;a<=32;a++)i(a)},e.prototype.drawFeather=function(t,e){if(this.icons[e.featherId]&&e.value){var n=this.pixelSide,i=n/2;t.save(),t.translate(e.canvasPosition[0],e.canvasPosition[1]),t.rotate(e.direction*Math.PI/180),t.drawImage(this.icons[e.featherId],-i,-i,n,n),t.restore()}},e}(jq),lZ=function(t){function e(){var e=t.call(this)||this;return e.renderer=new sZ,e.source=null,e}return FX(e,t),e.prototype.setOption=function(t){var e=this;this.source?this.source.setConfig({url:t.url,factor:jX.Wind,zoom:t.zoom}):this.source=new Oq({url:t.url,factor:jX.Wind,zoom:t.zoom}),this.renderer.setConfig(t),this.renderer.source=this.source,this.source.addRenderCallback((function(t,n){e.renderer.render()}))},e.prototype.renderExtent=function(t,e,n,i){return this.renderer.setView(t,e,n,i),this.renderer.show(),this.source&&this.source.loadByExtent(t,e),this.renderer.layerCanvas},e}(NX),cZ=function(){function t(){(dq=EX.createCanvas2d()).width=257,dq.height=257,pq=dq.getContext("2d"),(fq=EX.createCanvas2d()).width=2049,fq.height=2049,gq=fq.getContext("2d")}return t.prototype.useDefault=function(){this.colorMapTileLayer=new Wq,this.colorMapLayer=new Jq,this.particleAnimationLayer=new aZ,this.featherLayer=new lZ},t.prototype.getColorMapCanvas=function(){return this.colorMapLayer.renderer.layerCanvas},t.prototype.getParticleAnimationCanvas=function(){return this.particleAnimationLayer.renderer.layerCanvas},t.prototype.getFeatherCanvas=function(){return this.featherLayer.renderer.layerCanvas},t.prototype.renderColorMapTile=function(t){this.colorMapTileLayer.setOption(t)},t.prototype.setColorMapTileOption=function(t){this.colorMapTileLayer.setOption(t)},t.prototype.renderColorMap=function(t){this.colorMapLayer.setOption(t)},t.prototype.setColorMapOption=function(t){this.colorMapLayer.setOption(t)},t.prototype.renderParticleAnimation=function(t){this.particleAnimationLayer.setOption(t)},t.prototype.setParticleAnimationOption=function(t){this.particleAnimationLayer.setOption(t)},t.prototype.setParticleAnimationConfig=function(t){this.particleAnimationLayer.setConfig(t)},t.prototype.renderFeather=function(t){this.featherLayer.setOption(t)},t.prototype.setFeatherOption=function(t){this.featherLayer.setOption(t)},t.prototype.clearColorMapTile=function(){this.colorMapTileLayer.renderer.clear(),this.colorMapTileLayer.source.clear()},t.prototype.clearFeather=function(){this.featherLayer.renderer.clear(),this.featherLayer.source.clear()},t.prototype.decodeColorMapTileValue=function(t,e,n){return this.colorMapTileLayer.source.decodeTextByViewPixel(t,e,n)},t.prototype.getVectorJsonFromImage=function(t,e){return WX(t,e)},t.prototype.extent4326to3857=function(t,e){var n=[t.southWestX,t.southWestY],i=[t.northEastX,t.northEastY],r=[],a=[];return n[0]>i[0]?(r=lq(n,e),a=lq(i,e)):(r=sq(n,e),a=sq(i,e)),{southWestX:0|r[0],southWestY:0|r[1],northEastX:0|a[0],northEastY:0|a[1]}},t}(),uZ=function(t){function e(){var e=t.call(this)||this;return e.colorMapTileLayer=new Wq,e.colorMapLayer=new Jq,e.particleAnimationLayer=new aZ,e.featherLayer=new lZ,e}return FX(e,t),e.prototype.renderColorMapTileFunction=function(t,e,n,i,r){if(this.colorMapTileLayer){this.colorMapTileLayer.renderer.refresh=r;var a=QX(e),o=JX(t[0],t[1],a),s=JX(t[2],t[3],a),l={southWestX:0|o[0],southWestY:0|o[1],northEastX:0|s[0],northEastY:0|s[1]};return this.colorMapTileLayer.renderExtent(l,a,i,n)}return null},e.prototype.renderColorMapFunction=function(t,e,n,i,r){if(this.colorMapLayer){this.colorMapLayer.renderer.refresh=r;var a=QX(e),o=JX(t[0],t[1],a),s=JX(t[2],t[3],a),l={southWestX:0|o[0],southWestY:0|o[1],northEastX:0|s[0],northEastY:0|s[1]};return this.colorMapLayer.renderExtent(l,a,i,n)}return null},e.prototype.renderParticleFunction=function(t,e,n,i,r){if(this.particleAnimationLayer&&this.particleAnimationLayer.renderer){this.particleAnimationLayer.renderer.refresh=r;var a=QX(e),o=JX(t[0],t[1],a),s=JX(t[2],t[3],a),l={southWestX:0|o[0],southWestY:0|o[1],northEastX:0|s[0],northEastY:0|s[1]};return this.particleAnimationLayer.renderer.setView(l,a,i,n),this.particleAnimationLayer.renderer.layerCanvas}return null},e.prototype.renderFeatherFunction=function(t,e,n,i,r){this.featherLayer.renderer.refresh=r;var a=QX(e),o=JX(t[0],t[1],a),s=JX(t[2],t[3],a),l={southWestX:0|o[0],southWestY:0|o[1],northEastX:0|s[0],northEastY:0|s[1]};return this.featherLayer.renderExtent(l,a,i,1)},e.prototype.getExtent=function(t){var e=t.getView().calculateExtent(),n=t.getView().getZoom(),i=JX(e[0],e[1],n),r=JX(e[2],e[3],n);return{southWestX:0|i[0],southWestY:0|i[1],northEastX:0|r[0],northEastY:0|r[1]}},e}(cZ);(function(t){function e(){var e=t.call(this)||this;return e.colorMapTileLayer=new Wq,e.colorMapLayer=new Jq,e.particleAnimationLayer=new aZ,e.featherLayer=new lZ,e}FX(e,t),e.prototype.renderColorMapTileFunction=function(t,e,n){var i=t.getZoom(),r=sq(e,i),a=sq(n,i),o=[0|r[0],0|r[1]],s=[0|a[0],0|a[1]],l=t.getSize();this.colorMapTileLayer.renderExtent({southWestX:Math.floor(o[0]),southWestY:Math.floor(o[1]),northEastX:Math.floor(s[0]),northEastY:Math.floor(s[1])},i,[l.width,l.height],1)},e.prototype.renderParticleFunction=function(t,e,n){var i=t.getZoom(),r=sq(e,i),a=sq(n,i),o=[0|r[0],0|r[1]],s=[0|a[0],0|a[1]],l=t.getSize(),c={southWestX:Math.floor(o[0]),southWestY:Math.floor(o[1]),northEastX:Math.floor(s[0]),northEastY:Math.floor(s[1])},u=[l.width,l.height];return this.particleAnimationLayer.renderer.setView(c,i,u,1),this.particleAnimationLayer.renderer.layerCanvas},e.prototype.renderFeatherFunction=function(t,e,n){var i=t.getZoom(),r=sq(e,i),a=sq(n,i),o=[0|r[0],0|r[1]],s=[0|a[0],0|a[1]],l=t.getSize(),c={southWestX:Math.floor(o[0]),southWestY:Math.floor(o[1]),northEastX:Math.floor(s[0]),northEastY:Math.floor(s[1])},u=[l.width,l.height];return this.featherLayer.renderExtent(c,i,u,1)},e.prototype.getExtent=function(t,e,n){var i=t.getZoom(),r=sq(e,i),a=sq(n,i);return{southWestX:0|r[0],southWestY:0|r[1],northEastX:0|a[0],northEastY:0|a[1]}},e.prototype.decodeValue=function(t,e,n){return this.colorMapTileLayer.source.decodeTextByViewPixel(t,e,n)}})(cZ),function(t){function e(){var e=t.call(this)||this;return e.colorMapTileLayer=new Wq,e.colorMapLayer=new Jq,e.particleAnimationLayer=new aZ,e.featherLayer=new lZ,e}FX(e,t),e.prototype.initColorMapLayer=function(t,e){var n=this,i=[e.offsetWidth,e.offsetHeight],r=this.colorMapLayer.renderer.layerCanvas;r.setAttribute("id","mapCanvas");var a=t.getBounds(),o=t.getZoom();this.mapZoom=o,this.mapBounds=a,r.setAttribute("style","pointer-events: none;position:absolute"),r.width=e.offsetWidth,r.height=e.offsetHeight;var s=r.getContext("2d");s.fillRect(0,0,1e3,1e3),s.globalAlpha=.4,this.renderColorMapFunction(a,o,i,(function(){})),e.appendChild(r),t.addListener("bounds_changed",(function(){n.mapZoom=t.getZoom(),n.mapBounds=t.getBounds(),r.setAttribute("style","pointer-events: none;position:absolute"),r.width=e.offsetWidth,r.height=e.offsetHeight;var a=r.getContext("2d");a.fillRect(0,0,1e3,1e3),a.globalAlpha=.4,n.renderColorMapFunction(n.mapBounds,n.mapZoom,i,(function(){}))}))},e.prototype.refreshColorMapLayer=function(t){var e=[t.offsetWidth,t.offsetHeight];this.colorMapLayer.renderer.layerCanvas.getContext("2d").globalAlpha=.4,this.renderColorMapFunction(this.mapBounds,this.mapZoom,e,(function(){}))},e.prototype.renderColorMapFunction=function(t,e,n,i){if(this.colorMapLayer){this.colorMapLayer.renderer.refresh=i;var r=this.getExtent(t,e);return this.colorMapLayer.renderExtent(r,e,n,1)}throw new Error("colorMapLayer not init")},e.prototype.renderParticleFunction=function(t,e,n){var i=t.getBounds();return i.getSouthWest().lng(),i.getSouthWest().lat(),i.getNorthEast().lng(),i.getNorthEast().lat(),e.offsetWidth,e.offsetHeight,this.particleAnimationLayer&&this.particleAnimationLayer.renderer?(this.particleAnimationLayer.renderer.refresh=n,this.particleAnimationLayer.start(),this.particleAnimationLayer.renderer.layerCanvas):null},e.prototype.getExtent=function(t,e){var n=[t.getSouthWest().lng(),t.getSouthWest().lat()],i=[t.getNorthEast().lng(),t.getNorthEast().lat()],r=[],a=[];return n[0]>i[0]?(r=lq(n,e),a=lq(i,e)):(r=sq(n,e),a=sq(i,e)),{southWestX:0|r[0],southWestY:0|r[1],northEastX:0|a[0],northEastY:0|a[1]}},e.prototype.decodeValue=function(t,e,n){return this.colorMapLayer.source.decodeTextByViewPixel(t,e,n)}}(cZ),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.particle=!1,e}FX(e,t),e.prototype.initColorMapTileLayer=function(t,e,n){var i=this;this.colorMapTileLayer||(this.colorMapTileLayer=new Wq);var r=this.colorMapTileLayer.renderer.layerCanvas,a=hq(),o="cSource-"+a,s="ColorMapLayer-"+a;this.baseInit(r,t,o,s,n);var l=t.getSource(o);t.on("resize",(function(){l.setCoordinates(i.getLonLat(t)),i.renderColorMapTileFunction(t,e)})),t.on("move",(function(){l.setCoordinates(i.getLonLat(t)),i.renderColorMapTileFunction(t,e)}))},e.prototype.initColorMapLayer=function(t,e,n){var i=this;this.colorMapLayer||(this.colorMapLayer=new Jq);var r=this.colorMapLayer.renderer.layerCanvas,a=hq(),o="cSource2-"+a,s="ColorMapLayer2-"+a;this.baseInit(r,t,o,s,n);var l=t.getSource(o);t.on("resize",(function(){l.setCoordinates(i.getLonLat(t)),i.renderColorMapFunction(t,e)})),t.on("move",(function(){l.setCoordinates(i.getLonLat(t)),i.renderColorMapFunction(t,e)}))},e.prototype.initParticleLayer=function(t,e,n){var i=this;this.particleAnimationLayer||(this.particleAnimationLayer=new aZ);var r=this.particleAnimationLayer.renderer.layerCanvas,a=hq(),o="pSource"+a,s="ParticleLayer"+a;this.baseInit(r,t,o,s,n);var l=t.getSource(o);t.on("resize",(function(){l.setCoordinates(i.getLonLat(t)),i.particle&&i.startParticleAnimation(t,e)})),t.on("movestart",(function(){l.setCoordinates(i.getLonLat(t)),i.stopParticleAnimation()})),t.on("moveend",(function(){l.setCoordinates(i.getLonLat(t)),i.particle&&i.startParticleAnimation(t,e)}))},e.prototype.initFeatherLayer=function(t,e,n){var i=this;this.featherLayer||(this.featherLayer=new lZ);var r=this.featherLayer.renderer.layerCanvas,a=hq(),o="fSource-"+a,s="FeatherLayer"+a;this.baseInit(r,t,o,s,n);var l=t.getSource(o);t.on("resize",(function(){i.renderFeatherFunction(t,e),l.setCoordinates(i.getLonLat(t))})),t.on("move",(function(){i.renderFeatherFunction(t,e),l.setCoordinates(i.getLonLat(t))}))},e.prototype.baseInit=function(t,e,n,i,r){e.getLayer((null==r?void 0:r.layerId)||i)&&e.removeLayer((null==r?void 0:r.layerId)||i),e.getSource(n)&&e.removeSource(n),e.addSource(n,{type:"canvas",canvas:t,animate:!0,coordinates:this.getLonLat(e)}),e.addLayer({type:"raster",id:(null==r?void 0:r.layerId)||i,source:n,paint:(null==r?void 0:r.paint)||{}},null==r?void 0:r.beforeId)},e.prototype.renderColorMapTileFunction=function(t,e){var n=this.getExtent(t),i=t.getZoom()+1,r=[e.offsetWidth,e.offsetHeight];return this.colorMapTileLayer.renderExtent(n,i,r,1)},e.prototype.renderColorMapFunction=function(t,e){var n=this.getExtent(t),i=t.getZoom()+1,r=[e.offsetWidth,e.offsetHeight];return this.colorMapLayer.renderExtent(n,i,r,1)},e.prototype.renderFeatherFunction=function(t,e){var n=this.getExtent(t),i=t.getZoom()+1,r=[e.offsetWidth,e.offsetHeight];return this.featherLayer.renderExtent(n,i,r,1)},e.prototype.renderParticleFunction=function(t,e){var n=this.getExtent(t),i=[e.offsetWidth,e.offsetHeight],r=t.getZoom()+1;return this.particleAnimationLayer.renderer.setView(n,r,i,1),this.particleAnimationLayer.renderer.layerCanvas},e.prototype.startParticle=function(t,e){this.particle=!0,this.startParticleAnimation(t,e)},e.prototype.clearParticle=function(){return this.particle=!1,this.particleAnimationLayer.renderer.stopAnimation(),this.particleAnimationLayer.renderer.clear(),this.particleAnimationLayer.renderer.layerCanvas},e.prototype.startParticleAnimation=function(t,e){var n=this.getExtent(t),i=[e.offsetWidth,e.offsetHeight],r=t.getZoom()+1;return this.particleAnimationLayer.renderer.setView(n,r,i,1),this.particleAnimationLayer.start(),this.particleAnimationLayer.renderer.layerCanvas},e.prototype.stopParticleAnimation=function(){return this.particleAnimationLayer.stop(),this.particleAnimationLayer.renderer.layerCanvas},e.prototype.getLonLat=function(t){var e=t.getBounds(),n={lng:e._sw.lng,lat:e._sw.lat},i={lng:e._ne.lng,lat:e._ne.lat};return[[n.lng,i.lat],[i.lng,i.lat],[i.lng,n.lat],[n.lng,n.lat]]},e.prototype.getExtent=function(t){var e,n,i=t.getBounds(),r=t.getZoom()+1,a=cq([i._sw.lng,i._sw.lat],[i._ne.lng,i._ne.lat],r);return e=a[0],n=a[1],{southWestX:0|e[0],southWestY:0|e[1],northEastX:0|n[0],northEastY:0|n[1]}}}(cZ);class hZ extends aV["a"]{constructor(t,e,n,i,r,a,o){let s=t.getExtent();s&&t.canWrapX()&&(s=s.slice(),s[0]=-1/0,s[2]=1/0);let l=e.getExtent();l&&e.canWrapX()&&(l=l.slice(),l[0]=-1/0,l[2]=1/0);const c=l?Object(pV["B"])(n,l):n,u=Object(pV["x"])(c),h=Object(kG["b"])(t,e,u,i),d=AG["a"],p=new TG["a"](t,e,c,s,h*d,i),f=p.calculateSourceExtent(),g=Object(pV["I"])(f)?null:a(f,h,r),m=g?oV["a"].IDLE:oV["a"].EMPTY,v=g?g.getPixelRatio():1;super(n,i,v,m),this.targetProj_=e,this.maxSourceExtent_=s,this.triangulation_=p,this.targetResolution_=i,this.targetExtent_=n,this.sourceImage_=g,this.sourcePixelRatio_=v,this.interpolate_=o,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==oV["a"].LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const t=this.sourceImage_.getState();if(t==oV["a"].LOADED){const t=Object(pV["F"])(this.targetExtent_)/this.targetResolution_,e=Object(pV["A"])(this.targetExtent_)/this.targetResolution_;this.canvas_=Object(kG["d"])(t,e,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=t,this.changed()}load(){if(this.state==oV["a"].IDLE){this.state=oV["a"].LOADING,this.changed();const t=this.sourceImage_.getState();t==oV["a"].LOADED||t==oV["a"].ERROR?this.reproject_():(this.sourceListenerKey_=Object(_G["a"])(this.sourceImage_,rV["a"].CHANGE,(function(t){const e=this.sourceImage_.getState();e!=oV["a"].LOADED&&e!=oV["a"].ERROR||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}}unlistenSource_(){Object(_G["c"])(this.sourceListenerKey_),this.sourceListenerKey_=null}}var dZ=hZ,pZ=n("ff80");const fZ={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class gZ extends gU["a"]{constructor(t,e){super(t),this.image=e}}class mZ extends pZ["a"]{constructor(t){super({attributions:t.attributions,projection:t.projection,state:t.state,interpolate:void 0===t.interpolate||t.interpolate}),this.on,this.once,this.un,this.resolutions_=void 0!==t.resolutions?t.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0}getResolutions(){return this.resolutions_}setResolutions(t){this.resolutions_=t}findNearestResolution(t){const e=this.getResolutions();if(e){const n=Object(dG["g"])(e,t,0);t=e[n]}return t}getImage(t,e,n,i){const r=this.getProjection();if(!r||!i||Object(UB["d"])(r,i))return r&&(i=r),this.getImageInternal(t,e,n,i);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Object(UB["d"])(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==e&&Object(pV["p"])(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new dZ(r,i,t,e,n,(t,e,n)=>this.getImageInternal(t,e,n,r),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(t,e,n,i){return Object(HV["a"])()}handleImageChange(t){const e=t.target;let n;switch(e.getState()){case oV["a"].LOADING:this.loading=!0,n=fZ.IMAGELOADSTART;break;case oV["a"].LOADED:this.loading=!1,n=fZ.IMAGELOADEND;break;case oV["a"].ERROR:this.loading=!1,n=fZ.IMAGELOADERROR;break;default:return}this.hasListener(n)&&this.dispatchEvent(new gZ(n,e))}}var vZ=mZ;class yZ extends vZ{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:t.interpolate,projection:t.projection,resolutions:t.resolutions,state:t.state}),this.canvasFunction_=t.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=void 0!==t.ratio?t.ratio:1.5}getImageInternal(t,e,n,i){e=this.findNearestResolution(e);let r=this.canvas_;if(r&&this.renderedRevision_==this.getRevision()&&r.getResolution()==e&&r.getPixelRatio()==n&&Object(pV["h"])(r.getExtent(),t))return r;t=t.slice(),Object(pV["K"])(t,this.ratio_);const a=Object(pV["F"])(t)/e,o=Object(pV["A"])(t)/e,s=[a*n,o*n],l=this.canvasFunction_.call(this,t,e,n,s,i);return l&&(r=new lV(t,e,n,l)),this.canvas_=r,this.renderedRevision_=this.getRevision(),r}}var bZ=yZ,xZ=n("c8104");Object({NODE_ENV:"production",VUE_APP_BASEURL:"https://springcloud.intertion.cn",VUE_APP_CURRENTMODE:"prod",VUE_APP_IMG_URL:"https://cloudwx.intertion.cn/bills",VUE_APP_Minio_IMG_URL:"https://minio.fisheryvms.com/",VUE_APP_SERVER_Webscoket:"wss://springcloud.intertion.cn",VUE_APP_SOCKET_URL:"wss://springcloud.intertion.cn/shipCameraService/webCamera",BASE_URL:""}).VUE_APP_SERVER_URL;function _Z(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/shipTube/chart/posShipHis/queryPosHisToday",method:"GET",params:t}).then(t=>{t?e(t):(n("今日报位数据获取失败"),hH.a.error("数据获取失败"))}).catch(()=>{n("今日报位数据获取失败")})})}function wZ(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/fishingSeachartService/ship/shipUpload/findImageByVehicleId",method:"GET",params:t}).then(t=>{t?e(t):(n("船舶档案数据获取失败"),hH.a.error("船舶档案数据获取失败"))}).catch(()=>{n("船舶档案数据获取失败"),hH.a.error("船舶档案数据获取失败")})})}function SZ(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/fishingSeachartService/posShipHis/newClearCache",method:"GET",params:t}).then(t=>{t?e(t):(n("关闭失败"),hH.a.error("关闭失败"))}).catch(()=>{n("关闭失败"),hH.a.error("关闭失败")})})}function OZ(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/shipCameraService/tbShipCamera/getByVehicleId",method:"GET",params:t}).then(t=>{t?e(t):(n("获取船舶视频失败"),hH.a.error("获取船舶视频失败"))}).catch(()=>{n("获取船舶视频失败"),hH.a.error("获取船舶视频失败")})})}Object({NODE_ENV:"production",VUE_APP_BASEURL:"https://springcloud.intertion.cn",VUE_APP_CURRENTMODE:"prod",VUE_APP_IMG_URL:"https://cloudwx.intertion.cn/bills",VUE_APP_Minio_IMG_URL:"https://minio.fisheryvms.com/",VUE_APP_SERVER_Webscoket:"wss://springcloud.intertion.cn",VUE_APP_SOCKET_URL:"wss://springcloud.intertion.cn/shipCameraService/webCamera",BASE_URL:""}).VUE_APP_SERVER_URL;function CZ(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/fishingSeachartService/posShipHis/queryBySource",method:"GET",params:t}).then(t=>{t?e(t):(n("历史轨迹数据获取失败"),hH.a.error("历史轨迹数据获取失败"))}).catch(()=>{n("历史轨迹数据获取失败")})})}function AZ(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/fishingSeachartService/oaBuoy/selectBuoyTrack",method:"GET",params:t}).then(t=>{t?e(t):(n("历史轨迹数据获取失败"),hH.a.error("历史轨迹数据获取失败"))}).catch(()=>{n("历史轨迹数据获取失败")})})}Object({NODE_ENV:"production",VUE_APP_BASEURL:"https://springcloud.intertion.cn",VUE_APP_CURRENTMODE:"prod",VUE_APP_IMG_URL:"https://cloudwx.intertion.cn/bills",VUE_APP_Minio_IMG_URL:"https://minio.fisheryvms.com/",VUE_APP_SERVER_Webscoket:"wss://springcloud.intertion.cn",VUE_APP_SOCKET_URL:"wss://springcloud.intertion.cn/shipCameraService/webCamera",BASE_URL:""}).VUE_APP_SERVER_URL;function MZ(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/fishingSeachartService/jiuFang/getTextMeteorological",method:"POST",params:t}).then(t=>{t?e(t):(n("气象获取失败"),hH.a.error("气象获取失败"))}).catch(()=>{n("气象获取失败")})})}function TZ(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/weatherData/weather/getWeatherDataHistoryNoWithAis",method:"POST",data:t}).then(t=>{t?e(t):(n("获取气象失败"),hH.a.error("获取气象失败"))}).catch(()=>{n("获取气象失败")})})}function kZ(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/weatherData/weather/getLastWeatherData",method:"GET",params:t}).then(t=>{t?e(t):(n("获取气象失败"),hH.a.error("获取气象失败"))}).catch(()=>{n("获取气象失败")})})}Object({NODE_ENV:"production",VUE_APP_BASEURL:"https://springcloud.intertion.cn",VUE_APP_CURRENTMODE:"prod",VUE_APP_IMG_URL:"https://cloudwx.intertion.cn/bills",VUE_APP_Minio_IMG_URL:"https://minio.fisheryvms.com/",VUE_APP_SERVER_Webscoket:"wss://springcloud.intertion.cn",VUE_APP_SOCKET_URL:"wss://springcloud.intertion.cn/shipCameraService/webCamera",BASE_URL:""}).VUE_APP_SERVER_URL;function LZ(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/fishingSeachartService/oaBuoy/selectBuoyFish",method:"GET",params:t}).then(t=>{t?e(t):(n("渔获统计数据请求失败"),hH.a.error("渔获统计数据请求失败"))}).catch(()=>{n("渔获统计数据请求失败")})})}Object({NODE_ENV:"production",VUE_APP_BASEURL:"https://springcloud.intertion.cn",VUE_APP_CURRENTMODE:"prod",VUE_APP_IMG_URL:"https://cloudwx.intertion.cn/bills",VUE_APP_Minio_IMG_URL:"https://minio.fisheryvms.com/",VUE_APP_SERVER_Webscoket:"wss://springcloud.intertion.cn",VUE_APP_SOCKET_URL:"wss://springcloud.intertion.cn/shipCameraService/webCamera",BASE_URL:""}).VUE_APP_SERVER_URL;function jZ(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/interface/chart/shipFocusGroup/queryGroupList",method:"GET",params:t}).then(t=>{t?e(t):(n("获取关注列表失败"),hH.a.error("获取关注列表失败"))}).catch(()=>{n("获取关注列表失败")})})}function IZ(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/interface/chart/shipFocusGroup/add",method:"POST",data:t}).then(t=>{t?e(t):(n("添加新的关注分组"),hH.a.error("添加新的关注分组"))}).catch(()=>{n("添加新的关注分组")})})}function EZ(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/interface/chart/shipFocusGroup/edit",method:"PUT",data:t}).then(t=>{t?e(t):(n("修改失败"),hH.a.error("修改失败"))}).catch(()=>{n("修改失败")})})}function PZ(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/interface/tsUserShipFocus/addShipFocusByUser",method:"POST",data:t}).then(t=>{t?e(t):(n("添加关注失败"),hH.a.error("添加关注失败"))}).catch(()=>{n("添加关注失败")})})}function RZ(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/interface/tsUserShipFocus/deleteShipFocusByUser",method:"DELETE",data:t}).then(t=>{t?e(t):(n("取消关注失败"),hH.a.error("取消关注失败"))}).catch(()=>{n("取消关注失败")})})}function DZ(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/interface/chart/shipFocusGroup/delete",method:"DELETE",params:t,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json;charset=utf-8",t:sessionStorage.getItem("token")}}).then(t=>{t?e(t):(n("删除列表失败"),hH.a.error("删除列表失败"))}).catch(()=>{n("删除列表失败")})})}var FZ=n("a2e1");const NZ=new uZ,BZ={};function VZ(t){const e=new bZ({canvasFunction:(e,n,i,r)=>NZ.renderColorMapTileFunction(e,n,i,r,()=>t.render())});BZ.metLayerSource=e}function GZ(t){const e=new xZ["a"]({source:BZ.metLayerSource,zIndex:2,layerId:"metLayer",visible:!1});t.addLayer(e)}function zZ(t,e){let n={url:e,factor:jX[t]};"WaterTemp"==t&&(n.zoom=0),NZ.colorMapTileLayer.setOption(n),BZ.metLayerSource.refresh()}function UZ(t){let e=KZ("marker",t);return t.on("singleclick",(function(t){let n=yV["a"].state.metModule.timeValue,i=t=>{const e=new Date((new Date).toLocaleDateString()).getTime(),n=e+1e3*t*3600*3;return u()(n).format("YYYY-MM-DD HH:mm:ss")};const r=t.coordinate;let a=Object(UB["s"])(r,"EPSG:3857","EPSG:4326");a[0]>180?a[0]=a[0]-360:a[0]<-180&&(a[0]=a[0]+360);let o={lon:a[0],lat:a[1],date:i(n)};yV["a"].commit("mapModule/setCurrentWeather",{}),MZ(o).then(t=>{200==t.code&&(t.result&&t.result[0]?yV["a"].commit("mapModule/setCurrentWeather",t.result[0]):yV["a"].commit("mapModule/setCurrentWeather",{}))}),e.setPosition(r)}))}function HZ(t){let e=Mz("fLayer",t);if(!e){const e=new bZ({canvasFunction:(e,n,i,r)=>NZ.renderFeatherFunction(e,n,i,r,()=>t.render())}),n=new xZ["a"]({source:e,zIndex:3,layerId:"fLayer",visible:!1});t.addLayer(n)}}function WZ(t,e){NZ.featherLayer.setOption({url:t,color:"#fff",factor:jX["currents"===e?"SeaCurrents":"Wind"],pixelInterval:40,pixelSide:30,icon:YZ(e).svgConfig,iconType:YZ(e).type}),Mz("fLayer").getSource().refresh()}function YZ(t){if("currents"===t){const t='<svg width="200px" height="200px" viewBox="0 0 200 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>wind1</title>\n    <g id="wind1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">\n        <g id="编组" transform="translate(78.000000, 38.000000)" stroke="#000000" stroke-width="5">\n            <line x1="11.5" y1="15" x2="11.5" y2="119" id="直线-4"></line>\n            <polyline id="直线-6" points="0.5 113.063181 11.5 124.063181 22.5 113.063181"></polyline>\n        </g>\n    </g>\n</svg>',e={wind0:t,wind1:t,wind2:t,wind3:t,wind4:t,wind5:t,wind6:t,wind7:t,wind8:t,wind9:t,wind10:t,wind11:t,wind12:t,wind13:t,wind14:t,wind15:t,wind16:t,wind17:t,wind18:t,wind19:t,wind20:t,wind21:t,wind22:t,wind23:t,wind24:t,wind25:t,wind26:t,wind27:t,wind28:t,wind29:t,wind30:t,wind31:t,wind32:t};return{svgConfig:e,type:"currents"}}return{svgConfig:"",type:"custom"}}function XZ(t){var e=new Az["c"]({fill:new Rz["a"]({color:"transparent"}),stroke:new Nz["a"]({width:2,color:[241,241,241,.8]}),text:new Bz["a"]({font:"12px Calibri,sans-serif",placement:"line",fill:new Rz["a"]({color:"#000"}),stroke:new Nz["a"]({color:"#fff",width:3})})});let n=new vV({layerId:"isobarLayer",style:function(t){return e.getText().setText(t.get("value").toString()),e},visible:!0,zIndex:5}),i=new vV({layerId:"isIsothermLayer",style:function(t){return e.getText().setText(t.get("value").toString()),e},visible:!0,zIndex:5}),r=new vV({layerId:"isTemperaturelineLayer",style:function(t){return e.getText().setText(t.get("value").toString()),e},visible:!0,zIndex:5}),a=new vV({layerId:"isSurfcLayer",style:function(t){return e.getText().setText(t.get("value").toString()),e},visible:!0,zIndex:5});t.addLayer(n),t.addLayer(i),t.addLayer(r),t.addLayer(a)}function qZ(t,e){let n=new tV["a"]({url:t,format:new FZ["a"]});Mz(e).setSource(n),t?Mz(e).setVisible(!0):Mz(e).setVisible(!1)}function ZZ(t){const e=new bZ({canvasFunction:(e,n,i,r)=>NZ.renderParticleFunction(e,n,i,r,()=>t.render())}),n=new xZ["a"]({source:e,zIndex:5,layerId:"ParticlAnimation"});t.addLayer(n)}function QZ(t,e){let n;NZ.particleAnimationLayer.stop();let i={url:t,type:"image"};"currents"===e?(n={lineWidth:1,speedFactor:3,fadeOpacity:.98,particlesNumber:15e3,dropRate:5e-4,dropRateBump:.001},Object.assign(i,{factor:jX.SeaCurrents})):(n={lineWidth:1,speedFactor:.2,fadeOpacity:.975,particlesNumber:8e3,dropRate:.003,dropRateBump:.01},Object.assign(i,{factor:jX.Wind})),NZ.particleAnimationLayer.setConfig(n),NZ.particleAnimationLayer.setOption(i),NZ.particleAnimationLayer.start()}function JZ(t){const e=new Az["c"]({stroke:new Nz["a"]({color:"black",width:1}),text:new Bz["a"]({font:"12px Calibri,sans-serif",fill:new Rz["a"]({color:"#000"}),stroke:new Nz["a"]({color:"#fff",width:3})})}),n=new qB["a"]({crossOrigin:"anonymous",url:"https://cloudwx.intertion.cn/cfdt/darkmap-retina/{z}/{x}/{y}.png"}),i=new XB["a"]({declutter:!0,source:n,style:function(t){return e.getText().setText(t.get("name")),e},zIndex:4,layerId:"vtLayer",visible:!1});t.addLayer(i)}function KZ(t,e){if(!e.getOverlayById(t)){const n=document.getElementById(t),i=new cU["a"]({id:"popup-weather",element:n,autoPan:{animation:{duration:250}},positioning:"bottom-center"});e.addOverlay(i)}return e.getOverlayById("popup-weather")}function $Z(t){VZ(t),GZ(t),HZ(t),JZ(t),XZ(t),ZZ(t)}let tQ=[],eQ=[];function nQ(t,e,n,i){const r=e.typhoonNewList;r[r.length-1].typhoonNewList.length>0&&r[r.length-1].typhoonNewList.forEach(t=>{t.unshift(r[r.length-1])});let a=0,o=new vV({zIndex:5,layerId:"drawTyphoonLayer"+i}),s=new tV["a"];oQ(s),o.setSource(s),tQ[i]=setInterval(()=>{if(a==r.length)return cQ(r[r.length-1],t,i),uQ(r[r.length-1],s,e.baseInfo.cname?e.baseInfo.cname:e.baseInfo.ename),void clearInterval(tQ[i]);r[a].name=e.baseInfo.stormname,r[a].title="台风信息",r[a].maxsp=r[a].maxsp*.514444.toFixed(2),r[a].speed=r[a].speed*1.852.toFixed(2);let n=[r[a].lon,r[a].lat],o=new Pz["a"]({geometry:new Fz["a"](Object(UB["e"])(n))});if(o.setStyle(new Az["c"]({image:new HU["a"]({fill:new Rz["a"]({color:rQ(r[a].maxsp)}),radius:4}),zIndex:5})),o.set("typhoonPoint",!0),o.set("points",r[a]),o.set("type","Typhoon"),iQ(r[a],s,i),s.addFeature(o),a>0){let t=[r[a-1].lon,r[a-1].lat],e=new Pz["a"]({geometry:new Dz["a"]([Object(UB["e"])(n),Object(UB["e"])(t)])});const i=new Az["c"]({stroke:new Nz["a"]({color:"#EB4FA0",width:1})});e.set("type","lines"),e.setStyle(i),s.addFeature(e)}a++},100),t.addLayer(o)}function iQ(t,e,n){if(Number(t.radius7.ne)>0||Number(t.radius7.nw)>0||Number(t.radius7.se)>0||Number(t.radius7.sw)>0){let i=aQ(t,"lastPoint"+n,"radius7"),r=aQ(t,"lastPoint"+n,"radius10"),a=aQ(t,"lastPoint"+n,"radius12");null!=eQ[n]&&(e.removeFeature(e.getFeatureById(`lastPoint${n}radius7`)),e.removeFeature(e.getFeatureById(`lastPoint${n}radius10`)),e.removeFeature(e.getFeatureById(`lastPoint${n}radius12`))),eQ[n]=i,e.addFeature(i),e.addFeature(r),e.addFeature(a)}else null!=eQ[n]&&(e.removeFeature(e.getFeatureById(`lastPoint${n}radius7`)),e.removeFeature(e.getFeatureById(`lastPoint${n}radius10`)),e.removeFeature(e.getFeatureById(`lastPoint${n}radius12`)))}function rQ(t){var e=0;let n=[10.8,17.2,24.5,32.7,41.5,51],i=[17.1,24.4,32.6,41.4,50.9,1e3];for(let r=0;r<=5;r++)n[r]<=t&&t<=i[r]&&(e=r);switch(e){case 0:return"#eed139";case 1:return"#0000ff";case 2:return"#0f8000";case 3:return"#fe9c45";case 4:return"#fe00fe";case 5:return"#fe0000";default:break}}function aQ(t,e,n){let{ne:i,nw:r,se:a,sw:o}=t[n];a=a>0?a:0,o=o>0?o:0,r=r>0?r:0,i=i>0?i:0;var s={SE:1e3*a,SW:1e3*o,NW:1e3*r,NE:1e3*i};const l=new Pz["a"]({geometry:new fU(Object(UB["e"])([t.lon,t.lat]))});return l.setId(e+n),l.setStyle(new Az["c"]({renderer(t,e){let i,r=e.context,[o,l]=t[0],c=1;r.beginPath();for(let n in s){let t=.5*Math.PI*c,i=s[n]/e.resolution;r.arc(o,l,i,t-.5*Math.PI,t),c++}function u(t){let n=s["SE"]/e.resolution;n+t<50||r.fillText(i,o+n*t,l)}r.fillStyle="rgba(238, 160, 29,0.4)",r.setLineDash([0,0]),r.fill(),r.closePath(),r.strokeStyle="rgb(238, 160, 29)",r.stroke(),r.font="16px Arial",r.fillStyle="red",a>0&&("radius7"===n?(i="七级",u(.8)):"radius10"===n?(i="十级",u(.8)):"radius12"===n&&(i="十二级",u(1/3)))}})),l.set("points",t),l.set("typhoonSolar",!0),l.set("configs",s),l.set("type","TyphoonCircle"),l}function oQ(t){const e="127 34,127 22,119 18,119 11,113 4.5,105 0",n="132 34,132 15,120 0,105 0";t.addFeature(sQ(e,"Line","red","24小时警戒线","red")),t.addFeature(sQ(n,"Line","#6677F5","48小时警戒线","#6677F5"))}function sQ(t,e,n,i,r){let a=[],o=t.split(",");for(let u in o){let t=o[u].split(" ");a.push({lon:Number(t[0]),lat:Number(t[1])})}a.map((function(t,e,n){if(e>0)if(t.lon-n[e-1].lon<-180)t.lon+=360;else if(t.lon-n[e-1].lon>180){let t=e-1;while(t>=0)n[t--].lon+=360}}));let s=[];a.forEach((function(t){s.push(Object(UB["e"])([Number(t.lon),Number(t.lat)]))}));let l=null;l=new Dz["a"](s);let c=new Pz["a"]({geometry:l});return c.setStyle(lQ(n,e,i,r)),c}function lQ(t,e,n,i){let r={color:t,width:2};"dash"==e&&Object.assign(r,{lineDash:[10,10]});let a=new Nz["a"](r);return new Az["c"]({stroke:a,text:new Bz["a"]({text:n,font:"16px Calibri,sans-serif",fill:new Rz["a"]({color:i}),maxAngle:Math.PI/10,placement:"line"})})}function cQ(t,e,i){let r,a=document.getElementById("map");r=document.createElement("div"),r.innerHTML=`<div class="wind-circle" id='wind-circle${i}'>\n    <img src="${n("7c86")}" alt="" />\n  </div>`,a.appendChild(r);const o=new cU["a"]({element:document.getElementById("wind-circle"+i),offset:[.5,.5],id:"wind-circle"+i});Mz("drawTyphoonLayer"+i)&&(o.setPosition(Object(UB["s"])([t.lon,t.lat],"EPSG:4326","EPSG:3857")),e.addOverlay(o))}function uQ(t,e,n){t.typhoonNewList.forEach(t=>{hQ(t,e,n)})}function hQ(t,e,n){let i,r=!1;for(let a=0;a<t.length;a++){const o=t[a],s=o.source,l=rQ(t[a].maxsp),c=t[a];r=t.length-1==a,i=dQ(c.source)?dQ(c.source):"green",pQ(c,l,s,e,n,i,r)}fQ(t,i,e)}function dQ(t){const e=new Map([["九方","green"],["中国","red"],["中国台湾","blue"],["中国香港","orange"],["美国","yellow"],["日本","#5B89FE"]]);return e.get(t)}function pQ(t,e,n,i,r,a,o){t.country=n,t.title="预测信息",t.name=r;const s=new Pz["a"]({geometry:new Fz["a"](Object(UB["e"])([t.lon,t.lat]))});let l=()=>{let n=vQ(),i=n.getView().getZoom();return new Az["c"]({image:new HU["a"]({fill:new Rz["a"]({color:e}),radius:4}),text:new Bz["a"]({font:"12px Microsoft YaHei",text:o&&i>4?t.source:"",offsetX:25,offsetY:0,fill:new Rz["a"]({color:a})})})};s.setStyle(l),s.set("typhoonPoint",!0),s.set("points",t),s.set("type","Typhoon"),i.addFeature(s)}function fQ(t,e,n){let i=[],r=[],a="normal";for(let o=0;o<t.length;o++){let e=t[0].lon,n=t[o].lon;e>0&&e-n>180&&o>0?(r.push(t[o]),a="add"):e<0&&e-n<-180&&o>0?(r.push(t[o]),a="sub"):i.push(t[o])}if("add"===a){let t=r.map(t=>[t.lon+360,t.lat]),a=i.map(t=>[t.lon,t.lat]);gQ([...a,...t],e,n);let o=i.map(t=>[t.lon-360,t.lat]),s=r.map(t=>[t.lon,t.lat]);gQ([...o,...s],e,n)}else if("sub"===a){let t=r.map(t=>[t.lon-360,t.lat]),a=i.map(t=>[t.lon,t.lat]);gQ([...a,...t],e,n);let o=i.map(t=>[t.lon+360,t.lat]),s=r.map(t=>[t.lon,t.lat]);gQ([...o,...s],e,n)}else{let i=t.map(t=>[t.lon,t.lat]);gQ(i,e,n)}}function gQ(t,e,n){const i=t.map(t=>Object(UB["e"])(t)),r=new Pz["a"]({geometry:new Dz["a"](i)}),a=new Az["c"]({stroke:new Nz["a"]({lineDash:[10,10],color:e,width:2})});r.setStyle(a),n.addFeature(r)}function mQ(t,e=vQ()){for(let n=0;n<t;n++){let t=e.getOverlayById("wind-circle"+n),i=Mz("drawTyphoonLayer"+n);i.getSource().clear(),e.removeLayer(i),e.removeOverlay(t)}}function vQ(){return yV["a"].getters["mapModule/data"]("map")}function yQ(t){return Object(dH["a"])({url:"/fishingSeachartService/jiuFang/imgData",method:"POST",data:t})}function bQ(t){return Object(dH["a"])({url:"/fishingSeachartService/jiuFang/getIsolineData",method:"GET",params:t})}function xQ(t){return Object(dH["a"])({url:"/fishingSeachartService/jiuFang/getTyphoon",method:"POST",data:t})}var _Q={mounted(){},data(){return{checkedList:[],boxShow:!0,inSeries:["shipList","filter"],buoyBtnShow:!1,policeBtnShow:!1,typhoonLength:0,getCurrentValue:null}},methods:{...Object(mH["b"])("mapModule",["changeRightDrawerShow","setJurisdiction","setPoliceList","setPoliceShow","setPoliceNumber","setShowClassify"]),...Object(mH["b"])("buoyModule",["setBuoyListTree","setBuoyList"]),...Object(mH["b"])("shipModule",["setCrashListShow","setLoseListShow"]),...Object(mH["b"])("metModule",["changeWeatherShow"]),async addJurisdiction(){try{let{result:t}=await SX();if("1"===t["电浮标"]&&(this.buoyBtnShow=!0,this.setJurisdiction("buoy"),this.showClassify.includes("buoy")&&await this.checkBuoy()),"1"===t["越界报警"]){this.policeBtnShow=!0;let{result:t}=await CX();this.setPoliceList("clear"),t.forEach(t=>{this.setPoliceList(t),this.setPoliceNumber(1)})}}catch(t){}},async checkBuoy(){try{let{result:t}=await $W();t.length>0&&(t.map(t=>(t.lon=t.lon/60/1e4,t.lat=t.lat/60/1e4,t.speed=t.speed/10,t.course=t.course/10,t)),MX(t,"BuoyLayer",13)),this.setShowClassify("buoy"),this.setBuoyList(t)}catch(t){}},checkBox(t){let e=t.target.id;this.rightDrawId===e?e&&this[e+"Open"](!1,""):e&&this[e+"Open"](!0,e)},filterOpen(t,e){this.changeRightDrawerShow({type:t,name:"FilterMenu",id:e})},shipListOpen(t,e){this.changeRightDrawerShow({type:t,name:"ShipList",id:e})},weatherOpen(){if(this.changeWeatherShow(!this.weatherShow),this.weatherShow){this.getCurrentValue=UZ(this.map);const t=new FormData;xQ(t).then(t=>{this.typhoonLength=t.result.length;let e=0,n=t.result;for(let i of n)nQ(this.map,i,this,e),e+=1})}},async buoyOpen(t,e){if(this.showClassify.includes("buoy"))try{let{result:n}=await OX();this.setBuoyListTree(n),this.changeRightDrawerShow({type:t,name:"BuoyMenu",id:e})}catch(n){}else this.$message.warning("请在筛选中打开浮标")},policeOpen(){this.setPoliceShow(!this.policeShow),this.setPoliceNumber("clear")},dangerOpen(){let t=this.$store.state.shipModule.crashListShow;this.setCrashListShow(!t)},loseOpen(){let t=this.$store.state.shipModule.loseListShow;this.setLoseListShow(!t)},airRouteMenuOpen(t,e){this.changeRightDrawerShow({type:t,name:"AirRouteMenu",id:e})}},computed:{map(){return this.$store.getters["mapModule/data"]("map")},isRightDrawer(){return this.$store.state.mapModule.rightDrawerShow},showClassify(){return this.$store.state.mapModule.showClassify},policeShow(){return this.$store.state.mapModule.policeShow},policeNumber(){return this.$store.state.mapModule.policeNumber},dangerNumber(){let t=this.$store.state.shipModule.shipCrashList;return Object.keys(t).length},loseNumber(){let t=this.$store.state.shipModule.shipLoseList,e=Object.values(t).filter(t=>"0"!==t.status||"1"!==t.judge);return e.length},rightDrawId(){return this.$store.state.mapModule.rightDrawId},weatherShow(){return this.$store.state.metModule.weatherShow}},watch:{isRightDrawer(){this.boxShow=!1,setTimeout(()=>{this.boxShow=!0},300)}}},wQ=_Q,SQ=(n("76bb"),Object(f["a"])(wQ,_X,wX,!1,null,"5fa8515a",null)),OQ=SQ.exports,CQ=function(){var t=this,e=t._self._c;return e("div",[t._m(0),e("div",{attrs:{id:"mouse-ShipInfo-Id"}},["Buoy"===t.mouseHoverInfo("type")?e("div",[e("div",[t._v("名称: "+t._s(t.mouseHoverInfo("name")))]),e("div",[t._v("编号: "+t._s(t.mouseHoverInfo("id")))]),e("div",[t._v("时间: "+t._s(t.mouseHoverInfo("time")))])]):"historyPoint"===t.mouseHoverInfo("type")?e("div",[e("div",[t._v("船名: "+t._s(t.mouseHoverInfo("name")))]),e("div",[t._v("纬度: "+t._s(t.mouseHoverInfo("latStr")))]),e("div",[t._v("经度: "+t._s(t.mouseHoverInfo("lonStr")))]),e("div",[t._v("时间: "+t._s(t.mouseHoverInfo("time")))]),e("div",[t._v("航向: "+t._s(t.mouseHoverInfo("co")?t.mouseHoverInfo("co"):0)+" 度")]),e("div",[t._v("航速: "+t._s(t.mouseHoverInfo("speed"))+" 节")])]):"Escort"===t.mouseHoverInfo("type")?e("div",[e("div",[t._l(t.mouseHoverInfo("date").split(","),(function(n){return e("div",{key:n},[t._v(t._s(n))])})),e("div",[t._v("护航点坐标：")]),e("div",[t._v(t._s(t.mouseHoverInfo("lon"))+" "+t._s(t.mouseHoverInfo("lat")))]),e("div",[t._v("航速: "+t._s(t.mouseHoverInfo("sp"))+"节")])],2)]):"Pirate"===t.mouseHoverInfo("type")?e("div",[e("div",{staticClass:"pirateText-class"},[t._v("事件："+t._s(t.mouseHoverInfo("text")))])]):"Typhoon"===t.mouseHoverInfo("type")||"TyphoonCircle"===t.mouseHoverInfo("type")?e("div",[e("div",[t._v("名称："+t._s(t.mouseHoverInfo("points").name))]),e("div",[t._v(" 时间："+t._s(t.mouseHoverInfo("points").reporttime?t.mouseHoverInfo("points").reporttime:t.mouseHoverInfo("points").forecast_time)+" ")]),e("div",[t._v("台风等级： "+t._s(t.mouseHoverInfo("points").strong))]),e("div",[t._v("中心压强："+t._s(t.mouseHoverInfo("points").minp+"Hpa"))]),e("div",[t._v("最大风速："+t._s(t.mouseHoverInfo("points").maxsp.toFixed(2)+"m/s"))]),e("div",[t._v("移动方向："+t._s(t.mouseHoverInfo("points").direction))]),e("div",[t._v("移动速度： "+t._s(t.mouseHoverInfo("points").speed.toFixed(2)+"km/h"))]),e("div",[t._v("七级半径： "+t._s(t.mouseHoverInfo("points").radius34+"km"))]),e("div",[t._v("十级半径： "+t._s(t.mouseHoverInfo("points").radius50+"km"))])]):"historyWeather"===t.mouseHoverInfo("type")?e("div",[e("div",[t._v("风速:"+t._s(t.mouseHoverInfo("weatherWindSpeed")+t.unit["weatherWindSpeed"]))]),e("div",[t._v("风向:"+t._s(t.mouseHoverInfo("weatherWindAngleNorth")+t.unit["weatherWindAngleNorth"]))]),e("div",[t._v("温度:"+t._s(t.mouseHoverInfo("weatherTemperature")+t.unit["weatherTemperature"]))]),e("div",[t._v("气压:"+t._s(t.mouseHoverInfo("weatherAirPressure")+t.unit["weatherAirPressure"]))]),e("div",[t._v("露点温度:"+t._s(t.mouseHoverInfo("weatherPointTemperature")+t.unit["weatherPointTemperature"]))]),e("div",[t._v("海拔高度:"+t._s(t.mouseHoverInfo("weatherAltitude")+t.unit["weatherAltitude"]))]),e("div",[t._v("时间:"+t._s(t.mouseHoverInfo("time")))])]):e("div",[e("div",[t._v("船名: "+t._s(t.mouseHoverInfo("name")))]),e("div",[t._v("MMSI: "+t._s(t.mouseHoverInfo("mmsi")))]),e("div",[t._v("时间: "+t._s(t.mouseHoverInfo("pt")))])])]),e("div",{staticClass:"ol-popup1",attrs:{id:"marker"}},[e("div",{staticClass:"picker-lines"}),e("div",{attrs:{id:"popup-content-value"}}),e("div",{attrs:{id:"popup-content1"}},[e("div",{staticStyle:{height:"18px"}},[t._v("风:"+t._s(t.currentWeather.wind?t.currentWeather.wind:"--- 米/秒"))]),e("div",{staticStyle:{height:"18px"}},[t._v("流场:"+t._s(t.currentWeather.flow?t.currentWeather.flow:"--- 米/秒"))]),e("div",{staticStyle:{height:"18px"}},[t._v("风浪:"+t._s(t.currentWeather.wave?t.currentWeather.wave:"--- "))]),e("div",{staticStyle:{height:"18px"}},[t._v("涌浪:"+t._s(t.currentWeather.swellWave?t.currentWeather.swellWave:"---"))]),e("div",{staticStyle:{height:"18px"}},[t._v("海浪:"+t._s(t.currentWeather.wave1?t.currentWeather.wave1:"---"))]),e("div",{staticStyle:{height:"18px"}},[t._v("海温:"+t._s(t.currentWeather.tem?t.currentWeather.tem:"---℃"))]),e("div",{staticStyle:{height:"18px"}},[t._v(" 时间:"+t._s(t.transfromTime(t.currentWeather.time)?t.transfromTime(t.currentWeather.time):"---")+" ")])]),e("a",{staticClass:"ol-popup-closer1 el-icon-error",attrs:{href:"#",id:"popup-closer1"}})])])},AQ=[function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"mousePosition"}},[t._v("25°34.575′ S"),e("br"),t._v("13°40.192′ W")])}],MQ={props:{},mounted(){this.$nextTick(()=>{VH("mouseListen","mousePosition"),FH("mouse-ShipInfo-Id"),document.getElementById("popup-closer1").onclick=()=>{this.map.getOverlayById("popup-weather").setPosition(null)}})},computed:{mouseHoverInfo(){return function(t){var e,n;return(null===(e=this.$store.state.shipModule)||void 0===e||null===(n=e.mouseHoverInfo)||void 0===n?void 0:n[t])||""}},currentWeather(){return this.$store.state.mapModule.currentWeather},map(){return this.$store.getters["mapModule/data"]("map")},transfromTime(){return function(t){return t&&t.replace("（北京时间）","")}},unit(){return this.$store.state.historyModule.historyWeatherList.message.unit}}},TQ=MQ,kQ=(n("4a07"),Object(f["a"])(TQ,CQ,AQ,!1,null,"e7de7d3a",null)),LQ=kQ.exports,jQ=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"show",mode:"out-in"}},[t.toolShow?e("div",{class:{"tool-bar":!0,"tool-bar-static":!t.isRightDrawer,"tool-bar-move":t.isRightDrawer}},[e("div",{staticClass:"list-class"},[e("div",{class:{"check-class":t.checkIds.includes("CJ")},on:{click:t.measure}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"测距",placement:"left","open-delay":500}},[e("i",{staticClass:"iconfont icon-ceju",staticStyle:{"font-weight":"600",border:"0"}})])],1),e("div",{class:{"check-class":t.checkIds.includes("DZ")},on:{click:t.addMeasureCirle}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"电子方位测距",placement:"left","open-delay":500}},[e("i",{staticClass:"iconfont icon-a-ziyuan24"})])],1),e("div",{class:{"check-class":"BJ"===t.rightDrawId},on:{click:function(e){return t.btnClick("BJ")}}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"标记",placement:"left","open-delay":500}},[e("i",{staticClass:"iconfont icon-a-mubiaobiaoji"})])],1),e("div",{class:{"check-class":"TL"===t.rightDrawId},on:{click:function(e){return t.btnClick("TL")}}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"图例",placement:"left","open-delay":500}},[e("i",{staticClass:"iconfont icon-a-ziyuan15"})])],1),e("div",{class:{"check-class":t.checkIds.includes("WG")},on:{click:t.lonLatGrids}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"网格",placement:"left","open-delay":500}},[e("i",{staticClass:"iconfont icon-xitong"})])],1),e("div",{class:{"check-class":t.checkIds.includes("SC")},staticStyle:{border:"0"},on:{click:function(e){return t.setCricleCenter("popup","circleLayer")}}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"距离筛船",placement:"left","open-delay":500}},[e("i",{staticClass:"iconfont icon-leidatance"})])],1)])]):t._e()])},IQ=[],EQ={data(){return{}},mounted(){this.$nextTick(()=>{let t=JSON.parse(sessionStorage.getItem("lonLatGridsShow"));this.changeLonLatGridsShow(t),Kz("lonLatGrids",t),this.status(t)})},methods:{...Object(mH["b"])("mapModule",["changeLonLatGridsShow"]),lonLatGrids(){this.changeLonLatGridsShow(!this.lonLatGridsShow),Kz("lonLatGrids",this.lonLatGridsShow),this.status(this.lonLatGridsShow)},status(t){t?this.checkIds.push("WG"):this.checkIds=this.checkIds.filter(t=>"WG"!=t)}},computed:{lonLatGridsShow(){return this.$store.state.mapModule.lonLatGridsShow}}},PQ={data(){return{}},methods:{...Object(mH["b"])("mapModule",["setPosCircleMessage"]),setCricleCenter(t,e){let n=this.getCircleLayer(e);this.map.getOverlayById("circle")&&(this.map.removeOverlay(this.map.getOverlayById("circle")),n.getSource().clear());let i=n.getSource();const r=new UU({source:i,type:"Point"});this.map.addInteraction(r),r.on("drawend",e=>{i.clear(),e.feature.set("type","Point");const n=e.feature.getGeometry().getFlatCoordinates();let a=document.getElementById(t),o=new cU["a"]({element:a,autoPan:!0,id:t,autoPanAnimation:{duration:250},positioning:"top-center",position:n}),s=Object(UB["s"])(n,"EPSG:3857","EPSG:4326");while(s[0]<-180)s[0]=s[0]+360;while(s[0]>180)s[0]=s[0]-360;this.map.addOverlay(o),this.setPosCircleMessage({lon:aU(s[0],"lon","array")}),this.setPosCircleMessage({lat:aU(s[1],"lat","array")}),this.map.removeInteraction(r)})},getCircleLayer(t){let e=Mz(t);if(e)return e;{let e=new Vz["a"]({source:new tV["a"],zIndex:6,style:gW,layerId:t});return this.map.addLayer(e),e}}},computed:{}},RQ=n("183a"),DQ=n("4a7d");const FQ=0,NQ=1,BQ=[0,0,0,0],VQ=[],GQ={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"};class zQ extends gU["a"]{constructor(t,e,n){super(t),this.features=e,this.mapBrowserEvent=n}}class UQ extends SU["b"]{constructor(t){let e;if(super(t),this.on,this.once,this.un,this.boundHandleFeatureChange_=this.handleFeatureChange_.bind(this),this.condition_=t.condition?t.condition:AU["k"],this.defaultDeleteCondition_=function(t){return Object(AU["b"])(t)&&Object(AU["m"])(t)},this.deleteCondition_=t.deleteCondition?t.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=t.insertVertexCondition?t.insertVertexCondition:AU["d"],this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.featuresBeingModified_=null,this.rBush_=new DQ["a"],this.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new Vz["a"]({source:new tV["a"]({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:XQ(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_.bind(this),LineString:this.writeLineStringGeometry_.bind(this),LinearRing:this.writeLineStringGeometry_.bind(this),Polygon:this.writePolygonGeometry_.bind(this),MultiPoint:this.writeMultiPointGeometry_.bind(this),MultiLineString:this.writeMultiLineStringGeometry_.bind(this),MultiPolygon:this.writeMultiPolygonGeometry_.bind(this),Circle:this.writeCircleGeometry_.bind(this),GeometryCollection:this.writeGeometryCollectionGeometry_.bind(this)},this.source_=null,this.hitDetection_=null,t.features?e=t.features:t.source&&(this.source_=t.source,e=new Ez["a"](this.source_.getFeatures()),this.source_.addEventListener(xV["a"].ADDFEATURE,this.handleSourceAdd_.bind(this)),this.source_.addEventListener(xV["a"].REMOVEFEATURE,this.handleSourceRemove_.bind(this))),!e)throw new Error("The modify interaction requires features, a source or a layer");t.hitDetection&&(this.hitDetection_=t.hitDetection),this.features_=e,this.features_.forEach(this.addFeature_.bind(this)),this.features_.addEventListener(RQ["a"].ADD,this.handleFeatureAdd_.bind(this)),this.features_.addEventListener(RQ["a"].REMOVE,this.handleFeatureRemove_.bind(this)),this.lastPointerEvent_=null,this.delta_=[0,0],this.snapToPointer_=void 0===t.snapToPointer?!this.hitDetection_:t.snapToPointer}addFeature_(t){const e=t.getGeometry();if(e){const n=this.SEGMENT_WRITERS_[e.getType()];n&&n(t,e)}const n=this.getMap();n&&n.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,n),t.addEventListener(rV["a"].CHANGE,this.boundHandleFeatureChange_)}willModifyFeatures_(t,e){if(!this.featuresBeingModified_){this.featuresBeingModified_=new Ez["a"];const n=this.featuresBeingModified_.getArray();for(let t=0,i=e.length;t<i;++t){const i=e[t];for(let t=0,e=i.length;t<e;++t){const e=i[t].feature;e&&!n.includes(e)&&this.featuresBeingModified_.push(e)}}0===this.featuresBeingModified_.getLength()?this.featuresBeingModified_=null:this.dispatchEvent(new zQ(GQ.MODIFYSTART,this.featuresBeingModified_,t))}}removeFeature_(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.removeEventListener(rV["a"].CHANGE,this.boundHandleFeatureChange_)}removeFeatureSegmentData_(t){const e=this.rBush_,n=[];e.forEach((function(e){t===e.feature&&n.push(e)}));for(let i=n.length-1;i>=0;--i){const t=n[i];for(let e=this.dragSegments_.length-1;e>=0;--e)this.dragSegments_[e][0]===t&&this.dragSegments_.splice(e,1);e.remove(t)}}setActive(t){this.vertexFeature_&&!t&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),super.setActive(t)}setMap(t){this.overlay_.setMap(t),super.setMap(t)}getOverlay(){return this.overlay_}handleSourceAdd_(t){t.feature&&this.features_.push(t.feature)}handleSourceRemove_(t){t.feature&&this.features_.remove(t.feature)}handleFeatureAdd_(t){this.addFeature_(t.element)}handleFeatureChange_(t){if(!this.changingFeature_){const e=t.target;this.removeFeature_(e),this.addFeature_(e)}}handleFeatureRemove_(t){this.removeFeature_(t.element)}writePointGeometry_(t,e){const n=e.getCoordinates(),i={feature:t,geometry:e,segment:[n,n]};this.rBush_.insert(e.getExtent(),i)}writeMultiPointGeometry_(t,e){const n=e.getCoordinates();for(let i=0,r=n.length;i<r;++i){const r=n[i],a={feature:t,geometry:e,depth:[i],index:i,segment:[r,r]};this.rBush_.insert(e.getExtent(),a)}}writeLineStringGeometry_(t,e){const n=e.getCoordinates();for(let i=0,r=n.length-1;i<r;++i){const r=n.slice(i,i+2),a={feature:t,geometry:e,index:i,segment:r};this.rBush_.insert(Object(pV["c"])(r),a)}}writeMultiLineStringGeometry_(t,e){const n=e.getCoordinates();for(let i=0,r=n.length;i<r;++i){const r=n[i];for(let n=0,a=r.length-1;n<a;++n){const a=r.slice(n,n+2),o={feature:t,geometry:e,depth:[i],index:n,segment:a};this.rBush_.insert(Object(pV["c"])(a),o)}}}writePolygonGeometry_(t,e){const n=e.getCoordinates();for(let i=0,r=n.length;i<r;++i){const r=n[i];for(let n=0,a=r.length-1;n<a;++n){const a=r.slice(n,n+2),o={feature:t,geometry:e,depth:[i],index:n,segment:a};this.rBush_.insert(Object(pV["c"])(a),o)}}}writeMultiPolygonGeometry_(t,e){const n=e.getCoordinates();for(let i=0,r=n.length;i<r;++i){const r=n[i];for(let n=0,a=r.length;n<a;++n){const a=r[n];for(let r=0,o=a.length-1;r<o;++r){const o=a.slice(r,r+2),s={feature:t,geometry:e,depth:[n,i],index:r,segment:o};this.rBush_.insert(Object(pV["c"])(o),s)}}}}writeCircleGeometry_(t,e){const n=e.getCenter(),i={feature:t,geometry:e,index:FQ,segment:[n,n]},r={feature:t,geometry:e,index:NQ,segment:[n,n]},a=[i,r];i.featureSegments=a,r.featureSegments=a,this.rBush_.insert(Object(pV["n"])(n),i);let o=e;const s=Object(UB["m"])();if(s&&this.getMap()){const t=this.getMap().getView().getProjection();o=o.clone().transform(s,t),o=Object(OU["c"])(o).transform(t,s)}this.rBush_.insert(o.getExtent(),r)}writeGeometryCollectionGeometry_(t,e){const n=e.getGeometriesArray();for(let i=0;i<n.length;++i){const e=n[i],r=this.SEGMENT_WRITERS_[e.getType()];r(t,e)}}createOrUpdateVertexFeature_(t,e,n){let i=this.vertexFeature_;if(i){const e=i.getGeometry();e.setCoordinates(t)}else i=new Pz["a"](new Fz["a"](t)),this.vertexFeature_=i,this.overlay_.getSource().addFeature(i);return i.set("features",e),i.set("geometries",n),i}handleEvent(t){if(!t.originalEvent)return!0;let e;return this.lastPointerEvent_=t,t.map.getView().getInteracting()||t.type!=bU["a"].POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),this.vertexFeature_&&this.deleteCondition_(t)&&(e=!(t.type!=bU["a"].SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),t.type==bU["a"].SINGLECLICK&&(this.ignoreNextSingleClick_=!1),super.handleEvent(t)&&!e}handleDragEvent(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t,this.dragSegments_);const e=[t.coordinate[0]+this.delta_[0],t.coordinate[1]+this.delta_[1]],n=[],i=[];for(let r=0,a=this.dragSegments_.length;r<a;++r){const a=this.dragSegments_[r],o=a[0],s=o.feature;n.includes(s)||n.push(s);const l=o.geometry;i.includes(l)||i.push(l);const c=o.depth;let u;const h=o.segment,d=a[1];while(e.length<l.getStride())e.push(h[d][e.length]);switch(l.getType()){case"Point":u=e,h[0]=e,h[1]=e;break;case"MultiPoint":u=l.getCoordinates(),u[o.index]=e,h[0]=e,h[1]=e;break;case"LineString":u=l.getCoordinates(),u[o.index+d]=e,h[d]=e;break;case"MultiLineString":u=l.getCoordinates(),u[c[0]][o.index+d]=e,h[d]=e;break;case"Polygon":u=l.getCoordinates(),u[c[0]][o.index+d]=e,h[d]=e;break;case"MultiPolygon":u=l.getCoordinates(),u[c[1]][c[0]][o.index+d]=e,h[d]=e;break;case"Circle":if(h[0]=e,h[1]=e,o.index===FQ)this.changingFeature_=!0,l.setCenter(e),this.changingFeature_=!1;else{this.changingFeature_=!0;const n=t.map.getView().getProjection();let i=Object(Gz["d"])(Object(UB["f"])(l.getCenter(),n),Object(UB["f"])(e,n));const r=Object(UB["m"])();if(r){const t=l.clone().transform(r,n);t.setRadius(i),i=t.transform(n,r).getRadius()}l.setRadius(i),this.changingFeature_=!1}break;default:}u&&this.setGeometryCoordinates_(l,u)}this.createOrUpdateVertexFeature_(e,n,i)}handleDownEvent(t){if(!this.condition_(t))return!1;const e=t.coordinate;this.handlePointerAtPixel_(t.pixel,t.map,e),this.dragSegments_.length=0,this.featuresBeingModified_=null;const n=this.vertexFeature_;if(n){const i=t.map.getView().getProjection(),r=[],a=n.getGeometry().getCoordinates(),o=Object(pV["c"])([a]),s=this.rBush_.getInExtent(o),l={};s.sort(HQ);for(let n=0,c=s.length;n<c;++n){const o=s[n],c=o.segment;let u=Object(HV["b"])(o.geometry);const h=o.depth;if(h&&(u+="-"+h.join("-")),l[u]||(l[u]=new Array(2)),"Circle"!==o.geometry.getType()||o.index!==NQ)if(!Object(Gz["e"])(c[0],a)||l[u][0])if(!Object(Gz["e"])(c[1],a)||l[u][1])Object(HV["b"])(c)in this.vertexSegments_&&!l[u][0]&&!l[u][1]&&this.insertVertexCondition_(t)&&r.push(o);else{if(l[u][0]&&0===l[u][0].index){let t=o.geometry.getCoordinates();switch(o.geometry.getType()){case"LineString":case"MultiLineString":continue;case"MultiPolygon":t=t[h[1]];case"Polygon":if(o.index!==t[h[0]].length-2)continue;break;default:}}this.dragSegments_.push([o,1]),l[u][1]=o}else this.dragSegments_.push([o,0]),l[u][0]=o;else{const t=YQ(e,o,i);Object(Gz["e"])(t,a)&&!l[u][0]&&(this.dragSegments_.push([o,0]),l[u][0]=o)}}r.length&&this.willModifyFeatures_(t,[r]);for(let t=r.length-1;t>=0;--t)this.insertVertex_(r[t],a)}return!!this.vertexFeature_}handleUpEvent(t){for(let e=this.dragSegments_.length-1;e>=0;--e){const n=this.dragSegments_[e][0],i=n.geometry;if("Circle"===i.getType()){const e=i.getCenter(),r=n.featureSegments[0],a=n.featureSegments[1];r.segment[0]=e,r.segment[1]=e,a.segment[0]=e,a.segment[1]=e,this.rBush_.update(Object(pV["n"])(e),r);let o=i;const s=Object(UB["m"])();if(s){const e=t.map.getView().getProjection();o=o.clone().transform(s,e),o=Object(OU["c"])(o).transform(e,s)}this.rBush_.update(o.getExtent(),a)}else this.rBush_.update(Object(pV["c"])(n.segment),n)}return this.featuresBeingModified_&&(this.dispatchEvent(new zQ(GQ.MODIFYEND,this.featuresBeingModified_,t)),this.featuresBeingModified_=null),!1}handlePointerMove_(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map,t.coordinate)}handlePointerAtPixel_(t,e,n){const i=n||e.getCoordinateFromPixel(t),r=e.getView().getProjection(),a=function(t,e){return WQ(i,t,r)-WQ(i,e,r)};let o,s;if(this.hitDetection_){const n="object"===typeof this.hitDetection_?t=>t===this.hitDetection_:void 0;e.forEachFeatureAtPixel(t,(t,e,n)=>{n&&(n=new Fz["a"](Object(UB["p"])(n.getCoordinates(),r)));const i=n||t.getGeometry();if("Point"===i.getType()&&t instanceof Pz["a"]&&this.features_.getArray().includes(t)){s=i;const e=t.getGeometry().getFlatCoordinates().slice(0,2);o=[{feature:t,geometry:s,segment:[e,e]}]}return!0},{layerFilter:n})}if(!o){const t=Object(UB["g"])(Object(pV["n"])(i,BQ),r),n=e.getView().getResolution()*this.pixelTolerance_,a=Object(UB["q"])(Object(pV["d"])(t,n,BQ),r);o=this.rBush_.getInExtent(a)}if(o&&o.length>0){const n=o.sort(a)[0],l=n.segment;let c=YQ(i,n,r);const u=e.getPixelFromCoordinate(c);let h=Object(Gz["d"])(t,u);if(s||h<=this.pixelTolerance_){const t={};if(t[Object(HV["b"])(l)]=!0,this.snapToPointer_||(this.delta_[0]=c[0]-i[0],this.delta_[1]=c[1]-i[1]),"Circle"===n.geometry.getType()&&n.index===NQ)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(c,[n.feature],[n.geometry]);else{const i=e.getPixelFromCoordinate(l[0]),r=e.getPixelFromCoordinate(l[1]),a=Object(Gz["i"])(u,i),s=Object(Gz["i"])(u,r);h=Math.sqrt(Math.min(a,s)),this.snappedToVertex_=h<=this.pixelTolerance_,this.snappedToVertex_&&(c=a>s?l[1]:l[0]),this.createOrUpdateVertexFeature_(c,[n.feature],[n.geometry]);const d={};d[Object(HV["b"])(n.geometry)]=!0;for(let e=1,n=o.length;e<n;++e){const n=o[e].segment;if(!(Object(Gz["e"])(l[0],n[0])&&Object(Gz["e"])(l[1],n[1])||Object(Gz["e"])(l[0],n[1])&&Object(Gz["e"])(l[1],n[0])))break;{const i=Object(HV["b"])(o[e].geometry);i in d||(d[i]=!0,t[Object(HV["b"])(n)]=!0)}}}return void(this.vertexSegments_=t)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)}insertVertex_(t,e){const n=t.segment,i=t.feature,r=t.geometry,a=t.depth,o=t.index;let s;while(e.length<r.getStride())e.push(0);switch(r.getType()){case"MultiLineString":s=r.getCoordinates(),s[a[0]].splice(o+1,0,e);break;case"Polygon":s=r.getCoordinates(),s[a[0]].splice(o+1,0,e);break;case"MultiPolygon":s=r.getCoordinates(),s[a[1]][a[0]].splice(o+1,0,e);break;case"LineString":s=r.getCoordinates(),s.splice(o+1,0,e);break;default:return}this.setGeometryCoordinates_(r,s);const l=this.rBush_;l.remove(t),this.updateSegmentIndices_(r,o,a,1);const c={segment:[n[0],e],feature:i,geometry:r,depth:a,index:o};l.insert(Object(pV["c"])(c.segment),c),this.dragSegments_.push([c,1]);const u={segment:[e,n[1]],feature:i,geometry:r,depth:a,index:o+1};l.insert(Object(pV["c"])(u.segment),u),this.dragSegments_.push([u,0]),this.ignoreNextSingleClick_=!0}removePoint(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=bU["a"].POINTERDRAG){const t=this.lastPointerEvent_;this.willModifyFeatures_(t,this.dragSegments_);const e=this.removeVertex_();return this.featuresBeingModified_&&this.dispatchEvent(new zQ(GQ.MODIFYEND,this.featuresBeingModified_,t)),this.featuresBeingModified_=null,e}return!1}removeVertex_(){const t=this.dragSegments_,e={};let n,i,r,a,o,s,l,c,u,h,d,p=!1;for(o=t.length-1;o>=0;--o)r=t[o],h=r[0],d=Object(HV["b"])(h.feature),h.depth&&(d+="-"+h.depth.join("-")),d in e||(e[d]={}),0===r[1]?(e[d].right=h,e[d].index=h.index):1==r[1]&&(e[d].left=h,e[d].index=h.index+1);for(d in e){switch(u=e[d].right,l=e[d].left,s=e[d].index,c=s-1,h=void 0!==l?l:u,c<0&&(c=0),a=h.geometry,i=a.getCoordinates(),n=i,p=!1,a.getType()){case"MultiLineString":i[h.depth[0]].length>2&&(i[h.depth[0]].splice(s,1),p=!0);break;case"LineString":i.length>2&&(i.splice(s,1),p=!0);break;case"MultiPolygon":n=n[h.depth[1]];case"Polygon":n=n[h.depth[0]],n.length>4&&(s==n.length-1&&(s=0),n.splice(s,1),p=!0,0===s&&(n.pop(),n.push(n[0]),c=n.length-1));break;default:}if(p){this.setGeometryCoordinates_(a,i);const e=[];if(void 0!==l&&(this.rBush_.remove(l),e.push(l.segment[0])),void 0!==u&&(this.rBush_.remove(u),e.push(u.segment[1])),void 0!==l&&void 0!==u){const t={depth:h.depth,feature:h.feature,geometry:h.geometry,index:c,segment:e};this.rBush_.insert(Object(pV["c"])(t.segment),t)}this.updateSegmentIndices_(a,s,h.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.length=0}}return p}setGeometryCoordinates_(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1}updateSegmentIndices_(t,e,n,i){this.rBush_.forEachInExtent(t.getExtent(),(function(r){r.geometry===t&&(void 0===n||void 0===r.depth||Object(dG["d"])(r.depth,n))&&r.index>e&&(r.index+=i)}))}}function HQ(t,e){return t.index-e.index}function WQ(t,e,n){const i=e.geometry;if("Circle"===i.getType()){let r=i;if(e.index===NQ){const e=Object(UB["m"])();e&&(r=r.clone().transform(e,n));const i=Object(Gz["i"])(r.getCenter(),Object(UB["f"])(t,n)),a=Math.sqrt(i)-r.getRadius();return a*a}}const r=Object(UB["f"])(t,n);return VQ[0]=Object(UB["f"])(e.segment[0],n),VQ[1]=Object(UB["f"])(e.segment[1],n),Object(Gz["j"])(r,VQ)}function YQ(t,e,n){const i=e.geometry;if("Circle"===i.getType()&&e.index===NQ){let e=i;const r=Object(UB["m"])();return r&&(e=e.clone().transform(r,n)),Object(UB["p"])(e.getClosestPoint(Object(UB["f"])(t,n)),n)}const r=Object(UB["f"])(t,n);return VQ[0]=Object(UB["f"])(e.segment[0],n),VQ[1]=Object(UB["f"])(e.segment[1],n),Object(UB["p"])(Object(Gz["b"])(r,VQ),n)}function XQ(){const t=Object(Az["b"])();return function(e,n){return t["Point"]}}var qQ=UQ,ZQ=n("35d8");const QQ=function(t,e){let n,i=Object(WU["b"])(t),r=t.getFlatCoordinates(),a=e?JQ([r[0],r[1]],[r[2],r[3]]):"";return n=(i/1852).toFixed(2)+" 海里 "+a,n};function JQ(t,e){let n=t[0],i=t[1],r=e[0],a=e[1],o=r-n,s=a-i,l=Math.atan(s/o);l=180*l/Math.PI;let c=0;return o>0?c=90-l:o<0?c=270-l:0==o&&s<0&&(c=180),c=parseFloat(c).toFixed(1),"方位:"+c+"°"}const KQ=new Az["c"]({fill:new Rz["a"]({color:"rgba(255, 255, 255, 0.2)"}),stroke:new Nz["a"]({color:"rgba(0, 0, 0, 0.5)",width:2}),image:new HU["a"]({radius:5,stroke:new Nz["a"]({color:"rgba(0, 0, 0, 0.7)"}),fill:new Rz["a"]({color:"rgba(255, 255, 255, 0.2)"})})}),$Q=new Az["c"]({text:new Bz["a"]({font:"14px Calibri,sans-serif",fill:new Rz["a"]({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new Rz["a"]({color:"rgba(0, 0, 0, 0.7)"}),padding:[3,24,3,18],textBaseline:"bottom",offsetY:-15}),image:new ZQ["a"]({radius:8,points:3,angle:Math.PI,displacement:[0,10],fill:new Rz["a"]({color:"rgba(0, 0, 0, 0.7)"})})}),tJ=new Az["c"]({text:new Bz["a"]({font:"12px Calibri,sans-serif",fill:new Rz["a"]({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new Rz["a"]({color:"rgba(0, 0, 0, 0.4)"}),padding:[2,2,2,2],textBaseline:"bottom",offsetY:-12}),image:new ZQ["a"]({radius:6,points:3,angle:Math.PI,displacement:[0,8],fill:new Rz["a"]({color:"rgba(0, 0, 0, 0.4)"})})}),eJ=[tJ];function nJ(t){const e=t.getGeometry(),n=e.getType(),i=[KQ];let r,a,o;if("LineString"===n&&(r=new Fz["a"](e.getLastCoordinate()),a=QQ(e,!1),o=e),o){let t=0;o.forEachSegment((function(e,n){const r=new Dz["a"]([e,n]),a=QQ(r,!0);eJ.length-1<t&&eJ.push(tJ.clone());const o=new Fz["a"](r.getCoordinateAt(.5));eJ[t].setGeometry(o),eJ[t].getText().setText(a),i.push(eJ[t]),t++}))}return a&&($Q.setGeometry(r),$Q.getText().setText(a),i.push($Q)),i}const iJ=new Az["c"]({image:new HU["a"]({radius:5,stroke:new Nz["a"]({color:"rgba(0, 0, 0, 0.7)"}),fill:new Rz["a"]({color:"rgba(0, 0, 0, 0.4)"})}),text:new Bz["a"]({text:"拖动修改",font:"12px Calibri,sans-serif",fill:new Rz["a"]({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new Rz["a"]({color:"rgba(0, 0, 0, 0.7)"}),padding:[2,2,2,2],textAlign:"left",offsetX:15})});function rJ(t,e,n,i){(t.indexOf("Left")||t.indexOf("Right"))&&(t=t.split("-")[0]);let r=e.getSource(),a=r.getFeatureById(t),o=r.getFeatureById(t+"-Left"),s=r.getFeatureById(t+"-Right");r.removeFeature(a),r.removeFeature(o),r.removeFeature(s),n.removeOverlay(n.getOverlayById(t)),n.removeOverlay(n.getOverlayById(t+"-Left")),n.removeOverlay(n.getOverlayById(t+"-Right")),n.removeInteraction(i)}const aJ=function(t,e=sJ()){let n=t.feature.getId(),i=document.createElement("div");i.className="ol-tooltip ol-tooltip-measure",i.innerHTML=`<span  id=${n} style="margin:0px 0px;color:white;cursor: pointer;font-size:16px;font-weight:bold">x</span>`;let r=new cU["a"]({element:i,id:n,offset:[45,-15],positioning:"bottom-center"});r.set("id",n),r.setPosition(t.feature.getGeometry().getLastCoordinate()),e.addOverlay(r)};function oJ(t=sJ()){let e=Mz("DrawLineLayer");e||(e=new Vz["a"]({source:new tV["a"]({wrapX:!1}),zIndex:15,layerId:"DrawLineLayer",style:function(t){return nJ(t)}}),t.addLayer(e));let n=e.getSource(),i=new UU({source:n,type:"LineString",stopClick:!0,style:function(t){return nJ(t)}});i.on("drawstart",(function(t){t.feature.setStyle(nJ)})),i.on("drawend",e=>{let r=Mz("DrawLineLayer");e.feature.setStyle(nJ),e.feature.setId(e.feature.ol_uid),aJ(e,t);const a=new qQ({source:n,style:iJ,wrapX:!0});a.on("modifyend",(function({features:e}){let n=e.getArray()[0];t.getOverlayById(n.getId()).setPosition(n.getGeometry().getLastCoordinate())})),t.addInteraction(a),document.getElementById(e.feature.ol_uid).onclick=()=>{rJ(e.feature.ol_uid,r,t=sJ(),a)},setTimeout(()=>{let n=e.feature.clone().getGeometry().getCoordinates(),i=e.feature.clone().getGeometry().getCoordinates();n=n.map(t=>(t[0]+=40075016,t)),i=i.map(t=>(t[0]-=40075016,t));let o=new Dz["a"](n),s=new Pz["a"]({geometry:o});s.setId(e.feature.ol_uid+"-Right"),aJ({feature:s},t);let l=new Dz["a"](i),c=new Pz["a"]({geometry:l});c.setId(e.feature.ol_uid+"-Left"),aJ({feature:c},t),document.getElementById(e.feature.ol_uid+"-Left").onclick=()=>{rJ(e.feature.ol_uid+"-Left",r,t=sJ(),a)},document.getElementById(e.feature.ol_uid+"-Right").onclick=()=>{rJ(e.feature.ol_uid+"-Right",r,t=sJ(),a)},r.getSource().addFeature(s),r.getSource().addFeature(c)}),t.removeInteraction(i),a.setActive(!0)}),t.addInteraction(i)}function sJ(){return yV["a"].getters["mapModule/data"]("map")}var lJ={mixins:[EQ,PQ],data(){return{checkIds:[],toolShow:!0}},mounted(){},methods:{...Object(mH["b"])("mapModule",["changeRightDrawerShow"]),btnClick(t){switch(t){case"TL":"TL"===this.rightDrawId?this.changeRightDrawerShow({type:!1,name:"",id:""}):this.changeRightDrawerShow({type:!0,name:"ChartMenu",id:"TL"});break;case"BJ":"BJ"===this.rightDrawId?this.changeRightDrawerShow({type:!1,name:"",id:""}):this.changeRightDrawerShow({type:!0,name:"SignMenu",id:"BJ"});break;default:break}},measure(){oJ()},addMeasureCirle(){(new cH).startDirection()}},computed:{map(){return this.$store.getters["mapModule/data"]("map")},isRightDrawer(){return this.$store.state.mapModule.rightDrawerShow},rightDrawId(){return this.$store.state.mapModule.rightDrawId}},watch:{isRightDrawer(){this.toolShow=!1,setTimeout(()=>{this.toolShow=!0},300)}}},cJ=lJ,uJ=(n("3775"),Object(f["a"])(cJ,jQ,IQ,!1,null,"3abc4ab7",null)),hJ=uJ.exports,dJ=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"show",mode:"out-in"}},[t.isRightDrawer?e("div",{staticClass:"leftDrawer-class"},[e("transition",{attrs:{name:"menuComponent",mode:"out-in"}},[e(t.currentMenu,t._g({tag:"component",scopedSlots:t._u([{key:"title",fn:function(n){return[e("div",{staticClass:"title-class"},[t._v(t._s(n.titleName))])]}}],null,!1,1714396092)},t.$listeners))],1)],1):t._e()])},pJ=[],fJ=function(){var t=this,e=t._self._c;return e("div",{staticClass:"filterMenu-class"},[t._t("title",null,{titleName:"筛选"}),e("el-collapse",{staticClass:"menus-class",model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[e("DisplayType"),e("ShipType"),e("CommonArea"),e("UserArea")],1)],2)},gJ=[],mJ=function(){var t=this,e=t._self._c;return e("div",{staticClass:"displayType-class"},[e("el-collapse-item",{attrs:{name:"1"}},[e("template",{slot:"title"},[e("div",{staticClass:"title-class"},[t._v("分类显示")])]),e("div",{staticClass:"content-class"},[e("el-row",[e("el-col",{attrs:{span:8}},[e("el-button",{class:{"checked-class":t.showClassify.includes("shipGroup")},on:{click:function(e){return t.getCheck("shipGroup")}}},[t._v(" 船队 ")])],1),e("el-col",{attrs:{span:8}},[e("el-button",{class:{"checked-class":t.showClassify.includes("shipFocus")},on:{click:function(e){return t.getCheck("shipFocus")}}},[t._v(" 关注 ")])],1),e("el-col",{attrs:{span:8}},[e("el-button",{class:{"checked-class":t.showClassify.includes("shipRound")},on:{click:function(e){return t.getCheck("shipRound")}}},[t._v(" 周围 ")])],1),e("el-col",{attrs:{span:8,id:"buoy"}},[t.jurisdiction.includes("buoy")?e("el-button",{class:{"checked-class":t.showClassify.includes("buoy")},on:{click:t.checkBuoy}},[t._v(" 浮标 ")]):t._e()],1)],1)],1)],2)],1)},vJ=[],yJ={data(){return{}},methods:{...Object(mH["b"])("buoyModule",["setBuoyList"]),...Object(mH["b"])("mapModule",["setShowClassify","deleteShowClassify"]),async checkBuoy(){let t=this.showClassify.includes("buoy");if(t){let t=Mz("BuoyLayer");t&&(this.map.removeLayer(t),t.dispose()),this.setBuoyList([]),this.deleteShowClassify("buoy")}else try{let{result:t}=await $W();t.length>0&&(t.map(t=>(t.lon=t.lon/60/1e4,t.lat=t.lat/60/1e4,t.speed=t.speed/10,t.course=t.course/10,t)),MX(t,"BuoyLayer",13)),this.setShowClassify("buoy"),this.setBuoyList(t),this.$message.success("浮标已打开")}catch(e){}await cY({state:"3",classify:this.showClassify.toString()})},async getCheck(t){if(this.showClassify.includes(t)){switch(t){case"shipGroup":mY(!1),Mz("shipGroupLayer").setVisible(!1),Mz("shipLoseLayer").setVisible(!1);break;case"shipFocus":Mz("shipFocusLayer").setVisible(!1);break;case"shipRound":Mz("shipRoundLayer").setVisible(!1);break;default:break}this.deleteShowClassify(t)}else{switch(t){case"shipGroup":mY(!0),Mz("shipGroupLayer").setVisible(!0),Mz("shipLoseLayer").setVisible(!0);break;case"shipFocus":Mz("shipFocusLayer").setVisible(!0);break;case"shipRound":Mz("shipRoundLayer").setVisible(!0);break;default:break}this.setShowClassify(t)}await cY({state:"3",classify:this.showClassify.toString()})}},computed:{showClassify(){return this.$store.state.mapModule.showClassify},map(){return this.$store.getters["mapModule/data"]("map")},jurisdiction(){return this.$store.state.mapModule.jurisdiction}}},bJ=yJ,xJ=(n("8e60"),Object(f["a"])(bJ,mJ,vJ,!1,null,"07eabab6",null)),_J=xJ.exports,wJ=function(){var t=this,e=t._self._c;return e("div",{staticClass:"shipType-class"},[e("el-collapse-item",{attrs:{name:"2"}},[e("template",{slot:"title"},[e("div",{staticClass:"title-class"},[t._v("船位类型")])]),e("div",{staticClass:"content-class"},[e("el-row",[e("el-col",{attrs:{span:8}},[t.hasSource.includes("3")?e("el-button",{class:{"checked-class":t.source.includes("3")},on:{click:function(e){return t.changeSource("3")}}},[t._v("平台 ")]):t._e()],1),e("el-col",{attrs:{span:8}},[t.hasSource.includes("5")||t.hasSource.includes("6")?e("el-button",{class:{"checked-class":t.source.includes("5")&&t.source.includes("6")},on:{click:function(e){return t.changeSource("5,6")}}},[t._v(" 卫星报位 ")]):t._e()],1),e("el-col",{attrs:{span:8}},[e("el-button",{class:{"checked-class":t.source.includes("9")},attrs:{disabled:!t.hasSource.includes("9")},on:{click:function(e){return t.changeSource("9")}}},[t._v("AIS ")])],1)],1)],1)],2)],1)},SJ=[],OJ={data(){return{}},methods:{...Object(mH["b"])("mapModule",["deleteSource","setSource"]),async changeSource(t){switch(t){case"3":this.source.includes("3")?this.deleteSource("3"):this.setSource("3");break;case"5,6":this.source.includes("5")&&this.source.includes("6")?(this.deleteSource("5"),this.deleteSource("6")):this.setSource(["5","6"]);break;case"9":this.source.includes("9")?(this.deleteSource("9"),Mz("shipRoundLayer").getSource().clear()):(this.setSource("9"),dY("1","1"));break;default:break}hY("1"),this.showClassify.includes("shipFocus")?mY(!0):mY(!1),await cY({state:"4",aisType:this.source.toString()})}},computed:{source(){return this.$store.state.mapModule.source},hasSource(){return this.$store.state.mapModule.hasSource},showClassify(){return this.$store.state.mapModule.showClassify}}},CJ=OJ,AJ=(n("12d8"),Object(f["a"])(CJ,wJ,SJ,!1,null,"5fa32ae7",null)),MJ=AJ.exports,TJ=function(){var t=this,e=t._self._c;return e("div",{staticClass:"areaLine-class"},[e("el-collapse-item",{attrs:{name:"3"}},[e("template",{slot:"title"},[e("div",{staticClass:"title-class"},[t._v("常见区域")])]),e("div",{staticClass:"content-class"},[e("el-row",t._l(t.areaLines,(function(n){return e("el-col",{key:n.id,attrs:{span:12}},[e("el-tooltip",{attrs:{effect:"dark",content:n.borderName,placement:"top","open-delay":500}},[e("el-button",{class:{"checked-class":t.borderIds.includes(n.id.toString())},attrs:{loading:t.loadingList.includes(n.id.toString())},on:{click:function(e){return t.openAreaOrLine(n)}}},[t._v(" "+t._s(n.borderName)+" ")])],1)],1)})),1)],1)],2)],1)},kJ=[],LJ={mounted(){this.getList()},data(){return{areaLines:[],ids:[],loadingList:[]}},methods:{...Object(mH["b"])("mapModule",["setUserAreaLine","deleteUserAreaLineId"]),async getList(){try{let{result:t}=await tY();this.areaLines=t.sort((t,e)=>t.sort-e.sort)}catch(t){}},async openAreaOrLine(t){if(this.loadingList.push(t.id.toString()),this.borderIds.includes(t.id.toString())){let e=new FormData;e.append("id",t.id.toString()),await oY(e),this.deleteUserAreaLineId(t.id.toString());let n=Mz(t.id.toString());this.map.removeLayer(n);let i=this.loadingList.indexOf(t.id);this.loadingList.splice(i,1)}else{let n={id:t.id};try{let{result:e}=await eY(n),i=e.borderName;e.id=e.id.toString();let r=e.id.toString();if("EEZ"===i)nU(r,!0);else if("SPRFMO"===i||"FAO Areas"===i||"NPFC"===i||"领海"===i)aH(r,!0);else if("护航编队"===i){let t=[[53.5,14.5],[44.12,11.52]];FW(t,r,!0)}else if("海盗警戒点"===i){let{result:t}=await nY(),e=JSON.parse(t.results);NW(e,r,!0)}else{let t=JSON.parse(e.wire);t.forEach((t,e)=>{wW(r,e,t.wire,4,!0,this.judgeType(t),i,t.colour)})}this.setUserAreaLine(e);let a=this.loadingList.indexOf(t.id);this.loadingList.splice(a,1);let o=new FormData;o.append("borderId",e.id),o.append("state",2),await aY(o)}catch(e){}}},judgeType(t){return"1"===t.state&&"1"===t.lineType?"Polygon":"1"===t.state&&"2"===t.lineType?"PolygonDash":"2"===t.state&&"1"===t.lineType?"LineString":"LineStringDash"}},computed:{borderIds(){return this.$store.state.mapModule.userAreaLine.map(t=>t.id)},map(){return this.$store.getters["mapModule/data"]("map")}}},jJ=LJ,IJ=(n("1547"),Object(f["a"])(jJ,TJ,kJ,!1,null,"4353b97a",null)),EJ=IJ.exports,PJ=function(){var t=this,e=t._self._c;return e("div",{staticClass:"areaLine-class"},[e("el-collapse-item",{attrs:{name:"4"}},[e("template",{slot:"title"},[e("div",{staticClass:"title-class"},[t._v("其他区域")])]),e("div",{staticClass:"content-class"},[e("el-row",t._l(t.areaLines,(function(n){return e("el-col",{key:n.id,attrs:{span:12}},[e("el-tooltip",{attrs:{effect:"dark",content:n.borderName,placement:"top","open-delay":500}},[e("el-button",{class:{"checked-class":t.borderIds.includes(n.id.toString())},attrs:{loading:t.loadingList.includes(n.id.toString())},on:{click:function(e){return t.openAreaOrLine(n)}}},[t._v(" "+t._s(n.borderName)+" ")])],1)],1)})),1)],1)],2)],1)},RJ=[],DJ={mounted(){this.getList()},data(){return{areaLines:[],loadingList:[]}},methods:{...Object(mH["b"])("mapModule",["setUserAreaLine","deleteUserAreaLineId"]),async getList(){try{let{result:t}=await iY();this.areaLines=t}catch(t){}},async openAreaOrLine(t){if(this.loadingList.push(t.id.toString()),this.borderIds.includes(t.id.toString())){let e=new FormData;e.append("id",t.id.toString()),await oY(e),this.deleteUserAreaLineId(t.id.toString());let n=Mz(t.id.toString());this.map.removeLayer(n);let i=this.loadingList.indexOf(t.id);this.loadingList.splice(i,1)}else{let n={id:t.id};try{let{result:e}=await rY(n),i=e.borderName;e.id=e.id.toString();let r=e.id;e.wire=e.geom;let a=JSON.parse(e.geom);a.forEach((t,e)=>{wW(r,e,t.wire,4,!0,this.judgeType("Polygon"),i,t.colour)}),this.setUserAreaLine(e);let o=this.loadingList.indexOf(t.id);this.loadingList.splice(o,1);let s=new FormData;s.append("borderId",e.id),s.append("state",1),await aY(s)}catch(e){}}},judgeType(t){return"1"===t.state&&"1"===t.lineType?"Polygon":"1"===t.state&&"2"===t.lineType?"PolygonDash":"2"===t.state&&"1"===t.lineType?"LineString":"LineStringDash"}},computed:{borderIds(){return this.$store.state.mapModule.userAreaLine.map(t=>t.id)},map(){return this.$store.getters["mapModule/data"]("map")}}},FJ=DJ,NJ=(n("f82f"),Object(f["a"])(FJ,PJ,RJ,!1,null,"42ffd0fe",null)),BJ=NJ.exports,VJ={components:{DisplayType:_J,ShipType:MJ,CommonArea:EJ,UserArea:BJ},data(){return{activeNames:["1","2","3","4"]}}},GJ=VJ,zJ=(n("299a"),Object(f["a"])(GJ,fJ,gJ,!1,null,"a14afb34",null)),UJ=zJ.exports,HJ=function(){var t=this,e=t._self._c;return e("div",{staticClass:"shipList-class"},[t._t("title",null,{titleName:"船舶列表"}),e("div",{staticClass:"List-Top-class",on:{click:t.changeList}},[e("div",{class:{"is-checked":"ShipGroupList"===t.currentList},attrs:{id:"ShipGroupList"}},[t._v("公司")]),e("div",{class:{"is-checked":"ShipFocusList"===t.currentList},attrs:{id:"ShipFocusList"}},[t._v("关注")]),e("div",{class:{"is-checked":"ShipRoundList"===t.currentList},attrs:{id:"ShipRoundList"}},[t._v("周围")])]),e("transition",{attrs:{name:"showComponent",mode:"out-in"}},[e(t.currentList,t._g({tag:"component",scopedSlots:t._u([{key:"historyBtn",fn:function(){return[e("div",{staticClass:"historyBtn-class"},[e("div",{staticClass:"box-class",on:{click:t.getRealHistory}},[e("div",{staticClass:"Btn-class"},[e("img",{attrs:{src:n("a44c"),width:"100%",alt:""}})]),t._v(" 实时轨迹 ")]),e("div",{staticClass:"box-class",staticStyle:{margin:"0 14px 0 10px"},on:{click:t.getHistory}},[e("div",{staticClass:"Btn-class"},[e("img",{attrs:{src:n("577f"),width:"100%",alt:""}})]),t._v(" 历史轨迹 ")]),e("el-popconfirm",{attrs:{"confirm-button-text":"确认","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"确认清除所有的历史轨迹和实时轨迹吗",placement:"top"},on:{confirm:t.clearAllLines}},[e("div",{staticClass:"box-class",attrs:{slot:"reference"},slot:"reference"},[e("div",{staticClass:"Btn-class"},[e("img",{attrs:{src:n("c2ff"),width:"85%",alt:""}})]),t._v(" 清除 ")])])],1)]},proxy:!0}])},t.$listeners))],1),e("BaseModal",t._b({attrs:{isShow:t.historySelectShow,title:"历史轨迹",titleStyle:t.historyTitleStyle},on:{close:t.historyClose},scopedSlots:t._u([{key:"tabContent",fn:function(){return[e("HistoryMessage",{attrs:{requestType:"more"}})]},proxy:!0}])},"BaseModal",t.historyStyle,!1)),e("BaseModal",t._b({attrs:{isShow:t.historyRealSelectShow,title:"实时轨迹",titleStyle:t.historyTitleStyle},on:{close:t.historyRealClose},scopedSlots:t._u([{key:"tabContent",fn:function(){return[e("HistoryRealMessage",{attrs:{requestType:"more"}})]},proxy:!0}])},"BaseModal",t.historyRealStyle,!1))],2)},WJ=[],YJ=function(){var t=this,e=t._self._c;return e("div",{staticClass:"shipGroup-class"},[e("div",{staticClass:"top-class"},[e("div",{staticClass:"group-class"},[e("span",{class:{"is-checked":"GroupClass"===t.currentList},on:{click:function(e){return t.getList("GroupClass")}}},[e("span",[t._v(" 船队")])]),e("span",{class:{"is-checked":"ProgramClasses"===t.currentList},on:{click:function(e){return t.getList("ProgramClasses")}}},[e("span",[t._v("项目")])])]),e("div",[t._t("historyBtn")],2)]),e("Tree",{staticClass:"tree-class",attrs:{treeList:t.listData,id:"vehicleId"},scopedSlots:t._u([{key:"label",fn:function({node:n}){return[e("span",[t._v(" "+t._s(n.data.title?n.data.title:n.data.nameEn?n.data.nameEn:""))])]}},{key:"headerBtnList",fn:function({node:n}){return[e("i",{class:{iconfont:!0,"icon-xianshikejian":!t.allShow(n),"icon-yincangbukejian":t.allShow(n)},on:{click:function(e){return e.stopPropagation(),t.showOrHideBtn(n)}}})]}},{key:"btnList",fn:function({node:n}){return["1"==n.data.status?e("el-tooltip",{attrs:{effect:"dark",content:"1"==n.data.judge?"在线":"离线",placement:"top"}},["1"==n.data.status?e("i",{class:"1"==n.data.judge?"stateclass":"stateleave",staticStyle:{right:"-20px",position:"absolute",top:"5px"}}):t._e()]):t._e(),e("i",{staticClass:"el-icon-view",class:{iconfont:!0,"icon-xianshikejian":!t.isShow(n),"icon-yincangbukejian":t.isShow(n)},on:{click:function(e){return e.stopPropagation(),t.showOrHideBtn(n)}}})]}}])})],1)},XJ=[],qJ=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box-class"},[e("div",[e("TopSearch",{attrs:{searchText:t.searchText},on:{"update:searchText":function(e){t.searchText=e},"update:search-text":function(e){t.searchText=e},search:t.search}})],1),e("div",{style:t.treeBoxStyle},[e("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"tree",staticClass:"tree-class",attrs:{data:t.treeList,props:t.defaultProps,"show-checkbox":t.checkBoxLeftShow,"filter-node-method":t.filterNode,"node-key":t.id},on:{"node-click":t.handleNodeClick,"check-change":t.checkChange},scopedSlots:t._u([{key:"default",fn:function({node:n,data:i}){return e("span",{class:{"custom-tree-node":!0,"custom-tree-level-1":1===n.level,"custom-tree-level-2":2===n.level}},[e("span",{class:{labeltrue:t.searchText&&-1!==n.label.indexOf(t.searchText),labelfalse:t.searchText&&-1===n.label.indexOf(t.searchText),"text-more-class":!0},staticStyle:{display:"inline-block"}},[t._t("label",(function(){return[t._v(" "+t._s(n.label)+" ")]}),{node:n,data:i})],2),e("span",{staticClass:"level2-right-logo",staticStyle:{display:"inline-block",position:"relative"}},[1===n.level?t._t("headerBtnList",null,{node:n}):t._t("btnList",null,{node:n,data:i})],2)])}}],null,!0)})],1)])},ZJ=[],QJ=function(){var t=this,e=t._self._c;return e("div",[e("el-input",{staticStyle:{margin:"10px 0"},attrs:{placeholder:"请输入搜索内容",size:"small"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}},[e("template",{slot:"append"},[e("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.search},slot:"append"})],1)],2)],1)},JJ=[],KJ={props:{searchText:{type:String,default:""}},data(){return{}},methods:{search(){this.$emit("search")}},computed:{text:{get(){return this.searchText},set(t){this.$emit("update:searchText",t)}}}},$J=KJ,tK=Object(f["a"])($J,QJ,JJ,!1,null,null,null),eK=tK.exports;const nK=function(t){let e,n=Object(WU["b"])(t);return e=(n/1852).toFixed(2)+" nm",e},iK=new Az["c"]({fill:new Rz["a"]({color:"rgba(255, 255, 255, 0.2)"}),stroke:new Nz["a"]({color:"#FF5454",lineDash:[10,10],width:2}),image:new HU["a"]({radius:5,stroke:new Nz["a"]({color:"rgba(0, 0, 0, 0.7)"}),fill:new Rz["a"]({color:"rgba(255, 255, 255, 0.2)"})})}),rK=new Az["c"]({text:new Bz["a"]({font:"bold 12px Calibri,sans-serif",fill:new Rz["a"]({color:"#FF5454"}),padding:[2,2,2,2],width:2,offsetY:-10})}),aK=new Az["c"]({text:new Bz["a"]({font:"14px Calibri,sans-serif",fill:new Rz["a"]({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new Rz["a"]({color:"rgba(0, 0, 0,0.9)"}),padding:[3,10,3,10],textBaseline:"bottom",offsetY:-7})}),oK=(t,e)=>new Az["c"]({text:new Bz["a"]({font:"bold 12px Calibri,sans-serif",fill:new Rz["a"]({color:"#FFF"}),stroke:new Nz["a"]({color:"#000",width:2}),offsetX:e?e[1]:10,offsetY:e?e[0]:-9,text:t}),image:new HU["a"]({radius:3,stroke:new Nz["a"]({color:"red",width:1.5}),fill:new Rz["a"]({color:"white"})})});function sK(t){let e=t.getGeometry();const n=[rK],i=[iK];let r,a,o;if("Point"==e.getType()){let e=t.get("index"),n=t.get("name");return 0===Number(e)?oK(String(n),[12,-2]):oK(String(e?e+1:""))}if("LineString"===e.getType()&&(o=new Fz["a"](e.getLastCoordinate()),a=nK(e),r=e),r){let t=0;r.forEachSegment((function(e,r){const a=new Dz["a"]([e,r]),o=nK(a);if(Number(o.split("nm")[0])>0){n.length-1<t&&n.push(rK.clone());let l=r[0]-e[0],c=r[1]-e[1];var s=Math.atan2(c,l);let u=0;0<s&&s<Math.PI/2&&(u=-s),Math.PI/2<s&&s<Math.PI&&(u=Math.PI-s),-Math.PI/2<s&&s<0&&(u=-s),-Math.PI<s&&s<-Math.PI/2&&(u=Math.PI-s);const h=new Fz["a"](a.getCoordinateAt(.5));n[t].setGeometry(h),n[t].getText().setText(""+o),n[t].getText().setRotation(u),i.push(n[t]),t++}}))}return a&&Number(a.split("nm")[0])>0&&(aK.setGeometry(o),aK.getText().setText(a),i.push(aK)),i}function lK(t){let e=t.getGeometry();const n=[rK],i=[iK];let r,a,o;if("Point"==e.getType()){let e=t.get("index"),n=t.get("name");return 0===Number(e)?oK(String(n),[12,-2]):oK(" ")}if("LineString"===e.getType()&&(o=new Fz["a"](e.getLastCoordinate()),a=nK(e),r=e),r){let t=0;r.forEachSegment((function(e,r){const a=new Dz["a"]([e,r]),o=nK(a);if(Number(o.split("nm")[0])>0){n.length-1<t&&n.push(rK.clone());let l=r[0]-e[0],c=r[1]-e[1];var s=Math.atan2(c,l);let u=0;0<s&&s<Math.PI/2&&(u=-s),Math.PI/2<s&&s<Math.PI&&(u=Math.PI-s),-Math.PI/2<s&&s<0&&(u=-s),-Math.PI<s&&s<-Math.PI/2&&(u=Math.PI-s);const h=new Fz["a"](a.getCoordinateAt(.5));n[t].setGeometry(h),n[t].getText().setText(""+o),n[t].getText().setRotation(u),i.push(n[t]),t++}}))}return a&&Number(a.split("nm")[0])>0&&(aK.setGeometry(o),aK.getText().setText(a),i.push(aK)),i}function cK(t){let e=[],n=[],i=0,r=0,a=[],o=[];t.forEach(t=>{let e=[Number(t[0]),Number(t[1])];o.push(e)});for(let s=0;s<o.length;s++)if(s>0){let t=dK(o[s-1],o[s]);n.push(Number(t))}else n.push(0);for(let s=0;s<n.length;s++)i+=n[s];for(let s=0;s<n.length;s++)if(r+=n[s],0===s)a.push(i);else if(s===n.length-1)a.push(0);else{let t=i-r;a.push(t)}return t.forEach((t,i)=>{let r=aU(t[0],"lon","Array"),o=aU(t[1],"lat","Array");e.push({lon:r,lat:o,routeDistance:0===n[i]?0:n[i].toFixed(2),PortOfDestination:0===a[i]?0:a[i].toFixed(2)})}),{tableData:e,totalAllRoute:i}}function uK(t){let e=[],n=[],i=[];return t.forEach(t=>{e.push([String(oU(t.lon))+" "+String(oU(t.lat))]),n.push([String(oU(t.lon)),String(oU(t.lat))])}),i=e,e=e.join(","),{oldArr:e,getTableDataArr:n,addRouteData:i}}function hK(t){let e=[];return t.forEach(t=>{let n=Object(UB["s"])([Number(t[0]),Number(t[1])],"EPSG:3857","EPSG:4326");e.push(n)}),e}function dK(t,e){let n=Object(WU["a"])(t,e);return n=(n/1852).toFixed(2),n}function pK(t,e,n,i,r){let a=t=>{for(let e=0;e<t.length;e++)if(Number(t[e][0])>179&&Number(t[e][0])<540){for(let e=0;e<t.length;e++)if(Number(t[e][0])<-179&&Number(t[e][0])>-540)return 4;return 1}for(let e=0;e<t.length;e++)if(Number(t[e][0])<-179&&Number(t[e][0])>-540){for(let e=0;e<t.length;e++)if(Number(t[e][0])>179&&Number(t[e][0])>-540)return 4;return 2}for(let e=0;e<t.length;e++)if(Number(t[e][0])<180&&Number(t[e][0])>-180)return 3},o=fK(e,n,i),s=o.getSource();s.clear();let l=[],c=[],u=a(t);if(1===u){let a=t.map((t,n)=>{let i=Object(UB["s"])([Number(t[0]),Number(t[1])],"EPSG:4326","EPSG:3857"),a=new Fz["a"](i),o=new Pz["a"]({geometry:a,type:"point",name:r||"未命名航线",index:n});return o.setId(e+"-"+(n+2)),l.push(o),i}),o=new Dz["a"](a),u=new Pz["a"]({geometry:o,type:"line"});if(u.setId(e),s.clear(),s.addFeature(u),s.addFeatures(l),"xx"!==e){let a=fK(e+"fu",n,i),o=a.getSource();o.clear();let s=t.map((t,n)=>{let i=t;Number(i[0])>179&&Number(i[0]),i[0]=Number(i[0])-360;let a=Object(UB["s"])([Number(i[0]),Number(i[1])],"EPSG:4326","EPSG:3857"),o=new Fz["a"](a),s=new Pz["a"]({geometry:o,type:"point",name:r||"未命名航线",index:n});return s.setId(e+"-"+(n+2)),c.push(s),a}),l=new Dz["a"](s),u=new Pz["a"]({geometry:l,type:"line"});u.setId(e+"fu"),o.clear(),o.addFeature(u),o.addFeatures(c)}}else if(2===u){let a=t.map((t,n)=>{let i=Object(UB["s"])([Number(t[0]),Number(t[1])],"EPSG:4326","EPSG:3857"),a=new Fz["a"](i),o=new Pz["a"]({geometry:a,type:"point",name:r||"未命名航线",index:n});return o.setId(e+"-"+(n+2)),l.push(o),i}),o=new Dz["a"](a),u=new Pz["a"]({geometry:o,type:"line"});if(u.setId(e),s.clear(),s.addFeature(u),s.addFeatures(l),"xx"!==e){let a=fK(e+"fu",n,i),o=a.getSource();o.clear();let s=t.map((t,n)=>{let i=t;Number(i[0])<-179&&Number(i[0]),i[0]=Number(i[0])+360;let a=Object(UB["s"])([Number(i[0]),Number(i[1])],"EPSG:4326","EPSG:3857"),o=new Fz["a"](a),s=new Pz["a"]({geometry:o,type:"point",name:r||"未命名航线",index:n});return s.setId(e+"-"+(n+2)),c.push(s),a}),l=new Dz["a"](s),u=new Pz["a"]({geometry:l,type:"line"});u.setId(e+"fu"),o.clear(),o.addFeature(u),o.addFeatures(c)}}else if(3===u){let n=t.map((t,n)=>{let i=Object(UB["s"])([Number(t[0]),Number(t[1])],"EPSG:4326","EPSG:3857"),a=new Fz["a"](i),o=new Pz["a"]({geometry:a,type:"point",name:r||"未命名航线",index:n});return o.setId(e+"-"+(n+2)),l.push(o),i}),i=new Dz["a"](n),a=new Pz["a"]({geometry:i,type:"line"});a.setId(e),s.clear(),s.addFeature(a),s.addFeatures(l)}else if(4===u){let n=t.map((t,n)=>{let i=Object(UB["s"])([Number(t[0]),Number(t[1])],"EPSG:4326","EPSG:3857"),a=new Fz["a"](i),o=new Pz["a"]({geometry:a,type:"point",name:r||"未命名航线",index:n});return o.setId(e+"-"+(n+2)),l.push(o),i}),i=new Dz["a"](n),a=new Pz["a"]({geometry:i,type:"line"});a.setId(e),s.clear(),s.addFeature(a),s.addFeatures(l)}}function fK(t,e,n){let i=Mz(t);if(i)return i;{let i=new Vz["a"]({source:new tV["a"]({wrapX:"xx"!==t}),zIndex:e,layerId:t,style:t=>sK(t)});return n.addLayer(i),i}}function gK(t){let e=[],n=[];return t&&t.forEach(t=>{t.expanded&&n.push(t.data.key),t.childNodes.forEach(t=>{t.data.isShow&&e.push(t.data.key)})}),{routeLineKey:e,routeLineGroup:n}}var mK={components:{TopSearch:eK},props:{manual:{type:Boolean,default:!1},treeList:{type:Array,default:()=>[]},id:{type:String,default:"key"},treeBoxStyle:{type:String,default:"height: calc(100% - 290px); overflow: auto"},checkBoxLeftShow:{type:Boolean,default:!0},seaRoutetype:{type:String,default:""}},mounted(){this.setHistoryMoreList([])},data(){return{defaultProps:{children:"children",label:"title"},searchText:"",timer:null,loading:!1}},methods:{...Object(mH["b"])("historyModule",["setHistoryMoreList"]),filterNode(t,e,n){var i;return!t||(this.loading=!1,-1!==(null===(i=e.title)||void 0===i?void 0:i.indexOf(t))||this.filterchild(t,n.parent)||!1)},filterchild(t,e){var n,i,r;if(e&&e.data&&null!==(n=e.data)&&void 0!==n&&n.title&&-1!==(null===(i=e.data)||void 0===i||null===(r=i.title)||void 0===r?void 0:r.indexOf(t)))return!0},treeStatus(){this.$refs.tree.root.childNodes.forEach(t=>{t.expanded=!1})},handleNodeClick(t,e){if("airRoute"===this.seaRoutetype){let{routeLineGroup:n}=gK(this.$refs.tree.root.childNodes);if(this.$store.commit("shipModule/changeRouteLineGroup",n),1===e.level)return;let i=Mz(t.key).getSource().getFeatureById(t.key),r=i.getGeometry().getCoordinates();this.map.getView().setCenter(r[0])}else{let n=["shipCrashLayer","shipGroupLayer","shipLoseLayer","shipFocusLayer","shipRoundLayer","BuoyLayer"];if(1===e.level)return;let i=t.key?t.key:t.vehicleId?t.vehicleId:t.sid,r=n.find(t=>{var e;let n=null===(e=Mz(t))||void 0===e?void 0:e.getSource().getFeatureById(i);return!!n});if(r){let t=Mz(r).getSource().getFeatureById(i);this.$store.commit("shipModule/setShipCheckedInfo",t.values_),this.$store.commit("shipModule/changeShipInfoShow",!0);let e=t.getGeometry().getCoordinates();this.map.getView().setCenter(e),BH({id:t.getId(),coor:e},!0)}else this.$message.info("暂无位置")}},checkChange(){this.setHistoryMoreList(this.$refs.tree.getCheckedNodes(!0))},search(){this.$refs.tree.filter(this.searchText)}},computed:{map(){return this.$store.getters["mapModule/data"]("map")}},watch:{searchText(t){this.manual||(this.loading=!0,clearTimeout(this.timer),this.timer=setTimeout(()=>{this.$refs.tree.filter(t)},2e3)),t||(this.treeStatus(),this.loading=!1)}}},vK=mK,yK=(n("4ec8"),n("56d9"),Object(f["a"])(vK,qJ,ZJ,!1,null,"8fb0d79c",null)),bK=yK.exports,xK={components:{Tree:bK},data(){return{currentList:"GroupClass",listData:[]}},mounted(){this.getList("GroupClass")},methods:{...Object(mH["b"])("shipModule",["setShipHideList","deleteShipHideId"]),async getList(t){this.currentList=t;try{if("GroupClass"===t){let t=await GW();t.result.forEach(t=>{t.children&&t.children.forEach(t=>{t.status="",t.judge=""})}),this.listData=t.result}else if("ProgramClasses"===t){let t=await zW();this.listData=t.result}}catch(e){}try{let{result:t}=await HW(),e=t.vehicleList;this.listData.forEach(t=>{t.children&&t.children.forEach(t=>{let n=e.find(e=>t.vehicleId===e.id);t.status=n.status,t.judge=n.judge})})}catch(e){}},showOrHideBtn(t){if(t.data.children){let e=this.allShow(t);t.data.children.forEach(t=>{this.showOrHide(t,"allShips",e)})}else this.showOrHide(t.data);this.$emit("addShipName",{map:this.map})},showOrHide(t,e,n){let i,r=t.key?t.key:t.vehicleId?t.vehicleId:t.sid;i="allShips"===e?n:this.shipGroupHideList.includes(r),i?this.deleteShipHideId({shipGroupHideList:r}):this.setShipHideList({shipGroupHideList:r});let a=["shipGroupLayer","shipLoseLayer"];a.forEach(t=>{var e,n,a;null===(e=Mz(t))||void 0===e||null===(n=e.getSource())||void 0===n||null===(a=n.getFeatureById(r))||void 0===a||a.set("visible",i?"show":"hide")})}},computed:{shipGroupList(){return this.$store.state.shipModule.shipGroupList},shipGroupHideList(){return this.$store.state.shipModule.shipGroupHideList},isShow(){return function(t){let e=t.key?t.key:t.vehicleId?t.vehicleId:t.sid;return this.shipGroupHideList.includes(e)}},allShow(){return function(t){let e=t.childNodes.map(t=>t.data.vehicleId);return e.every(t=>this.shipGroupHideList.includes(t))}},map(){return this.$store.getters["mapModule/data"]("map")}}},_K=xK,wK=(n("9b87"),Object(f["a"])(_K,YJ,XJ,!1,null,"3977c082",null)),SK=wK.exports,OK=function(){var t=this,e=t._self._c;return e("div",{staticClass:"shipFocus-class"},[e("div",{staticClass:"top-class"},[e("div",{staticClass:"group-class"}),e("div",{staticClass:"add-class",on:{click:t.addNewGroup}},[t._m(0)]),e("div",[t._t("historyBtn")],2)]),e("div",[e("Tree",{ref:"tree",staticClass:"tree-class",attrs:{treeList:t.treeData,id:"key"},scopedSlots:t._u([{key:"label",fn:function({node:n}){return[t.editList.includes(n.id)?e("el-input",{attrs:{size:"mini"},model:{value:n.data.title,callback:function(e){t.$set(n.data,"title",e)},expression:"node.data.title"}}):e("span",[t._v(" "+t._s(n.data.title?n.data.title:n.data.nameEn?n.data.nameEn:""))])]}},{key:"headerBtnList",fn:function({node:n}){var i;return[(null===(i=n.data.children)||void 0===i?void 0:i.length)>0?e("i",{class:{iconfont:!0,"icon-xianshikejian":!t.allShow(n),"icon-yincangbukejian":t.allShow(n)},staticStyle:{"margin-right":"3px"},on:{click:function(e){return e.stopPropagation(),t.showOrHideBtn(n)}}}):t._e(),t.editList.includes(n.id)?e("i",{staticClass:"el-icon-check",on:{click:function(e){return e.stopPropagation(),t.sendEdit(n)}}}):e("i",{staticClass:"el-icon-edit",on:{click:function(e){return e.stopPropagation(),t.addEdit(n)}}}),e("i",{staticClass:"el-icon-delete",on:{click:function(e){return e.stopPropagation(),t.getInfo(n,0)}}})]}},{key:"btnList",fn:function({node:n}){return[e("i",{class:{iconfont:!0,"icon-xianshikejian":!t.isShow(n),"icon-yincangbukejian":t.isShow(n)},on:{click:function(e){return e.stopPropagation(),t.showOrHideBtn(n)}}}),e("i",{staticClass:"el-icon-sort",on:{click:function(e){return e.stopPropagation(),t.receiveFocusList(n)}}}),e("i",{staticClass:"el-icon-delete",on:{click:function(e){return e.stopPropagation(),t.cancelFocus(n,1)}}})]}}])})],1),e("el-dialog",{attrs:{title:"提示",visible:t.deleteVisible,width:"30%","modal-append-to-body":!1},on:{"update:visible":function(e){t.deleteVisible=e}}},[e("span",[t._v(t._s(0===t.type?"请确认删除改分组":"请确认取消关注"))]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"mini"},on:{click:function(e){t.deleteVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.sure}},[t._v("确 认")])],1)]),e("BaseModal",t._b({staticStyle:{"max-height":"500px"},attrs:{isShow:t.changeVisible,title:"移动分组",titleStyle:t.focusTitleStyle},scopedSlots:t._u([{key:"tabContent",fn:function(){return[e("div",{staticClass:"focus-box-class"},[e("el-radio-group",{model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},t._l(t.focusList,(function(n,i){return e("el-radio",{key:i,attrs:{label:n.id}},[e("div",{staticClass:"radio-content-class"},[t._v(" "+t._s(n.name)+" ")])])})),1),e("div",{staticStyle:{"text-align":"center",padding:"5px"}},[e("el-button",{staticStyle:{width:"100px"},attrs:{type:"primary",size:"mini"},on:{click:t.sureMove}},[t._v(" 确定")]),e("el-button",{staticStyle:{width:"100px"},attrs:{size:"mini"},on:{click:function(e){t.changeVisible=!1}}},[t._v(" 取消")])],1)],1)]},proxy:!0}])},"BaseModal",t.focusStyle,!1))],1)},CK=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"box-class"},[e("div",{staticClass:"Btn-class"},[e("img",{attrs:{src:n("f170"),width:"100%",alt:""}})]),t._v(" 添加分组 ")])}],AK=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:t.transitionName}},[t.isShow?e("div",{directives:[{name:"move",rawName:"v-move"}],staticClass:"myModal",style:{width:t.width,height:t.height,top:t.top,left:t.left}},[e("div",[t._t("header",(function(){return[e("Header",t._g(t._b({attrs:{title:t.title}},"Header",t.$attrs,!1),t.$listeners))]})),t._t("content",(function(){return[e("Content",{attrs:{Tabs:t.$attrs.Tabs,activeTab:t.activeTab},on:{"update:activeTab":function(e){t.activeTab=e},"update:active-tab":function(e){t.activeTab=e}},scopedSlots:t._u([{key:"default",fn:function({componentName:e}){return[t._t("tabContent",null,{componentName:e})]}}],null,!0)})]})),t._t("footer")],2)]):t._e()])},MK=[],TK=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header-class",style:t.titleStyle},[e("div",{staticStyle:{flex:"23"}},[t._v(t._s(t.$attrs.title))]),e("div",{staticStyle:{flex:"1"}},[e("i",{staticClass:"el-icon-close",on:{click:function(e){return t.$emit("close")}}})])])},kK=[],LK={props:{titleStyle:{type:Object,default(){return{}}}},mounted(){},data(){return{}}},jK=LK,IK=(n("12a1"),Object(f["a"])(jK,TK,kK,!1,null,"73e3f410",null)),EK=IK.exports,PK=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tabs-class"},[0!=t.Tabs.length?e("el-tabs",{model:{value:t.selectTab,callback:function(e){t.selectTab=e},expression:"selectTab"}},t._l(t.Tabs,(function(n){return e("el-tab-pane",{key:n.key,attrs:{label:n.title,name:n.key}},[t._t("default",null,{componentName:n.componentName})],2)})),1):e("div",[t._t("default")],2)],1)},RK=[],DK={props:{Tabs:{type:Array,default(){return[]}},activeTab:{type:String,default:""}},data(){return{}},methods:{},mounted(){},computed:{selectTab:{get(){return this.activeTab},set(t){this.$emit("update:activeTab",t)}}}},FK=DK,NK=(n("7b48"),Object(f["a"])(FK,PK,RK,!1,null,"3fce4216",null)),BK=NK.exports,VK={inheritAttrs:!1,components:{Header:EK,Content:BK},props:{isShow:{type:Boolean,default:!1},height:{type:String,default:""},width:{type:String,default:"450px"},title:{type:String,default:"title"},transitionName:{type:String,default:"modal"},top:{type:String,default:"10px"},left:{type:String,default:"10px"}},data(){return{}},methods:{},mounted(){},computed:{activeTab:{get(){return this.$attrs.activeTab},set(t){this.$emit("update:activeTab",t)}}},watch:{}},GK=VK,zK=(n("b446"),Object(f["a"])(GK,AK,MK,!1,null,"27d81699",null)),UK=zK.exports,HK={components:{Tree:bK,BaseModal:UK},mounted(){this.getFocusListTree()},data(){return{treeData:[],node:null,deleteVisible:!1,changeVisible:!1,focusTitleStyle:{"background-color":"rgba(255,255,255,0.9)","font-size":"15px",color:"rgb(13, 162, 253)","font-weight":500},focusStyle:{width:"300px",top:"60px",left:"-305px","z-index":666},radio:"",moveId:"",focusList:[],type:0,editList:[]}},methods:{...Object(mH["b"])("shipModule",["setShipHideList","deleteShipHideId"]),async getFocusListTree(){try{let{result:t}=await UW();t.forEach(t=>{t.edit=!1}),this.treeData=t}catch(t){this.treeData=[]}},getCheckedKeys(){return this.$refs.tree.getCheckedKeys()},async addNewGroup(){let t={color:"#5ba0fb",name:"新的分组"};try{await IZ(t);let{result:e}=await UW();this.treeData=e,this.$message.success("添加成功"),this.deleteVisible=!1}catch(e){this.deleteVisible=!1}},getInfo(t,e){this.type=e,this.node=t,this.deleteVisible=!0},async sure(){if(0===this.type)try{let t={id:this.node.data.key};await DZ(t),this.$message.success("删除成功"),this.getFocusListTree(),hY(),this.showClassify.includes("shipFocus")?mY(!0):mY(!1),this.deleteVisible=!1}catch(t){this.deleteVisible=!1}else try{let t=new FormData;t.append("vehicleId",this.node.data.key),await RZ(t),this.$message.success("取消成功"),this.getFocusListTree(),hY(),this.showClassify.includes("shipFocus")?mY(!0):mY(!1),this.deleteVisible=!1}catch(t){this.deleteVisible=!1}},showOrHideBtn(t){if(t.data.children){let e=this.allShow(t);t.data.children.forEach(t=>{this.showOrHide(t,"allShips",e)})}else this.showOrHide(t.data);this.$emit("addShipName",{map:this.map})},showOrHide(t,e,n){let i,r=t.key?t.key:t.vehicleId?t.vehicleId:t.sid;i="allShips"===e?n:this.shipFocusHideList.includes(r),i?this.deleteShipHideId({shipFocusHideList:r}):this.setShipHideList({shipFocusHideList:r});let a=["shipFocusLayer","shipRoundLayer"];a.forEach(t=>{var e,n,a;null===(e=Mz(t))||void 0===e||null===(n=e.getSource())||void 0===n||null===(a=n.getFeatureById(r))||void 0===a||a.set("visible",i?"show":"hide")})},async receiveFocusList(t){this.moveId=t.key?t.key:t.vehicleId?t.vehicleId:t.sid;try{let{result:t}=await jZ();this.focusList=t,this.changeVisible=!0}catch(e){}},async sureMove(){let t={newGroupId:this.radio,vehicleId:this.moveId};try{let{messageCn:e}=await WW(t);this.$message.success(e),this.changeVisible=!1,await this.getFocusListTree()}catch{this.changeVisible=!1}},cancelFocus(t,e){this.getInfo(t,e)},addEdit(t){if(this.editList=[],!t.key&&"未分组"===t.label)return this.$message.warning("此分组无法修改名称");this.editList.includes(t.id)||this.editList.push(t.id)},async sendEdit(t){let e={color:"#5ba0fb",name:t.data.title,id:t.data.key};await EZ(e),this.$message.success("修改成功"),this.editList=[],await this.getFocusListTree()}},computed:{shipFocusHideList(){return this.$store.state.shipModule.shipFocusHideList},isShow(){return function(t){let e=t.key?t.key:t.vehicleId?t.vehicleId:t.sid;return this.shipFocusHideList.includes(e)}},showClassify(){return this.$store.state.mapModule.showClassify},allShow(){return function(t){let e=t.childNodes.map(t=>t.data.key);return this.shipFocusHideList.length===e.length}},map(){return this.$store.getters["mapModule/data"]("map")}}},WK=HK,YK=(n("7939"),Object(f["a"])(WK,OK,CK,!1,null,"2bc5aea6",null)),XK=YK.exports,qK=function(){var t=this,e=t._self._c;return e("div",{staticClass:"shipRound-class"},[e("div",{staticClass:"top-class"},[e("div",{staticClass:"group-class"}),e("div",{staticClass:"add-class",on:{click:t.allShowOrHide}},[e("div",{staticClass:"box-class"},[e("div",{staticClass:"Btn-class"},[e("img",{attrs:{src:t.allListShow?n("a0d8"):n("25e8"),width:"100%",alt:""}})]),t._v(" 隐藏/显示 ")])]),t._t("historyBtn")],2),e("Tree",{staticClass:"tree-class",attrs:{treeList:t.listData},scopedSlots:t._u([{key:"headerBtnList",fn:function({node:n}){return[e("i",{class:{iconfont:!0,"icon-xianshikejian":!t.allShow(n),"icon-yincangbukejian":t.allShow(n)},on:{click:function(e){return e.stopPropagation(),t.showOrHideBtn(n)}}})]}},{key:"btnList",fn:function({node:n}){return[e("i",{class:{iconfont:!0,"icon-xianshikejian":!t.isShow(n),"icon-yincangbukejian":t.isShow(n)},on:{click:function(e){return e.stopPropagation(),t.showOrHideBtn(n)}}})]}}])})],1)},ZK=[],QK={components:{Tree:bK},data(){return{currentList:"GroupClass",listData:[],treeData:[]}},mounted(){this.getshipRoundList()},methods:{...Object(mH["b"])("shipModule",["setShipHideList","deleteShipHideId"]),getshipRoundList(){let t=Object.values(this.shipRoundList);t.forEach(t=>{let e=this.listData.some(e=>t.rid===e.id);var n,i;e?this.listData.forEach(e=>{e.id===t.rid&&(t.title=t.name?t.name:t.nameEn?t.nameEn:"",e.children.push(t))}):(t.title=t.name?t.name:t.nameEn?t.nameEn:"",this.listData.push({id:t.rid,children:[t],title:null!==(n=this.shipGroupList[t.rid])&&void 0!==n&&n.name?this.shipGroupList[t.rid].name:null!==(i=this.shipGroupList[t.rid])&&void 0!==i&&i.nameEn?this.shipGroupList[t.rid].nameEn:""}))})},showOrHideBtn(t){if(t.data.children){let e=this.allShow(t);t.data.children.forEach(t=>{this.showOrHide(t,"allShips",e)})}else this.showOrHide(t.data);this.$emit("addShipName",{map:this.map})},showOrHide(t,e,n){let i,r=t.sid;i="allShips"===e?n:this.shipRoundHideList.includes(r),i?this.deleteShipHideId({shipRoundHideList:r}):this.setShipHideList({shipRoundHideList:r});let a=["shipRoundLayer"];a.forEach(t=>{var e,n,a;null===(e=Mz(t))||void 0===e||null===(n=e.getSource())||void 0===n||null===(a=n.getFeatureById(r))||void 0===a||a.set("visible",i?"show":"hide")})},allShowOrHide(){let t=this.allListShow;Object.values(this.shipRoundList).forEach(e=>{this.showOrHide(e,"allShips",t)}),this.$emit("addShipName",{map:this.map})}},computed:{shipRoundList(){return this.$store.state.shipModule.shipRoundList},shipGroupList(){return this.$store.state.shipModule.shipGroupList},shipRoundHideList(){return this.$store.state.shipModule.shipRoundHideList},isShow(){return function(t){let e=t.data.key?t.data.key:t.data.vehicleId?t.data.vehicleId:t.data.sid;return this.shipRoundHideList.includes(e)}},allShow(){return function(t){let e=t.childNodes.map(t=>t.data.sid);return e.every(t=>this.shipRoundHideList.includes(t))}},allListShow(){let t=Object.keys(this.shipRoundList);return t.every(t=>this.shipRoundHideList.includes(t))},map(){return this.$store.getters["mapModule/data"]("map")}}},JK=QK,KK=(n("5235"),Object(f["a"])(JK,qK,ZK,!1,null,"360f3327",null)),$K=KK.exports,t$=function(){var t=this,e=t._self._c;return e("div",{staticClass:"history-class"},[e("div",{class:{"history-timer-class":!0,"buoy-class":"Buoy"===t.shipCheckedInfo.type}},[e("el-date-picker",{attrs:{type:"datetime",placeholder:"选择开始时间",size:"small"},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}}),e("span",[t._v("至")]),e("el-date-picker",{attrs:{type:"datetime",placeholder:"选择结束时间",size:"small"},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1),e("div",{staticClass:"box-class"},["Buoy"!==t.shipCheckedInfo.type?e("el-checkbox-group",{model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},[t.isgroupShip&&t.hasSource.includes("3")?e("el-checkbox",{attrs:{label:"平台"}}):t._e(),t.isgroupShip&&(t.hasSource.includes("5")||t.hasSource.includes("6"))?e("el-checkbox",{attrs:{label:"卫星报位"}}):t._e(),e("el-checkbox",{attrs:{label:"AIS",disabled:!t.hasSource.includes("9")}})],1):t._e()],1),"Buoy"!==t.shipCheckedInfo.type?e("div",{staticClass:"timer-interval-class"},[e("span"),e("el-select",{attrs:{placeholder:"请选择时间间隔",size:"small","popper-append-to-body":!1},model:{value:t.selectValue,callback:function(e){t.selectValue=e},expression:"selectValue"}},t._l(t.options,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):t._e(),e("div",{staticClass:"history-btn-class"},[e("el-button",{attrs:{size:"small"},on:{click:function(e){return t.getHistory("one")}}},[t._v("一天")]),e("el-button",{attrs:{size:"small"},on:{click:function(e){return t.getHistory("three")}}},[t._v("三天")]),e("el-button",{attrs:{size:"small"},on:{click:function(e){return t.getHistory("seven")}}},[t._v("一周")]),e("el-button",{staticStyle:{color:"white"},attrs:{size:"small",type:"primary"},on:{click:function(e){return t.getHistory(null)}}},[t._v(" 绘制")])],1)])},e$=[];const n$=[{value:"0",label:"无时间间隔"},{value:"5",label:"间隔5分钟"},{value:"10",label:"间隔10分钟"},{value:"30",label:"间隔30分钟"},{value:"60",label:"间隔一小时"},{value:"120",label:"间隔二小时"},{value:"360",label:"间隔六小时"},{value:"720",label:"间隔十二小时"},{value:"1440",label:"间隔二十四小时"}];var i$={props:{requestType:{type:String,default:"single"},historyList:{type:Array,default:()=>[]}},data(){return{startTime:null,endTime:null,selectValue:"60",options:n$,checkList:[],checkSource:[]}},mounted(){this.transFormSource()},methods:{...Object(mH["b"])("historyModule",["setHistoryRouteList","deleteHistoryRouteList"]),getHistory(t){const e=t=>this.$moment().subtract(t,"days").format("YYYY-MM-DD HH:mm:ss"),n=t=>this.$moment(t).format("YYYY-MM-DD HH:mm:ss");if(t){const n=this.$moment().format("YYYY-MM-DD HH:mm:ss");switch(t){case"one":this.startTime=e(1);break;case"three":this.startTime=e(3);break;case"seven":this.startTime=e(7);break;default:break}this.endTime=n}else this.startTime=n(this.startTime),this.endTime=n(this.endTime);if("Invalid date"===this.startTime||"Invalid date"===this.endTime)return this.$message.warning("请选择开始时间和结束时间");let i=this.shipCheckedInfo.type,r=Object.keys(this.historyRouteList).length+this.historyMoreList.length;if(5===this.historyList.length||"more"===this.requestType&&r>5)return this.$message.warning("页面轨迹最大数量不能超过5条");if("Buoy"!==i)if("single"===this.requestType){let t=this.shipCheckedInfo.name?this.shipCheckedInfo.name:this.shipCheckedInfo.nameEn?this.shipCheckedInfo.nameEn:"";this.getShipHistory(this.shipCheckedInfo.id,t)}else this.historyMoreList.forEach(t=>{let e=t.key?t.key:t.vehicleId?t.vehicleId:t.sid,n=t.title?t.title:t.name?t.name:t.nameEn;this.getShipHistory(e,n)});else this.getBuoyHistory()},async getShipHistory(t,e){this.sourceTransForm();let n={vehicleId:t,startTime:this.startTime,endTime:this.endTime,source:this.checkSource.toString(),integer:this.selectValue},i=(new Date(this.endTime).getTime()-new Date(this.startTime).getTime())/1e3/60/60/24;this.setHistoryRouteList({[t]:{id:t,points:[],loading:!0,startTime:this.startTime,endTime:this.endTime,dayTime:i,shipName:e,source:this.checkSource.toString()}});try{let{result:i}=await CZ(n);await uW(t,{points:i,color:this.historyColor[Object.keys(this.historyRouteList).length-1],name:e},!1,this.map),this.setHistoryRouteList({[t]:{id:t,points:i,loading:!1,name:e}}),"single"===this.requestType&&i.length>0&&this.postionCenter(i[0],t)}catch(r){this.setHistoryRouteList({[t]:{id:t,points:[],loading:!1}})}},async getBuoyHistory(){let t=this.shipCheckedInfo.id,e={idNumder:t,startTime:this.startTime,endTime:this.endTime},n=(new Date(this.endTime).getTime()-new Date(this.startTime).getTime())/1e3/60/60/24,i=this.shipCheckedInfo.name;this.setHistoryRouteList({[t]:{id:t,points:[],loading:!0,startTime:this.startTime,endTime:this.endTime,dayTime:n,shipName:i,isBuoy:!0}});try{let{result:n}=await AZ(e);n.map(t=>(t.sp=t.speed,t.co=t.course,t)),await uW(t,{points:n,color:this.historyColor[Object.keys(this.historyRouteList).length-1],name:i},!1,this.map),this.setHistoryRouteList({[t]:{id:t,points:n,loading:!1,name:i}}),n.length>0&&this.postionCenter(n[0],t)}catch(r){this.setHistoryRouteList({[t]:{id:t,points:[],loading:!1}})}},postionCenter(t,e){let n=[t.lon/60/1e4,t.lat/60/1e4],i=Object(UB["s"])(n,"EPSG:4326","EPSG:3857");BH({id:e,coor:i},!0)},transFormSource(){this.checkList=[],this.isgroupShip&&(this.source.includes("3")&&this.checkList.push("平台"),this.source.includes("5")&&this.source.includes("6")&&this.checkList.push("卫星报位")),this.source.includes("9")&&this.checkList.push("AIS")},sourceTransForm(){this.checkSource=[],this.isgroupShip&&(this.checkList.includes("平台")&&this.checkSource.push("3"),this.checkList.includes("卫星报位")&&(this.checkSource.push("5"),this.checkSource.push("6"))),this.checkList.includes("AIS")&&this.checkSource.push("9")}},computed:{shipCheckedInfo(){return this.$store.state.shipModule.shipCheckedInfo},source(){return this.$store.state.mapModule.source},disSource(){return this.$store.state.mapModule.disSource},hasSource(){return this.$store.state.mapModule.hasSource},map(){return this.$store.getters["mapModule/data"]("map")},historyRouteList(){return this.$store.state.historyModule.historyRouteList},historyColor(){return this.$store.state.historyModule.historyColor},historyMoreList(){return this.$store.state.historyModule.historyMoreList},isgroupShip(){let t=this.$store.state.shipModule.shipGroupList,e=Object.keys(t);return e.includes(this.shipCheckedInfo.id)}},watch:{shipCheckedInfo(t){"{}"!==JSON.stringify(t)&&(this.transFormSource(),this.sourceTransForm())}}},r$=i$,a$=(n("a301"),Object(f["a"])(r$,t$,e$,!1,null,"669a2a78",null)),o$=a$.exports,s$=function(){var t=this,e=t._self._c;return e("div",{staticClass:"historyreal-class"},[e("div",{staticClass:"historyreal-timer-class"},[e("el-time-picker",{attrs:{placeholder:"开始时间",size:"small"},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}}),e("el-button",{attrs:{type:"primary",size:"small",icon:"single"===t.requestType&&t.isLoading(t.shipCheckedInfo.id)?"el-icon-loading":""},on:{click:t.getRealHistory}},[t._v("绘制")])],1),e("div",{staticClass:"box-class"},[e("el-checkbox-group",{model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},[e("el-checkbox",{attrs:{label:"平台",disabled:!t.isgroupShip||!t.hasSource.includes("3")}}),e("el-checkbox",{attrs:{label:"卫星报位",disabled:!t.isgroupShip||!t.hasSource.includes("5")&&!t.hasSource.includes("6")}}),e("el-checkbox",{attrs:{label:"AIS",disabled:!t.hasSource.includes("9")}})],1)],1)])},l$=[],c$={props:{requestType:{type:String,default:"single"}},data(){return{checkList:[],checkSource:[],startTime:null}},mounted(){this.transFormSource()},methods:{...Object(mH["b"])("historyModule",["setHistoryRealRouteList"]),transFormSource(){this.checkList=[],this.isgroupShip&&(this.source.includes("3")&&this.checkList.push("平台"),this.source.includes("5")&&this.source.includes("6")&&this.checkList.push("卫星报位")),this.source.includes("9")&&this.checkList.push("AIS")},sourceTransForm(){this.checkSource=[],this.isgroupShip&&(this.checkList.includes("平台")&&this.checkSource.push("3"),this.checkList.includes("卫星报位")&&(this.checkSource.push("5"),this.checkSource.push("6"))),this.checkList.includes("AIS")&&this.checkSource.push("9")},getRealHistory(){if(this.sourceTransForm(),!this.startTime)return this.$message.warning("请选择开始时间");let t;if("single"===this.requestType){let e=this.shipCheckedInfo.id;t={source:this.checkSource.toString(),startTime:this.$moment(this.startTime).format("YYYY-MM-DD HH:mm:ss"),vehicleIds:e},this.setHistoryRealRouteList({[e]:{points:[],id:e,loading:!0}})}else{let e=[];this.historyMoreList.forEach(t=>{let n=t.key?t.key:t.vehicleId?t.vehicleId:t.sid;n&&(this.setHistoryRealRouteList({[n]:{points:[],id:n,loading:!0}}),e.push(n))}),t={source:this.checkSource.toString(),startTime:this.$moment(this.startTime).format("YYYY-MM-DD HH:mm:ss"),vehicleIds:e.toString()}}gY(t)}},computed:{shipCheckedInfo(){return this.$store.state.shipModule.shipCheckedInfo},source(){return this.$store.state.mapModule.source},disSource(){return this.$store.state.mapModule.disSource},hasSource(){return this.$store.state.mapModule.hasSource},map(){return this.$store.getters["mapModule/data"]("map")},isLoading(){return function(t){var e;return null===(e=this.$store.state.historyModule.historyRealRouteList[t])||void 0===e?void 0:e.loading}},historyMoreList(){return this.$store.state.historyModule.historyMoreList},isgroupShip(){let t=this.$store.state.shipModule.shipGroupList,e=Object.keys(t);return e.includes(this.shipCheckedInfo.id)}},watch:{shipCheckedInfo(t){"{}"!==JSON.stringify(t)&&(this.transFormSource(),this.sourceTransForm())}}},u$=c$,h$=(n("328c"),Object(f["a"])(u$,s$,l$,!1,null,"6c4630c0",null)),d$=h$.exports,p$={components:{ShipGroupList:SK,ShipFocusList:XK,ShipRoundList:$K,BaseModal:UK,HistoryMessage:o$,HistoryRealMessage:d$},data(){return{currentList:"ShipGroupList",historyTitleStyle:{"background-color":"rgba(255,255,255,0.9)","font-size":"15px",color:"rgb(13, 162, 253)","font-weight":500},historyStyle:{top:"75px",left:"-455px",height:"180px"},historyRealStyle:{width:"300px",height:"130px",top:"70px",left:"-305px","z-index":666},historySelectShow:!1,historyRealSelectShow:!1}},mounted(){},methods:{...Object(mH["b"])("historyModule",["deleteHistoryRouteList","deleteHistoryRealRouteList"]),changeList(t){let e=t.target.id;this.currentList=e},getHistory(){let t=Object.keys(this.historyRouteList).length+this.historyMoreList.length;return 0===this.historyMoreList.length?this.$message.warning("请选择勾选船舶"):t>5?this.$message.warning("页面轨迹最大数量不能超过5条"):void(this.historySelectShow=!0)},historyClose(){this.historySelectShow=!1},historyRealClose(){this.historyRealSelectShow=!1},getRealHistory(){let t=Object.keys(this.historyRealRouteList).length+this.historyMoreList.length;return 0===this.historyMoreList.length?this.$message.warning("请选择勾选船舶"):t>5?this.$message.warning("实时轨迹最大数量不能超过5条"):void(this.historyRealSelectShow=!0)},async clearAllLines(){for(let i in this.historyRouteList){Mz(i)&&this.map.removeLayer(Mz(i));let t=Mz(i+"webgl");t&&(this.map.removeLayer(t),t.dispose());let e=Mz(i+"arrowwebgl");e&&(this.map.removeLayer(e),e.dispose()),this.deleteHistoryRouteList(i)}let t=Object.keys(this.historyRealRouteList),e={vids:t.toString()};try{await SZ(e);for(let e of t){e+="real",Mz(e)&&this.map.removeLayer(Mz(e));let t=Mz(e+"webgl");t&&(this.map.removeLayer(t),t.dispose());let n=Mz(e+"arrowwebgl");n&&(this.map.removeLayer(n),n.dispose()),this.deleteHistoryRealRouteList(e)}}catch(n){}this.$message.success("关闭成功")}},computed:{historyRouteList(){return this.$store.state.historyModule.historyRouteList},historyMoreList(){return this.$store.state.historyModule.historyMoreList},historyRealRouteList(){return this.$store.state.historyModule.historyRealRouteList},map(){return this.$store.getters["mapModule/data"]("map")}}},f$=p$,g$=(n("02e2"),Object(f["a"])(f$,HJ,WJ,!1,null,"7cee3fc7",null)),m$=g$.exports,v$=function(){var t=this,e=t._self._c;return e("div",{staticClass:"weather-menu-container"},[t._t("title",null,{titleName:"气象"}),e("div",{staticClass:"title-class-item"},[t._v("分类显示")]),e("div",{staticClass:"content-class"},[e("el-row",t._l(t.valueArray,(function(n){return e("el-col",{key:n.title,attrs:{span:8}},[e("el-button",{class:n.select?"checked-class":"",on:{click:function(e){return t.layerSelect(n)}}},[t._v(t._s(n.title))])],1)})),1)],1),e("div",{staticClass:"title-class-item"},[t._v("分层海温")]),e("div",{staticClass:"content-class"},[e("el-row",t._l(t.WaterTemp,(function(n){return e("el-col",{key:n.title,attrs:{span:8}},[e("el-button",{class:n.select?"checked-class":"",on:{click:function(e){return t.layerSelect(n)}}},[t._v(t._s(n.title))])],1)})),1)],1)],2)},y$=[],b$={name:"WeatherMenu",data(){return{}},computed:{valueArray(){return this.$store.state.metModule.valueArray},WaterTemp(){return this.$store.state.metModule.WaterTemp},layerValue(){return this.$store.getters["metModule/layerValue"]}},methods:{...Object(mH["b"])("metModule",["changeValueArray"]),layerSelect(t){this.changeValueArray(t)}}},x$=b$,_$=(n("a9c5"),Object(f["a"])(x$,v$,y$,!1,null,"947bbc26",null)),w$=_$.exports,S$=function(){var t=this,e=t._self._c;return e("div",{staticClass:"filterMenu-class"},[t._t("title",null,{titleName:"电浮标"}),e("Tree",{staticClass:"tree-class",attrs:{treeList:t.listData}})],2)},O$=[],C$={components:{Tree:bK},data(){return{}},computed:{listData(){return this.$store.state.buoyModule.buoyListTree}}},A$=C$,M$=Object(f["a"])(A$,S$,O$,!1,null,null,null),T$=M$.exports,k$=function(){var t=this,e=t._self._c;return e("div",{staticClass:"filterMenu-class"},[t._t("title",null,{titleName:"图例"}),e("div",{staticClass:"filter-item-class"},[e("el-collapse",{staticClass:"menus-class",model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[e("shipChart")],1),e("el-collapse",{staticClass:"menus-class",model:{value:t.tyNames,callback:function(e){t.tyNames=e},expression:"tyNames"}},[e("TyphoonChart")],1)],1)],2)},L$=[],j$=function(){var t=this,e=t._self._c;return e("div",{staticClass:"areaLine-class"},[e("el-collapse-item",{attrs:{name:"1"}},[e("template",{slot:"title"},[e("div",{staticClass:"title-class"},[t._v("船舶图例")])]),e("div",{staticClass:"content-class"},[e("div",[e("div",{staticStyle:{"font-size":"15px"}},[t._v("类型:")]),e("el-row",[e("el-col",{attrs:{span:8}},[e("div",{staticClass:"img-box-class"},[e("img",{staticStyle:{background:"rgba(28, 214, 108, 0.9)",width:"15px",height:"25px"},attrs:{src:n("8c24"),alt:""}})]),e("div",{staticStyle:{height:"40px"}},[t._v("船队船舶")])]),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"img-box-class",staticStyle:{position:"relative"}},[e("img",{staticClass:"img-big",staticStyle:{background:"rgba(28, 214, 108, 0.9)"},attrs:{src:n("852d"),alt:""}})]),e("div",{staticStyle:{height:"40px"}},[t._v("基站船舶")])]),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"img-box-class"},[e("img",{staticStyle:{background:"rgba(28, 214, 108, 0.9)",width:"15px",height:"25px"},attrs:{src:n("31d6"),alt:""}})]),e("div",{staticStyle:{height:"40px"}},[t._v("渔货船")])]),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"img-box-class",staticStyle:{position:"relative"}},[e("img",{staticClass:"img-big",staticStyle:{background:"rgba(28, 214, 108, 0.9)"},attrs:{src:n("a37b4"),alt:""}})]),e("div",{staticStyle:{height:"40px"}},[t._v("基站船舶(渔货船)")])]),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"img-box-class"},[e("img",{staticStyle:{background:"rgba(163, 16, 255, 0.9)",width:"15px",height:"25px"},attrs:{src:n("8c24"),alt:""}})]),e("div",{staticStyle:{height:"40px"}},[t._v("周围船舶")])]),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"img-box-class"},[e("img",{staticStyle:{background:"rgba(163, 16, 255, 0.9)",width:"15px",height:"25px"},attrs:{src:n("ce81"),alt:""}})]),e("div",{staticStyle:{height:"40px"}},[t._v("周围渔船")])]),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"img-box-class"},[e("img",{staticStyle:{background:"rgba(255, 165, 0, 0.9)",width:"15px",height:"25px"},attrs:{src:n("8c24"),alt:""}})]),e("div",{staticStyle:{height:"40px"}},[t._v("关注船舶")])]),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"img-box-class"},[e("img",{staticStyle:{background:"red",width:"15px",height:"25px"},attrs:{src:n("8c24"),alt:""}})]),e("div",{staticStyle:{height:"40px"}},[t._v("危险船舶")])]),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"img-box-class"},[e("img",{staticStyle:{background:"rgba(90, 90, 90, 0.9)",width:"15px",height:"25px"},attrs:{src:n("8c24"),alt:""}})]),e("div",{staticStyle:{height:"40px"}},[t._v("离线船舶")])])],1)],1),e("div",[e("div",{staticStyle:{"font-size":"15px"}},[t._v("状态:")]),e("el-row",[e("el-col",{attrs:{span:8}},[e("div",{staticClass:"img-box-class"},[e("img",{staticStyle:{width:"15px",height:"26px"},attrs:{src:n("8c24"),alt:""}})]),e("div",{staticStyle:{height:"40px"}},[t._v("航速=0")])]),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"img-box-class",staticStyle:{position:"relative"}},[e("img",{staticClass:"img-big",attrs:{src:n("f245"),alt:""}})]),e("div",{staticStyle:{height:"40px"}},[t._v(t._s("航速>0 且<5"))])]),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"img-box-class",staticStyle:{position:"relative"}},[e("img",{staticClass:"img-big",attrs:{src:n("4f93"),alt:""}})]),e("div",{staticStyle:{height:"40px"}},[t._v(t._s("航速>5 且<10"))])]),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"img-box-class",staticStyle:{position:"relative"}},[e("img",{staticClass:"img-big",staticStyle:{height:"35px"},attrs:{src:n("45af"),alt:""}})]),e("div",{staticStyle:{height:"40px"}},[t._v(t._s("航速>10"))])])],1)],1)])],2)],1)},I$=[],E$={mounted(){},data(){return{areaLines:[],ids:[]}},methods:{}},P$=E$,R$=(n("975e"),Object(f["a"])(P$,j$,I$,!1,null,"82b3c44a",null)),D$=R$.exports,F$=function(){var t=this,e=t._self._c;return e("div",{staticClass:"areaLine-class"},[e("el-collapse-item",{attrs:{name:"1"}},[e("template",{slot:"title"},[e("div",{staticClass:"title-class"},[t._v("台风图例")])]),e("div",{staticClass:"content-class"},[e("div",[e("el-row",t._l(t.lists,(function(n){return e("el-col",{key:n.color,attrs:{span:8}},[e("div",{staticClass:"rad-box-class"},[e("div",{staticClass:"rad-class",style:{background:n.color,margin:"15px auto 10px auto"}}),e("div",{staticStyle:{height:"40px"}},[t._v(t._s(n.name))])])])})),1)],1)])],2)],1)},N$=[],B$={mounted(){},data(){return{areaLines:[],ids:[],lists:[{name:"热带低压",color:"#eed139"},{name:"热带风暴",color:"#0000ff"},{name:"强热带风暴",color:"#0f8000"},{name:"台风",color:"#fe9c45"},{name:"强台风",color:"#fe00fe"},{name:"超强台风",color:"#fe0000"}]}},methods:{}},V$=B$,G$=(n("b22f"),Object(f["a"])(V$,F$,N$,!1,null,"69a4c96c",null)),z$=G$.exports,U$={components:{shipChart:D$,TyphoonChart:z$},data(){return{activeNames:["1"],tyNames:["1"]}}},H$=U$,W$=(n("a3dd"),Object(f["a"])(H$,k$,L$,!1,null,"b1406c2a",null)),Y$=W$.exports,X$=function(){var t=this,e=t._self._c;return e("div",{staticClass:"filterMenu-class"},[t._t("title",null,{titleName:"标记"}),e("el-collapse",{staticClass:"menus-class",model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[e("Points",{attrs:{point:t.signList.point}})],1)],2)},q$=[],Z$=function(){var t=this,e=t._self._c;return e("div",{staticClass:"points-class"},[e("el-collapse-item",{attrs:{name:"1"}},[e("template",{slot:"title"},[e("div",{staticClass:"title-class"},[t._v("标记点")]),e("i",{staticClass:"el-icon-map-location",on:{click:function(e){return e.stopPropagation(),t.addCenter("signPopup","drawSignPointLayer")}}})]),t._l(t.point,(function(n){return e("div",{key:n.id,staticClass:"content-class"},[e("div",{staticClass:"name-class"},[e("span",{on:{click:function(e){return t.posCenter(n)}}},[t._v(t._s(n.name))])]),e("div",{staticClass:"icon-class"},[e("i",{staticClass:"el-icon-edit",on:{click:function(e){return t.edit(n)}}}),e("el-popconfirm",{attrs:{"confirm-button-text":"确认","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"确认删除此标记吗",placement:"top"},on:{confirm:function(e){return t.deleteSignPoint(n)}}},[e("i",{staticClass:"el-icon-delete",attrs:{slot:"reference"},slot:"reference"})])],1)])}))],2)],1)},Q$=[],J$={data(){return{}},methods:{...Object(mH["b"])("mapModule",["setPosSignMessage","setPosSignStatus"]),addCenter(t,e){this.setPosSignStatus("add");let n=this.getSignLayer(e),i=n.getSource();const r=new UU({source:i,type:"Point"});this.map.addInteraction(r),r.on("drawend",e=>{i.clear(),e.feature.set("type","Point"),e.feature.setId("signPoint");const n=e.feature.getGeometry().getFlatCoordinates();if(!this.map.getOverlayById(t)){let e=document.getElementById(t),i=new cU["a"]({element:e,autoPan:!0,id:t,positioning:"top-center",position:n});this.map.addOverlay(i)}let a=Object(UB["s"])(n,"EPSG:3857","EPSG:4326");while(a[0]<-180)a[0]=a[0]+360;while(a[0]>180)a[0]=a[0]-360;this.setPosSignMessage({id:"",lon:aU(a[0],"lon","array"),lat:aU(a[1],"lat","array")}),this.map.removeInteraction(r)})},getSignLayer(t){let e=Mz(t);if(e)return e;{let e=new Vz["a"]({source:new tV["a"],zIndex:4,style:gW,layerId:t});return this.map.addLayer(e),e}}}},K$={mixins:[J$],components:{},props:{point:{type:Array,default:()=>[]}},mounted(){},data(){return{editId:"",editShow:!1}},methods:{...Object(mH["b"])("mapModule",["setSignList","setPosSignStatus"]),edit(t){this.editShow=!0,this.editList=t.id;let e=t.area.split(" ");e=e.map(t=>(t=Number(t)/60/1e4,t)),this.setPosSignMessage({lon:aU(e[0],"lon","array"),lat:aU(e[1],"lat","array"),id:t.id,name:t.name}),this.setPosSignStatus("edit")},close(){this.editShow=!1},async deleteSignPoint(t){let e=new FormData;e.append("id",t.id),await lY(e);let{result:n}=await sY();this.setSignList(n),this.$message.success(" 删除成功")},posCenter(t){let e=t.area.split(" ");e=e.map(t=>(t=Number(t)/60/1e4,t));let n=Object(UB["s"])(e,"EPSG:4326","EPSG:3857");this.map.getView().setCenter(n),BH({id:"signPointCenter",coor:n},!0)}},computed:{map(){return this.$store.getters["mapModule/data"]("map")}}},$$=K$,t0=(n("9a41"),Object(f["a"])($$,Z$,Q$,!1,null,"dac04cec",null)),e0=t0.exports,n0={components:{Points:e0},mounted(){this.sginLists()},data(){return{activeNames:["1"]}},methods:{...Object(mH["b"])("mapModule",["setSignList"]),async sginLists(){try{var t;let{result:e}=await sY();null===(t=Mz("signPointLayer"))||void 0===t||t.getSource().clear(),this.setSignList(e),e.point.forEach(t=>{if(t.area){let e=t.area.split(" "),n=[Number(e[0])/60/1e4,Number(e[1])/60/1e4];DW(n,t.id,t.name,"signPointLayer")}})}catch(e){}}},computed:{signList(){return this.$store.state.mapModule.signList}},watch:{"$store.state.mapModule.signList":{handler(t){var e;null===(e=Mz("signPointLayer"))||void 0===e||e.getSource().clear(),t.point.forEach(t=>{if(t.area){let e=t.area.split(" "),n=[Number(e[0])/60/1e4,Number(e[1])/60/1e4];DW(n,t.id,t.name,"signPointLayer")}})},deep:!0}}},i0=n0,r0=(n("902b"),Object(f["a"])(i0,X$,q$,!1,null,"2e032dc2",null)),a0=r0.exports,o0=function(){var t=this,e=t._self._c;return e("div",{staticClass:"shipList-class"},[t._t("title",null,{titleName:"航线"}),e("div",[e("AirRouteList")],1)],2)},s0=[],l0=function(){var t=this,e=t._self._c;return e("div",{staticClass:"airRoute-class"},[t._m(0),e("div",{staticClass:"historyBtn-class"},[e("div",{staticClass:"box-class",on:{click:t.changeAirRoutePopShow}},[t._m(1),t._v(" 增加航线 ")]),e("div",{staticClass:"box-class",on:{click:t.changeRouteNameIsShow}},[t._m(2),t._v(" 增加分组 ")]),e("div",{staticClass:"box-class",on:{click:t.routeTemplateDownload}},[t._m(3),t._v(" 模板下载 ")])]),e("div",[e("Tree",{ref:"tree",staticClass:"tree-class",attrs:{treeList:t.treeData,id:"key",checkBoxLeftShow:!1,seaRoutetype:"airRoute"},scopedSlots:t._u([{key:"label",fn:function({node:n,data:i}){return[t.editList.includes(n.id)?e("el-input",{attrs:{size:"mini"},model:{value:n.data.title,callback:function(e){t.$set(n.data,"title",e)},expression:"node.data.title"}}):e("span",{staticClass:"level1-title"},[t._v(" "+t._s(n.data.title)+" "),e("span",{staticClass:"level1-title-count"},[t._v(" "+t._s(1===n.level?`(${i&&i.children?i.children.length:"0"})`:"")+" ")])])]}},{key:"headerBtnList",fn:function({node:n}){return["未分组"!==n.data.title?e("span",[t.editList.includes(n.id)?e("span",[e("i",{staticClass:"el-icon-check",on:{click:function(e){return e.stopPropagation(),t.completeModification(n)}}}),e("i",{staticClass:"el-icon-close",on:{click:function(e){return e.stopPropagation(),t.completeModification(n,"关闭")}}})]):e("i",{staticClass:"el-icon-edit",on:{click:function(e){return e.stopPropagation(),t.addEdit(n)}}}),e("i",{staticClass:"el-icon-delete",on:{click:function(e){return e.stopPropagation(),t.delectRoute(n,2)}}})]):t._e()]}},{key:"btnList",fn:function({node:n,data:i}){return[e("i",{class:{iconfont:!0,"icon-xianshikejian":!i.isShow,"icon-yincangbukejian":i.isShow},on:{click:function(e){return e.stopPropagation(),t.showOrHideBtn(n)}}}),e("i",{staticClass:"el-icon-edit",on:{click:function(e){return e.stopPropagation(),t.sendEdit(i,n)}}}),e("i",{staticClass:"el-icon-delete",on:{click:function(e){return e.stopPropagation(),t.delectRoute(n,1)}}})]}}])})],1),e("el-dialog",{attrs:{title:"提示",visible:t.deleteVisible,width:"22%","modal-append-to-body":!1},on:{"update:visible":function(e){t.deleteVisible=e}}},[e("span",[t._v(t._s(1===t.type?"请确认删除该航线":"请确认删除该航线组"))]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"mini"},on:{click:function(e){t.deleteVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.sure}},[t._v("确 认")])],1)])],1)},c0=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"airRoute-class-header"},[e("span",[t._v("全部航线设置")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"Btn-class"},[e("img",{attrs:{src:n("ad8f"),width:"100%",alt:""}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"Btn-class"},[e("img",{attrs:{src:n("d5b4"),width:"100%",alt:""}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"Btn-class"},[e("img",{attrs:{src:n("ee10"),width:"100%",alt:""}})])}],u0={components:{Tree:bK},mounted(){this.getFocusListTree()},data(){return{treeData:[],treeNode:[],node:null,deleteVisible:!1,changeVisible:!1,focusTitleStyle:{"background-color":"rgba(255,255,255,0.9)","font-size":"15px",color:"rgb(13, 162, 253)","font-weight":500},focusStyle:{width:"300px",top:"60px",left:"-305px","z-index":666},radio:"",moveId:"",focusList:[],type:0,editList:[],addNewAirRouteNameIsShow:!1,newGroupData:"",newTreeData:[]}},watch:{submitAirRouteIsShow(){this.getFocusListTree()}},methods:{...Object(mH["b"])("shipModule",["setShipHideList","deleteShipHideId"]),changeRouteNameIsShow(){this.$store.commit("shipModule/changeAirRoutePopShow",{isShow:!0,title:"新增分组"})},changeAirRoutePopShow(){this.$store.commit("shipModule/changeAirRoutePopShow",{isShow:!0,title:"新增航线",groupData:this.groupData})},async getFocusListTree(){let{result:t}=await YW(),e=[];t.forEach(t=>{t.edit=!1,t.children.length>0&&e.push(t.children)}),this.treeData=t,this.newTreeData=e,this.$nextTick(()=>{this.newTreeData.flat(1/0).forEach((t,e)=>{let n=t.dataInformation.split(",").map(t=>t.split(" "));n.forEach(t=>{}),pK(n,t.key,6,this.map,t.title)}),this.$refs.tree.$refs.tree.root.childNodes.forEach(t=>{if(this.routeLineGroup.length>0)for(let e=0;e<this.routeLineGroup.length;e++)t.data.key===this.routeLineGroup[e]&&(t.expanded=!0);t.childNodes.forEach(t=>{if(this.routeLineKey.length>0)for(let e=0;e<this.routeLineKey.length;e++)t.data.key===this.routeLineKey[e]&&(t.data.isShow=!0,Mz(t.data.key).setVisible(!1))})})})},getCheckedKeys(){return this.$refs.tree.getCheckedKeys()},getInfo(t,e){this.type=e,this.node=t,this.deleteVisible=!0},async sure(){if(1===this.type)try{let t=new FormData;t.append("id",this.node.data.key),await KW(t),this.$message.success("删除成功"),this.getFocusListTree(),this.deleteVisible=!1,this.clearAirRouteLine(this.node.data.key);let e=Mz(this.node.data.key+"fu");e&&this.clearAirRouteLine(this.node.data.key+"fu")}catch(t){this.deleteVisible=!1}else if(2===this.type)try{let t=new FormData;t.append("id",this.node.data.key),await ZW(t),this.$message.success("删除成功"),this.getFocusListTree(),this.deleteVisible=!1,this.node.data.children.forEach(t=>{this.clearAirRouteLine(t.key)})}catch(t){this.deleteVisible=!1}},clearAirRouteLine(t){let e=Mz(t);this.map.removeLayer(e)},showOrHideBtn(t){this.showOrHide(t.data),t.data.isShow=!t.data.isShow;let{routeLineKey:e}=gK(this.$refs.tree.$refs.tree.root.childNodes);this.$store.commit("shipModule/changeRouteLineKey",e)},showOrHide(t){let e=Mz(t.key);e.setVisible(t.isShow);let n=Mz(t.key+"fu");n&&n.setVisible(t.isShow)},delectRoute(t,e){this.$store.commit("shipModule/changeAirRoutePopShow",{isShow:!1,title:""}),this.getInfo(t,e)},addEdit(t){if(this.editList=[],!t.key&&"未分组"===t.label)return this.$message.warning("此分组无法修改名称");this.editList.includes(t.id)||this.editList.push(t.id)},sendEdit(t,e){if(1===e.level)return;let n=Mz(e.data.key).getSource().getFeatureById(e.data.key),i=n.getGeometry().getCoordinates();this.map.getView().setCenter(i[0]);let r=t.dataInformation.split(",").map(t=>{if(t)return t.split(" ")}),{tableData:a}=cK(r);this.$store.commit("shipModule/changeRouteLineTableDate",a),this.$store.commit("shipModule/changeAirRoutePopShow",{isShow:!0,title:"编辑航线",groupData:this.groupData,data:t,node:e,defaultGroupName:e.parent.data.title,defaultRouteLineTreeData:this.newTreeData.flat(1/0)})},async completeModification(t,e){if("关闭"===e)this.editList=[];else{let e={groupName:t.data.title,id:t.data.key},n=new FormData;for(let t in e)n.append(t,e[t]);let i=await qW(n);200===i.data.code?(this.$message.success("修改成功"),this.editList=[],this.getFocusListTree()):-1===i.data.code&&this.$message.error(i.data.message)}},routeTemplateDownload(){var t=document.createElement("a");t.href="http://123.153.98.202:9000/projectfile/taskFile/%E8%88%AA%E7%BA%BF%E6%A8%A1%E6%9D%BF.xls",t.setAttribute("download","航线模板.xls"),document.body.appendChild(t),t.click(),document.body.removeChild(t)}},computed:{groupData(){let t=this.treeData.map(t=>({id:t.key,name:t.title}));return t},shipFocusHideList(){return this.$store.state.shipModule.shipFocusHideList},airRouteisShow(){return this.$store.state.shipModule.AirRoutePopData.isShow},submitAirRouteIsShow(){return this.$store.state.shipModule.AirRoutePopData.submitAirRouteIsShow},isShow(){return function(t){let e=t.key?t.key:t.vehicleId?t.vehicleId:t.sid;return this.shipFocusHideList.includes(e)}},showClassify(){return this.$store.state.mapModule.showClassify},allShow(){return function(t){let e=t.childNodes.map(t=>t.data.key);return this.shipFocusHideList.length===e.length}},map(){return this.$store.getters["mapModule/data"]("map")},routeLineKey(){return this.$store.state.shipModule.routeLineKey},routeLineGroup(){return this.$store.state.shipModule.routeLineGroup}},destroyed(){this.newTreeData.flat(1/0).forEach(t=>{this.clearAirRouteLine(t.key);let e=Mz(t.key+"fu");e&&this.clearAirRouteLine(t.key+"fu")})}},h0=u0,d0=(n("f997"),Object(f["a"])(h0,l0,c0,!1,null,"1d99ab9e",null)),p0=d0.exports,f0={components:{AirRouteList:p0},data(){return{currentList:"ShipGroupList",historySelectShow:!1,historyRealSelectShow:!1}},methods:{...Object(mH["b"])("historyModule",["deleteHistoryRouteList","deleteHistoryRealRouteList"])},computed:{map(){return this.$store.getters["mapModule/data"]("map")}}},g0=f0,m0=(n("a97c"),Object(f["a"])(g0,o0,s0,!1,null,"37a99738",null)),v0=m0.exports,y0={data(){return{}},components:{FilterMenu:UJ,ShipList:m$,WeatherMenu:w$,BuoyMenu:T$,ChartMenu:Y$,SignMenu:a0,AirRouteMenu:v0},computed:{isRightDrawer(){return this.$store.state.mapModule.rightDrawerShow},currentMenu(){return this.$store.state.mapModule.rightDrawerMenu}}},b0=y0,x0=(n("c36f"),Object(f["a"])(b0,dJ,pJ,!1,null,"4204cf90",null)),_0=x0.exports,w0=function(){var t=this,e=t._self._c;return e("div",[e("BaseModal",t._b({attrs:{isShow:t.isInfoShow,Tabs:t.Tabs,title:-1==t.shipInfo.isPos?t.shipInfo.name+"(暂无权限)":0==t.shipInfo.isPos?t.shipInfo.name+"(暂无船位)":t.shipInfo.name,titleStyle:t.titleStyle,activeTab:t.activeTab},on:{close:t.close,"update:activeTab":function(e){t.activeTab=e},"update:active-tab":function(e){t.activeTab=e}},scopedSlots:t._u([{key:"tabContent",fn:function(n){return[e(n.componentName,{tag:"component",attrs:{weatherData:t.weatherData,weatherOtherData:t.weatherOtherData}})]}},{key:"footer",fn:function(){return[e("Footer",t._g({attrs:{historySelectShow:t.historySelectShow,historyRealSelectShow:t.historyRealSelectShow,fishStatisticsShow:t.fishStatisticsShow,focusSelectShow:t.focusSelectShow,weatherSelectShow:t.weatherSelectShow,shipId:t.shipInfo.id},on:{"update:historySelectShow":function(e){t.historySelectShow=e},"update:history-select-show":function(e){t.historySelectShow=e},"update:historyRealSelectShow":function(e){t.historyRealSelectShow=e},"update:history-real-select-show":function(e){t.historyRealSelectShow=e},"update:fishStatisticsShow":function(e){t.fishStatisticsShow=e},"update:fish-statistics-show":function(e){t.fishStatisticsShow=e},"update:focusSelectShow":function(e){t.focusSelectShow=e},"update:focus-select-show":function(e){t.focusSelectShow=e},"update:weatherSelectShow":function(e){t.weatherSelectShow=e},"update:weather-select-show":function(e){t.weatherSelectShow=e}}},t.$listeners))]},proxy:!0}])},"BaseModal",t.shipMessageStyle,!1)),e("BaseModal",t._b({attrs:{isShow:t.historySelectShow,title:"历史轨迹",titleStyle:t.historyTitleStyle},on:{close:t.historyClose},scopedSlots:t._u([{key:"tabContent",fn:function(){return[e("HistoryMessage")]},proxy:!0}])},"BaseModal",t.historyStyle,!1)),e("BaseModal",t._b({attrs:{isShow:t.weatherSelectShow,title:"轨迹气象",titleStyle:t.historyTitleStyle},on:{close:t.weatherClose},scopedSlots:t._u([{key:"tabContent",fn:function(){return[e("WeatherHistoryMessage")]},proxy:!0}])},"BaseModal",t.historyStyle,!1)),e("BaseModal",t._b({attrs:{isShow:t.historyRealSelectShow,title:"实时轨迹",titleStyle:t.historyTitleStyle},on:{close:t.historyRealClose},scopedSlots:t._u([{key:"tabContent",fn:function(){return[e("HistoryRealMessage")]},proxy:!0}])},"BaseModal",t.historyRealStyle,!1)),e("BaseModal",t._b({attrs:{isShow:t.fishStatisticsShow,title:"渔货统计",titleStyle:t.historyTitleStyle},on:{close:function(e){t.fishStatisticsShow=!1}},scopedSlots:t._u([{key:"tabContent",fn:function(){return[e("FishStatistics")]},proxy:!0}])},"BaseModal",t.FishingStyle,!1)),e("BaseModal",t._b({staticStyle:{"max-height":"500px"},attrs:{isShow:t.focusSelectShow,title:"添加关注",titleStyle:t.focusTitleStyle},on:{close:t.focusSelectColoe},scopedSlots:t._u([{key:"tabContent",fn:function(){return[e("Focus",{attrs:{focusSelectShow:t.focusSelectShow},on:{"update:focusSelectShow":function(e){t.focusSelectShow=e},"update:focus-select-show":function(e){t.focusSelectShow=e}}})]},proxy:!0}])},"BaseModal",t.focusStyle,!1))],1)},S0=[],O0=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box-class"},t._l("Buoy"===t.type?t.buoyInfo:t.shipInfo,(function(n){return e("div",{key:n.id,staticClass:"content"},[e("div",[e("span",{staticStyle:{color:"#8ca3bd","margin-right":"5px",display:"inline-block"}},[t._v(t._s(n.name))]),t._v(" "+t._s(t.shipCheckedInfo[n.value])+t._s(n.unit?n.unit:"")+" ")]),e("div",[e("span",{staticStyle:{color:"#8ca3bd","margin-right":"5px",display:"inline-block"}},[t._v(t._s(n.name2))]),t._v(" "+t._s(t.shipCheckedInfo[n.value2])+t._s(n.unit2?n.unit2:"")+" ")])])})),0)},C0=[];function A0(t){switch(t){case 0:return"手工报位";case 1:return"海事卫星-C";case 2:return"Trition";case 3:return"Argos";case 4:return"AIS";case 5:return"北斗";case 6:return"FleetOne";case 7:return"Oceana";case 8:return"WatchDog";case 10:return"IPS";case 11:return"心跳包";case 12:return"vsat";default:return""}}function M0(t,e){if(3==e)return"平台";if(5==e)return"卫星报位-v";if(6==e)return"卫星报位-x";if(9==e)switch(t){case 40:return"AIS(岸基/卫星)";case 41:return"AIS(岸基/卫星)";case 42:return"AIS(岸基/卫星)";case 43:return"AIS(岸基/卫星)";case 44:return"AIS(船端基站)";default:return"AIS"}}function T0(t){switch(t){case 3:return"平台";case 5:return"卫星报位";case 6:return"卫星报位";case 9:return"AIS";default:return""}}var k0={data(){return{shipInfo:[{name:"MMSI:",value:"mmsi",name2:"类型:",value2:"valueChs"},{name:"IMO:",value:"imo",name2:"呼号:",value2:"callsign"},{name:"船宽:",value:"width",name2:"船长:",value2:"length"},{name:"纬度:",value:"lat",name2:"经度:",value2:"lon"},{name:"航速:",value:"sp",unit:"节",name2:"航向:",value2:"co",unit2:"度"},{name:"报位类型:",value:"so",name2:"设备类型:",value2:"ct"},{name:"所属公司:",value:"cName"},{name:"报位时间:",value:"pt"}],buoyInfo:[{name:"所属者",value:"buoyOwner"},{name:"名称",value:"name",name2:"呼号",value2:"callsign"},{name:"纬度",value:"lat",name2:"经度",value2:"lon"},{name:"航速",value:"sp",unit:"节",name2:"航向",value2:"co",unit2:"度"},{name:"水温",value:"waterTemperature",unit:"℃"},{name:"报位时间",value:"time"}]}},computed:{shipCheckedInfo:function(){let t=this.$store.state.shipModule.shipCheckedInfo,e=JSON.parse(JSON.stringify(t));return e.co=(e.co/(Math.PI/180)).toFixed(2),e.lon=aU(e.lon,"lon","String"),e.lat=aU(e.lat,"lat","String"),e.valueChs=0==e.valueChs?"其他":e.valueChs,e.so=M0(e.so,e.tpOriginal),e.ct=A0(e.ct),"Buoy"!==t.type&&(e.width=e.width?e.width+"米":"暂无",e.length=e.length?e.length+"米":"暂无"),e},type(){return this.$store.state.shipModule.shipCheckedInfo.type}}},L0=k0,j0=(n("1295"),Object(f["a"])(L0,O0,C0,!1,null,"6ab2e35c",null)),I0=j0.exports,E0=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:0===t.weatherData.length,expression:"weatherData.length === 0"}],staticClass:"weather-box-class"},[t._l(t.weatherInfo,(function(n){return e("div",{key:n.id,staticClass:"content"},[e("div",[e("span",{staticStyle:{color:"#8ca3bd","margin-right":"5px",display:"inline-block"}},[t._v(t._s(n.name))]),t._v(" "+t._s(t.weatherList[t.infoIndex]?t.weatherList[t.infoIndex][n.value]:"")+t._s(n.unit?n.unit:"")+" ")]),e("div",[e("span",{staticStyle:{color:"#8ca3bd","margin-right":"5px",display:"inline-block"}},[t._v(t._s(n.name2))]),t._v(" "+t._s(t.weatherList[t.infoIndex]?t.weatherList[t.infoIndex][n.value2]:"")+t._s(n.unit2?n.unit2:"")+" ")])])})),e("div",[t.weatherList.length>0?e("div",{staticStyle:{"margin-top":"-4px"}},[e("div",{staticStyle:{color:"#8ca3bd","margin-right":"5px",width:"100%"}},[t._v(" 时间: "),e("span",{staticStyle:{color:"#061226"}},[e("el-select",{staticClass:"select-time-class",staticStyle:{width:"240px"},attrs:{size:"mini"},model:{value:t.infoIndex,callback:function(e){t.infoIndex=e},expression:"infoIndex"}},t._l(t.weatherList,(function(t,n){return e("el-option",{key:n,attrs:{label:t.time,value:n}})})),1)],1)])]):t._e()])],2)},P0=[],R0={props:{weatherData:{type:Array,default:()=>[]}},data(){return{weatherInfo:[{name:"纬度:",value:"lat",name2:"经度:",value2:"lon"},{name:"海温:",value:"tem",name2:"流场:",value2:"flow"},{name:"涌浪高:",value:"proWave",name2:"涌浪方向:",value2:"swellWaveDir"},{name:"风浪高",value:"wave",name2:"风浪方向:",value2:"waveDir"},{name:"风:",value:"wind",name2:"海浪:",value2:"wave1"}],infoIndex:0}},computed:{weatherList(){let t=this.weatherData.map(t=>{var e,n,i,r,a;return t.flow=null===(e=t.flow)||void 0===e?void 0:e.replace(/流场/g,""),t.waveDir=null===(n=t.waveDir)||void 0===n?void 0:n.replace(/风浪方向/g,""),t.tem=null===(i=t.tem)||void 0===i?void 0:i.replace(/海温/g,""),t.proWave=null===(r=t.proWave)||void 0===r?void 0:r.replace(/涌浪/g,""),t.swellWaveDir=null===(a=t.swellWaveDir)||void 0===a?void 0:a.replace(/涌浪方向/g,""),t});return t}}},D0=R0,F0=(n("53b5"),Object(f["a"])(D0,E0,P0,!1,null,"65a11158",null)),N0=F0.exports,B0=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:0===t.weatherOtherData.length,expression:"weatherOtherData.length === 0"}],staticClass:"weather-box-class"},t._l(t.weatherInfo,(function(n){return e("div",{key:n.id,staticClass:"content"},[e("div",[e("span",{staticStyle:{color:"#8ca3bd","margin-right":"5px",display:"inline-block"}},[t._v(t._s(n.name))]),t._v(" "+t._s(t.weatherList[t.infoIndex]?t.weatherList[t.infoIndex][n.value]:"")+t._s(n.unit?n.unit:"")+" ")]),e("div",[e("span",{staticStyle:{color:"#8ca3bd","margin-right":"5px",display:"inline-block"}},[t._v(t._s(n.name2))]),t._v(" "+t._s(t.weatherList[t.infoIndex]?t.weatherList[t.infoIndex][n.value2]:"")+t._s(n.unit2?n.unit2:"")+" ")])])})),0)},V0=[],G0={props:{weatherOtherData:{type:Array,default:()=>[]}},data(){return{weatherInfo:[{name:"纬度:",value:"lat",name2:"经度:",value2:"lon"},{name:"风速:",value:"weatherWindSpeed",name2:"温度:",value2:"weatherTemperature"},{name:"湿度:",value:"weatherHumidity",name2:"气压:",value2:"weatherAirPressure"},{name:"风向",value:"weatherWindAngleNorth",name2:"露点温度:",value2:"weatherPointTemperature"},{name:"海拔高度:",value:"weatherAltitude"},{name:"时间:",value:"reportUtcTime"}],infoIndex:0}},computed:{weatherList(){let t=this.weatherOtherData[0];if(t&&t.data){t.data.lon=aU(Number(t.data.gpsLongitude),"lon","String"),t.data.lat=aU(Number(t.data.gpsLatitude),"lat","String");for(let e in t.data)t.unit[e]&&(t.data[e]=t.data[e]+""+t.unit[e]);return[t.data]}return[{}]}}},z0=G0,U0=(n("1058"),Object(f["a"])(z0,B0,V0,!1,null,"7a6eaa45",null)),H0=U0.exports,W0=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"90px"}},[e("div",{class:{"footer-class":!0,"buoyfooter-class":"Buoy"===t.type}},[e("el-row",{staticClass:"el-row-class",attrs:{gutter:20}},["Buoy"===t.type||t.isFocus?t._e():e("el-col",{attrs:{span:6}},[e("el-button",{attrs:{size:"small"},on:{click:t.addFocus}},[t._v("添加关注")])],1),"Buoy"!==t.type&&t.isFocus?e("el-col",{attrs:{span:6}},[e("el-button",{attrs:{size:"small"},on:{click:t.cancelFocus}},[t._v("取消关注")])],1):t._e(),e("el-col",{attrs:{span:6}},[e("el-button",{attrs:{size:"small"},on:{click:t.checkHistory}},[t._v("历史轨迹")])],1),t.btnPermission?e("el-col",{attrs:{span:6}},[e("el-button",{attrs:{size:"small"},on:{click:t.checkHistoryWeather}},[t._v("轨迹气象")])],1):t._e(),t.realHistoryBtn?e("el-col",{attrs:{span:6}},[e("span",[t.showReal?e("el-button",{attrs:{size:"small"},on:{click:t.checkRealHistory}},[t._v(" 实时轨迹 ")]):e("el-button",{staticClass:"cancelHis-class",attrs:{size:"small"},on:{click:t.cancelRealHistory}},[t._v("取消实时轨迹")])],1)]):t._e(),t.toDayBtnorRecordorVideo?e("el-col",{attrs:{span:6}},[e("el-button",{attrs:{size:"small",loading:t.toDayLoding},on:{click:t.checkTodayPosition}},[t._v("今日报位")])],1):t._e(),t.toDayBtnorRecordorVideo?e("el-col",{attrs:{span:6}},[e("el-button",{attrs:{size:"small"},on:{click:t.checkShipRecord}},[t._v("船舶档案")])],1):t._e()],1)],1)])},Y0=[],X0={props:{historySelectShow:{type:Boolean,default:!1},historyRealSelectShow:{type:Boolean,default:!1},fishStatisticsShow:{type:Boolean,default:!1},weatherSelectShow:{type:Boolean,default:!1}},data(){return{toDayLoding:!1,isRealHistory:!0}},methods:{...Object(mH["b"])("shipModule",["setTodayInfo","setShipRecordInfo"]),...Object(mH["b"])("historyModule",["changeHistoryRealSelectShow","deleteHistoryRealRouteList"]),...Object(mH["b"])("videoModule",["changeVedioShow","setVideoData"]),addFocus(){this.$emit("update:focusSelectShow",!0)},async cancelFocus(){var t,e,n;let i=new FormData;i.append("vehicleId",this.shipInfo.id),await RZ(i);let r=null===(t=Mz("shipFocusLayer"))||void 0===t?void 0:t.getSource(),a=null===(e=Mz("shipGroupLayer"))||void 0===e?void 0:e.getSource(),o=null===(n=Mz("shipCrashLayer"))||void 0===n?void 0:n.getSource(),s=null===r||void 0===r?void 0:r.getFeatureById(this.shipInfo.id),l=null===a||void 0===a?void 0:a.getFeatureById(this.shipInfo.id),c=null===o||void 0===o?void 0:o.getFeatureById(this.shipInfo.id);if(s&&(this.$store.commit("shipModule/deleteShip",{shipFocusList:[this.shipInfo.id]}),r.removeFeature(s)),c&&1==this.shipInfo.company){let t=this.$store.state.shipModule.shipCrashList[this.shipInfo.id];t&&(t.isFocus=0),c.set("isFocus",0),this.$store.commit("shipModule/setShipList",{shipCrashList:{[this.shipInfo.id]:t}}),this.$store.commit("shipModule/setShipCheckedInfo",c.values_)}if(l){let t=this.$store.state.shipModule.shipGroupList[this.shipInfo.id];t&&(t.isFocus=0),l.set("isFocus",0),this.$store.commit("shipModule/setShipList",{shipGroupList:{[this.shipInfo.id]:t}}),this.$store.commit("shipModule/setShipCheckedInfo",l.values_)}else this.isRealHistory=!1;this.$emit("addShipName",{map:this.map});let u=this.shipInfo.type;("shipFocus"===u||"shipCrash"===u&&0==this.shipInfo.company)&&Object.keys(this.historyRealRouteList).includes(this.shipInfo.id)&&this.cancelRealHistory(),this.$message.success("取消成功")},async checkTodayPosition(){try{this.toDayLoding=!0;let{result:t,message:e}=await _Z({vehicleId:this.shipInfo.id,source:this.source.toString()});this.setTodayInfo({show:!0,data:t,status:e}),this.toDayLoding=!1}catch(t){this.toDayLoding=!1}},async checkShipRecord(){try{let t=await wZ({vehicleId:this.shipInfo.id});this.setShipRecordInfo({show:!0,data:t})}catch(t){}},checkHistory(){this.$emit("update:historySelectShow",!this.historySelectShow),this.historySelectShow||this.$emit("update:weatherSelectShow",!1)},checkHistoryWeather(){this.$emit("update:weatherSelectShow",!this.weatherSelectShow),this.weatherSelectShow||this.$emit("update:historySelectShow",!1)},checkRealHistory(){this.changeHistoryRealSelectShow(!this.historyRealSelectShow)},async cancelRealHistory(){let t={vids:this.shipInfo.id};try{await SZ(t);let e=this.shipInfo.id+"real";this.map.removeLayer(Mz(e));let n=Mz(e+"webgl");n&&(this.map.removeLayer(n),n.dispose());let i=Mz(e+"arrowwebgl");i&&(this.map.removeLayer(i),i.dispose()),this.deleteHistoryRealRouteList(this.shipInfo.id),this.$message.success("关闭成功")}catch(e){}},fishingStatistics(){this.$emit("update:fishStatisticsShow",!this.fishStatisticsShow)},async checkShipVideo(){this.$emit("closeVideo");let t={vehicleId:this.shipInfo.id},{result:e}=await OZ(t);if("{}"===JSON.stringify(e))return this.$message.warning("暂无可播放的摄像头");this.setVideoData(e),setTimeout(()=>{this.changeVedioShow(!0)},400)}},computed:{map(){return this.$store.getters["mapModule/data"]("map")},shipInfo(){return this.$store.state.shipModule.shipCheckedInfo},historyRealRouteList(){return this.$store.state.historyModule.historyRealRouteList},type(){return this.$store.state.shipModule.shipCheckedInfo.type},isFocus(){let t=this.$store.state.shipModule.shipFocusList,e=Object.keys(t);return"shipCrash"===this.type&&0==this.shipInfo.company||"shipGroup"!==this.type&&"shipCrash"!==this.type&&"shipLose"!==this.type?!!e.includes(this.shipInfo.id):"1"===this.shipInfo.isFocus},source(){return this.$store.state.mapModule.source},realHistoryBtn(){return!("shipCrash"!==this.type||1!=this.shipInfo.company||!this.isRealHistory)||(!("shipCrash"!==this.type||0!=this.shipInfo.company||!this.isFocus)||"shipOther"!==this.type&&"shipRound"!==this.type&&"shipDistance"!==this.type&&"Buoy"!==this.type&&"shipCrash"!==this.type&&this.isRealHistory)},toDayBtnorRecordorVideo(){return"Buoy"!==this.type&&"shipGroup"===this.type||"shipLose"===this.type||"shipCrash"===this.type&&1==this.shipInfo.company},showReal(){return!Object.keys(this.historyRealRouteList).includes(this.shipInfo.id)},btnPermission(){return this.$store.state.btnPermission.indexOf("weatherData:weather_track")>0}},watch:{shipInfo(){this.isRealHistory=!0}}},q0=X0,Z0=(n("cf26"),Object(f["a"])(q0,W0,Y0,!1,null,"5753f5f6",null)),Q0=Z0.exports,J0=function(){var t=this,e=t._self._c;return e("div",{},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"mini","max-height":200}},[e("el-table-column",{attrs:{type:"index",width:"50"}}),e("el-table-column",{attrs:{prop:"fishName",label:"鱼名"}}),e("el-table-column",{attrs:{prop:"num",label:"重量（吨）"}})],1)],1)},K0=[],$0={data(){return{tableData:[],loading:!1}},mounted(){this.getFishData()},methods:{async getFishData(){this.tableData=[],this.loading=!0;try{let{result:t}=await LZ({buoyId:"8554990f13924daa8eec37ff08cfda01"});this.tableData=t,this.loading=!1}catch(t){this.loading=!1}}},computed:{shipCheckedInfo(){return this.$store.state.shipModule.shipCheckedInfo}}},t1=$0,e1=Object(f["a"])(t1,J0,K0,!1,null,null,null),n1=e1.exports,i1=function(){var t=this,e=t._self._c;return e("div",{staticClass:"focus-box-class"},[e("div",{staticClass:"add-new-class",on:{click:t.addNewFocusList}},[e("i",{staticClass:"el-icon-plus"})]),e("el-radio-group",{model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},t._l(t.focusList,(function(n,i){return e("el-radio",{key:i,attrs:{label:n.id}},[e("div",{staticClass:"radio-content-class"},[t.editList.includes(n.id)?e("el-input",{attrs:{placeholder:"请输入分组名称",size:"mini"},model:{value:n.name,callback:function(e){t.$set(n,"name",e)},expression:"item.name"}}):e("span",[t._v(" "+t._s(n.name)+" ")]),e("span",[t.editList.includes(n.id)?e("i",{staticClass:"el-icon-check",on:{click:function(e){return t.check(n)}}}):e("i",{staticClass:"el-icon-edit",on:{click:function(e){return t.edit(n)}}})])],1)])})),1),e("div",{staticStyle:{"text-align":"center",padding:"5px"}},[e("el-button",{staticStyle:{width:"100px"},attrs:{type:"primary",size:"mini"},on:{click:t.addFocus}},[t._v(" 确定")])],1)],1)},r1=[],a1={data(){return{radio:null,focusList:[],editList:[]}},mounted(){this.receiveFocusList()},methods:{async receiveFocusList(){try{let{result:t}=await jZ();this.focusList=t}catch(t){}},async addNewFocusList(){let t={color:"#5ba0fb",name:"新的分组"};await IZ(t),this.receiveFocusList()},edit(t){let e=t.id;this.editList.push(e)},async check(t){let e={color:"#5ba0fb",name:t.name,id:t.id};await EZ(e),this.$message.success("修改成功"),this.editList.forEach((e,n)=>{e==t.id&&this.editList.splice(n,1)})},async addFocus(){let t=new FormData;t.append("shipFocusGroupId",this.radio),t.append("vehicleIds",this.shipCheckedInfo.id);let{code:e,message:n}=await PZ(t);if(500===e)return this.$message.error(n);if(this.$emit("update:focusSelectShow",!1),"shipGroup"===this.shipCheckedInfo.type){let t=Mz("shipGroupLayer").getSource().getFeatureById(this.shipCheckedInfo.id);t.set("isFocus","1"),this.$store.commit("shipModule/setShipCheckedInfo",t.values_)}if("shipLose"===this.shipCheckedInfo.type){let t=Mz("shipLoseLayer").getSource().getFeatureById(this.shipCheckedInfo.id);t.set("isFocus","1"),this.$store.commit("shipModule/setShipCheckedInfo",t.values_)}if("shipCrash"===this.shipCheckedInfo.type){let t=Mz("shipCrashLayer").getSource().getFeatureById(this.shipCheckedInfo.id);t.set("isFocus","1"),this.$store.commit("shipModule/setShipCheckedInfo",t.values_)}this.showClassify.includes("shipFocus")?mY(!0):mY(!1),this.$message.success("添加成功")}},computed:{shipCheckedInfo(){return this.$store.state.shipModule.shipCheckedInfo},showClassify(){return this.$store.state.mapModule.showClassify}}},o1=a1,s1=(n("7991"),Object(f["a"])(o1,i1,r1,!1,null,"7562f281",null)),l1=s1.exports,c1={data(){return{titleStyle:{"background-color":"rgb(35 134 238)"},shipMessageStyle:{top:"60px",width:"390px",zIndex:"100px"},historyTitleStyle:{"background-color":"rgba(255,255,255,0.9)","font-size":"15px",color:"rgb(13, 162, 253)","font-weight":500},historyStyle:{height:"180px",width:"420px",top:"60px",left:"470px"},historyRealStyle:{width:"300px",height:"130px",top:"60px",left:"470px","z-index":666},FishingStyle:{width:"500px",height:"250px",top:"60px",left:"480px","z-index":665},focusTitleStyle:{"background-color":"rgba(255,255,255,0.9)","font-size":"15px",color:"rgb(13, 162, 253)","font-weight":500},focusStyle:{width:"300px",top:"60px",left:"480px","z-index":666}}}},u1=function(){var t=this,e=t._self._c;return e("div",{staticClass:"history-class"},[e("div",{class:{"history-timer-class":!0,"buoy-class":"Buoy"===t.shipCheckedInfo.type}},[e("el-date-picker",{attrs:{type:"datetime",placeholder:"选择开始时间",size:"small"},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}}),e("span",[t._v("至")]),e("el-date-picker",{attrs:{type:"datetime",placeholder:"选择结束时间",size:"small"},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1),e("div",{staticStyle:{height:"20px"}}),"Buoy"!==t.shipCheckedInfo.type?e("div",{staticClass:"timer-interval-class"},[e("span"),e("el-select",{attrs:{placeholder:"请选择时间间隔",size:"small","popper-append-to-body":!1},model:{value:t.selectValue,callback:function(e){t.selectValue=e},expression:"selectValue"}},t._l(t.options,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):t._e(),e("div",{staticClass:"history-btn-class"},[e("el-button",{attrs:{size:"small"},on:{click:function(e){return t.getWeatherHistory("one")}}},[t._v("一天")]),e("el-button",{attrs:{size:"small"},on:{click:function(e){return t.getWeatherHistory("three")}}},[t._v("三天")]),e("el-button",{attrs:{size:"small"},on:{click:function(e){return t.getWeatherHistory("seven")}}},[t._v("一周")]),e("el-button",{staticStyle:{color:"white"},attrs:{size:"small",type:"primary"},on:{click:function(e){return t.getWeatherHistory(null)}}},[t._v(" 绘制")])],1)])},h1=[];const d1=[{value:"20",label:"间隔20分钟"},{value:"40",label:"间隔40分钟"},{value:"60",label:"间隔一小时"}];var p1={props:{historyList:{type:Array,default:()=>[]}},data(){return{startTime:null,endTime:null,selectValue:"20",options:d1,checkList:[],checkSource:[]}},mounted(){},methods:{...Object(mH["b"])("historyModule",["setHistoryWeatherList"]),async getWeatherHistory(t){const e=t=>this.$moment().subtract(t,"days").format("YYYY-MM-DD HH:mm:ss"),n=t=>this.$moment(t).format("YYYY-MM-DD HH:mm:ss");if(t){const n=this.$moment().format("YYYY-MM-DD HH:mm:ss");switch(t){case"one":this.startTime=e(1);break;case"three":this.startTime=e(3);break;case"seven":this.startTime=e(7);break;default:break}this.endTime=n}else this.startTime=n(this.startTime),this.endTime=n(this.endTime);if("Invalid date"===this.startTime||"Invalid date"===this.endTime)return this.$message.warning("请选择开始时间和结束时间");let i=new FormData,r=this.shipCheckedInfo.mmsi;i.append("mmsi",r),i.append("dateStr",[this.startTime,this.endTime].toString()),i.append("duration",20);try{const t=await TZ(i);if(t){this.setHistoryWeatherList({data:t.data,message:{mmsi:r,startTime:this.startTime,endTime:this.endTime,name:this.shipCheckedInfo.shipName,unit:t.unit}});let e=t.data.map(t=>(t.lat=60*t.gpsLatitude*1e4,t.lon=60*t.gpsLongitude*1e4,t.pt=t.reportUtcTime,t.sid=t.mmsi.toString()+"weather",t.pointType="historyWeather",t));uW(r+"weather",{points:e,color:"blue",name:this.shipCheckedInfo.shipName},!1,this.map)}}catch(a){}}},computed:{shipCheckedInfo(){return this.$store.state.shipModule.shipCheckedInfo},map(){return this.$store.getters["mapModule/data"]("map")}}},f1=p1,g1=(n("45ee"),Object(f["a"])(f1,u1,h1,!1,null,"3ebe7102",null)),m1=g1.exports,v1={mixins:[c1],components:{BaseModal:UK,ShipMessage:I0,WeatherMessage:N0,WeatherOtherMessage:H0,Footer:Q0,HistoryMessage:o$,HistoryRealMessage:d$,FishStatistics:n1,Focus:l1,WeatherHistoryMessage:m1},mounted(){},data(){return{activeTab:"ShipMessage",historySelectShow:!1,weatherSelectShow:!1,fishStatisticsShow:!1,focusSelectShow:!1,weatherData:[],weatherOtherData:[]}},methods:{...Object(mH["b"])("shipModule",["changeShipInfoShow","setShipCheckedInfo"]),...Object(mH["b"])("historyModule",["changeHistoryRealSelectShow"]),close(){var t;this.changeShipInfoShow(!1),this.historySelectShow=!1,this.weatherSelectShow=!1,this.changeHistoryRealSelectShow(!1),this.setShipCheckedInfo({}),Mz("KuangLayer").getSource().clear(),null===(t=Mz("shipOtherLayer"))||void 0===t||t.getSource().clear()},historyClose(){this.historySelectShow=!1},weatherClose(){this.weatherSelectShow=!1},historyRealClose(){this.changeHistoryRealSelectShow(!1)},focusSelectColoe(){this.focusSelectShow=!1},async getWeather(){this.weatherData=[];let t={lon:this.shipInfo.lon,lat:this.shipInfo.lat};try{let{result:e}=await MZ(t);e.map(t=>(t.lon=aU(this.shipInfo.lon,"lon","String"),t.lat=aU(this.shipInfo.lat,"lat","String"),t)),this.weatherData=e}catch(e){}},async getOtherWeather(){let t={mmsi:this.shipInfo.mmsi};try{let e=await kZ(t);this.weatherOtherData=[e]}catch(e){}}},computed:{isInfoShow(){return this.$store.state.shipModule.shipInfoShow},shipInfo(){return this.$store.state.shipModule.shipCheckedInfo},historyRealSelectShow(){return this.$store.state.historyModule.historyRealSelectShow},Tabs(){return this.$store.state.btnPermission.indexOf("weatherData:weather_track")>0?[{title:"船舶信息",componentName:"ShipMessage",key:"ShipMessage"},{title:"船位气象",componentName:"WeatherMessage",key:"WeatherMessage"},{title:"气象信息",componentName:"WeatherOtherMessage",key:"WeatherOtherMessage"}]:[{title:"船舶信息",componentName:"ShipMessage",key:"ShipMessage"},{title:"船位气象",componentName:"WeatherMessage",key:"WeatherMessage"}]}},watch:{activeTab(t){"WeatherMessage"===t?this.getWeather():"WeatherOtherMessage"===t&&this.getOtherWeather()},shipInfo(t){t&&(this.activeTab="ShipMessage",this.focusSelectShow=!1)}}},y1=v1,b1=(n("a49c"),Object(f["a"])(y1,w0,S0,!1,null,"49a22dce",null)),x1=b1.exports,_1=function(){var t=this,e=t._self._c;return e("div",[e("BaseModal",t._b({attrs:{isShow:t.isShow,Tabs:t.tabs,activeTab:t.activeTab},on:{"update:activeTab":function(e){t.activeTab=e},"update:active-tab":function(e){t.activeTab=e}},scopedSlots:t._u([{key:"tabContent",fn:function(n){return[e("List",{attrs:{listData:t.filterData(n.componentName),type:n}})]}},{key:"header",fn:function(){return[e("Header",{attrs:{titleStyle:t.titleStyle,title:t.shipCheckedInfo.name,toDayStatus:t.toDayStatus},on:{close:t.close}})]},proxy:!0},{key:"footer",fn:function(){},proxy:!0}])},"BaseModal",t.boxStyle,!1))],1)},w1=[],S1=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header-class",style:t.titleStyle},[e("div",{staticStyle:{flex:"23"}},[e("span",[t._v(" "+t._s(t.$attrs.title))]),e("span",{staticClass:"status-class"},[t._v(" 报位状态： "),e("span",{style:"color:"+t.judgeColor(t.$attrs.toDayStatus)},[t._v(t._s(t.$attrs.toDayStatus))])])]),e("div",{staticStyle:{flex:"1"}},[e("i",{staticClass:"el-icon-close",on:{click:function(e){return t.$emit("close")}}})])])},O1=[],C1={props:{titleStyle:{type:Object,default(){return{}}}},mounted(){},methods:{judgeColor(t){switch(t){case"正常":return"black";case"报位不足":return"#ef9f24";case"船位不足":return"#ef9f24";case"无船位":return"red";default:return"black"}}}},A1=C1,M1=(n("2986"),Object(f["a"])(A1,S1,O1,!1,null,"6c7eae0f",null)),T1=M1.exports,k1=function(){var t=this,e=t._self._c;return e("div",{staticClass:"list-class"},t._l(t.listData,(function(n,i){return e("div",{key:n.pt+i},[e("div",{staticClass:"title-class"},[t._v("报位时间: "+t._s(n.pt))]),e("div",{staticClass:"content-class"},[e("div",{staticClass:"box-class"},[e("span",[t._v("报位类型："+t._s(t.JudgeType(n.tp)))]),e("span",[t._v("报位设备："+t._s(t.JudgeEquipment(n.ct)))])]),e("div",{staticClass:"box-class"},[e("span",[t._v("船速："+t._s(n.co?n.sp/10:0)+"节")]),e("span",[t._v("航向："+t._s(n.sp?n.co/10:0)+" 度")])]),e("div",{staticClass:"box-class"},[e("span",[t._v("纬度："+t._s(t.cacuLonLat(n.lat/60/1e4,"lat","String")))]),e("span",[t._v("经度："+t._s(t.cacuLonLat(n.lon/60/1e4,"lon","String"))+" ")])])])])})),0)},L1=[],j1={props:{listData:{type:Array,default:()=>[]}},methods:{cacuLonLat:aU,JudgeEquipment:A0,JudgeType:T0}},I1=j1,E1=(n("7c8a6"),Object(f["a"])(I1,k1,L1,!1,null,"369a5a82",null)),P1=E1.exports,R1={components:{BaseModal:UK,Header:T1,List:P1},mounted(){},data(){return{activeTab:"PT",boxStyle:{height:"650px",width:"410px",left:"460px",top:"60px"},titleStyle:{"background-color":"#D0EBFC","font-size":"14px","font-family":" Microsoft YaHei-Bold, Microsoft YaHei","font-weight":"bold",color:"#041E3E !important"}}},methods:{...Object(mH["b"])("shipModule",["setTodayInfo"]),close(){this.setTodayInfo({show:!1,data:[]})}},computed:{isShow(){return this.$store.state.shipModule.toDayInfoShow},toDayInfo(){return this.$store.state.shipModule.toDayInfo},toDayStatus(){return this.$store.state.shipModule.toDayStatus},filterData(){return function(t){return"PT"===t?this.toDayInfo.filter(t=>3===t.tp):"WX"===t?this.toDayInfo.filter(t=>6===t.tp):"AIS"===t?this.toDayInfo.filter(t=>9===t.tp):this.toDayInfo}},shipCheckedInfo(){return this.$store.state.shipModule.shipCheckedInfo},tabs(){return[{title:"平台("+this.filterData("PT").length+")",componentName:"PT",key:"PT"},{title:"卫星报位("+this.filterData("WX").length+")",componentName:"WX",key:"WX"},{title:"AIS("+this.filterData("AIS").length+")",componentName:"AIS",key:"AIS"},{title:"全部("+this.toDayInfo.length+")",componentName:"ALL",key:"ALL"}]}}},D1=R1,F1=Object(f["a"])(D1,_1,w1,!1,null,"677c4ece",null),N1=F1.exports,B1=function(){var t=this,e=t._self._c;return e("div",[e("BaseModal",t._b({attrs:{isShow:t.isShow,Tabs:t.Tabs,activeTab:t.activeTab},on:{close:t.close,"update:activeTab":function(e){t.activeTab=e},"update:active-tab":function(e){t.activeTab=e}},scopedSlots:t._u([{key:"header",fn:function(){return[e("i",{staticClass:"el-icon-close close-class",on:{click:t.close}})]},proxy:!0},{key:"tabContent",fn:function(t){return[e(t.componentName,{tag:"component"})]}},{key:"footer",fn:function(){return[e("Footer")]},proxy:!0}])},"BaseModal",t.Style,!1))],1)},V1=[],G1=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content-class"},[e("div",{staticClass:"box-class"},[e("span",[t._v("船名："+t._s(t.dataList.name))]),e("span",[t._v("船名英文："+t._s(t.dataList.nameEn))])]),e("div",{staticClass:"box-class"},[e("span",[t._v("船旗国："+t._s(t.dataList.shipFlagCountry))]),e("span",[t._v("呼号："+t._s(t.dataList.callsign))])]),e("div",{staticClass:"box-class"},[e("span",[t._v("MMSI："+t._s(t.dataList.mmsi))]),e("span",[t._v("IMO："+t._s(t.dataList.imo))])]),e("div",{staticClass:"box-class"},[e("span",[t._v("作业类型："+t._s(t.dataList.jobTypeStr))]),e("span",[t._v("船籍港："+t._s(t.dataList.registryPortStr))])]),e("div",{staticClass:"box-class"},[e("span",[t._v("吨位："+t._s(t.dataList.grt+"吨"))]),e("span",[t._v("船舶类型："+t._s(t.judgeShipType(t.dataList.shipType))+" ")])]),e("div",{staticClass:"box-class"},[e("span",[t._v("船东姓名："+t._s(t.dataList.contacts?t.dataList.contacts.shipownerName:""))]),e("span",[t._v("渔船编号:"+t._s(t.dataList.certificate?t.dataList.certificate.fishingBoatNo:"")+" ")])]),e("div",{staticClass:"box-class"},[e("span",[t._v("船长姓名："+t._s(t.dataList.contacts?t.dataList.contacts.captain:"")+" ")]),e("span",[t._v("船长电话："+t._s(t.dataList.contacts?t.dataList.contacts.captainPhone:"")+" ")])]),e("div",{staticClass:"box-class"},[e("span",[t._v("作业区域："+t._s(t.dataList.workingArea?t.dataList.workingArea:"")+" ")]),e("span",[t._v("船长："+t._s(t.dataList.length?t.dataList.length+"米":"")+" ")])]),e("div",{staticClass:"box-class"},[e("span",[t._v("船宽："+t._s(t.dataList.breadth?t.dataList.breadth+"米":"")+" ")]),e("span",[t._v("船深："+t._s(t.dataList.moldedDepth?t.dataList.moldedDepth+"米":"")+" ")])]),e("div",{staticClass:"box-class"},[e("span",[t._v("建造时间："+t._s(t._f("formatTime")(t.dataList.archives?t.dataList.archives.achieveTime:""))+" ")]),e("span")])])},z1=[],U1={computed:{dataList(){return this.$store.state.shipModule.shipRecordInfo.shipInformation}},filters:{formatTime(t){return t?u()(t).format("YYYY-MM-DD"):""}},methods:{judgeShipType(t){if(!t)return"";switch(t=t.toString(),t){case"1":return"渔船";case"2":return"运输船";default:return""}}}},H1=U1,W1=(n("b66c"),Object(f["a"])(H1,G1,z1,!1,null,"32ba0e6b",null)),Y1=W1.exports,X1=function(){var t=this,e=t._self._c;return e("div",[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"370"}},[e("el-table-column",{attrs:{prop:"certificateNameStr",label:"证书名称"}}),e("el-table-column",{attrs:{prop:"certificateSectionStr",label:"发证单位"}}),e("el-table-column",{attrs:{prop:"startTime",label:"开始时间"}}),e("el-table-column",{attrs:{prop:"expireTimeStr",label:"到期时间"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",{class:{"expireTimeStr-class":(new Date).getTime()>new Date(n.row.expireTimeStr).getTime()}},[t._v(" "+t._s(n.row.expireTimeStr)+" ")])]}}])}),e("el-table-column",{attrs:{prop:"shipProject",label:"船舶项目"}}),e("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-popover",{attrs:{placement:"top",width:"500px",trigger:"click"}},[e("div",{staticClass:"box-class"},t._l(n.row.paths,(function(n){return e("div",{key:n,staticClass:"imgBox-class"},[e("img",{staticStyle:{width:"90px",height:"80px"},attrs:{src:t.getImage(n)},on:{click:function(e){return t.preImage(n)}}})])})),0),e("a",{attrs:{slot:"reference",href:"javaScript:;"},on:{click:function(e){return t.check(n)}},slot:"reference"},[t._v("查看")])])]}}])})],1)],1)},q1=[],Z1={data(){return{}},methods:{getImage(t){let e=t.split("."),i=e[e.length-1];return"pdf"===i?n("3ad1"):""+t},preImage(t){window.open(t)},check(t){}},computed:{tableData(){let t=[],e=Object.values(this.$store.state.shipModule.shipRecordInfo.shipUpload);e.forEach(e=>{let n={};e.forEach((t,e)=>{0===e?(t.paths=[t.filePath],n=t):n.paths.push(t.filePath)}),t.push(n)});const n=t=>new Date(t).getTime();return t.sort((t,e)=>Number(n(t.expireTimeStr))-Number(n(e.expireTimeStr))),t}}},Q1=Z1,J1=(n("b0a4"),Object(f["a"])(Q1,X1,q1,!1,null,"63c8d096",null)),K1=J1.exports,$1=function(){var t=this,e=t._self._c;return e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"370"}},[e("el-table-column",{attrs:{prop:"name",label:"姓名"}}),e("el-table-column",{attrs:{prop:"nationality",label:"国籍"}}),e("el-table-column",{attrs:{prop:"birthday",label:"出生年月",width:"100px"}}),e("el-table-column",{attrs:{prop:"idCard",label:"身份证号码",width:"160px"}}),e("el-table-column",{attrs:{prop:"phone",label:"电话号码",width:"150px"}}),e("el-table-column",{attrs:{prop:"position",label:"职位"}})],1)},t2=[],e2={data(){return{}},mounted(){},watch:{},computed:{tableData(){return this.$store.state.shipModule.shipRecordInfo.seaman}}},n2=e2,i2=Object(f["a"])(n2,$1,t2,!1,null,null,null),r2=i2.exports,a2=function(){var t=this,e=t._self._c;return e("div",[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"370"}},[e("el-table-column",{attrs:{prop:"name",label:"项目名"}}),e("el-table-column",{attrs:{prop:"startTime",label:"开始时间"}}),e("el-table-column",{attrs:{prop:"endTime",label:"结束时间"}})],1)],1)},o2=[],s2={data(){return{}},methods:{},computed:{tableData(){let t=this.$store.state.shipModule.shipRecordInfo.shipProject;return t.forEach(t=>{t.startTime=this.$moment(t.startTime).format("YYYY-MM-DD "),t.endTime=this.$moment(t.endTime).format("YYYY-MM-DD ")}),t}}},l2=s2,c2=(n("e253"),Object(f["a"])(l2,a2,o2,!1,null,"466b3ec8",null)),u2=c2.exports,h2={components:{BaseModal:UK,ShipBase:Y1,ShipCertificate:K1,SeamanBase:r2,ShipProject:u2},mounted(){},data(){return{activeTab:"ShipBase",Tabs:[{title:"船舶基本信息",componentName:"ShipBase",key:"ShipBase"},{title:"船舶证书",componentName:"ShipCertificate",key:"ShipCertificate"},{title:"船员信息",componentName:"SeamanBase",key:"SeamanBase"},{title:"船舶项目",componentName:"ShipProject",key:"ShipProject"}],Style:{height:"430px",width:"750px",left:"460px",top:"60px"}}},methods:{...Object(mH["b"])("shipModule",["setShipRecordInfo"]),close(){this.setShipRecordInfo({show:!1,data:{}})}},computed:{isShow(){return this.$store.state.shipModule.shipRecordInfoShow}}},d2=h2,p2=(n("fb6c"),Object(f["a"])(d2,B1,V1,!1,null,"28c2b551",null)),f2=p2.exports,g2=function(){var t=this,e=t._self._c;return e("div",{class:t.showMes?"pack":"unfold",style:`top:${10+60*t.index}px`,attrs:{id:"historyMes"}},[e("div",{staticClass:"top"},[e("span",{staticClass:"shipname-class",style:`color:${t.historyData.color};font-size:15px`},[t._v(" "+t._s(t.historyData.shipName)+" ")]),t.showMes?e("div",{staticClass:"tip-class"},[t._m(0)]):t._e(),e("el-button",{staticClass:"export-class",staticStyle:{"border-radius":"50px"},attrs:{size:"mini",loading:t.exportLoading,type:"primary",plain:""},on:{click:t.exportFile}},[t._v("导出")]),e("span",{staticClass:"icon-class"},[e("i",{directives:[{name:"show",rawName:"v-show",value:!t.showMes,expression:"!showMes"}],staticClass:"el-icon-caret-top",on:{click:t.changeSize}}),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showMes,expression:"showMes"}],staticClass:"el-icon-caret-bottom",on:{click:t.changeSize}}),t.isHistoryShow?e("i",{staticClass:"iconfont icon-xianshikejian",attrs:{href:"javascript:;"},on:{click:t.changeHistoryShow}}):e("i",{staticClass:"iconfont icon-yincangbukejian",attrs:{href:"javascript:;"},on:{click:t.changeHistoryShow}}),e("i",{staticClass:"iconfont icon-weizhi",attrs:{href:"javascript:;"},on:{click:function(e){return t.postionCenter(t.historyData.points[0])}}}),e("i",{staticClass:"el-icon-close",attrs:{href:"javascript:;"},on:{click:t.closeHistory}})])],1),t.showMes?e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.historyData.loading,expression:"historyData.loading"}],staticClass:"next"},[e("span",[t._v(" 起始时间:"),e("strong",[t._v(t._s(t.historyData.startTime))])]),e("span",[t._v("终止时间:"),e("strong",[t._v(t._s(t.historyData.endTime))])]),e("span",[t._v(" 航迹数："),e("strong",[t._v(t._s(t.historyData.points.length))])]),e("span",[t._v("天数："+t._s(t.historyData.dayTime.toFixed(0))),e("strong")])]):t._e(),t.showMes?e("div",{staticClass:"content"},[e("ul",{staticClass:"ulTop"},[e("li",{staticClass:"item1"},[t._v("时间")]),e("li",{staticClass:"item3"},[t._v("纬度")]),e("li",{staticClass:"item2"},[t._v("经度")]),e("li",{staticClass:"item4"},[t._v("航速(节)")]),e("li",{staticClass:"item5"},[t._v("航向(度)")]),e("li",{staticClass:"item6"},[t._v("报位类型")]),e("li",{staticStyle:{width:"110px"}},[t._v(" "+t._s(t.historyData.isBuoy?"海温(℃)":"设备类型")+" ")])]),e("div",{staticClass:"ulDivFather"},[t._l(t.historyData.points,(function(n,i){return[e("ul",{key:i,class:t.selectclass==i?"ulList ulListbg":"ulList",on:{click:function(e){return t.postionCenter(n)}}},[e("li",{staticClass:"item1"},[t._v(t._s(n.pt))]),e("li",{staticClass:"item3"},[t._v(t._s(t.lonlatTransfrom(n.lat/60/1e4,"lat","String")))]),e("li",{staticClass:"item2"},[t._v(t._s(t.lonlatTransfrom(n.lon/60/1e4,"lon","String")))]),e("li",{staticClass:"item4"},[t._v(t._s(n.sp/10))]),e("li",{staticClass:"item5"},[t._v(t._s(n.co/10))]),e("li",{staticClass:"item6"},[t._v(t._s(t.JudgeSource(n.so,n.tp)))]),e("li",{staticClass:"item7"},[t._v(t._s(t.historyData.isBuoy?n.waterTemperature:t.JudgeEquipment(n.ct)))])])]}))],2)]):t._e()])},m2=[function(){var t=this,e=t._self._c;return e("ul",{staticClass:"icon-class-ul"},[e("li",[e("span",{staticClass:"pt-class sprit-class"}),e("div",[t._v("平台")])]),e("li",[e("span",{staticClass:"wx-class sprit-class"}),e("div",[t._v("卫星报位")])]),e("li",[e("span",{staticClass:"ais-class sprit-class"}),e("div",[t._v("AIS")])])])}];Object({NODE_ENV:"production",VUE_APP_BASEURL:"https://springcloud.intertion.cn",VUE_APP_CURRENTMODE:"prod",VUE_APP_IMG_URL:"https://cloudwx.intertion.cn/bills",VUE_APP_Minio_IMG_URL:"https://minio.fisheryvms.com/",VUE_APP_SERVER_Webscoket:"wss://springcloud.intertion.cn",VUE_APP_SOCKET_URL:"wss://springcloud.intertion.cn/shipCameraService/webCamera",BASE_URL:""}).VUE_APP_SERVER_URL;function v2(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/fishingSeachartService/posShipHis/exportAll",method:"GET",params:t,responseType:"blob",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json;charset=utf-8",t:sessionStorage.getItem("token")}}).then(t=>{t?e(t):(n("导出文件获取失败"),hH.a.error("导出文件获取失败"))}).catch(()=>{n("导出文件获取失败"),hH.a.error("导出文件获取失败")})})}function y2(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/fishingSeachartService/oaBuoy/exportAllBuoy",method:"GET",params:t,responseType:"blob",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json;charset=utf-8",t:sessionStorage.getItem("token")}}).then(t=>{t?e(t):(n("导出文件获取失败"),hH.a.error("导出文件获取失败"))}).catch(()=>{n("导出文件获取失败"),hH.a.error("导出文件获取失败")})})}function b2(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/weatherData/weather/getWeatherDataHistory",method:"POST",data:t}).then(t=>{t?e(t):(n("获取轨迹气象失败"),hH.a.error("获取轨迹气象失败"))}).catch(()=>{n("获取轨迹气象失败"),hH.a.error("获取轨迹气象失败")})})}var x2={props:{historyData:{type:Object,default:()=>{}},index:{type:Number,default:0}},data(){return{showMes:!1,zZ:!0,selectclass:null,isHistoryShow:!0,exportLoading:!1}},methods:{...Object(mH["b"])("historyModule",["deleteHistoryRouteList","setHistoryWeatherList"]),JudgeEquipment:A0,JudgeSource:M0,changeSize(){this.showMes=!this.showMes},changeHistoryShow(){this.isHistoryShow=!this.isHistoryShow;let t,e=this.historyData.id;t=!!this.isHistoryShow;let n=Mz(e+"arrowwebgl");n.getSource().clear(),n.setVisible(t),Mz(e+"webgl").setVisible(t),Mz(e).setVisible(t)},postionCenter(t){let e=[t.lon/60/1e4,t.lat/60/1e4],n=Object(UB["s"])(e,"EPSG:4326","EPSG:3857");this.map.getView().setCenter(n),this.map.getView().setZoom(17),setTimeout(()=>{BH({id:t.sid,coor:n},!0)},1e3)},closeHistory(){if(this.historyData.loading)return this.$message.warning("正在请求数据，请勿关闭.....");let t=this.historyData.id;this.map.removeLayer(Mz(t));let e=Mz(t+"webgl");e&&(this.map.removeLayer(e),e.dispose());let n=Mz(t+"arrowwebgl");n&&(this.map.removeLayer(n),n.dispose()),Mz("KuangLayer")&&Mz("KuangLayer").getSource().clear(),this.deleteHistoryRouteList(t)},async exportFile(){let t={startTime:this.historyData.startTime,endTime:this.historyData.endTime,source:this.historyData.source};this.historyData.isBuoy?Object.assign(t,{idNumder:this.historyData.id}):Object.assign(t,{vehicleId:this.historyData.id}),this.exportLoading=!0;try{let e;e=this.historyData.isBuoy?await y2(t):await v2(t);let n=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),i=URL.createObjectURL(n),r=document.createElement("a");document.body.appendChild(r),r.href=i,r.download=this.historyData.shipName+"历史轨迹.xls",r.click(),URL.revokeObjectURL(n),document.body.removeChild(r),window.URL.revokeObjectURL(n),this.$message.success("导出成功"),this.exportLoading=!1}catch(e){this.exportLoading=!1}},cancelStatus(){this.exportLoading=!1},async showHistoryWeather(t){let e=new FormData;if(e.append("mmsi",412695650),t.points){let n=t.points.map(t=>t.pt);e.append("dateStr",n.toString())}e.append("duration",5);try{const n=await b2(e);n&&this.setHistoryWeatherList({data:n,message:{id:t.id,startTime:t.startTime,endTime:t.endTime,name:t.name}})}catch(n){}}},computed:{lonlatTransfrom(){return function(t,e,n){return aU(t,e,n)}},map(){return this.$store.getters["mapModule/data"]("map")}}},_2=x2,w2=(n("e97c"),Object(f["a"])(_2,g2,m2,!1,null,"03f09881",null)),S2=w2.exports,O2=function(){var t=this,e=t._self._c;return e("div",[e("transition",{directives:[{name:"show",rawName:"v-show",value:t.policeShow,expression:"policeShow"}],attrs:{name:"listLeft"}},[t.policeShow?e("div",{staticClass:"list-class"},[t.msgListData.length>0?e("transition-group",{attrs:{name:"showside"}},t._l(t.msgListData,(function(n,i){return e("div",{key:n.id,class:{"list-content-class":!0,"animate-class":0==i}},[e("div",{staticStyle:{display:"flex"}},[e("div",{staticClass:"text-class",staticStyle:{flex:"20"}},[e("el-popover",{attrs:{placement:"top",title:n.shipName+" "+t.regReason(n.reason),trigger:"hover"}},[e("span",{attrs:{slot:"reference"},slot:"reference"},[e("span",{staticStyle:{"font-weight":"bold","font-size":"15px"}},[t._v(" "+t._s(n.shipName))]),t._v(" "+t._s(" "+t.regReason(n.reason))+" ")])])],1),e("div",{staticStyle:{flex:"4"}},[e("div",{staticClass:"sgin-class"},[t._v("越界报警")])])]),e("div",{staticClass:"time-ps-class",staticStyle:{display:"flex"}},[e("div",{staticStyle:{"margin-right":"15px"}},[e("i",{staticClass:"el-icon-time"}),t._v(" "+t._s(t.transFormDate(n.posTime))+" ")]),e("div",{staticClass:"pos-class",on:{click:function(e){return t.posCenter(n.vehicleId)}}},[e("i",{staticClass:"el-icon-map-location"}),t._v(" 船舶定位 ")])])])})),0):e("div",{key:"noMessage"},[e("el-empty",{attrs:{description:"暂无报警"}})],1)],1):t._e()])],1)},C2=[],A2={data(){return{}},methods:{regReason(t){return t&&t.replace(/\([^\)]*\)/g,"")},transFormDate(t){return t&&this.$moment(t).format("YYYY-MM-DD HH:mm:ss")},posCenter(t){let e=["shipCrashLayer","shipGroupLayer","shipLoseLayer"],n=e.find(e=>{var n;let i=null===(n=Mz(e))||void 0===n?void 0:n.getSource().getFeatureById(t);return!!i});if(n){let e=Mz(n).getSource().getFeatureById(t);this.$store.commit("shipModule/setShipCheckedInfo",e.values_),this.$store.commit("shipModule/changeShipInfoShow",!0);let i=e.getGeometry().getCoordinates();this.map.getView().setCenter(i),BH({id:e.getId(),coor:i},!0)}else this.$message.info("暂无位置")}},computed:{msgListData(){return this.$store.state.mapModule.policeList},policeShow(){return this.$store.state.mapModule.policeShow},map(){return this.$store.getters["mapModule/data"]("map")}},watch:{}},M2=A2,T2=(n("58f5"),Object(f["a"])(M2,O2,C2,!1,null,"8bb3b590",null)),k2=T2.exports,L2=function(){var t=this,e=t._self._c;return e("div",{staticClass:"popup-class",attrs:{id:"popup"}},[e("div",{staticClass:"popup-content"},[e("div",{staticStyle:{margin:"5px"}},[t._v("选中的位置")]),e("i",{staticClass:"el-icon-close",on:{click:t.closeSelect}}),e("div",{staticStyle:{margin:"10px 0"}},[e("el-input-number",{staticStyle:{width:"110px"},attrs:{size:"mini","controls-position":"right",max:90,min:-90},model:{value:t.PosCircle.lat[0],callback:function(e){t.$set(t.PosCircle.lat,0,e)},expression:"PosCircle.lat[0]"}}),e("span",{staticClass:"unit-class"},[t._v(" ° ")]),e("el-input-number",{staticStyle:{width:"110px"},attrs:{size:"mini","controls-position":"right"},model:{value:t.PosCircle.lat[1],callback:function(e){t.$set(t.PosCircle.lat,1,e)},expression:"PosCircle.lat[1]"}}),e("span",{staticClass:"unit-class"},[t._v("′")]),e("el-select",{staticStyle:{width:"80px"},attrs:{size:"mini"},model:{value:t.PosCircle.lat[2],callback:function(e){t.$set(t.PosCircle.lat,2,e)},expression:"PosCircle.lat[2]"}},t._l(t.optionslat,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("div",{staticStyle:{margin:"10px 0"}},[e("el-input-number",{staticStyle:{width:"110px"},attrs:{size:"mini","controls-position":"right",max:180,min:-180},model:{value:t.PosCircle.lon[0],callback:function(e){t.$set(t.PosCircle.lon,0,e)},expression:"PosCircle.lon[0]"}}),e("span",{staticClass:"unit-class"},[t._v("°")]),e("el-input-number",{staticStyle:{width:"110px"},attrs:{size:"mini","controls-position":"right"},model:{value:t.PosCircle.lon[1],callback:function(e){t.$set(t.PosCircle.lon,1,e)},expression:"PosCircle.lon[1]"}}),e("span",{staticClass:"unit-class"},[t._v("′")]),e("el-select",{staticStyle:{width:"80px"},attrs:{size:"mini"},model:{value:t.PosCircle.lon[2],callback:function(e){t.$set(t.PosCircle.lon,2,e)},expression:"PosCircle.lon[2]"}},t._l(t.optionslon,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("div",[t._v("请输入您要筛选的距离 :")]),t._m(0),e("div",[e("el-input-number",{staticStyle:{width:"110px","margin-right":"10px"},attrs:{placeholder:"请输入距离",size:"mini",min:1,max:100,"controls-position":"right"},model:{value:t.PosCircle.r,callback:function(e){t.$set(t.PosCircle,"r",e)},expression:"PosCircle.r"}}),t._v(" 海里 "),e("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"primary",loading:t.loading},on:{click:t.drawcrile}},[t._v(" 筛 船 ")])],1)])])},j2=[function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"margin-bottom":"7px"}},[t._v(" 取值范围为 : "),e("div",{staticStyle:{color:"red",display:"inline-block"}},[t._v("1 ~ 100 ！")])])}];Object({NODE_ENV:"production",VUE_APP_BASEURL:"https://springcloud.intertion.cn",VUE_APP_CURRENTMODE:"prod",VUE_APP_IMG_URL:"https://cloudwx.intertion.cn/bills",VUE_APP_Minio_IMG_URL:"https://minio.fisheryvms.com/",VUE_APP_SERVER_Webscoket:"wss://springcloud.intertion.cn",VUE_APP_SOCKET_URL:"wss://springcloud.intertion.cn/shipCameraService/webCamera",BASE_URL:""}).VUE_APP_SERVER_URL;function I2(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/fishingSeachartService/posCurrent/selectScope",method:"GET",params:t}).then(t=>{t?e(t):(n("搜索失败"),hH.a.error("搜索失败"))}).catch(()=>{n("搜索失败"),hH.a.error("搜索失败")})})}var E2={data(){return{optionslon:[{value:"E",label:"E"},{value:"W",label:"W"}],optionslat:[{value:"N",label:"N"},{value:"S",label:"S"}],loading:!1}},methods:{async drawcrile(){let t={lon:(60*oU(this.PosCircle.lon)*1e4).toFixed(0),lat:(60*oU(this.PosCircle.lat)*1e4).toFixed(0),fanwei:this.PosCircle.r};this.loading=!0;try{let{result:e}=await I2(t);mW(this.PosCircle,"circleLayer"),e.map(t=>(t.lon=t.lon/60/1e4,t.lat=t.lat/60/1e4,t.sp=t.sp/10,t.co=t.co/10,t)),_H("distanceLayer","shipDistance",e,LH,"rgb(24, 52, 91)",!0,13),iW(!1),this.map.getOverlayById("popup").setPosition(null),this.loading=!1}catch(e){this.loading=!1}},MoveCricleCenter(t,e,n){if(this.map&&Mz(n)){let i=Mz(n);i.getSource().clear();let r=oU(t.lon),a=oU(t.lat),o=Object(UB["s"])([r,a],"EPSG:4326","EPSG:3857");this.map.getOverlayById(e)&&this.map.getOverlayById(e).setPosition(o);let s=new Fz["a"](o),l=new Pz["a"]({geometry:s,type:"Point"});i.getSource().addFeature(l)}},closeSelect(){let t=Mz("circleLayer");null===t||void 0===t||t.getSource().clear(),this.map.getOverlayById("popup").setPosition(null)}},computed:{PosCircle:{get(){return this.$store.state.mapModule.posCircleMessage}},map(){return this.$store.getters["mapModule/data"]("map")}},watch:{"$store.state.mapModule.posCircleMessage":{handler(t){this.MoveCricleCenter(t,"popup","circleLayer")},deep:!0}}},P2=E2,R2=(n("020a"),Object(f["a"])(P2,L2,j2,!1,null,"2b4776e2",null)),D2=R2.exports,F2=function(){var t=this,e=t._self._c;return e("div",[t.crashListShow?e("div",{directives:[{name:"move",rawName:"v-move"}],staticClass:"box-class"},[e("div",{staticClass:"title-class"},[e("div",{staticStyle:{flex:"2","text-align":"center",color:"red"}},[t._v("危险列表")]),e("i",{staticClass:"el-icon-close",on:{click:function(e){return t.$store.commit("shipModule/setCrashListShow",!1)}}})]),e("el-table",{staticClass:"table-class",attrs:{data:t.dataList,"max-height":"500","header-row-class-name":"header-row-class","header-row-style":{background:"#0270ea3d",color:"rgba(0,0,0,0.8)"}}},[e("el-table-column",{attrs:{label:"时间",sortable:!0,"sort-method":(e,n)=>t.sort(e,n,"date"),width:"160px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.dateTime(e.row.date))+" ")]}}],null,!1,3583074633)}),e("el-table-column",{attrs:{label:"mmsi",width:"140px"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",{staticClass:"cutlline-class cut-class",on:{click:function(e){return t.posCenter(n.row.data[0].id)}}},[t._v(" "+t._s(n.row.data[0].mmsi)+" ")]),e("div",{staticClass:"cut-class",on:{click:function(e){return t.posCenter(n.row.data[1].id)}}},[t._v(t._s(n.row.data[1].mmsi))])]}}],null,!1,2621328471)}),e("el-table-column",{attrs:{label:"船队船舶"}},[e("el-table-column",{attrs:{label:"其他船舶"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",{staticClass:"cutlline-class cut-class",on:{click:function(e){return t.posCenter(n.row.data[0].id)}}},[t._v(" "+t._s(n.row.data[0].name)+" ")]),e("div",{staticClass:"cut-class",on:{click:function(e){return t.posCenter(n.row.data[1].id)}}},[t._v(" "+t._s(n.row.data[1].name)+" ")])]}}],null,!1,197029463)})],1),e("el-table-column",{attrs:{label:"方位(度)",sortable:!0,"sort-method":(e,n)=>t.sort(e,n,"alpha"),width:"110px"}},[e("el-table-column",{attrs:{label:"距离(海里)",sortable:!0,"sort-method":(e,n)=>t.sort(e,n,"nmi"),width:"110px"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",{staticClass:"cutlline-class cut-class",on:{click:function(e){return t.posCenter(n.row.data[0].id)}}},[t._v(" "+t._s(n.row.alpha)+" ")]),e("div",{staticClass:"cut-class",on:{click:function(e){return t.posCenter(n.row.data[1].id)}}},[t._v(" "+t._s(n.row.nmi)+" ")])]}}],null,!1,3713235880)})],1),e("el-table-column",{attrs:{label:"TCPA",sortable:!0,"sort-method":(e,n)=>t.sort(e,n,"tcpa"),width:"110px"}},[e("el-table-column",{attrs:{label:"DCPA(nm)",sortable:!0,"sort-method":(e,n)=>t.sort(e,n,"dcpa"),width:"110px"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",{staticClass:"cutlline-class cut-class",on:{click:function(e){return t.posCenter(n.row.data[0].id)}}},[t._v(" "+t._s(n.row.tcpa)+" ")]),e("div",{staticClass:"cut-class",on:{click:function(e){return t.posCenter(n.row.data[1].id)}}},[t._v(" "+t._s(n.row.dcpa)+" ")])]}}],null,!1,3197851334)})],1),e("el-table-column",{attrs:{label:"船队船舶航速(节)",sortable:!0,"sort-method":(e,n)=>t.sort(e,n,"Bsp"),width:"160px"}},[e("el-table-column",{attrs:{prop:"province",label:"其他船舶航速(节)",sortable:!0,"sort-method":(e,n)=>t.sort(e,n,"Osp"),width:"160px"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",{staticClass:"cutlline-class cut-class",on:{click:function(e){return t.posCenter(n.row.data[0].id)}}},[t._v(" "+t._s(n.row.data[0].sp)+" ")]),e("div",{staticClass:"cut-class",on:{click:function(e){return t.posCenter(n.row.data[1].id)}}},[t._v(" "+t._s(n.row.data[1].sp)+" ")])]}}],null,!1,627848407)})],1),e("el-table-column",{attrs:{label:"船队船舶航向(度)",sortable:!0,"sort-method":(e,n)=>t.sort(e,n,"Bco"),width:"160px"}},[e("el-table-column",{attrs:{label:"其他船舶航速(节)",sortable:!0,"sort-method":(e,n)=>t.sort(e,n,"Oco"),width:"160px"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",{staticClass:"cutlline-class cut-class",on:{click:function(e){return t.posCenter(n.row.data[0].id)}}},[t._v(" "+t._s(n.row.data[0].co)+" ")]),e("div",{staticClass:"cut-class",on:{click:function(e){return t.posCenter(n.row.data[1].id)}}},[t._v(" "+t._s(n.row.data[1].co)+" ")])]}}],null,!1,4019664439)})],1)],1)],1):t._e()])},N2=[],B2={data(){return{}},methods:{TCPATime1(t){const e=t.split(":")[0],n=t.split(":")[1],i=t.split(":")[2];return Number(3600*e)+Number(60*n)+Number(i)},sort(t,e,n){switch(n){case"tcpa":return this.TCPATime1(t.tcpa)-this.TCPATime1(e.tcpa);case"Bsp":return t.data[0].sp-e.data[0].sp;case"Osp":return t.data[1].sp-e.data[1].sp;case"Bco":return t.data[0].co-e.data[0].co;case"Oco":return t.data[1].co-e.data[1].co;default:return t[n]-e.alpha[n]}},posCenter(t){let e=["shipCrashLayer","shipGroupLayer","shipRoundLayer"],n=e.find(e=>{var n;let i=null===(n=Mz(e))||void 0===n?void 0:n.getSource().getFeatureById(t);return!!i});if(n){let e=Mz(n).getSource().getFeatureById(t);this.$store.commit("shipModule/setShipCheckedInfo",e.values_),this.$store.commit("shipModule/changeShipInfoShow",!0);let i=e.getGeometry().getCoordinates();this.map.getView().setCenter(i),BH({id:e.getId(),coor:i},!0)}else this.$message.info("暂无位置")}},computed:{dataList(){let t=JSON.parse(JSON.stringify(this.$store.state.shipModule.shipCrashCompareList));return t.map(t=>(t.data=Object.values(t.data),t)),t.sort((t,e)=>e.date-t.date),t},dateTime(){return function(t){return this.$moment(t).format("YYYY-MM-DD HH:mm:ss")}},crashListShow(){return this.$store.state.shipModule.crashListShow},map(){return this.$store.getters["mapModule/data"]("map")}}},V2=B2,G2=(n("c91b"),Object(f["a"])(V2,F2,N2,!1,null,"1da285a2",null)),z2=G2.exports,U2=function(){var t=this,e=t._self._c;return t.loseListShow?e("div",{directives:[{name:"move",rawName:"v-move"}],staticClass:"box-class"},[e("div",{staticClass:"title-class"},[e("div",{staticStyle:{flex:"2","text-align":"center",color:"rgb(243, 169, 24)"}},[t._v("离线列表")]),e("i",{staticClass:"el-icon-close",on:{click:function(e){return t.$store.commit("shipModule/setLoseListShow",!1)}}})]),e("el-table",{staticClass:"table-class",attrs:{data:t.dataList,"max-height":"500","header-row-class-name":"header-row-class","header-row-style":{background:"#0270ea3d",color:"rgba(0,0,0,0.8)"}},on:{"cell-click":t.rowClick}},[e("el-table-column",{attrs:{prop:"updateTime",label:"最后时间"}}),e("el-table-column",{attrs:{prop:"mmsi",label:"MMSI"}}),e("el-table-column",{attrs:{prop:"name",label:"船舶名称"}})],1)],1):t._e()},H2=[],W2={data(){return{}},methods:{rowClick(t){this.posCenter(t.id)},posCenter(t){let e=["shipCrashLayer","shipGroupLayer","shipLoseLayer"],n=e.find(e=>{var n;let i=null===(n=Mz(e))||void 0===n?void 0:n.getSource().getFeatureById(t);return!!i});if(n){let e=Mz(n).getSource().getFeatureById(t);this.$store.commit("shipModule/setShipCheckedInfo",e.values_),this.$store.commit("shipModule/changeShipInfoShow",!0);let i=e.getGeometry().getCoordinates();this.map.getView().setCenter(i),BH({id:e.getId(),coor:i},!0)}else this.$message.info("暂无位置")}},computed:{dataList(){let t=this.$store.state.shipModule.shipLoseList,e=Object.values(t).filter(t=>"0"!==t.status||"1"!==t.judge);return e.map(t=>(t.updateTime&&(t.updateTime=this.$moment(t.updateTime).format("YYYY-MM-DD HH:mm:ss")),t))},loseListShow(){return this.$store.state.shipModule.loseListShow},map(){return this.$store.getters["mapModule/data"]("map")}}},Y2=W2,X2=(n("dd14"),Object(f["a"])(Y2,U2,H2,!1,null,"4c43b367",null)),q2=X2.exports,Z2=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search-class"},[e("i",{staticClass:"el-icon-search"}),e("el-select",{staticClass:"select-input",attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入船名、MMSI、呼号、IMO ","remote-method":t.remoteMethod,size:"medium",loading:t.loading,clearable:"","popper-append-to-body":!1},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(n,i){return e("el-option",{key:n.id,attrs:{label:n.nameCn?n.nameCn:n.nameEn,value:n.id},on:{click:function(e){return t.findShip(n)}}},[e("div",{class:{"search-content":!0,"interval-class":i%2!==0}},[e("div",{staticClass:"label-icon-class"},[e("i",{staticClass:"iconfont icon-chuanbo"})]),e("div",{staticStyle:{height:"25px",display:"flex"}},[e("div",{staticStyle:{flex:"14"}},[e("span",{staticClass:"name-class"},[t._v("船名：")]),t._v(" "),e("span",[t._v(t._s(n.nameCn?n.nameCn:n.nameEn))])]),e("div",{staticStyle:{flex:"10"}},[e("span",{staticClass:"name-class"},[t._v("IMO：")]),e("span",[t._v(t._s(n.imo))])])]),e("div",{staticStyle:{display:"flex"}},[e("div",{staticStyle:{flex:"14"}},[e("span",{staticClass:"name-class"},[t._v("呼号：")]),e("span",[t._v(t._s(n.callsign))])]),e("div",{staticStyle:{flex:"10"}},[e("span",{staticClass:"name-class"},[t._v("MMSI: ")]),e("span",[t._v(t._s(n.mmsi))])])])])])})),1)],1)},Q2=[];Object({NODE_ENV:"production",VUE_APP_BASEURL:"https://springcloud.intertion.cn",VUE_APP_CURRENTMODE:"prod",VUE_APP_IMG_URL:"https://cloudwx.intertion.cn/bills",VUE_APP_Minio_IMG_URL:"https://minio.fisheryvms.com/",VUE_APP_SERVER_Webscoket:"wss://springcloud.intertion.cn",VUE_APP_SOCKET_URL:"wss://springcloud.intertion.cn/shipCameraService/webCamera",BASE_URL:""}).VUE_APP_SERVER_URL;function J2(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/interface/vehicle/vehicleSearchByEs",method:"GET",params:t}).then(t=>{t?e(t):(n("搜索失败"),hH.a.error("搜索失败"))}).catch(()=>{n("搜索失败")})})}function K2(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/fishingSeachartService/posCurrent/queryPosByVehicleIdNew",method:"GET",params:t}).then(t=>{t?e(t):(n("搜索失败"),hH.a.error("搜索失败"))}).catch(()=>{n("搜索失败")})})}var $2={data(){return{text:"",timer:null,loading:!1,value:"",options:[]}},methods:{remoteMethod(t){clearTimeout(this.timer),this.timer=setTimeout(()=>{let e={keyWord:t};J2(e).then(t=>{this.options=t.result.vehicles})},300)},handleSelect(t){this.text=t.nameCn},clear(){this.text=""},findShip(t){let e=["shipCrashLayer","shipGroupLayer","shipLoseLayer","shipFocusLayer","shipRoundLayer"],n=e.find(e=>{var n,i;let r=null===(n=Mz(e))||void 0===n||null===(i=n.getSource())||void 0===i?void 0:i.getFeatureById(t);return!!r});if(n)this.getShipInfo(n,t);else{let e={vehicleId:t,source:this.$store.state.mapModule.source.toString()};K2(e).then(t=>{t.result.lon=t.result.lon/1e4/60,t.result.lat=t.result.lat/1e4/60,t.result.co=t.result.co/10,t.result.sp=t.result.sp/10,t.result.lon&&t.result.lat?(_H("shipOtherLayer","shipOther",[t.result],TH,"10",!0,14),this.getShipInfo("shipOtherLayer",t.result.sid)):(this.$store.commit("shipModule/setShipCheckedInfo",t.result),this.$store.commit("shipModule/changeShipInfoShow",!0))})}this.value=""},getShipInfo(t,e){let n=Mz(t).getSource().getFeatureById(e);this.$store.commit("shipModule/setShipCheckedInfo",n.values_),this.$store.commit("shipModule/changeShipInfoShow",!0);let i=n.getGeometry().getCoordinates();this.map.getView().setCenter(i),BH({id:n.getId(),coor:i},!0)}},computed:{map(){return this.$store.getters["mapModule/data"]("map")}},watch:{value(t){t&&this.findShip(t)}}},t5=$2,e5=(n("d23c"),n("7226"),Object(f["a"])(t5,Z2,Q2,!1,null,"1697e82f",null)),n5=e5.exports,i5=function(){var t=this,e=t._self._c;return e("div",{staticClass:"popup-class2",attrs:{id:t.idName}},[e("div",{staticClass:"popup-content"},[e("div",{staticStyle:{margin:"5px"}},[t._v("选中的位置")]),e("div",{staticClass:"name-class"},[e("span",{staticStyle:{width:"50px"}},[t._v("名称:")]),e("el-input",{staticStyle:{width:"298px"},attrs:{placeholder:"请输入标记名称",size:"small"},model:{value:t.posSignMessage.name,callback:function(e){t.$set(t.posSignMessage,"name",e)},expression:"posSignMessage.name"}})],1),e("div",{staticStyle:{margin:"10px 0"}},[e("el-input-number",{staticStyle:{width:"110px"},attrs:{size:"mini","controls-position":"right",max:90,min:-90},model:{value:t.posSignMessage.lat[0],callback:function(e){t.$set(t.posSignMessage.lat,0,e)},expression:"posSignMessage.lat[0]"}}),e("span",{staticClass:"unit-class"},[t._v(" ° ")]),e("el-input-number",{staticStyle:{width:"110px"},attrs:{size:"mini","controls-position":"right"},model:{value:t.posSignMessage.lat[1],callback:function(e){t.$set(t.posSignMessage.lat,1,e)},expression:"posSignMessage.lat[1]"}}),e("span",{staticClass:"unit-class"},[t._v("′")]),e("el-select",{staticStyle:{width:"80px"},attrs:{size:"mini"},model:{value:t.posSignMessage.lat[2],callback:function(e){t.$set(t.posSignMessage.lat,2,e)},expression:"posSignMessage.lat[2]"}},t._l(t.optionslat,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("div",{staticStyle:{margin:"10px 0"}},[e("el-input-number",{staticStyle:{width:"110px"},attrs:{size:"mini","controls-position":"right",max:180,min:-180},model:{value:t.posSignMessage.lon[0],callback:function(e){t.$set(t.posSignMessage.lon,0,e)},expression:"posSignMessage.lon[0]"}}),e("span",{staticClass:"unit-class"},[t._v("°")]),e("el-input-number",{staticStyle:{width:"110px"},attrs:{size:"mini","controls-position":"right"},model:{value:t.posSignMessage.lon[1],callback:function(e){t.$set(t.posSignMessage.lon,1,e)},expression:"posSignMessage.lon[1]"}}),e("span",{staticClass:"unit-class"},[t._v("′")]),e("el-select",{staticStyle:{width:"80px"},attrs:{size:"mini"},model:{value:t.posSignMessage.lon[2],callback:function(e){t.$set(t.posSignMessage.lon,2,e)},expression:"posSignMessage.lon[2]"}},t._l(t.optionslon,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),e("div",{staticClass:"bottom-btn-class"},["add"===t.posSignStatus?e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.addSignPoint}},[t._v("添加 ")]):e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.editSignPoint}},[t._v("修改 ")]),e("el-button",{attrs:{size:"mini"},on:{click:t.cancelAction}},[t._v("取消 ")])],1)])},r5=[];Object({NODE_ENV:"production",VUE_APP_BASEURL:"https://springcloud.intertion.cn",VUE_APP_CURRENTMODE:"prod",VUE_APP_IMG_URL:"https://cloudwx.intertion.cn/bills",VUE_APP_Minio_IMG_URL:"https://minio.fisheryvms.com/",VUE_APP_SERVER_Webscoket:"wss://springcloud.intertion.cn",VUE_APP_SOCKET_URL:"wss://springcloud.intertion.cn/shipCameraService/webCamera",BASE_URL:""}).VUE_APP_SERVER_URL;function a5(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/interface/chartSign/addOrUpdate",method:"POST",data:t}).then(t=>{t?e(t):(n("添加失败"),hH.a.error("添加失败"))}).catch(()=>{n("添加失败"),hH.a.error("添加失败")})})}function o5(t){return new Promise((e,n)=>{Object(dH["a"])({url:"/interface/chartSign/edit",method:"POST",data:t}).then(t=>{t?e(t):(n("修改失败"),hH.a.error("修改失败"))}).catch(()=>{n("修改失败"),hH.a.error("修改失败")})})}var s5={props:{status:{type:Number,default:0},idName:{type:String,default:"signPopup"}},data(){return{input:"",optionslon:[{value:"E",label:"E"},{value:"W",label:"W"}],optionslat:[{value:"N",label:"N"},{value:"S",label:"S"}],start:!1}},methods:{...Object(mH["b"])("mapModule",["setSignList","setPosSignMessage"]),closeSelect(){},async addSignPoint(){let t=60*oU(this.posSignMessage.lon)*1e4,e=60*oU(this.posSignMessage.lat)*1e4,n={id:"",name:this.posSignMessage.name,show:1,type:1,area:t.toString()+" "+e.toString()},{messageCn:i}=await a5(n);this.map.getOverlayById("signPopup").setPosition(null),this.cancelAction();let{result:r}=await sY();this.setSignList(r),this.setPosSignMessage({name:"",lon:[],lat:[],id:""}),this.$message.success(i)},cancelAction(){let t=Mz("drawSignPointLayer");t&&this.map.removeLayer(t),this.setPosSignMessage({name:"",lon:[],lat:[],id:""}),this.map.getOverlayById("signPopup").setPosition(null)},async editSignPoint(){let t=60*oU(this.posSignMessage.lon)*1e4,e=60*oU(this.posSignMessage.lat)*1e4,n={id:this.posSignMessage.id,name:this.posSignMessage.name,show:1,type:1,area:t.toString()+" "+e.toString()};await o5(n);let{result:i}=await sY();this.setSignList(i),this.$message.success("修改成功"),this.$emit("close"),this.setPosSignMessage({name:"",lon:[],lat:[],id:""}),this.map.getOverlayById("signPopup").setPosition(null)}},computed:{map(){return this.$store.getters["mapModule/data"]("map")},posSignMessage(){return this.$store.state.mapModule.posSignMessage},posSignStatus(){return this.$store.state.mapModule.posSignStatus}},watch:{"$store.state.mapModule.posSignMessage":{handler(t){if(t.lon.length>0&&t.lat.length>0&&!isNaN(t.lon[0])&&0!=t.lon[0]){var e,n;let i=[oU(t.lon),oU(t.lat)],r=Object(UB["s"])(i,"EPSG:4326","EPSG:3857"),a=null===(e=Mz("drawSignPointLayer"))||void 0===e||null===(n=e.getSource())||void 0===n?void 0:n.getFeatureById("signPoint");if(a&&a.getGeometry().setCoordinates(r),this.map.getOverlayById("signPopup"))this.map.getOverlayById("signPopup").setPosition(r);else{let t=document.getElementById("signPopup"),e=new cU["a"]({element:t,autoPan:!0,id:"signPopup",autoPanAnimation:{duration:250},positioning:"top-center",position:r});this.map.addOverlay(e)}}},deep:!0,immediate:!1}}},l5=s5,c5=(n("cc02"),Object(f["a"])(l5,i5,r5,!1,null,"58b5b918",null)),u5=c5.exports,h5=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"videoModal"}},[e("a-spin",{attrs:{spinning:t.spinning}},[e("div",{staticClass:"top"},[e("div",[e("span",{on:{click:t.closeModal}},[e("a-icon",{attrs:{type:"close"}})],1)])]),e("div",{staticClass:"VideoContent"},[e("div",{staticClass:"actionBar"},[e("span",[t._v(t._s(t.name)+" ")]),e("div",[e("img",{class:""+(1===t.videoNumber?"checked":""),attrs:{src:n("42c9")},on:{click:function(e){return t.switchVideoNumber(1)}}}),e("img",{class:""+(4===t.videoNumber?"checked":""),attrs:{src:n("c14b")},on:{click:function(e){return t.switchVideoNumber(4)}}})])]),e("div",{attrs:{id:"videoList"}},[e("ul",t._l(t.videoList,(function(n,i){return e("li",{key:i,on:{click:function(e){return t.selectCamera(n)}}},[t._v(" "+t._s(n.title)+" ")])})),0),e("div",{staticClass:"newCamera_content"},t._l(t.videoNumber,(function(i){return e("div",{key:i,class:`newCameraitem newCameraitem_${t.videoNumber}\n        ${t.checkedVideo===i-1?"newCameraitem_checked":""}`,on:{click:function(e){return t.onCheckedVideo(i-1)}}},[e("div",{staticClass:"newCamera_item_title"},[t._v(" "+t._s(t.showCameraList[i-1]?t.showCameraList[i-1].title:"请选择摄像头")+" ")]),e("div",{staticClass:"newCameraitem_content"},[e("div",{staticClass:"newCameraitem_wuhuamian"},[t.showCameraList[i-1]&&t.showCameraList[i-1].lastPicture?t._e():e("div",{staticClass:"newCamera_item_wuhuamian_default"},[e("img",{attrs:{src:n("b2c8")}}),e("p",[t._v("暂无画面")])]),e("div",{ref:"videoCoverBox",refInFor:!0,staticClass:"videoCoverBox"},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.showCameraList[i-1]&&t.showCameraList[i-1].lastPicture,expression:"showCameraList[item - 1] && showCameraList[item - 1].lastPicture"}],attrs:{src:t.showCameraList[i-1]?t.showCameraList[i-1].lastPicture:"none"}})]),e("a-spin",{staticClass:"newCamera_item_spinning",attrs:{spinning:t.spLoding(t.showCameraList[i-1])}},[e("a-icon",{staticStyle:{"font-size":"30px"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1)],1),e("div",{staticClass:"newCameraitem_play"},[e("video",{ref:"videoEle",refInFor:!0,attrs:{"data-index":i-1,disablePictureInPicture:"true",controlslist:"nodownload noremoteplayback"}})]),t.showCameraList[i-1]?e("div",{staticClass:"newCamera_item_function",style:{display:(t.showCameraList[i-1]&&t.showCameraList[i-1].state,"block")}},[e("div",{staticClass:"newCamera_item_fun_bottom"},[e("div",[e("a-tooltip",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" 暂停 ")]},proxy:!0}],null,!0)},[t.showCameraList[i-1]&&t.showCameraList[i-1].state>0?e("img",{staticClass:"video_canvas_icon",attrs:{src:n("597e"),alt:""},on:{click:function(e){return t.cameraPause(i-1)}}}):t._e()]),e("a-tooltip",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" 播放 ")]},proxy:!0}],null,!0)},[t.showCameraList[i-1]&&0===t.showCameraList[i-1].state?e("img",{staticClass:"video_canvas_icon",attrs:{src:n("ea53"),alt:""},on:{click:function(e){return t.getCameraM3U8(i-1)}}}):t._e()]),t.showCameraList[i-1]&&t.showCameraList[i-1].state>0?e("span",{staticClass:"tips"},[t._v(" 正在直播 ")]):t._e()],1),e("div",[e("a-tooltip",{scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"video_icon_changeQingxidu"},[e("div",{on:{click:function(e){return t.changeQingxidu(i-1,1)}}},[t._v("流畅")]),e("div",{on:{click:function(e){return t.changeQingxidu(i-1,2)}}},[t._v("标清")]),e("div",{on:{click:function(e){return t.changeQingxidu(i-1,3)}}},[t._v("高清")])])]},proxy:!0}],null,!0)},[t.showCameraList[i-1]&&t.showCameraList[i-1].state>0?e("span",{staticClass:"video_icon_changeQingxidu"},[t._v(" 清晰度 ")]):t._e()]),e("a-tooltip",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v(" 截图 ")]},proxy:!0}],null,!0)},[t.showCameraList[i-1]&&t.showCameraList[i-1].state>1?e("img",{staticClass:"video_canvas_icon",attrs:{src:n("dd9e"),alt:""},on:{click:function(e){return t.cameraCreenshot(i-1,t.showCameraList[i-1].shipName,t.showCameraList[i-1].title)}}}):t._e()])],1)])]):t._e()])])})),0)])])])],1)},d5=[];let p5="",f5="";const g5=(t,e)=>{f5=t,"create"==e?(p5=new WebSocket(t),p5.onopen=m5,p5.onmessage=v5,p5.onclose=y5,p5.onerror=b5):"close"==e&&p5&&p5.close()},m5=()=>{},v5=t=>{window.dispatchEvent(new CustomEvent("onmessageWS",{detail:{data:t.data}}))},y5=()=>{2!==p5.readyState&&(p5=null)},b5=()=>{p5.close(),3!==p5.readyState&&(p5=null,g5(f5,"create"))};var x5=g5;const _5=n("ba56");var w5={data(){return{urls:{onQueryTree:"/shipCameraService/tbShipCamera/getShipCameraTree",openVideo:"/shipCameraService/tbShipCamera/openVideo",closeVideo:"/shipCameraService/tbShipCamera/closeVideo",keep:"/shipCameraService/tbShipCamera/keep",change:"/shipCameraService/tbShipCamera/change"},videoNumber:4,checkedVideo:0,shipInfo:{},isMaxView:!1,websocketTimeStamp:null,checkedCameraDate:null,showCameraList:[],spinning:!1,repeatKeepHeartbeatId:null,documentHidden:!0}},created(){},mounted(){const t=this;localStorage.getItem("videoNumber")||localStorage.setItem("videoNumber",4),t.repeatKeepHeartbeatId=setInterval(()=>{if(t.showCameraList.length>0){let e=[];if(t.showCameraList.forEach(t=>{0!==t.state&&e.push(t.id)}),e.length>0){let n=new FormData;n.append("ids",e.toString()),t.axios.post("/shipCameraService/tbShipCamera/keep",n)}}},1e4),this.websocketTimeStamp=Date.parse(new Date);let e="wss://springcloud.intertion.cn/shipCameraService/webCamera"+this.websocketTimeStamp;"WebSocket"in window?(x5(null,"close"),x5(e,"create")):this.$message.warning("您所在浏览器暂不支持webSocket链接，部分功能无法使用！"),window.addEventListener("onmessageWS",t.getsocketData),_5.isSupported()||this.$message.warning("您所在浏览器暂不支持Hls视频播放功能，请更换浏览器！"),this.createVideoMonitor(),this.maxWiathAndHeight(),window.addEventListener("resize",()=>this.maxWiathAndHeight())},methods:{...Object(mH["b"])("videoModule",["changeVedioShow","setVideoData"]),switchVideoNumber(t){let e=this;if(e.showCameraList.length>t){for(let n=e.showCameraList.length;n>t;n--)e.cameraPause(n-1).then(()=>{e.showCameraList.splice(n-1,1),localStorage.removeItem("videoCacheInfo"+n)});e.videoNumber=t}else e.videoNumber=t;e.createVideoMonitor(),e.checkedVideo>=t&&(e.checkedVideo=t-1),localStorage.setItem("videoNumber",t),this.$nextTick(()=>{this.maxWiathAndHeight()})},onCheckedVideo(t){this.checkedVideo=t},maxView(){let t=document.getElementById("videoModal").style;this.isMaxView?(t.top="99px",t.left="830px",t.right="",t.bottom="",t.zIndex=1):(t.top="0px",t.left="0px",t.right="0px",t.bottom="0px",t.zIndex=9999),this.isMaxView=!this.isMaxView,this.maxWiathAndHeight()},maxWiathAndHeight(){const t=document.getElementById("videoList"),e=t.offsetWidth-150-48-40*(1===this.videoNumber?1:2),n=t.offsetHeight-48-68*(1===this.videoNumber?1:2),i=document.getElementsByClassName("newCameraitem_content");if(e>n*(16/9))for(let r=0;r<[...i].length;r++)i[r].style.height=n*(1===this.videoNumber?1:.5)+"px",i[r].style.width=n*(16/9)*(1===this.videoNumber?1:.5)+"px";else if(n>e*(9/16))for(let r=0;r<[...i].length;r++)i[r].style.width=e*(1===this.videoNumber?1:.5)+"px",i[r].style.height=e*(9/16)*(1===this.videoNumber?1:.5)+"px"},selectCamera(t){this.checkedCameraDate={hls:null,id:t.key,title:t.title,shipId:t.shipId,shipName:t.shipName,state:0,isCameraSuccessPlay:!0,qingxidu:0,lastPicture:null,webSocketImg:0,cameraTimeId:null,interruptRecoveryId:null,videoRepairId:null,limitTenMinId:null};for(let e=0;e<this.showCameraList.length;e++)if(this.showCameraList[e].id===this.checkedCameraDate.id)return this.$message.warning("此摄像头已存在，请选择其他摄像头！"),!1;this.showCameraList.length<this.videoNumber?(this.showCameraList.push(this.checkedCameraDate),this.getCameraM3U8(this.showCameraList.length-1)):this.showCameraList.length===this.videoNumber&&this.cameraPause(this.checkedVideo).then(()=>{this.$set(this.showCameraList,this.checkedVideo,this.checkedCameraDate),this.getCameraM3U8(this.checkedVideo)})},getsocketData(t){let e=this,n=JSON.parse(t&&t.detail.data);if(4===n.cmd){if(1===n.data.type){let t=n.data.cameraId;e.showCameraList.forEach((n,i)=>{n.id===t&&e.cameraPause(i)})}else if(2===n.data.type){let t=n.data.cameraId;e.showCameraList.forEach((n,i)=>{n.id===t&&e.cameraPause(i)})}}else if(5===n.cmd){let t="data:image/png;base64,"+n.buffer.array;e.showCameraList.forEach((i,r)=>{i.id===n.cameraId&&1===i.state&&(e.showCameraList[r].webSocketImg=1,e.$set(e.showCameraList[r],"lastPicture",t))})}else 6===n.cmd&&e.showCameraList.forEach((t,i)=>{t.shipId===n.shipId&&(e.cameraPause(i),e.$message.warning(n.message))})},visibility(){let t=this;t.documentHidden=!document.hidden,t.documentHidden?t.showCameraList.forEach((e,n)=>{0!==e.state&&t.$refs.videoEle[n].play()}):t.showCameraList.forEach((e,n)=>{0!==e.state&&t.$refs.videoEle[n].pause()})},createVideoMonitor(){let t=this;t.$nextTick(()=>{let e=t.$refs.videoEle;e.forEach(e=>{e.removeEventListener("waiting",t.videoWaiting),e.removeEventListener("playing",t.videoPlaying),e.removeEventListener("play",t.videoPlay),e.removeEventListener("pause",t.videoPause),e.addEventListener("waiting",t.videoWaiting),e.addEventListener("playing",t.videoPlaying),e.addEventListener("play",t.videoPlay),e.addEventListener("pause",t.videoPause)})})},videoWaiting(t){let e=this,n=t.target.dataset.index,i=e.$refs.videoCoverBox[n];i.style.display="block"},videoPlaying(t){let e=this,n=t.target.dataset.index,i=e.saveLastFrame(n);e.$set(e.showCameraList[n],"lastPicture",i);let r=e.$refs.videoCoverBox[n];r.style.display="none",e.showCameraList[n].webSocketImg=1,e.showCameraList[n].hls&&(e.$set(e.showCameraList[n],"state",2),e.$set(e.showCameraList[n],"isCameraSuccessPlay",!1)),e.showCameraList[n].cameraTimeId&&(clearTimeout(e.showCameraList[n].cameraTimeId),e.showCameraList[n].cameraTimeId=null),e.showCameraList[n].videoRepairId&&(clearTimeout(e.showCameraList[n].videoRepairId),e.showCameraList[n].videoRepairId=null),e.showCameraList[n].interruptRecoveryId&&(clearTimeout(e.showCameraList[n].interruptRecoveryId),e.showCameraList[n].interruptRecoveryId=null)},videoPlay(){},videoPause(t){let e=this,n=t.target.dataset.index,i=e.$refs.videoCoverBox[n];i.style.display="block",0!==e.showCameraList[n].state&&e.documentHidden&&e.$refs.videoEle[n].play()},getCameraM3U8(t){let e=this,n=this.urls.openVideo,i={id:this.showCameraList[t].id,random:e.websocketTimeStamp},r=new FormData;for(let a in i)r.append(a,i[a]);e.axios.post(n,r).then(n=>{if(500===n.code)return e.$message.warning(n.message),void e.$set(e.showCameraList[t],"state",0);let i=n.result.plugFlowAddress;e.showCameraList[t].cameraTimeId&&(clearTimeout(e.showCameraList[t].cameraTimeId),e.showCameraList[t].cameraTimeId=null),e.$set(e.showCameraList[t],"state",1),e.videoBindHls(t,i),e.addVideoRepair(t),14!==n.result.shipType?e.limitVideoTenMin(t,3e5):e.limitVideoTenMin(t,6e5)})},videoBindHls(t,e){let n=this;try{let i=n.$refs.videoEle[t],r=new _5;r.attachMedia(i),r.on(_5.Events.MEDIA_ATTACHED,()=>{r.loadSource(e),n.$set(n.showCameraList[t],"hls",r),r.on(_5.Events.MANIFEST_PARSED,(function(){n.$set(n.showCameraList[t],"state",2),i.play()})),r.on(_5.Events.ERROR,(function(e,a){let o=a.type,s=a.fatal;if(n.showCameraList[t].cameraTimeId&&(clearTimeout(n.showCameraList[t].cameraTimeId),n.showCameraList[t].cameraTimeId=null),n.showCameraList[t].isCameraSuccessPlay)r.destroy(),n.showCameraList[t].cameraTimeId=setTimeout(()=>{0!==n.showCameraList[t].state&&n.getCameraM3U8(t)},6e3);else if(n.showCameraList[t].interruptRecoveryId&&(clearTimeout(n.showCameraList[t].interruptRecoveryId),n.showCameraList[t].interruptRecoveryId=null),n.showCameraList[t].interruptRecoveryId||(n.showCameraList[t].interruptRecoveryId=setTimeout(()=>{i.play()},1e4)),s)switch(n.$set(n.showCameraList[t],"state",1),o){case _5.ErrorTypes.NETWORK_ERROR:r.startLoad();break;case _5.ErrorTypes.MEDIA_ERROR:r.recoverMediaError();break;default:break}else o===_5.ErrorTypes.MEDIA_ERROR&&(r.recoverMediaError(),r.startLoad())}))})}catch(i){n.showCameraList[t].cameraTimeId&&(clearTimeout(n.showCameraList[t].cameraTimeId),n.showCameraList[t].cameraTimeId=null),n.showCameraList[t].cameraTimeId=setTimeout(()=>{n.getCameraM3U8(t)},1e4)}},addVideoRepair(t){let e=this;e.showCameraList[t].videoRepairId||(e.showCameraList[t].videoRepairId=setTimeout(()=>{e.showCameraList[t].isCameraSuccessPlay?(e.showCameraList[t].cameraTimeId&&(clearTimeout(e.showCameraList[t].cameraTimeId),e.showCameraList[t].cameraTimeId=null),e.showCameraList[t].hls&&(e.showCameraList[t].hls.destroy(),e.showCameraList[t].hls=null),e.showCameraList[t].isCameraSuccessPlay=!0,e.$set(e.showCameraList[t],"state",0),e.showCameraList[t].webSocketImg=0):(clearTimeout(e.showCameraList[t].videoRepairId),e.showCameraList[t].videoRepairId=null)},6e4))},limitVideoTenMin(t,e){let n=this;n.showCameraList[t].limitTenMinId&&(clearTimeout(n.showCameraList[t].limitTenMinId),n.showCameraList[t].limitTenMinId=null),n.showCameraList[t].limitTenMinId=setTimeout(()=>{n.cameraPause(t,1)},e)},cameraPause(t,e){let n=this;return n.showCameraList[t].cameraTimeId&&(clearTimeout(n.showCameraList[t].cameraTimeId),n.showCameraList[t].cameraTimeId=null),n.showCameraList[t].videoRepairId&&(clearTimeout(n.showCameraList[t].videoRepairId),n.showCameraList[t].videoRepairId=null),n.showCameraList[t].interruptRecoveryId&&(clearTimeout(n.showCameraList[t].interruptRecoveryId),n.showCameraList[t].interruptRecoveryId=null),n.showCameraList[t].limitTenMinId&&(clearTimeout(n.showCameraList[t].limitTenMinId),n.showCameraList[t].limitTenMinId=null),new Promise(i=>{let r=document.createElement("canvas"),a=this.$refs.videoEle[t];if(a&&n.showCameraList[t].state>0){let e=a.offsetWidth,i=a.offsetHeight;r.width=e,r.height=i,r.getContext("2d").drawImage(a,0,0,e,i),2===n.showCameraList[t].state&&(n.showCameraList[t].lastPicture=r.toDataURL("img/png"));let o={hls:null,id:n.showCameraList[t].id,title:n.showCameraList[t].title,shipId:n.showCameraList[t].shipId,shipName:n.showCameraList[t].shipName,state:0,isCameraSuccessPlay:!0,qingxidu:0,lastPicture:n.showCameraList[t].lastPicture,webSocketImg:0,cameraTimeId:null,interruptRecoveryId:null,videoRepairId:null};localStorage.setItem(t+"videoCache",JSON.stringify(o))}if(n.showCameraList[t].state>0){let r={id:n.showCameraList[t].id,random:n.websocketTimeStamp,passive:e},a=new FormData;for(let t in r)a.append(t,r[t]);n.axios.post(n.urls.closeVideo,a).then(()=>{let e=n.$refs.videoCoverBox[t];e&&(e.style.display="block"),n.showCameraList[t].hls&&(n.showCameraList[t].hls.destroy(),n.showCameraList[t].hls=null),n.showCameraList[t].js=!0,n.showCameraList[t].state=0,n.showCameraList[t].webSocketImg=0,i(t)})}else i(t)})},spLoding(t){return!(!t||!t.state||1!==t.state||0!==t.webSocketImg)},changeQingxidu(t,e){let n=this;n.showCameraList[t].qingxidu=e;let i={id:n.showCameraList[t].id,grade:e,isHis:2},r=new FormData;for(let a in i)r.append(a,i[a]);n.axios.post("/shipCameraService/tbShipCamera/change",r).then(t=>{500===t.code?n.$message.error(t.message):200===t.code&&n.$message.success(t.message)})},cameraCreenshot(t,e,n){let i=this,r=document.createElement("canvas"),a=this.$moment(new Date).format("YYYY-MM-DD HHmmss"),o=i.$refs.videoEle[t];r.width=1100,r.height=634,r.getContext("2d").drawImage(o,0,0,1100,634);let s=document.createElement("a");s.href=r.toDataURL(),s.setAttribute("download",`${e}-${n} ${a} .png`),s.click()},saveLastFrame(t){let e=this,n=document.createElement("canvas"),i=e.$refs.videoEle[t];return n.width=i.offsetWidth,n.height=i.offsetHeight,n.getContext("2d").drawImage(i,0,0,n.width,n.height),n.toDataURL("img/png")},allCloseCamera(t){let e=this,n={};if(t)e.showCameraList.forEach((t,i)=>{n[t.shipId]?n[t.shipId]++:n[t.shipId]=1,n[t.shipId]<5&&0===t.state&&e.getCameraM3U8(i)});else for(let i=e.showCameraList.length;i>0;i--)e.cameraPause(i-1)},closeModal(){let t=this;t.allCloseCamera(!1),document.removeEventListener("visibilitychange",t.visibility),window.removeEventListener("onmessageWS",t.getsocketData),t.repeatKeepHeartbeatId&&clearInterval(t.repeatKeepHeartbeatId),t.repeatGetTreeId&&clearInterval(t.repeatGetTreeId),x5(null,"close"),this.changeVedioShow(!1),this.setVideoData({})}},computed:{videoList(){return this.$store.state.videoModule.videoData.children},name(){return this.$store.state.videoModule.videoData.title},videoShow(){return this.$store.state.videoModule.videoShow}},watch:{}},S5=w5,O5=(n("ca03"),Object(f["a"])(S5,h5,d5,!1,null,"1d2582ff",null)),C5=O5.exports,A5={data(){return{key:""}},methods:{...Object(mH["b"])("metModule",["setLayerUrl","changeStopTime","changeWindsStauts","changeCurrentsStauts","changeIsobarStauts","changeParticleAnimationStauts","changeIsothermStauts","changeTemperaturelineStauts","changeSurfcStauts"]),GetTyphoonMesData(){const t=new FormData;xQ(t).then(t=>{})},showWindMark(){var t,e;this.isChooseWind||this.isChooseCurrent?(null===(t=this.map)||void 0===t||t.getView().setMinZoom(3),Mz("fLayer").setVisible(!0)):(null===(e=this.map)||void 0===e||e.getView().setMinZoom(3),Mz("fLayer").setVisible(!1));this.layerValue&&this.getLayerUrl(this.layerValue).then(()=>{const t=this.isCorrectTime();WZ(t,this.layerValue.type)})},showIsobar(t,e){let n=(t,e)=>{const n=new Date((new Date).toLocaleDateString()).getTime()+3*this.timeValue*3600*1e3;let i={timestamp:n/1e3,type:e||"pressure"};bQ(i).then(e=>{qZ(e.url,t)})};var i,r;"isobarLayer"==t&&(this.isChooseIsobar?n("isobarLayer","pressure"):null===(i=Mz("isobarLayer"))||void 0===i||i.setVisible(!1));"isIsothermLayer"==t&&(this.isChooseIsotherm?n("isIsothermLayer","sst"):null===(r=Mz("isIsothermLayer"))||void 0===r||r.setVisible(!1));"isTemperaturelineLayer"==t&&(this.isChooseTemperatureline?n("isTemperaturelineLayer","temp"):Mz("isTemperaturelineLayer").setVisible(!1)),"isSurfcLayer"==t&&(this.isChooseSurfc?n("isSurfcLayer","waves"):Mz("isSurfcLayer").setVisible(!1))},showParticlAnimation(){this.isChooseParticleAnimation?(Mz("ParticlAnimation").setVisible(!0),this.isCorrectTimeParticleAnimation(this.layerValue.type).then(t=>{let e=t;QZ(e,this.layerValue.type)})):Mz("ParticlAnimation").setVisible(!1)},getUrlending(t){let e="";return e="WaterTemp"!=t.name?t.name.toLocaleLowerCase()+"-surface":0===t.deep?"sst-surface":`sst-${t.deep}d`,e},async isCorrectTimeParticleAnimation(t){try{const e=new FormData;e.append("timestamp",Math.round(new Date/1e3)),e.append("way","whole"),"currents"==t?e.append("type","seacurrents"):e.append("type","wind");const n=await yQ(e);return n.url}catch(e){return!1}},isCorrectTime(){const t=new Date((new Date).toLocaleDateString()).getTime()+3*this.timeValue*3600*1e3,e=new FormData;e.append("timestamp",t/1e3),e.append("way","split"),e.append("type",this.layerValue.type),"sst"==this.layerValue.type&&e.append("sstType","0"==this.layerValue.deep.toString()?"sst-surface":`sst-${this.layerValue.deep.toString()}d`),yQ(e).then(t=>{const e=t,n={type:this.layerValue.type,data:e};this.setLayerUrl(n)});const n=this.urlCache[this.layerValue.type];return"currents"==this.layerValue.type?null===n||void 0===n?void 0:n.url.replace("/currents","/seacurrents"):"wind"==this.layerValue.type?null===n||void 0===n?void 0:n.url.replace("/winds","/wind"):"temperatures"==this.layerValue.type?null===n||void 0===n?void 0:n.url.replace("/temperatures-surface.png","/temp-surface.png").replace("/s02","/s01"):null===n||void 0===n?void 0:n.url.replace(/\s/g,"")},getLayerUrl(t){return new Promise(e=>{const n=this.urlCache,i=t.type;if(n[i])e();else{const n=new FormData,r=Math.round(new Date/1e3);n.append("timestamp",r),n.append("way","split"),n.append("type",i),"sst"==i&&n.append("sstType","0"==t.deep.toString()?"sst-surface":`sst-${t.deep.toString()}d`),yQ(n).then(t=>{const n=t,r={type:i,data:n};this.setLayerUrl(r),e()})}})},changeLayer(){this.getLayerUrl(this.layerValue).then(()=>{const t=this.isCorrectTime();t?(zZ(this.layerValue.name,t),this.showParticlAnimation(),this.showIsobar("isobarLayer","pressure"),this.showIsobar("isIsothermLayer","sst"),this.showIsobar("isTemperaturelineLayer","temp"),this.showIsobar("isSurfcLayer","waves")):(this.$message.info("当前时间数据暂未生成，请稍后再试"),this.stopTime&&this.changeStopTime(!1))})},changeTipsStauts(t){const e=t.type;"wind"===e?this.changeWindsStauts(!0):this.changeWindsStauts(!1),"currents"===e?this.changeCurrentsStauts(!0):this.changeCurrentsStauts(!1),"wind"===e||"pressure"===e||"tempreatures"===e||"currents"===e?this.changeParticleAnimationStauts(!0):this.changeParticleAnimationStauts(!1),this.changeIsobarStauts(!0),this.changeIsothermStauts(!0),this.changeTemperaturelineStauts(!0),this.changeSurfcStauts(!0),setTimeout(()=>{this.showWindMark()},50)}},computed:{layerValue(){return this.$store.getters["metModule/layerValue"]},timeValue(){return this.$store.state.metModule.timeValue},urlCache(){return this.$store.state.metModule.urlCache},stopTime(){return this.$store.state.metModule.stopTime},isChooseWind(){return this.$store.getters["metModule/isChooseWind"]},isChooseCurrent(){return this.$store.getters["metModule/isChooseCurrent"]},isChooseIsobar(){return this.$store.getters["metModule/isChooseIsobar"]},isChooseIsotherm(){return this.$store.getters["metModule/isChooseIsotherm"]},isChooseTemperatureline(){return this.$store.getters["metModule/isChooseTemperatureline"]},isChooseSurfc(){return this.$store.getters["metModule/isChooseSurfc"]},isChooseParticleAnimation(){return this.$store.getters["metModule/isChooseParticleAnimation"]}},watch:{layerValue:{handler:function(t){this.changeLayer(),this.changeTipsStauts(t)},immediate:!0},timeValue(){this.changeLayer(),this.showWindMark(),this.showIsobar("isobarLayer","pressure"),this.showIsobar("isIsothermLayer","sst"),this.showIsobar("isTemperaturelineLayer","temp"),this.showIsobar("isSurfcLayer","waves"),this.showParticlAnimation()},isChooseWind(){this.showWindMark()},isChooseCurrent(){this.showWindMark()},isChooseIsobar(){this.showIsobar("isobarLayer","pressure")},isChooseIsotherm(){this.showIsobar("isIsothermLayer","sst")},isChooseTemperatureline(){this.showIsobar("isTemperaturelineLayer","temp")},isChooseSurfc(){this.showIsobar("isSurfcLayer","waves")},isChooseParticleAnimation(){this.showParticlAnimation()}},mounted(){$Z(this.map),this.GetTyphoonMesData()}},M5=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:t.transitionName}},[t.isShow?e("div",{directives:[{name:"move",rawName:"v-move"}],staticClass:"myModal",style:{width:t.width,height:t.height,top:t.top,right:t.right}},[e("div",{staticClass:"myModal-hader"},[t._v(" "+t._s(t.title)+" "),e("div",[e("i",{staticClass:"el-icon-close",on:{click:t.shutAirRoutePopShow}})])]),"新增分组"!==t.title?e("div",{staticClass:"myModal-content"},[e("a-form",{attrs:{form:t.form,"label-col":{span:2},"wrapper-col":{span:20}},on:{submit:t.submitForm}},[e("a-form-item",{attrs:{label:"组名"}},[e("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["lineGroupId",{rules:[{required:!0,message:"请输入组名"}]}],expression:"['lineGroupId', { rules: [{ required: true, message: '请输入组名' }] }]"}],attrs:{disabled:t.buttonDidbledIsShow},scopedSlots:t._u([{key:"notFoundContent",fn:function(){return[e("div",{staticStyle:{padding:"9px","text-align":"center"}},[t._v("暂无数据")])]},proxy:!0}],null,!1,227570244)},t._l(t.groupData,(function(n){return e("a-select-option",{key:n.id,attrs:{value:n.name}},[t._v(t._s(n.name))])})),1)],1),e("a-form-item",{attrs:{label:"名称"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["lineName",{rules:[{required:!0,message:"请输入名称"}]}],expression:"['lineName', { rules: [{ required: true, message: '请输入名称' }] }]"}],attrs:{disabled:t.buttonDidbledIsShow},on:{blur:t.blurChange,pressEnter:t.blurChange,keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()}}})],1),e("a-form-item",{attrs:{label:"方式"}},[e("div",{staticClass:"button-list-class"},["新增航线"===t.title?e("span",[t.drawIsShow?e("span",[e("span",{staticClass:"cursor mr10",on:{click:function(e){return t.chartCourse(2)}}},[t._v("重新绘制")])]):e("span",{staticClass:"cursor mr10",on:{click:function(e){return t.chartCourse(1)}}},[t._v("绘制航线")])]):t._e(),e("el-upload",{staticClass:"cursor",attrs:{action:t.urls.import,multiple:!1,data:{result:"XLS"},headers:t.headers,"on-success":t.importExcelHandleChange,"show-file-list":!1,"on-error":t.importExcelHandleChangeError,disabled:t.buttonDidbledIsShow}},[e("span",{staticClass:"cursor mr10",on:{click:t.sopImport}},[t._v("导入航线")])]),e("span",{staticClass:"red font12"},[t._v("导入航线会覆盖原有点位")])],1)]),t.tableData.length>0?e("el-table",{ref:"basePopModalTable",staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:t.tableData,height:"220"}},[e("el-table-column",{attrs:{type:"index",label:"序号",width:"45"}}),e("el-table-column",{attrs:{label:"纬度",width:"150"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("LongitudeAndLatitude",{attrs:{text:n.row.lat,lonOrLatType:"lat-0",indexRow:n.$index},on:{change:function(e){return t.changeWarpAndWeftIsShow(n.row,n.$index,"lat",0,e)}}}),t._v("  °  "),e("LongitudeAndLatitude",{attrs:{text:n.row.lat,lonOrLatType:"lat-1",indexRow:n.$index},on:{change:function(e){return t.changeWarpAndWeftIsShow(n.row,n.$index,"lat",1,e)}}}),t._v("  ′  "),e("span",{staticClass:"lonLat-class"},[t._v(t._s(n.row.lat[2]))])]}}],null,!1,2098596920)}),e("el-table-column",{attrs:{label:"经度",width:"150"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("LongitudeAndLatitude",{attrs:{text:n.row.lon,lonOrLatType:"lon-0",indexRow:n.$index},on:{change:function(e){return t.changeWarpAndWeftIsShow(n.row,n.$index,"lon",0,e)}}}),t._v("  °  "),e("LongitudeAndLatitude",{attrs:{text:n.row.lon,lonOrLatType:"lon-1",indexRow:n.$index},on:{change:function(e){return t.changeWarpAndWeftIsShow(n.row,n.$index,"lon",1,e)}}}),t._v("  ′  "),e("span",{staticClass:"lonLat-class"},[t._v(" "+t._s(t._f("transLonLat")(n.row.lon,n.row.lon)))])]}}],null,!1,3860693093)}),e("el-table-column",{attrs:{prop:"routeDistance",label:"航路距离/nm",width:"70"}}),e("el-table-column",{attrs:{prop:"PortOfDestination",label:"到目的地的距离/nm",width:"78"}}),e("el-table-column",{attrs:{label:"",width:"45"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){return e.preventDefault(),t.deleteRow(n.$index,n.row,t.tableData)}}},[t._v(" 移除 ")])]}}],null,!1,1461591865)})],1):t._e(),t.tableData.length>0?e("div",{staticClass:"shipDistance"},[e("span",{staticClass:"red mr10"},[t._v("可通过点击编辑经纬度点位")]),e("span",[t._v("航距:  "+t._s(t.tableData[0].PortOfDestination)+"  nm")])]):t._e(),e("div",{staticClass:"footer-button"},["新增航线"===this.title?e("a-button",{attrs:{type:"primary","html-type":"submit"}},[t._v(" 确定 ")]):e("a-button",{attrs:{type:"primary",disabled:t.buttonDidbledIsShow},on:{click:t.updateVisibledata}},[t._v(" 确定 ")]),e("a-button",{attrs:{type:"primary",disabled:t.buttonDidbledIsShow},on:{click:t.shutAirRoutePopShow}},[t._v(" 取消 ")])],1),e("el-dialog",{attrs:{title:"提示",visible:t.updateVisible,width:"22%","modal-append-to-body":!1},on:{"update:visible":function(e){t.updateVisible=e}}},[e("span",[t._v("您确认修改该航线吗？")]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"mini"},on:{click:function(e){t.updateVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.submitForm}},[t._v("确 认")])],1)])],1)],1):e("div",{staticClass:"myModal-content"},[e("a-form",{staticClass:"demo-ruleForm",attrs:{form:t.form,"status-icon":""}},[e("a-form-item",{attrs:{label:"分组名称"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入分组名称"}]}],expression:"['name', { rules: [{ required: true, message: '请输入分组名称' }] }]"}],staticClass:"airRouteName-input-class"})],1),e("a-form-item",{staticClass:"footer-button"},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addGroupData()}}},[t._v("确定")]),e("el-button",{on:{click:function(e){return t.cancerSubmitForm()}}},[t._v("取消")])],1)],1)],1)]):t._e()])},T5=[],k5=function(){var t=this,e=t._self._c;return e("span",[t.editable?e("span",{staticClass:"editable-cell-input-wrapper"},[e("a-input",{ref:"longAinput",attrs:{value:t.value},on:{change:t.handleChange,blur:t.check,pressEnter:t.enterStop}})],1):e("span",{staticClass:"editable-cell-text-wrapper",on:{click:function(e){return e.stopPropagation(),t.edit.apply(null,arguments)}}},[t._v(" "+t._s(t.value)+" ")])])},L5=[],j5={data(){return{editable:!1,valueNew:this.text[this.lonOrLatType.split("-")[1]],valueNewNew:this.text[this.lonOrLatType.split("-")[1]]}},props:{text:{type:Array,default:()=>[]},lonOrLatType:{type:String,default:""},indexRow:{typeof:Number,default:0}},methods:{handleChange(t){t.target.value=t.target.value.replace(/[^\d.]/g,""),this.valueNew=t.target.value},enterStop(t){t.preventDefault()},check(){if(this.valueNew=Number(this.valueNew),this.valueNew||0===this.valueNew)if(this.text[this.lonOrLatType.split("-")[1]]!==this.valueNew){let t=0;if("lon-0"===this.lonOrLatType||"lon-1"===this.lonOrLatType)if(oU(this.text)<-180){let e=0;"E"===this.transLonLat(this.text)?e=this.value-Number(this.valueNew):"W"===this.transLonLat(this.text)&&(e=Number(this.valueNew)-this.value),t=Number(this.valueNewNew)+Number(e),this.valueNewNew=Number(t);let n=this.text;n[this.lonOrLatType.split("-")[1]]=t}else if(oU(this.text)>180){let e=0;"W"===this.transLonLat(this.text)?e=this.value-Number(this.valueNew):"E"===this.transLonLat(this.text)&&(e=Number(this.valueNew)-this.value),t=Number(this.valueNewNew)+Number(e),this.valueNewNew=Number(t);let n=this.text;n[this.lonOrLatType.split("-")[1]]=t}this.editable=!1,this.$emit("change",Number(t||this.valueNew))}else this.editable=!1;else this.$message.error("输入框不能为空")},transLonLat(t){let e=oU(t);return e>180&&(e-=360),e<-180&&(e+=360),e<0?"W":"E"},edit(){this.editable=!0,this.$nextTick(()=>{this.$refs.longAinput.focus()})}},computed:{value(){let t=oU(this.text),e=t>180?t-360:t<-180?t+360:t,n=this.lonOrLatType.split("-");return"lat-1"===this.lonOrLatType||"lon-1"===this.lonOrLatType?Number(aU(e,n[0])[n[1]].toFixed(2)):aU(e,n[0])[n[1]]}},watch:{value(){this.valueNewNew=this.text[this.lonOrLatType.split("-")[1]],this.valueNew=this.text[this.lonOrLatType.split("-")[1]]}}},I5=j5,E5=(n("f295"),Object(f["a"])(I5,k5,L5,!1,null,"ea1ee890",null)),P5=E5.exports;function R5(t,e,n,i,r,a=F5()){let o=1,s=D5(t),l=D5(t+"draw"),c=l.getSource(),u=new UU({source:c,type:"Point"}),h=a.on("dblclick",t=>{t.preventDefault(),t.stopPropagation(),a.removeInteraction(u),u.removeLastPoint(),a.removeLayer(l),e(),Object(lU["b"])(h)});i(u,h,l),l.getSource().on("addfeature",e=>{e.feature.setId(t+"-"+(o+1)),e.feature.set("name",r),e.feature.set("index",o-1);let i=[],a=t=>Number(t.getId().split("-")[1]);i=c.getFeatures().filter(t=>t.getId().indexOf("-")>-1).sort((t,e)=>a(t)-a(e)).map(t=>t.getGeometry().getCoordinates());let l=new Dz["a"](i),u=new Pz["a"]({geometry:l,type:"line"});u.setId(t),s.getSource().clear(),s.getSource().addFeature(u),s.getSource().addFeatures(c.getFeatures());let h=s.getSource().getFeatureById(t),d=h&&h.getGeometry().getCoordinates();d=d.map(t=>{let e=Object(UB["s"])(t,"EPSG:3857","EPSG:4326");return Object(UB["s"])(e,"EPSG:4326","EPSG:3857")}),n(d),o++}),a.addInteraction(u)}const D5=(t,e=F5())=>{let n=Mz(t);if(n)return n;{let n=new vV({source:new tV["a"]({wrapX:!1}),zIndex:6,style:t=>lK(t),layerId:t});return e.addLayer(n),n}};function F5(){return yV["a"].getters["mapModule/data"]("map")}Object({NODE_ENV:"production",VUE_APP_BASEURL:"https://springcloud.intertion.cn",VUE_APP_CURRENTMODE:"prod",VUE_APP_IMG_URL:"https://cloudwx.intertion.cn/bills",VUE_APP_Minio_IMG_URL:"https://minio.fisheryvms.com/",VUE_APP_SERVER_Webscoket:"wss://springcloud.intertion.cn",VUE_APP_SOCKET_URL:"wss://springcloud.intertion.cn/shipCameraService/webCamera",BASE_URL:""}).VUE_APP_SERVER_URL;var N5={components:{LongitudeAndLatitude:P5},props:{height:{type:String,default:""},width:{type:String,default:"564px"},transitionName:{type:String,default:"modal"},top:{type:String,default:"57px"},right:{type:String,default:"320px"}},data(){return{formLayout:"horizontal",form:this.$form.createForm(this),inputShow:!1,ruleForm:{pass:"",checkPass:"",age:""},tableData:[],drawIsShow:!1,buttonDidbledIsShow:!1,headers:{token:sessionStorage.getItem("token")},urls:{export:"/shipTube/tbLine/exportExcel",import:"/shipTube/tbLine/importExcel"},drawList:{},maskIsShow:!1,timer:null,numnum:0,newLineName:"line1",updateVisible:!1}},methods:{blurChange(){if(this.tableData.length>0){let{getTableDataArr:t}=uK(this.tableData);this.updateRouteLine(1,t)}},chartCourse(t){this.form.validateFields((e,n)=>{if(!e){if(this.newLineName=n.lineName,this.buttonDidbledIsShow)return void this.$message.error("请先双击结束绘制");this.buttonDidbledIsShow=!0,1===t?(this.clearAirRouteLine(),R5("xx",this.getCourseData,this.getRealCourseDate,this.saveDarw,n.lineName)):2===t&&(clearTimeout(this.timer),this.drawIsShow=!1,this.tableData=[],this.clearAirRouteLine(),R5("xx",this.getCourseData,this.getRealCourseDate,this.saveDarw,n.lineName))}})},saveDarw(t,e,n){this.drawList={draw:t,dbclick:e,drawLayer:n}},cancel(){let{draw:t,dbclick:e,drawLayer:n}=this.drawList;this.map.removeInteraction(t),this.map.removeLayer(n),Object(lU["b"])(e)},getCourseData(){this.numnum=0,this.drawIsShow=!0,this.buttonDidbledIsShow=!1,this.maskIsShow=!1},getRealCourseDate(t){"新增航线"===this.title&&(this.timer=setTimeout(()=>{if(this.numnum++,t){let e=hK(t),{tableData:n}=cK(e);this.tableData.length<=1e3?(this.tableData=n,clearTimeout(this.timer),this.maskIsShow=!0,this.$nextTick(()=>{const t=this.$refs.basePopModalTable.$el.querySelector(".el-table__body-wrapper");t.scrollTop=t.scrollHeight})):this.cancel()}},300))},changeGroupName(t){this.ruleForm.groupName=t},changeWarpAndWeftIsShow(t,e,n,i,r){t[n][i]=Number(r);let a=[...this.tableData],{getTableDataArr:o}=uK(a),{tableData:s}=cK(o);this.tableData=s,this.updateRouteLine(e,o,"更改")},clearAirRouteLine(){var t;null===(t=Mz("xx"))||void 0===t||t.getSource().clear()},clearRealAirRouteLine(t){let e=Mz(t);this.map.removeLayer(e)},deleteRow(t,e,n){if(this.tableData.length>1){let e=[...n];e.splice(t,1);let{getTableDataArr:i}=uK(e),{tableData:r}=cK(i);this.tableData=r,this.updateRouteLine(t,i,"删除")}else this.$message.error("表格数据最少保留一条！")},updateRouteLine(t,e,n){if("新增航线"===this.title)if(this.buttonDidbledIsShow){let i=Mz("xx").getSource(),r=t=>Number(t.getId().split("-")[1]);i.clear();let a=Mz("xxdraw").getSource(),o=a.getFeatures().filter(t=>t.getId().indexOf("-")>-1).sort((t,e)=>r(t)-r(e));if("更改"!==n){let e=o[t];o.splice(t,1),a.removeFeature(e),this.form.validateFields((t,e)=>{o.map((t,n)=>(t.set("index",n),t.set("name",e.lineName),t))})}let s=e.map(t=>{let e=Object(UB["s"])([Number(t[0]),Number(t[1])],"EPSG:4326","EPSG:3857");return e}),l=new Dz["a"](s),c=new Pz["a"]({geometry:l,type:"line"});if(c.setId("xx"),i.addFeature(c),"更改"===n){let e=o[t];e.getGeometry().setCoordinates(s[t])}}else{let t=Mz("xx").getSource(),n=t=>Number(t.getId().split("-")[1]);t.clear();let i=[],r=e.map((t,e)=>{let n=Object(UB["s"])([Number(t[0]),Number(t[1])],"EPSG:4326","EPSG:3857"),r=new Fz["a"](n),a=new Pz["a"]({geometry:r,type:"point"});return a.setId("xx-"+(e+1)),i.push(a),n});this.form.validateFields((e,a)=>{let o=i.sort((t,e)=>n(t)-n(e)).map((t,e)=>(t.set("index",e),t.set("name",a.lineName?a.lineName:"未命名航线"),t)),s=new Dz["a"](r),l=new Pz["a"]({geometry:s,type:"line"});l.setId("xx"),t.clear(),t.addFeature(l),t.addFeatures(o)})}else if("编辑航线"===this.title){let t=Mz(this.TreeNode.data.key+"fu");this.map.removeLayer(t);let n=Mz(this.TreeNode.data.key);this.map.removeLayer(n),this.form.validateFields((t,n)=>{pK(e,this.TreeNode.data.key,6,this.map,n.lineName?n.lineName:"未命名航线")})}},addGroupData(){this.form.validateFields(async(t,e)=>{let n=new FormData;if(n.append("groupName",e.name),!t){let t=await XW(n);200==t.code?this.$store.commit("shipModule/changeAirRoutePopShow",{isShow:!1,title:"",submitAirRouteIsShow:e.name}):-1===t.code&&this.$message.error(t.message)}})},updateVisibledata(){this.form.validateFields(async t=>{t||(this.updateVisible=!0)})},submitForm(t){t.preventDefault(),"编辑航线"===this.title&&(this.updateVisible=!1),"新增航线"===this.title&&(this.cancel(),this.getCourseData()),this.form.validateFields(async(t,e)=>{if(!t&&("新增航线"===this.title||"编辑航线"===this.title))if(this.tableData.length>0){let t=[...this.tableData],{oldArr:n}=uK(t);e.points=n,e.distance=this.tableData[0].PortOfDestination,"编辑航线"===this.title&&(e.id=this.TreeNode.data.key);let i=this.groupData.filter(t=>t.name===e.lineGroupId);e.lineGroupId=i[0].id;let r=new FormData;for(let a in e)r.append(a,e[a]);if("新增航线"===this.title){let t=await QW(r);200===t.code?(this.clearAirRouteLine(),this.$store.commit("shipModule/changeAirRoutePopShow",{isShow:!1,title:"",submitAirRouteIsShow:this.tableData.length})):-1===t.code&&this.$message.error(t.message)}else{let t=await JW(r);200===t.code?(this.$store.commit("shipModule/changeAirRoutePopShow",{isShow:!1,title:"",submitAirRouteIsShow:this.tableData.length}),this.$store.commit("shipModule/changeRouteLineTableDate",[])):-1===t.code&&this.$message.error(t.message)}}else this.$message.error("请绘制航线再进行此操作！")})},cancerSubmitForm(){this.$store.commit("shipModule/changeAirRoutePopShow",{isShow:!1,title:""})},shutAirRoutePopShow(){if("新增航线"===this.title)this.clearAirRouteLine(),this.cancel(),this.buttonDidbledIsShow=!1;else if("编辑航线"===this.title){let t=Mz(this.TreeNode.data.key+"fu");this.map.removeLayer(t);let e=Mz(this.TreeNode.data.key);this.map.removeLayer(e);let n=this.TreeData.dataInformation.split(",").map(t=>t.split(" "));pK(n,this.TreeNode.data.key,6,this.map,this.TreeNode.data.title)}this.$store.commit("shipModule/changeRouteLineTableDate",[]),setTimeout(()=>{this.$store.commit("shipModule/changeAirRoutePopShow",{isShow:!1,title:""})},50)},sopImport(){this.buttonDidbledIsShow&&this.$message.error("请先双击结束绘制")},importExcelHandleChange(t){let e=this.$message;if(200===t.code)if("{}"!==JSON.stringify(t.result)){let n=t.result.points.split(",").map(t=>{if(t)return t.split(" ")}),{tableData:i}=cK(n),{getTableDataArr:r}=uK(i);if(this.tableData=i,"新增航线"===this.title)this.form.validateFields(async(t,e)=>{pK(r,"xx",6,this.map,e.lineName?e.lineName:"未命名航线");let n=Mz("xx").getSource().getFeatureById("xx"),i=n.getGeometry().getCoordinates();this.map.getView().setCenter(i[0])});else if("编辑航线"===this.title){this.updateRouteLine(1,r);let t=Mz(this.TreeNode.data.key).getSource().getFeatureById(this.TreeNode.data.key),e=t.getGeometry().getCoordinates();this.map.getView().setCenter(e[0])}e.success("导入成功")}else"{}"===JSON.stringify(t.result)&&e.error("表格数据为空")},importExcelHandleChangeError(){let t=this.$message;t.error("导入失败")},exportExcelHandleChange(){Object({NODE_ENV:"production",VUE_APP_BASEURL:"https://springcloud.intertion.cn",VUE_APP_CURRENTMODE:"prod",VUE_APP_IMG_URL:"https://cloudwx.intertion.cn/bills",VUE_APP_Minio_IMG_URL:"https://minio.fisheryvms.com/",VUE_APP_SERVER_Webscoket:"wss://springcloud.intertion.cn",VUE_APP_SOCKET_URL:"wss://springcloud.intertion.cn/shipCameraService/webCamera",BASE_URL:""}).VUE_APP_SERVER_URL;let t="航线模板文件";this.axios.$downLoad("/shipTube/tbLine/exportExcel").then(e=>{if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([e]),t+".xls");else{let n=window.URL.createObjectURL(new Blob([e])),i=document.createElement("a");i.style.display="none",i.href=n,i.setAttribute("download",t+".xls"),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(n)}}),this.$message.success("下载成功")}},filters:{lonData(t){return t},transLonLat(t){let e=oU(t);return e>180&&(e-=360),e<-180&&(e+=360),e<0?"W":"E"}},watch:{TreeNode(){this.drawIsShow=!1,this.isShow&&"新增分组"!==this.title&&(this.tableData=this.routeLineTableDate,this.clearAirRouteLine(),this.$nextTick(()=>{this.form.setFieldsValue({lineGroupId:"新增航线"===this.title?"未分组":this.defaultGroupName,lineName:this.TreeData.title})}))},routeLineTableDate(){this.tableData=this.routeLineTableDate},rightDrawerMenuName(){"新增航线"===this.title&&(this.clearAirRouteLine(),this.cancel(),this.buttonDidbledIsShow=!1)}},computed:{activeTab:{get(){return this.$attrs.activeTab},set(t){this.$emit("update:activeTab",t)}},isShow(){return this.$store.state.shipModule.AirRoutePopData.isShow},title(){return this.$store.state.shipModule.AirRoutePopData.title},type(){return this.$store.state.shipModule.AirRoutePopData.type},TreeData(){return this.$store.state.shipModule.AirRoutePopData.data},TreeNode(){return this.$store.state.shipModule.AirRoutePopData.node},groupData(){return this.$store.state.shipModule.AirRoutePopData.groupData},defaultGroupName(){return this.$store.state.shipModule.AirRoutePopData.defaultGroupName},routeLineTableDate(){return this.$store.state.shipModule.routeLineTableDate},defaultRouteLineTreeData(){return this.$store.state.shipModule.AirRoutePopData.defaultRouteLineTreeData},map(){return this.$store.getters["mapModule/data"]("map")},rightDrawerMenuName(){return this.$store.state.mapModule.rightDrawerMenu}}},B5=N5,V5=(n("a5e5"),Object(f["a"])(B5,M5,T5,!1,null,"26ed1db8",null)),G5=V5.exports,z5=function(){var t=this,e=t._self._c;return t.tableShow?e("div",{staticClass:"box-class"},[t.showList?e("List",{attrs:{showList:t.showList},on:{"update:showList":function(e){t.showList=e},"update:show-list":function(e){t.showList=e}}}):e("myEchart",{attrs:{showList:t.showList},on:{"update:showList":function(e){t.showList=e},"update:show-list":function(e){t.showList=e}}})],1):t._e()},U5=[],H5=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box-class"},[e("div",{staticClass:"title-class"},[e("div"),e("div",[e("el-select",{staticClass:"select-class",model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),e("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.changeTable}},[t._v("切换图表")])],1),e("div",{staticClass:"close-class",on:{click:t.closeList}},[e("i",{staticClass:"el-icon-close"})])]),e("div",{attrs:{id:"lineChart"}})])},W5=[],Y5=n("3b8f");C["a"]([U_,zS,SO,r_,Ov["a"],YC,zC,_n,tM["a"],$A,A["a"],ve["a"]]);var X5=Y5;const q5=[{value:"weatherWindSpeed",label:"风速折线图",text:"风速"},{value:"weatherTemperature",label:"温度折线图",text:"温度"},{value:"weatherHumidity",label:"湿度折线图",text:"湿度"},{value:"weatherAirPressure",label:"气压折线图",text:"气压"},{value:"weatherWindAngleNorth",label:"风向折线图",text:"风向"},{value:"weatherPointTemperature",label:"露点温度折线图",text:"露点温度"},{value:"weatherAltitude",label:"海拔高度折线图",text:"海拔高度"}];var Z5,Q5,J5={props:{showList:{type:Boolean,default:!0}},data(){return{option:null,chartBox:null,xData:[],options:q5,value:"weatherWindSpeed"}},methods:{...Object(mH["b"])("historyModule",["setHistoryWeatherList"]),change(){this.chartBox=X5.init(document.getElementById("lineChart"));let t=[],e=[];this.dataList.data&&(t=this.dataList.data.map(t=>t.reportUtcTime),e=this.dataList.data.map(t=>t[this.value])),this.option={backgroundColor:"white",tooltip:{trigger:"axis",axisPointer:{type:"shadow",textStyle:{color:"#fff"}}},grid:{borderWidth:0,left:"5%",right:"5%",top:"14%",textStyle:{color:"#fff"}},calculable:!0,xAxis:[{type:"category",axisLine:{lineStyle:{color:"#90979c"}},splitLine:{show:!1},axisTick:{show:!1},splitArea:{show:!1},axisLabel:{interval:"auto"},data:t}],yAxis:[{type:"value",name:"("+this.unit[this.value]+")",splitLine:{show:!1},axisLine:{lineStyle:{color:"#90979c"}},axisTick:{show:!1},axisLabel:{formatter:t=>t},splitArea:{show:!1}}],dataZoom:[{show:!0,height:20,xAxisIndex:[0],bottom:30,start:0,end:100,handleIcon:"path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z",handleSize:"110%",handleStyle:{color:"#d3dee5"},textStyle:{color:"#fff"},borderColor:"#90979c"},{type:"inside",show:!0,height:15,start:0,end:100}],series:[{name:"风速",type:"line",symbolSize:10,symbol:"circle",itemStyle:{normal:{color:"rgb(255, 59, 0)",barBorderRadius:0,label:{show:!0,position:"top",formatter:t=>t.value>0?t.value+" "+this.unit[this.value]:""}}},data:e}]},this.chartBox.setOption(this.option),window.addEventListener("resize",this.changeSize)},changeTable(){this.$emit("update:showList",!this.showList)},changeSize(){this.chartBox.resize()},closeList(){let t=this.dataList.message.mmsi+"weather";this.map.removeLayer(Mz(t));let e=Mz(t+"webgl");e&&(this.map.removeLayer(e),e.dispose());let n=Mz(t+"arrowwebgl");n&&(this.map.removeLayer(n),n.dispose()),Mz("KuangLayer")&&Mz("KuangLayer").getSource().clear(),this.setHistoryWeatherList({})}},destroyed(){window.removeEventListener("resize",this.changeSize)},mounted(){this.$nextTick(()=>{this.change()})},computed:{dataList(){return this.$store.state.historyModule.historyWeatherList},map(){return this.$store.getters["mapModule/data"]("map")},unit(){return this.dataList.message.unit}},watch:{value(t){let e=this.options.filter(e=>e.value===t)[0].text,n=[];this.dataList.data&&(n=this.dataList.data.map(e=>e[t])),this.option.yAxis=[{type:"value",name:"("+this.unit[this.value]+")",splitLine:{show:!1},axisLine:{lineStyle:{color:"#90979c"}},axisTick:{show:!1},axisLabel:{formatter:t=>t},splitArea:{show:!1}}],this.option.series=[{name:e,type:"line",symbolSize:10,symbol:"circle",itemStyle:{normal:{color:"rgb(255, 59, 0)",barBorderRadius:0,label:{show:!0,position:"top",formatter:function(t){return t.value>0?t.value:""}}}},data:n}],this.chartBox.setOption(this.option)}}},K5=J5,$5=(n("e377"),Object(f["a"])(K5,H5,W5,!1,null,"44437d37",null)),t3=$5.exports,e3=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box-class"},[e("div",{staticClass:"box-title-class"},[e("div",{staticClass:"description-class"},[t._v("气象数据")]),e("div",[e("div",{staticClass:"title-time-class"},[t._v(t._s(t.title))]),e("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:t.changeTable}},[t._v("切换图表")])],1),e("div",{staticClass:"close-class",on:{click:t.closeList}},[e("i",{staticClass:"el-icon-close"})])]),t.showList?e("div",{staticClass:"History-Weather-class"},[e("div",{staticClass:"title-class"},t._l(t.titleList,(function(n){return e("div",{key:n.dataIndex,staticClass:"title-item-class"},[t._v(t._s(n.value))])})),0),e("div",{ref:"scroll",staticClass:"data-list-class"},[t.tableData.data.length>0?t._l(t.tableData.data,(function(n,i){return e("div",{key:i,class:{"data-class":!0,"list-odd-class":i%2==0},on:{click:function(e){return t.posPoint(n)}}},t._l(t.titleList,(function(i){return e("div",{key:i.id,staticClass:"data-item-class"},[t._v(" "+t._s(t.splitDate(n[i.dataIndex],i.dataIndex))+" ")])})),0)})):e("div",[e("div",{staticClass:"no-data"},[t._v("暂无数据")])])],2)]):t._e()])},n3=[],i3={props:{showList:{type:Boolean,default:!0}},data(){return{titleList:[{value:"日期",dataIndex:"reportUtcTime"},{value:"风速",dataIndex:"weatherWindSpeed"},{value:"温度",dataIndex:"weatherTemperature"},{value:"湿度",dataIndex:"weatherHumidity"},{value:"气压",dataIndex:"weatherAirPressure"},{value:"风向",dataIndex:"weatherWindAngleNorth"},{value:"露点温度",dataIndex:"weatherPointTemperature"},{value:"海拔高度",dataIndex:"weatherAltitude"}],bs:null}},methods:{...Object(mH["b"])("historyModule",["setHistoryWeatherList"]),changeTable(){this.$emit("update:showList",!this.showList)},closeList(){let t=this.tableData.message.mmsi+"weather";this.map.removeLayer(Mz(t));let e=Mz(t+"webgl");e&&(this.map.removeLayer(e),e.dispose());let n=Mz(t+"arrowwebgl");n&&(this.map.removeLayer(n),n.dispose()),Mz("KuangLayer")&&Mz("KuangLayer").getSource().clear(),this.setHistoryWeatherList({})},posPoint(t){let e=[t.lon/60/1e4,t.lat/60/1e4],n=Object(UB["s"])(e,"EPSG:4326","EPSG:3857");this.map.getView().setCenter(n),this.map.getView().setZoom(17),setTimeout(()=>{BH({id:t.id,coor:n},!0)},1e3)}},mounted(){},computed:{tableData(){return this.$store.state.historyModule.historyWeatherList},splitDate(){return function(t,e){if("reportUtcTime"===e)return this.$moment(t).format("MM-DD HH:mm");let n=this.tableData.message.unit;return t+" "+n[e]}},title(){let t=this.$store.state.historyModule.historyWeatherList;return t.message&&"{}"!==JSON.stringify(t.message)?t.message.startTime.split(" ")[0]+" - "+t.message.endTime.split(" ")[0]:""},map(){return this.$store.getters["mapModule/data"]("map")}}},r3=i3,a3=(n("766e"),Object(f["a"])(r3,e3,n3,!1,null,"17add903",null)),o3=a3.exports,s3={components:{myEchart:t3,List:o3},data(){return{showList:!0}},computed:{tableShow(){const t=this.$store.state.historyModule.historyWeatherList;return"{}"!==JSON.stringify(t)&&(this.showList=!0,!0)}}},l3=s3,c3=(n("c068"),Object(f["a"])(l3,z5,U5,!1,null,"5aac6dd8",null)),u3=c3.exports,h3={mixins:[uY,NY,A5],components:{SmallMap:HY,TopNav:OQ,MouseInteraction:LQ,ToolBar:hJ,RightDrawer:_0,ShipInfo:x1,TodayPosition:N1,ShipRecord:f2,HistoryInfo:S2,PoliceList:k2,DistanceShip:D2,DangerLIst:z2,LoseList:q2,Search:n5,MetTime:xX,AddSign:u5,VideoView:C5,RoutePopModal:G5,HistoryWeather:u3},data(){return{startShipTimer:null,timers:{timer3:null,timer5:null,timer6:null},leadTimes:{times3:1,times5:1},existHistory:!1,shipGroupNumber:0,shipRoundNumber:0}},created(){},mounted(){this.startIntoTimer(),setTimeout(()=>{this.map.updateSize()},1500)},methods:{...Object(mH["b"])("metModule",["changeSwitchItem","clearState"]),startIntoTimer(){this.timer6=setInterval(()=>{this.existHistory||(hY("0"),this.showClassify.includes("shipFocus")?mY(!0):mY(!1),this.addShipName({map:this.map}))},18e4),this.timer3=setInterval(()=>{if(this.existHistory)return;let t=this.leadTimes.timer3%6===0;t?dY("1","0"):dY("0","1"),this.leadTimes.times3+=1,this.addShipName({map:this.map})},3e5),this.timer5=setInterval(()=>{if(this.existHistory)return;let t=this.leadTimes.times5%2===0;pY(t?"0":"1"),this.leadTimes.timer5+=1,this.addShipName({map:this.map})},24e4)},clearTimer(){clearInterval(this.timers.timer3),clearInterval(this.timers.timer5),clearInterval(this.timers.timer6)},closeVideo(){var t,e;null===(t=this.$refs)||void 0===t||null===(e=t.videoRef)||void 0===e||e.closeModal()}},computed:{historyRouteList(){return this.$store.state.historyModule.historyRouteList},WeatherShow(){return this.$store.state.metModule.weatherShow},showClassify(){return this.$store.state.mapModule.showClassify},shipWebScoket(){return this.$store.state.shipModule.shipWebScoket},videoShow(){return this.$store.state.videoModule.videoShow},historyRealRouteList(){return this.$store.state.historyModule.historyRealRouteList}},watch:{historyRouteList(t){"{}"===JSON.stringify(t)?(this.existHistory=!1,iW(!0)):(this.existHistory=!0,iW(!1))},WeatherShow(t){var e,n,i;t?(Mz("vtLayer").setVisible(t),Mz("metLayer").setVisible(t),null===(e=this.map)||void 0===e||e.getView().setMinZoom(3)):(Mz("vtLayer").setVisible(t),Mz("metLayer").setVisible(t),this.clearState(),mQ(this.$refs.TopNav.typhoonLength),null===(n=this.map)||void 0===n||n.getView().setMinZoom(1),Object(lU["b"])(this.$refs.TopNav.getCurrentValue),this.$store.commit("mapModule/setCurrentWeather",{}),null===(i=this.map.getOverlayById("popup-weather"))||void 0===i||i.setPosition(null))},videoShow(t){t&&this.$nextTick(()=>{this.$refs.videoRef.maxWiathAndHeight()})}},beforeDestroy(){var t;let e=Object.keys(this.historyRealRouteList).toString();this.clearTimer(),null===(t=this.shipWebScoket)||void 0===t||t.close(),this.$store.commit("shipModule/setShipWebScoket",null),this.map.getLayers().getArray().forEach(t=>{this.map.removeLayer(t),t instanceof Cz&&t.dispose()}),Object(lU["b"])(this.moveListen),this.closeVideo(),this.$store.dispatch("clearState"),SZ({vids:e})}},d3=h3,p3=(n("22d7"),Object(f["a"])(d3,BB,VB,!1,null,"5c486f32",null)),f3=p3.exports,g3=function(){var t,e,i=this,r=i._self._c;return r("div",{staticClass:"boxs"},[r("div",{staticClass:"title"},[r("img",{attrs:{src:n("0136"),alt:""}}),r("span",[i._v(i._s(i.item.name))]),r("div",{on:{click:i.routerGo}},[i._v("更多")])]),i.dataSource.length?r("ul",{staticClass:"noticeList"},i._l(i.dataSource,(function(t,e){var n;return r("li",["1"==(null===(n=t.notificationAnnouncementUser)||void 0===n?void 0:n.readOrNot)?r("span",{staticClass:"badge"}):i._e(),r("div",{staticClass:"content",on:{click:function(e){return i.btnClick(t)}}},[r("span",[i._v(i._s(t.title))]),r("span",[i._v(i._s(i.moment(t.sendTime).format("YYYY-MM-DD")))])]),r("span",{staticClass:"send"},[i._v(i._s(t.sendUser))])])})),0):r("a-empty",{staticClass:"emptyClass",attrs:{description:"暂无通知公告数据"}}),r("a-modal",{staticClass:"contentModal",attrs:{maskClosable:!1,width:"800px",title:"查看",visible:i.visible,destroyOnClose:!0,footer:null},on:{cancel:function(t){i.visible=!1}}},[r("div",[r("h2",[i._v(i._s(i.rowData.title))]),r("a-textarea",{staticClass:"contentClass",staticStyle:{width:"100%","background-color":"#fff"},attrs:{disabled:!0,placeholder:"通知公告内容"},model:{value:i.rowData.content,callback:function(t){i.$set(i.rowData,"content",t)},expression:"rowData.content"}}),r("div",{staticClass:"file"},[r("p",{staticClass:"file-title"},[i._v("附件下载")]),i._l(null===(t=i.rowData)||void 0===t?void 0:t.notificationAnnouncementFiles,(function(t){return r("p",{key:t.id},["image"==i.matchType(t.fileType)?r("span",{on:{click:function(e){return i.preView(t)}}},[r("img",{attrs:{src:null===t||void 0===t?void 0:t.filePath,alt:""}})]):r("span",[r("a",{attrs:{href:null===t||void 0===t?void 0:t.filePath,target:"_blank",download:""}},[i._v(i._s(t.fileName))])])])}))],2),r("div",{staticClass:"time"},[r("span",[i._v("发布人  "+i._s(i.rowData.sendUser))]),r("span",[i._v(i._s(i.rowData.sendTime))])])],1)]),r("a-modal",{attrs:{width:"70%",visible:i.previewVisible},on:{cancel:function(t){i.previewVisible=!1}}},[r("template",{slot:"footer"},[r("a-button",{key:"back",on:{click:function(t){i.previewVisible=!1}}},[i._v("关闭")])],1),r("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:null===(e=i.file)||void 0===e?void 0:e.filePath,alt:""}})],2)],1)},m3=[],v3={props:{item:{type:Object,default:()=>{}}},data(){return{moment:u.a,editForm:this.$form.createForm(this),dataSource:[],urls:{list:"/company/notificationAnnouncement/getNotificationAnnouncementNoPage",check:"/company/notificationAnnouncement/checkNotificationAnnouncement"},rowData:{},visible:!1,previewVisible:!1,file:{},timer:null}},mounted(){this.onQuery(),this.timer=setInterval(()=>{clearInterval(this.timer),this.onQuery()},48e4)},methods:{routerGo(){let t=this.$store.state.apps.filter((t,e)=>t.name="companymanagement")||[];t.length?this.$router.push("/companymanagement/notice/notification?isRouterTo=1"):this.$message.warn("请联系管理员配置公司管理模块!")},btnClick(t){if(this.rowData=t,this.visible=!0,t.notificationAnnouncementUser&&"1"==t.notificationAnnouncementUser.readOrNot){let e={ids:t.id};this.$axios.get(this.urls.check,{params:e}).then(t=>{200==t.code&&this.onQuery()})}},preView(t){this.file=t,this.previewVisible=!0},matchType(t){var e="",n="";try{var i=t.split(".");e=i[i.length-1]}catch(o){e=""}if(!e)return n=!1,n;var r=["png","jpg","jpeg","bmp","gif","PNG","JPG","JPEG","BMP","GIF"];if(n=r.some((function(t){return t==e})),n)return n="image",n;var a=["pdf","PDF"];return n=a.some((function(t){return t==e})),n?(n="pdf",n):(n="other",n)},onQuery(){this.$axios.get(this.urls.list).then(t=>{"200"==t.code&&(this.dataSource=t.result)})}}},y3=v3,b3=(n("1973"),Object(f["a"])(y3,g3,m3,!1,null,"14fe7b3a",null)),x3=b3.exports,_3=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"content_box"},[e("div",{staticClass:"title"},[e("img",{attrs:{src:n("2cf7"),alt:""}}),e("span",[t._v(t._s(t.item.name))])]),t._m(0),t.noticeList.length?e("ul",t._l(t.noticeList,(function(n){return e("li",{key:n.id},[e("span",[t._v(t._s(n.shipName))]),e("span",[t._v(t._s(n.vmsCount))]),e("span",[t._v(" "+t._s(1==n.status?"正常":2==n.status?"船位不足":"无船位"))]),e("span",[t._v(t._s(n.otherCount))])])})),0):e("a-empty",{staticClass:"emptyClass",attrs:{description:"暂无今日报位数据"}})],1)])},w3=[function(){var t=this,e=t._self._c;return e("p",[e("span",[t._v("船舶名称")]),e("span",[t._v("平台报位")]),e("span",[t._v("报位状态")]),e("span",[t._v("非平台报位")])])}],S3={props:{item:{type:Object,default:()=>{}}},data(){return{noticeList:[]}},mounted(){this.getNotice()},methods:{getNotice(){this.$axios.get("/shipTube/chart/posShipHis/queryPosHisTodayStatistics?pageSize=10&pageNo=1").then(t=>{this.noticeList=t.result}).catch(t=>{})}}},O3=S3,C3=(n("8b49"),Object(f["a"])(O3,_3,w3,!1,null,"4d15a070",null)),A3=C3.exports,M3=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"content_box"},[e("div",{staticClass:"title"},[e("img",{attrs:{src:n("0c65"),alt:""}}),e("span",[t._v(t._s(t.item.name))])]),t._m(0),t.noticeList.length?e("ul",t._l(t.noticeList,(function(n){return e("li",{key:n.id},[e("span",[t._v(t._s(n.shipName))]),e("span",[t._v(t._s(n.posDays))]),e("span",[t._v(" "+t._s(n.withoutPosDays))]),e("span",[t._v(t._s(n.lackPosDays))]),e("span",[t._v(t._s(n.lackSpeedDays))])])})),0):e("a-empty",{staticClass:"emptyClass",attrs:{description:"暂无报位统计数据"}})],1)])},T3=[function(){var t=this,e=t._self._c;return e("p",[e("span",[t._v("船舶名称")]),e("span",[t._v("有效天数")]),e("span",[t._v("无船位天数")]),e("span",[t._v("船位不足")]),e("span",[t._v("航速不足")])])}],k3={props:{item:{type:Object,default:()=>{}}},data(){return{noticeList:[]}},mounted(){this.getNotice()},methods:{getNotice(){this.$axios.get("/shipTube/posYearStatistics/list",{params:{pageSize:"100",pageNo:"1",year:(new Date).getFullYear()}}).then(t=>{this.noticeList=t.result.records}).catch(t=>{})}}},L3=k3,j3=(n("ae13"),Object(f["a"])(L3,M3,T3,!1,null,"a011a76e",null)),I3=j3.exports,E3=function(){var t=this,e=t._self._c;return e("div",{staticClass:"box"},[e("div",{staticClass:"content_box"},[e("div",{staticClass:"title"},[e("img",{attrs:{src:n("e08b"),alt:""}}),e("span",[t._v(t._s(t.item.name))])]),t.noticeList.length?e("ul",t._l(t.noticeList,(function(i){return e("li",{key:i.id},[e("p",[t._v(t._s(i.title))]),e("p",{domProps:{innerHTML:t._s(t.escapeHTML(i.details))}}),e("p",[e("img",{attrs:{src:n("a3ea"),alt:""}}),e("span",[t._v(t._s(i.updateTime))]),e("span",{staticClass:"more",on:{click:function(e){return t.clickMore(i)}}},[t._v("查看详情")])])])})),0):e("div",[e("a-empty",{staticClass:"emptyClass"})],1)])])},P3=[],R3={props:{item:{type:Object,default:()=>{}}},data(){return{noticeList:[]}},mounted(){this.getNotice()},methods:{getNotice(){let t={pageSize:50,pageNo:1,publishOrNot:0,currentTime:this.$moment(new Date).format("yyyy-MM-DD 23:59:59")};this.$axios.get("/company/companyAnnouncement/list",{params:t}).then(t=>{200==t.code&&(this.noticeList=t.result.records)}).catch(t=>{})},clickMore(t){window.open("/announcementMore?id="+t.id+"&announcementMore=1")},escapeHTML(t){const e=document.createElement("div");return e.innerHTML=t,e.innerText}}},D3=R3,F3=(n("85f6"),Object(f["a"])(D3,E3,P3,!1,null,"03ee79bb",null)),N3=F3.exports,B3=n("2cc6"),V3=function(){var t=this,e=t._self._c;return e("div",[e("a-modal",{staticClass:"modal-maintenance",attrs:{visible:t.visible,footer:null,width:"1000px"},on:{cancel:t.cancel}},[e("div",{staticClass:"box"},[e("p",{staticClass:"title"},[t._v(t._s(t.item.title))]),e("div",{staticClass:"iframe",domProps:{innerHTML:t._s(t.item.content)}}),e("img",{staticClass:"planet",attrs:{src:n("b0ca"),alt:""}})])])],1)},G3=[],z3={name:"maintenance",props:{visible:{type:Boolean,default:!1},item:{type:Object,default:{}}},data(){return{startTime:"2021-01-01 00:00:00",endTime:"2021-01-02 00:00:00",moduleName:"渔捞日志"}},methods:{cancel(){this.$emit("update","maintenance")},adjustIframeHeight(){const t=this.$refs.iframe;if(t){const e=t.contentWindow.document.documentElement.scrollHeight;t.style.height=e+"px"}}}},U3=z3,H3=(n("37a3"),Object(f["a"])(U3,V3,G3,!1,null,"75469479",null)),W3=H3.exports,Y3=function(){var t=this,e=t._self._c;return e("div",[e("a-modal",{staticClass:"modal-maintenance",attrs:{visible:t.visible,footer:null,destroyOnClose:!0,closable:!1,width:"1000px"}},[e("div",{staticClass:"box"},[e("div",{staticClass:"content"},[e("p",{staticClass:"title"},[t._v(t._s(t.item.title))]),e("div",{staticClass:"iframe",domProps:{innerHTML:t._s(t.item.content)}}),e("div",{staticClass:"flex-btn"},[e("a-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){return t.update(t.item)}}},[t._v(" 知道了 ")]),e("a-button",{staticClass:"btn",on:{click:function(e){return t.view(t.item)}}},[t._v(" 了解详情 ")]),e("a-button",{staticClass:"btn",on:{click:function(e){return t.historyClick(t.item)}}},[t._v(" 历史更新 ")])],1)]),e("div",{staticClass:"pic"},[e("img",{staticClass:"planet",attrs:{src:n("c635"),alt:""}})])])]),e("UpdateInfo",{attrs:{visible:t.pdfVisible,item:t.item,showPDF:t.showPDF},on:{close:function(e){t.pdfVisible=!1}}})],1)},X3=[],q3=function(){var t=this,e=t._self._c;return e("div",[e("a-modal",{staticClass:"modalclass",attrs:{destroyOnClose:!0,visible:t.visible,footer:null,bodyStyle:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"none"}},on:{cancel:t.close}},[e("span",{staticClass:"down",on:{click:t.down}},[t._v("看不清？点我下载")]),t.showPDF?e("div",{staticClass:"pdf-class"},[e("div",{staticClass:"pdf-tab"},[e("a-icon",{staticClass:"iconbtn",attrs:{type:"left"},on:{click:function(e){return e.stopPropagation(),t.prePage.apply(null,arguments)}}})],1),e("div",{staticClass:"photo_center",staticStyle:{height:"100%"}},[e("div",{staticStyle:{height:"100%"}},[e("div",{staticStyle:{height:"100%","overflow-x":"hidden","text-align":"center",position:"relative"}},[e("pdf",{ref:"pdf",staticClass:"pdf-16-9",staticStyle:{width:"100%",height:"100%"},attrs:{src:t.item.fileUrl,page:t.pageNum},on:{"num-pages":function(e){t.pageCount=e},"page-loaded":function(e){return t.pageLoaded(e)}}})],1),e("div",{staticClass:"pdf-tab"},[t._v(t._s(t.pageNum)+" / "+t._s(t.pageCount))])])]),e("div",{staticClass:"pdf-tab"},[e("a-icon",{staticClass:"iconbtn",attrs:{type:"right"},on:{click:function(e){return e.stopPropagation(),t.nextPage.apply(null,arguments)}}})],1)]):e("video",{staticClass:"pdf-16-9",attrs:{src:t.item.fileUrl,autoplay:"",controls:""}})])],1)},Z3=[],Q3={props:{initial:{type:Boolean,default:!1}},data:function(){return{size:{width:-1,height:-1}}},methods:{reset:function(){var t=this.$el.firstChild,e=this.$el.lastChild;t.scrollLeft=1e5,t.scrollTop=1e5,e.scrollLeft=1e5,e.scrollTop=1e5},update:function(){this.size.width=this.$el.offsetWidth,this.size.height=this.$el.offsetHeight}},watch:{size:{deep:!0,handler:function(t){this.reset(),this.$emit("resize",{width:this.size.width,height:this.size.height})}}},render:function(t){var e="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",n="position: absolute; left: 0; top: 0;";return t("div",{style:e+"animation-name: resizeSensorVisibility;",on:{"~animationstart":this.update}},[t("div",{style:e,on:{scroll:this.update}},[t("div",{style:n+"width: 100000px; height: 100000px;"})]),t("div",{style:e,on:{scroll:this.update}},[t("div",{style:n+"width: 200%; height: 200%;"})])])},beforeDestroy:function(){this.$emit("resize",{width:0,height:0}),this.$emit("resizeSensorBeforeDestroy")},mounted:function(){if(!0===this.initial&&this.$nextTick(this.update),this.$el.offsetParent!==this.$el.parentNode&&(this.$el.parentNode.style.position="relative"),"attachEvent"in this.$el&&!("AnimationEvent"in window)){var t=function(){this.update(),e()}.bind(this),e=function(){this.$el.detachEvent("onresize",t),this.$off("resizeSensorBeforeDestroy",e)}.bind(this);this.$el.attachEvent("onresize",t),this.$on("resizeSensorBeforeDestroy",e),this.reset()}}},J3=Q3,K3=(n("2613"),Object(f["a"])(J3,Z5,Q5,!1,null,null,null)),$3=K3.exports,t4=function(t){var e=t.createLoadingTask,n=t.PDFJSWrapper;return{createLoadingTask:e,render:function(t){return t("span",{attrs:{style:"position: relative; display: block"}},[t("canvas",{attrs:{style:"display: inline-block; width: 100%; height: 100%; vertical-align: top"},ref:"canvas"}),t("span",{style:"display: inline-block; width: 100%; height: 100%",class:"annotationLayer",ref:"annotationLayer"}),t($3,{props:{initial:!0},on:{resize:this.resize}})])},props:{src:{type:[String,Object,Uint8Array],default:""},page:{type:Number,default:1},rotate:{type:Number}},watch:{src:function(){this.pdf.loadDocument(this.src)},page:function(){this.pdf.loadPage(this.page,this.rotate)},rotate:function(){this.pdf.renderPage(this.rotate)}},methods:{resize:function(t){if(null!==this.$el.parentNode&&(0!==t.width||0!==t.height)){this.$refs.canvas.style.height=this.$refs.canvas.offsetWidth*(this.$refs.canvas.height/this.$refs.canvas.width)+"px";var e=this.pdf.getResolutionScale();(e<.85||e>1.15)&&this.pdf.renderPage(this.rotate)}},print:function(t,e){this.pdf.printPage(t,e)}},mounted:function(){this.pdf=new n(this.$refs.canvas,this.$refs.annotationLayer,this.$emit.bind(this)),this.$on("loaded",(function(){this.pdf.loadPage(this.page,this.rotate)})),this.$on("page-size",(function(t,e){this.$refs.canvas.style.height=this.$refs.canvas.offsetWidth*(e/t)+"px"})),this.pdf.loadDocument(this.src)},destroyed:function(){this.pdf.destroy()}}};if("server"!==Object({NODE_ENV:"production",VUE_APP_BASEURL:"https://springcloud.intertion.cn",VUE_APP_CURRENTMODE:"prod",VUE_APP_IMG_URL:"https://cloudwx.intertion.cn/bills",VUE_APP_Minio_IMG_URL:"https://minio.fisheryvms.com/",VUE_APP_SERVER_Webscoket:"wss://springcloud.intertion.cn",VUE_APP_SOCKET_URL:"wss://springcloud.intertion.cn/shipCameraService/webCamera",BASE_URL:""}).VUE_ENV){var e4=n("a068").default,n4=n("4383");if("undefined"!==typeof window&&"Worker"in window&&-1===navigator.appVersion.indexOf("MSIE 10")){var i4=n("2639");n4.GlobalWorkerOptions.workerPort=new i4}var r4=t4(e4(n4))}else r4=t4({});var a4,o4,s4=r4,l4=s4,c4=(n("0610"),Object(f["a"])(l4,a4,o4,!1,null,null,null)),u4=c4.exports,h4={name:"updateInfo",components:{pdf:u4},props:{visible:{type:Boolean,default:!1},item:{type:Object,default:{}},showPDF:{type:Boolean,default:!1}},data(){return{startTime:"2021-01-01 00:00:00",endTime:"2021-01-02 00:00:00",moduleName:"渔捞日志",previewPdf:"",pageNum:1,pageCount:0,isDownloading:!1}},methods:{down(){if(this.isDownloading)return void this.$message.warning("正在下载，请勿重复点击");this.isDownloading=!0,this.$message.info("正在下载，请稍后");const t=new XMLHttpRequest;t.open("GET",this.item.fileUrl,!0),t.responseType="blob",t.onload=()=>{if(200===t.status){const e=new Blob([t.response],{type:this.item.fileType}),n=URL.createObjectURL(e),i=document.createElement("a");i.href=n,i.setAttribute("download",this.item.fileName),i.click(),URL.revokeObjectURL(n),this.isDownloading=!1,this.$message.success("下载成功")}else this.$message.error("下载失败"),this.isDownloading=!1},t.send()},close(){this.$emit("close"),this.pageNum=1},pageLoaded(t){this.curPageNum=t},prePage(){var t=this.pageNum;t=t>1?t-1:this.pageCount,this.pageNum=t},nextPage(){var t=this.pageNum;t=t<this.pageCount?t+1:1,this.pageNum=t}}},d4=h4,p4=(n("61f9"),Object(f["a"])(d4,q3,Z3,!1,null,"5a6d53de",null)),f4=p4.exports,g4={name:"update",components:{UpdateInfo:f4},props:{visible:{type:Boolean,default:!1},item:{type:Object,default:{}}},data(){return{startTime:"2021-01-01 00:00:00",endTime:"2021-01-02 00:00:00",moduleName:"渔捞日志",pdfVisible:!1,previewPdf:"",pageNum:1,pageCount:0,showPDF:!1}},mounted(){this.getNoticeList()},methods:{view(t){if(t.fileUrl){this.pdfVisible=!0;const e=t.fileType.includes("pdf");this.showPDF=e}else this.$message.error("暂无更多详情消息")},update(t){this.$axios.delete("/interface/tsMaintain/deleteRead",{params:{ids:t.id}}).then(t=>{200===t.code&&(this.$emit("update","update"),this.$store.commit("updateVisible",!1),this.getNoticeList())})},getNoticeList(){this.$axios.get("/interface/tsMaintain/listTsMaintain").then(t=>{let e=t.result.records.filter(t=>0===t.isRead);this.$store.commit("noticeList",t.result.records),this.$store.commit("noticeCount",e.length)})},historyClick(t){this.$store.commit("updateVisible",!1),this.$store.commit("noticeVisible",!0)},adjustIframeHeight(){const t=this.$refs.iframe;if(t){const e=t.contentWindow.document.documentElement.scrollHeight;t.style.height=e+"px",t.style.overflow="hidden"}}}},m4=g4,v4=(n("1a17"),Object(f["a"])(m4,Y3,X3,!1,null,"84fdf178",null)),y4=v4.exports;let b4={x:null,y:null};var x4={components:{GridLayout:a["GridLayout"],GridItem:a["GridItem"],fisheryVideoModel:m,ship:w,meteorological:cM,fishStat:fB,earlyWarning:xB,urlLink:AB,notification:IB,modal:NB,Map:f3,todayPosition:A3,positionStatistics:I3,announcement:N3,shipDynamics:B3["default"],Maintenance:W3,Update:y4,Noitce:x3},data(){return{layout:[],draggable:!1,resizable:!1,responsive:!1,maintenanceVisible:!1,maintenanceItem:{},updateVisible:!1,updateItem:{}}},mounted(){this.$store.commit("ishome",!0),document.addEventListener("dragover",(function(t){b4.x=t.clientX,b4.y=t.clientY}),!1),this.getList(),this.getNotice()},beforeDestroy(){this.$store.commit("ishome",!1)},methods:{getNotice(){this.$axios.get("/interface/tsMaintain/getOne").then(t=>{200===t.code&&(1===t.result.type?(this.maintenanceItem=t.result,this.maintenanceVisible=!0):2===t.result.type&&(sessionStorage.setItem("update",JSON.stringify(t.result)),this.$store.commit("updateVisible",!0),this.$store.commit("updateItem",t.result)))})},update(t){"update"===t?this.updateVisible=!1:this.maintenanceVisible=!1},layoutUpdatedEvent(t){},movedEvent(t,e,n){},updateComponent(){this.getList()},getAllChildren(t){let e=[];return t.forEach(t=>{e=e.concat(t.children),t.children.length>0&&(e=e.concat(this.getAllChildren(t.children)))}),e},getList(){this.$axios.get("/interface/tsUserHomeComponent/userComponentlist").then(t=>{if(200==t.code){const e=t.result;this.layout=e.map(t=>({x:t.x,y:t.y,w:t.width,h:t.longs,i:t.nameEn,name:t.name}))}})}}},_4=x4,w4=(n("381d"),Object(f["a"])(_4,i,r,!1,null,"73976568",null));e["default"]=w4.exports},6855:function(t,e,n){"use strict";n.r(e),n.d(e,"version",(function(){return y}));var i=n("b6fb");n.d(e,"PathUtil",(function(){return i}));var r=n("e1c6");for(var a in r)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(a);var o=n("b5d5");for(var a in o)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);var s=n("e5e2");n.d(e,"Event",(function(){return s["a"]}));var l=n("2e60");n.d(e,"Base",(function(){return l["a"]}));var c=n("1243");n.d(e,"AbstractCanvas",(function(){return c["a"]}));var u=n("f83c");n.d(e,"AbstractGroup",(function(){return u["a"]}));var h=n("31a1");n.d(e,"AbstractShape",(function(){return h["a"]}));var d=n("d4c65");n.d(e,"getBBoxMethod",(function(){return d["a"]})),n.d(e,"registerBBox",(function(){return d["b"]}));var p=n("bc88");n.d(e,"getTextHeight",(function(){return p["b"]})),n.d(e,"assembleFont",(function(){return p["a"]}));var f=n("b2cb");n.d(e,"isAllowCapture",(function(){return f["b"]}));var g=n("6928");n.d(e,"multiplyVec2",(function(){return g["c"]})),n.d(e,"invert",(function(){return g["a"]}));var m=n("96de");n.d(e,"getOffScreenContext",(function(){return m["a"]}));var v=n("54ca");n.d(e,"registerEasing",(function(){return v["b"]}));var y="0.5.11"},"68de":function(t,e,n){"use strict";n.r(e),n.d(e,"Base",(function(){return d})),n.d(e,"Circle",(function(){return g})),n.d(e,"Dom",(function(){return v})),n.d(e,"Ellipse",(function(){return b})),n.d(e,"Image",(function(){return _})),n.d(e,"Line",(function(){return O})),n.d(e,"Marker",(function(){return T})),n.d(e,"Path",(function(){return L})),n.d(e,"Polygon",(function(){return I})),n.d(e,"Polyline",(function(){return P})),n.d(e,"Rect",(function(){return F})),n.d(e,"Text",(function(){return H}));var i={};n.r(i),n.d(i,"Base",(function(){return d})),n.d(i,"Circle",(function(){return g})),n.d(i,"Dom",(function(){return v})),n.d(i,"Ellipse",(function(){return b})),n.d(i,"Image",(function(){return _})),n.d(i,"Line",(function(){return O})),n.d(i,"Marker",(function(){return T})),n.d(i,"Path",(function(){return L})),n.d(i,"Polygon",(function(){return I})),n.d(i,"Polyline",(function(){return P})),n.d(i,"Rect",(function(){return F})),n.d(i,"Text",(function(){return H}));var r=n("9ab4"),a=n("6855"),o=n("00f9"),s=n("73ec"),l=n("7349"),c=n("22f9"),u=n("e73e"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="svg",e.canFill=!1,e.canStroke=!1,e}return Object(r["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r["__assign"])(Object(r["__assign"])({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var i=n.get("context");this.draw(i,e)}},e.prototype.getShapeBase=function(){return i},e.prototype.getGroupBase=function(){return u["a"]},e.prototype.onCanvasChange=function(t){Object(l["b"])(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=Object(a["getBBoxMethod"])(this.get("type"));n&&(e=n(this))}if(e){var i=e.x,r=e.y,o=e.width,s=e.height,l=this.getHitLineWidth(),c=l/2,u=i-c,h=r-c,d=i+o+c,p=r+s+c;return{x:u,y:h,minX:u,minY:h,maxX:d,maxY:p,width:o+l,height:s+l}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},e.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||Object(s["a"])(this),Object(o["a"])(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},e.prototype.createPath=function(t,e){},e.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),i=n.fill,r=n.fillStyle,a=n.stroke,o=n.strokeStyle,s=n.fillOpacity,l=n.strokeOpacity,u=n.lineWidth,h=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",i):"fillStyle"in n&&this._setColor(t,"fill",r):this._setColor(t,"fill",i||r),s&&h.setAttribute(c["b"]["fillOpacity"],s)),this.canStroke&&u>0&&(e?"stroke"in n?this._setColor(t,"stroke",a):"strokeStyle"in n&&this._setColor(t,"stroke",o):this._setColor(t,"stroke",a||o),l&&h.setAttribute(c["b"]["strokeOpacity"],l),u&&h.setAttribute(c["b"]["lineWidth"],u))},e.prototype._setColor=function(t,e,n){var i=this.get("el");if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var r=t.find("gradient",n);r||(r=t.addGradient(n)),i.setAttribute(c["b"][e],"url(#"+r+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){r=t.find("pattern",n);r||(r=t.addPattern(n)),i.setAttribute(c["b"][e],"url(#"+r+")")}else i.setAttribute(c["b"][e],n);else i.setAttribute(c["b"][e],"none")},e.prototype.shadow=function(t,e){var n=this.attr(),i=e||n,r=i.shadowOffsetX,a=i.shadowOffsetY,s=i.shadowBlur,l=i.shadowColor;(r||a||s||l)&&Object(o["b"])(this,t)},e.prototype.transform=function(t){var e=this.attr(),n=(t||e).matrix;n&&Object(o["c"])(this)},e.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},e.prototype.isPointInPath=function(t,e){var n=this.get("el"),i=this.get("canvas"),r=i.get("el").getBoundingClientRect(),a=t+r.left,o=e+r.top,s=document.elementFromPoint(a,o);return!(!s||!s.isEqualNode(n))},e.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},e}(a["AbstractShape"]),d=h,p=n("8937"),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle",e.canFill=!0,e.canStroke=!0,e}return Object(r["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r["__assign"])(Object(r["__assign"])({},e),{x:0,y:0,r:0})},e.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(p["each"])(e||n,(function(t,e){"x"===e||"y"===e?i.setAttribute("c"+e,t):c["b"][e]&&i.setAttribute(c["b"][e],t)}))},e}(d),g=f,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dom",e.canFill=!1,e.canStroke=!1,e}return Object(r["__extends"])(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");if(Object(p["each"])(e||n,(function(t,e){c["b"][e]&&i.setAttribute(c["b"][e],t)})),"function"===typeof n["html"]){var r=n["html"].call(this,n);if(r instanceof Element||r instanceof HTMLDocument){for(var a=i.childNodes,o=a.length-1;o>=0;o--)i.removeChild(a[o]);i.appendChild(r)}else i.innerHTML=r}else i.innerHTML=n["html"]},e}(d),v=m,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ellipse",e.canFill=!0,e.canStroke=!0,e}return Object(r["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r["__assign"])(Object(r["__assign"])({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(p["each"])(e||n,(function(t,e){"x"===e||"y"===e?i.setAttribute("c"+e,t):c["b"][e]&&i.setAttribute(c["b"][e],t)}))},e}(d),b=y,x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="image",e.canFill=!1,e.canStroke=!1,e}return Object(r["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r["__assign"])(Object(r["__assign"])({},e),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,e){var n=this,i=this.attr(),r=this.get("el");Object(p["each"])(e||i,(function(t,e){"img"===e?n._setImage(i.img):c["b"][e]&&r.setAttribute(c["b"][e],t)}))},e.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},e.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if(Object(p["isString"])(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&Object(p["isString"])(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase())n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var i=document.createElement("canvas");i.setAttribute("width",""+t.width),i.setAttribute("height",""+t.height),i.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",i.toDataURL())}},e}(d),_=x,w=n("1183"),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e.canFill=!1,e.canStroke=!0,e}return Object(r["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r["__assign"])(Object(r["__assign"])({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(p["each"])(e||n,(function(e,r){if("startArrow"===r||"endArrow"===r)if(e){var a=Object(p["isObject"])(e)?t.addArrow(n,c["b"][r]):t.getDefaultArrow(n,c["b"][r]);i.setAttribute(c["b"][r],"url(#"+a+")")}else i.removeAttribute(c["b"][r]);else c["b"][r]&&i.setAttribute(c["b"][r],e)}))},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,i=t.x2,r=t.y2;return w["c"].length(e,n,i,r)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,i=e.y1,r=e.x2,a=e.y2;return w["c"].pointAt(n,i,r,a,t)},e}(d),O=S,C={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var i=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+i],["L",t,e-i],["L",t+n,e+i],["z"]]},triangleDown:function(t,e,n){var i=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-i],["L",t+n,e-i],["L",t,e+i],["Z"]]}},A={get:function(t){return C[t]},register:function(t,e){C[t]=e},remove:function(t){delete C[t]},getAll:function(){return C}},M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="marker",e.canFill=!0,e.canStroke=!0,e}return Object(r["__extends"])(e,t),e.prototype.createPath=function(t){var e=this.get("el");e.setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return Object(p["isArray"])(t)?t.map((function(t){return t.join(" ")})).join(""):t},e.prototype._getPath=function(){var t,e=this.attr(),n=e.x,i=e.y,r=e.r||e.radius,a=e.symbol||"circle";return t=Object(p["isFunction"])(a)?a:A.get(a),t?t(n,i,r):null},e.symbolsFactory=A,e}(d),T=M,k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="path",e.canFill=!0,e.canStroke=!0,e}return Object(r["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r["__assign"])(Object(r["__assign"])({},e),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this,i=this.attr(),r=this.get("el");Object(p["each"])(e||i,(function(e,a){if("path"===a&&Object(p["isArray"])(e))r.setAttribute("d",n._formatPath(e));else if("startArrow"===a||"endArrow"===a)if(e){var o=Object(p["isObject"])(e)?t.addArrow(i,c["b"][a]):t.getDefaultArrow(i,c["b"][a]);r.setAttribute(c["b"][a],"url(#"+o+")")}else r.removeAttribute(c["b"][a]);else c["b"][a]&&r.setAttribute(c["b"][a],e)}))},e.prototype._formatPath=function(t){var e=t.map((function(t){return t.join(" ")})).join("");return~e.indexOf("NaN")?"":e},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength();if(0===n)return null;var i=e?e.getPointAtLength(t*n):null;return i?{x:i.x,y:i.y}:null},e}(d),L=k,j=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.canFill=!0,e.canStroke=!0,e}return Object(r["__extends"])(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(p["each"])(e||n,(function(t,e){"points"===e&&Object(p["isArray"])(t)&&t.length>=2?i.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):c["b"][e]&&i.setAttribute(c["b"][e],t)}))},e}(d),I=j,E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polyline",e.canFill=!0,e.canStroke=!0,e}return Object(r["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r["__assign"])(Object(r["__assign"])({},e),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(e,n,i){t.prototype.onAttrChange.call(this,e,n,i),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(p["each"])(e||n,(function(t,e){"points"===e&&Object(p["isArray"])(t)&&t.length>=2?i.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):c["b"][e]&&i.setAttribute(c["b"][e],t)}))},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Object(p["isNil"])(e)?(this.set("totalLength",w["d"].length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,i=this.attr().points,r=this.get("tCache");return r||(this._setTcache(),r=this.get("tCache")),Object(p["each"])(r,(function(i,r){t>=i[0]&&t<=i[1]&&(e=(t-i[0])/(i[1]-i[0]),n=r)})),w["c"].pointAt(i[n][0],i[n][1],i[n+1][0],i[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,i,r=0,a=[];Object(p["each"])(t,(function(o,s){t[s+1]&&(n=[],n[0]=r/e,i=w["c"].length(o[0],o[1],t[s+1][0],t[s+1][1]),r+=i,n[1]=r/e,a.push(n))})),this.set("tCache",a)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(d),P=E;function R(t){var e=0,n=0,i=0,r=0;return Object(p["isArray"])(t)?1===t.length?e=n=i=r=t[0]:2===t.length?(e=i=t[0],n=r=t[1]):3===t.length?(e=t[0],n=r=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],r=t[3]):e=n=i=r=t,{r1:e,r2:n,r3:i,r4:r}}var D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rect",e.canFill=!0,e.canStroke=!0,e}return Object(r["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r["__assign"])(Object(r["__assign"])({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,e){var n=this,i=this.attr(),r=this.get("el"),a=!1,o=["x","y","width","height","radius"];Object(p["each"])(e||i,(function(t,e){-1===o.indexOf(e)||a?-1===o.indexOf(e)&&c["b"][e]&&r.setAttribute(c["b"][e],t):(r.setAttribute("d",n._assembleRect(i)),a=!0)}))},e.prototype._assembleRect=function(t){var e=t.x,n=t.y,i=t.width,r=t.height,a=t.radius;if(!a)return"M "+e+","+n+" l "+i+",0 l 0,"+r+" l"+-i+" 0 z";var o=R(a);Object(p["isArray"])(a)?1===a.length?o.r1=o.r2=o.r3=o.r4=a[0]:2===a.length?(o.r1=o.r3=a[0],o.r2=o.r4=a[1]):3===a.length?(o.r1=a[0],o.r2=o.r4=a[1],o.r3=a[2]):(o.r1=a[0],o.r2=a[1],o.r3=a[2],o.r4=a[3]):o.r1=o.r2=o.r3=o.r4=a;var s=[["M "+(e+o.r1)+","+n],["l "+(i-o.r1-o.r2)+",0"],["a "+o.r2+","+o.r2+",0,0,1,"+o.r2+","+o.r2],["l 0,"+(r-o.r2-o.r3)],["a "+o.r3+","+o.r3+",0,0,1,"+-o.r3+","+o.r3],["l "+(o.r3+o.r4-i)+",0"],["a "+o.r4+","+o.r4+",0,0,1,"+-o.r4+","+-o.r4],["l 0,"+(o.r4+o.r1-r)],["a "+o.r1+","+o.r1+",0,0,1,"+o.r1+","+-o.r1],["z"]];return s.join(" ")},e}(d),F=D,N=n("7b46"),B=.3,V={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},G={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},z={left:"left",start:"left",center:"middle",right:"end",end:"end"},U=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="text",e.canFill=!0,e.canStroke=!0,e}return Object(r["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(r["__assign"])(Object(r["__assign"])({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,e){var n=this,i=this.attr(),r=this.get("el");this._setFont(),Object(p["each"])(e||i,(function(t,e){"text"===e?n._setText(""+t):"matrix"===e&&t?Object(o["c"])(n):c["b"][e]&&r.setAttribute(c["b"][e],t)})),r.setAttribute("paint-order","stroke"),r.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,i=e.textAlign,r=Object(N["a"])();r&&"firefox"===r.name?t.setAttribute("dominant-baseline",G[n]||"alphabetic"):t.setAttribute("alignment-baseline",V[n]||"baseline"),t.setAttribute("text-anchor",z[i]||"left")},e.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),i=n.x,r=n.textBaseline,a=void 0===r?"bottom":r;if(t)if(~t.indexOf("\n")){var o=t.split("\n"),s=o.length-1,l="";Object(p["each"])(o,(function(t,e){0===e?"alphabetic"===a?l+='<tspan x="'+i+'" dy="'+-s+'em">'+t+"</tspan>":"top"===a?l+='<tspan x="'+i+'" dy="0.9em">'+t+"</tspan>":"middle"===a?l+='<tspan x="'+i+'" dy="'+-(s-1)/2+'em">'+t+"</tspan>":"bottom"===a?l+='<tspan x="'+i+'" dy="-'+(s+B)+'em">'+t+"</tspan>":"hanging"===a&&(l+='<tspan x="'+i+'" dy="'+(-(s-1)-B)+'em">'+t+"</tspan>"):l+='<tspan x="'+i+'" dy="1em">'+t+"</tspan>"})),e.innerHTML=l}else e.innerHTML=t;else e.innerHTML=""},e}(d),H=U},6928:function(t,e,n){"use strict";function i(t,e){var n=[],i=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=e[0],p=e[1],f=e[2],g=e[3],m=e[4],v=e[5],y=e[6],b=e[7],x=e[8];return n[0]=d*i+p*o+f*c,n[1]=d*r+p*s+f*u,n[2]=d*a+p*l+f*h,n[3]=g*i+m*o+v*c,n[4]=g*r+m*s+v*u,n[5]=g*a+m*l+v*h,n[6]=y*i+b*o+x*c,n[7]=y*r+b*s+x*u,n[8]=y*a+b*l+x*h,n}function r(t,e){var n=[],i=e[0],r=e[1];return n[0]=t[0]*i+t[3]*r+t[6],n[1]=t[1]*i+t[4]*r+t[7],n}function a(t){var e=[],n=t[0],i=t[1],r=t[2],a=t[3],o=t[4],s=t[5],l=t[6],c=t[7],u=t[8],h=u*o-s*c,d=-u*a+s*l,p=c*a-o*l,f=n*h+i*d+r*p;return f?(f=1/f,e[0]=h*f,e[1]=(-u*i+r*c)*f,e[2]=(s*i-r*o)*f,e[3]=d*f,e[4]=(u*n-r*l)*f,e[5]=(-s*n+r*a)*f,e[6]=p*f,e[7]=(-c*n+i*l)*f,e[8]=(o*n-i*a)*f,e):null}n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a}))},"69b8":function(t,e,n){"use strict";n("188f")},"6b45":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAgCAYAAADqgqNBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzJDNzM4RTZFMjQ4MTFFN0I4MEFENTBFMTlBNkEwRUEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzJDNzM4RTdFMjQ4MTFFN0I4MEFENTBFMTlBNkEwRUEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozMkM3MzhFNEUyNDgxMUU3QjgwQUQ1MEUxOUE2QTBFQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozMkM3MzhFNUUyNDgxMUU3QjgwQUQ1MEUxOUE2QTBFQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqvYL+gAAAKtSURBVHjaYvz//z/DQAEmhgEEA2o5C6kaqhfeCjt18YPpq/d/xZDFzY0lToY6Sa1x1WJ/RaxZjMTGOcjSLQfeenNwc/4QkuBLkxVghMs9/vCf4cfHPwzv3rxdpK/OcnFRhWkf1SyP6zhddPMJq7q+Bn+aKO9vhtefWeEWooNv37/N+vH1O8eMasNMSxWObxRZjm7xuccsWC1FcwADH9uvnt19ZqVkJ7hFux7pXbz5Rx9kMYh/7AoDQYtBgIuTi+HTLza+tCn3s8i2fOqmd9lSyuJxIPbth79JSphAB6SdPPvC/PidH1wkW77p7Fc5UNyBEhYofpEBBz8LQ1u6HMPWVjWGRRVKDFY62M0AJs64LUcf+ZBs+ckrTy3EBJnjsCWsiSmyDMDExMDFxsAgK8zC0BqvxqAqz4o1+EHZkmTLHz//KPOHWQDDYpAlahKYFvlYimE1B708GPzFKwePyA9QlkEHoIR368VvbNGE1Rxg1L0i2XIbNeYjQGoWNrn8OY8ZgKkYEj1v/zB0bPsEzobY8rukGONzksv2ODe5S73Ln3KAEg06AKWDqpmPCAYrMLcscjGS3kNWnIMqC1BxSU58gnwNCnKQJ8iyfFaO4jRQXscW98T4OtZDYjFF9Xlzjl4tyCBSLAbVbj4Owlvx+Zooy/2MuR+BDAIZSGRwzwJVq8CCZxXV6nPXolPdoMoCVGbji2dQKF2cbxlP1WYUqHokFP8gi0HRRJM2XHGkdC+u+IfFMyiaaGI5KAFhi39S4pmish1kASj/Igc/KDqIbbdRXLGA8i8s+EG+BoUG3drtoOCHVRggXxMK7g9f/jACMRsQC1OlSgX5HtZUJkI5NxCzY4iC8jm5WC/h2MKNZ77IEVL3/vNvDmziFDUmiMlawKAG2fGfohJu2HUUAQIMAEwXtVo+8lk6AAAAAElFTkSuQmCC"},"6c7c":function(t,e,n){},"6ce5":function(t,e,n){"use strict";var i=n("df7e"),r=n("ebb5"),a=r.aTypedArray,o=r.exportTypedArrayMethod,s=r.getTypedArrayConstructor;o("toReversed",(function(){return i(a(this),s(this))}))},"6d5e":function(t,e,n){},7:function(t,e){},7226:function(t,e,n){"use strict";n("b34e")},"729f":function(t,e,n){},7326:function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return s})),n.d(e,"l",(function(){return l})),n.d(e,"j",(function(){return c}));var i=n("8937");function r(){return window?window.devicePixelRatio:1}function a(t,e,n,i){var r=t-n,a=e-i;return Math.sqrt(r*r+a*a)}function o(t,e,n,i,r,a){return r>=t&&r<=t+n&&a>=e&&a<=e+i}function s(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function l(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function c(t,e){return t[0]===e[0]&&t[1]===e[1]}n.d(e,"i",(function(){return i["isNil"]})),n.d(e,"k",(function(){return i["isString"]})),n.d(e,"h",(function(){return i["isFunction"]})),n.d(e,"g",(function(){return i["isArray"]})),n.d(e,"c",(function(){return i["each"]})),n.d(e,"o",(function(){return i["toRadian"]})),n.d(e,"m",(function(){return i["mod"]})),n.d(e,"n",(function(){return i["requestAnimationFrame"]})),n.d(e,"a",(function(){return i["clearAnimationFrame"]}))},7349:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o}));var i=n("00f9"),r=n("73ec");function a(t,e){e.forEach((function(e){e.draw(t)}))}function o(t,e){var n=t.get("canvas");if(n&&n.get("autoDraw")){var a=n.get("context"),o=t.getParent(),s=o?o.getChildren():[n],l=t.get("el");if("remove"===e){var c=t.get("isClipShape");if(c){var u=l&&l.parentNode,h=u&&u.parentNode;u&&h&&h.removeChild(u)}else l&&l.parentNode&&l.parentNode.removeChild(l)}else if("show"===e)l.setAttribute("visibility","visible");else if("hide"===e)l.setAttribute("visibility","hidden");else if("zIndex"===e)Object(r["c"])(l,s.indexOf(t));else if("sort"===e){var d=t.get("children");d&&d.length&&Object(r["d"])(t,(function(t,e){return d.indexOf(t)-d.indexOf(e)?1:0}))}else"clear"===e?l&&(l.innerHTML=""):"matrix"===e?Object(i["c"])(t):"clip"===e?Object(i["a"])(t,a):"attr"===e||"add"===e&&t.draw(a)}}},"73ec":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return l}));var i=n("8937"),r=n("22f9");function a(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function o(t){var e=r["a"][t.type],n=t.getParent();if(!e)throw new Error("the type "+t.type+" is not supported by svg");var i=a(e);if(t.get("id")&&(i.id=t.get("id")),t.set("el",i),t.set("attrs",{}),n){var o=n.get("el");o||(o=n.createDom(),n.set("el",o)),o.appendChild(i)}return i}function s(t,e){var n=t.get("el"),r=Object(i["toArray"])(n.children).sort(e),a=document.createDocumentFragment();r.forEach((function(t){a.appendChild(t)})),n.appendChild(a)}function l(t,e){var n=t.parentNode,i=Array.from(n.childNodes).filter((function(t){return 1===t.nodeType&&"defs"!==t.nodeName.toLowerCase()})),r=i[e],a=i.indexOf(t);if(r){if(a>e)n.insertBefore(t,r);else if(a<e){var o=i[e+1];o?n.insertBefore(t,o):n.appendChild(t)}}else n.appendChild(t)}},"75ed":function(t,e,n){"use strict";var i=n("9ab4"),r=n("7c8a"),a=n("8937"),o=n("e546"),s=n("3665"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.show=function(){var t=this.get("container");t.style.display="",this.set("visible",!0)},e.prototype.hide=function(){var t=this.get("container");t.style.display="none",this.set("visible",!1)},e.prototype.setCapture=function(t){var e=this.getContainer(),n=t?"auto":"none";e.style.pointerEvents=n,this.set("capture",t)},e.prototype.getBBox=function(){var t=this.getContainer(),e=parseFloat(t.style.left)||0,n=parseFloat(t.style.top)||0;return Object(o["b"])(e,n,t.clientWidth,t.clientHeight)},e.prototype.clear=function(){var t=this.get("container");Object(o["a"])(t)},e.prototype.destroy=function(){this.removeEvent(),this.removeDom(),t.prototype.destroy.call(this)},e.prototype.init=function(){t.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},e.prototype.initCapture=function(){this.setCapture(this.get("capture"))},e.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},e.prototype.initDom=function(){},e.prototype.initContainer=function(){var t=this.get("container");if(Object(a["isNil"])(t)){t=this.createDom();var e=this.get("parent");Object(a["isString"])(e)&&(e=document.getElementById(e),this.set("parent",e)),e.appendChild(t),this.get("containerId")&&t.setAttribute("id",this.get("containerId")),this.set("container",t)}else Object(a["isString"])(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},e.prototype.resetStyles=function(){var t=this.get("domStyles"),e=this.get("defaultStyles");t=t?Object(a["deepMix"])({},e,t):e,this.set("domStyles",t)},e.prototype.applyStyles=function(){var t=this.get("domStyles");if(t){var e=this.getContainer();this.applyChildrenStyles(e,t);var n=this.get("containerClassName");if(n&&Object(o["h"])(e,n)){var i=t[n];Object(r["e"])(e,i)}}},e.prototype.applyChildrenStyles=function(t,e){Object(a["each"])(e,(function(e,n){var i=t.getElementsByClassName(n);Object(a["each"])(i,(function(t){Object(r["e"])(t,e)}))}))},e.prototype.applyStyle=function(t,e){var n=this.get("domStyles");Object(r["e"])(e,n[t])},e.prototype.createDom=function(){var t=this.get("containerTpl");return Object(r["b"])(t)},e.prototype.initEvent=function(){},e.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},e.prototype.removeEvent=function(){},e.prototype.updateInner=function(t){Object(a["hasKey"])(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},e.prototype.resetPosition=function(){},e}(s["a"]);e["a"]=l},"766e":function(t,e,n){"use strict";n("3436")},"76bb":function(t,e,n){"use strict";n("fddea")},7727:function(t,e,n){},7939:function(t,e,n){"use strict";n("2d22")},7991:function(t,e,n){"use strict";n("12c4")},"79c0":function(t,e,n){},"7a09":function(t,e,n){"use strict";var i=n("9abc"),r=n("9769"),a=n("0af5"),o=n("abb7"),s=n("1c48"),l=n("9f5e"),c=n("fd4d"),u=n("bb6c"),h=n("b1a2"),d=n("c560"),p=n("5938");class f extends i["a"]{constructor(t,e){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}appendCoordinate(t){this.flatCoordinates?Object(l["e"])(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()}clone(){const t=new f(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,i){return i<Object(a["f"])(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(r["e"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(r["d"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))}forEachSegment(t){return Object(c["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,e){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(e=void 0!==e&&e,Object(h["b"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e))}getCoordinates(){return Object(u["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,e){return Object(h["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)}getLength(){return Object(p["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){const e=[];return e.length=Object(s["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new f(e,"XY")}getType(){return"LineString"}intersectsExtent(t){return Object(d["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(o["b"])(this.flatCoordinates,0,t,this.stride),this.changed()}}e["a"]=f},"7b46":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return f}));var i=function(t,e,n){if(n||2===arguments.length)for(var i,r=0,a=e.length;r<a;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},r=function(){function t(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"}return t}(),a=function(){function e(e){this.version=e,this.type="node",this.name="node",this.os=t.platform}return e}(),o=function(){function t(t,e,n,i){this.name=t,this.version=e,this.os=n,this.bot=i,this.type="bot-device"}return t}(),s=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),l=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),c=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,u=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,h=3,d=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",c]],p=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function f(t){return t?m(t):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new l:"undefined"!==typeof navigator?m(navigator.userAgent):y()}function g(t){return""!==t&&d.reduce((function(e,n){var i=n[0],r=n[1];if(e)return e;var a=r.exec(t);return!!a&&[i,a]}),!1)}function m(t){var e=g(t);if(!e)return null;var n=e[0],a=e[1];if("searchbot"===n)return new s;var l=a[1]&&a[1].split(".").join("_").split("_").slice(0,3);l?l.length<h&&(l=i(i([],l,!0),b(h-l.length),!0)):l=[];var c=l.join("."),d=v(t),p=u.exec(t);return p&&p[1]?new o(n,c,d,p[1]):new r(n,c,d)}function v(t){for(var e=0,n=p.length;e<n;e++){var i=p[e],r=i[0],a=i[1],o=a.exec(t);if(o)return r}return null}function y(){var e="undefined"!==typeof t&&t.version;return e?new a(t.version.slice(1)):null}function b(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}}).call(this,n("4362"))},"7b48":function(t,e,n){"use strict";n("612f")},"7c50":function(t,e,n){"use strict";n.d(e,"a",(function(){return A}));var i=n("9ab4"),r=n("8937"),a=n("31e6"),o={opacity:0},s={stroke:"#C5C5C5",strokeOpacity:.85},l={fill:"#CACED4",opacity:.85},c=n("2ef1"),u=n("f2fb");function h(t){return Object(r["map"])(t,(function(t,e){var n=0===e?"M":"L",i=t[0],r=t[1];return[n,i,r]}))}function d(t){return h(t)}function p(t){if(t.length<=2)return d(t);var e=[];Object(r["each"])(t,(function(t){Object(r["isEqual"])(t,e.slice(e.length-2))||e.push(t[0],t[1])}));var n=Object(c["catmullRom2Bezier"])(e,!1),i=Object(r["head"])(t),a=i[0],o=i[1];return n.unshift(["M",a,o]),n}function f(t,e,n,i){void 0===i&&(i=!0);var a=new u["b"]({values:t}),o=new u["a"]({values:Object(r["map"])(t,(function(t,e){return e}))}),s=Object(r["map"])(t,(function(t,i){return[o.scale(i)*e,n-a.scale(t)*n]}));return i?p(s):d(s)}function g(t,e){var n=new u["b"]({values:t}),i=n.max<0?n.max:Math.max(0,n.min);return e-n.scale(i)*e}function m(t,e,n,r){var a=Object(i["__spreadArrays"])(t),o=g(r,n);return a.push(["L",e,o]),a.push(["L",0,o]),a.push(["Z"]),a}var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:o,lineStyle:s,areaStyle:l})},e.prototype.renderInner=function(t){var e=this.cfg,n=e.width,r=e.height,a=e.data,o=e.smooth,s=e.isArea,l=e.backgroundStyle,c=e.lineStyle,u=e.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:Object(i["__assign"])({x:0,y:0,width:n,height:r},l)});var h=f(a,n,r,o);if(this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:Object(i["__assign"])({path:h},c)}),s){var d=m(h,n,r,a);this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:Object(i["__assign"])({path:d},u)})}},e.prototype.applyOffset=function(){var t=this.cfg,e=t.x,n=t.y;this.moveElementTo(this.get("group"),{x:e,y:n})},e}(a["a"]),y={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{name:"handler",x:0,y:0,width:10,height:24,style:y})},e.prototype.renderInner=function(t){var e=this.cfg,n=e.width,i=e.height,r=e.style,a=r.fill,o=r.stroke,s=r.radius,l=r.opacity,c=r.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:n,height:i,fill:a,stroke:o,radius:s,opacity:l,cursor:c}});var u=1/3*n,h=2/3*n,d=1/4*i,p=3/4*i;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:u,y1:d,x2:u,y2:p,stroke:o,cursor:c}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:h,y1:d,x2:h,y2:p,stroke:o,cursor:c}})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.bindEvents=function(){var t=this;this.get("group").on("mouseenter",(function(){var e=t.get("style").highLightFill;t.getElementByLocalId("background").attr("fill",e),t.draw()})),this.get("group").on("mouseleave",(function(){var e=t.get("style").fill;t.getElementByLocalId("background").attr("fill",e),t.draw()}))},e.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},e}(a["a"]),x={fill:"#416180",opacity:.05},_={fill:"#5B8FF9",opacity:.15,cursor:"move"},w=10,S={width:w,height:24},O={textBaseline:"middle",fill:"#000",opacity:.45},C="sliderchange",A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onMouseDown=function(t){return function(n){e.currentTarget=t;var i=n.originalEvent;i.stopPropagation(),i.preventDefault(),e.prevX=Object(r["get"])(i,"touches.0.pageX",i.pageX),e.prevY=Object(r["get"])(i,"touches.0.pageY",i.pageY);var a=e.getContainerDOM();a.addEventListener("mousemove",e.onMouseMove),a.addEventListener("mouseup",e.onMouseUp),a.addEventListener("mouseleave",e.onMouseUp),a.addEventListener("touchmove",e.onMouseMove),a.addEventListener("touchend",e.onMouseUp),a.addEventListener("touchcancel",e.onMouseUp)}},e.onMouseMove=function(t){var n=e.cfg.width,i=[e.get("start"),e.get("end")];t.stopPropagation(),t.preventDefault();var a=Object(r["get"])(t,"touches.0.pageX",t.pageX),o=Object(r["get"])(t,"touches.0.pageY",t.pageY),s=a-e.prevX,l=e.adjustOffsetRange(s/n);e.updateStartEnd(l),e.updateUI(e.getElementByLocalId("foreground"),e.getElementByLocalId("minText"),e.getElementByLocalId("maxText")),e.prevX=a,e.prevY=o,e.draw(),e.emit(C,[e.get("start"),e.get("end")].sort()),e.delegateEmit("valuechanged",{originValue:i,value:[e.get("start"),e.get("end")]})},e.onMouseUp=function(){e.currentTarget&&(e.currentTarget=void 0);var t=e.getContainerDOM();t&&(t.removeEventListener("mousemove",e.onMouseMove),t.removeEventListener("mouseup",e.onMouseUp),t.removeEventListener("mouseleave",e.onMouseUp),t.removeEventListener("touchmove",e.onMouseMove),t.removeEventListener("touchend",e.onMouseUp),t.removeEventListener("touchcancel",e.onMouseUp))},e}return Object(i["__extends"])(e,t),e.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var n=this.get("start"),i=this.get("end"),a=Object(r["clamp"])(n,t,e),o=Object(r["clamp"])(i,t,e);this.get("isInit")||n===a&&i===o||this.setValue([a,o])},e.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},e.prototype.setValue=function(t){var e=this.getRange();if(Object(r["isArray"])(t)&&2===t.length){var n=[this.get("start"),this.get("end")];this.update({start:Object(r["clamp"])(t[0],e.min,e.max),end:Object(r["clamp"])(t[1],e.min,e.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:n,value:t})}},e.prototype.getValue=function(){return[this.get("start"),this.get("end")]},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:x,foregroundStyle:_,handlerStyle:S,textStyle:O}})},e.prototype.update=function(e){var n=e.start,a=e.end,o=Object(i["__assign"])({},e);Object(r["isNil"])(n)||(o.start=Object(r["clamp"])(n,0,1)),Object(r["isNil"])(a)||(o.end=Object(r["clamp"])(a,0,1)),t.prototype.update.call(this,o),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},e.prototype.init=function(){this.set("start",Object(r["clamp"])(this.get("start"),0,1)),this.set("end",Object(r["clamp"])(this.get("end"),0,1)),t.prototype.init.call(this)},e.prototype.render=function(){t.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},e.prototype.renderInner=function(t){var e=this.cfg,n=(e.start,e.end,e.width),a=e.height,o=e.trendCfg,s=void 0===o?{}:o,l=e.minText,c=e.maxText,u=e.backgroundStyle,h=void 0===u?{}:u,d=e.foregroundStyle,p=void 0===d?{}:d,f=e.textStyle,g=void 0===f?{}:f,m=Object(r["deepMix"])({},y,this.cfg.handlerStyle);Object(r["size"])(Object(r["get"])(s,"data"))&&(this.trend=this.addComponent(t,Object(i["__assign"])({component:v,id:this.getElementId("trend"),x:0,y:0,width:n,height:a},s))),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:Object(i["__assign"])({x:0,y:0,width:n,height:a},h)});this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:Object(i["__assign"])({y:a/2,textAlign:"right",text:l,silent:!1},g)}),this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:Object(i["__assign"])({y:a/2,textAlign:"left",text:c,silent:!1},g)}),this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:Object(i["__assign"])({y:0,height:a},p)});var x=Object(r["get"])(m,"width",w),_=Object(r["get"])(m,"height",24);this.minHandler=this.addComponent(t,{component:b,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(a-_)/2,width:x,height:_,cursor:"ew-resize",style:m}),this.maxHandler=this.addComponent(t,{component:b,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(a-_)/2,width:x,height:_,cursor:"ew-resize",style:m})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.updateUI=function(t,e,n){var i=this.cfg,a=i.start,o=i.end,s=i.width,l=i.minText,c=i.maxText,u=i.handlerStyle,h=i.height,d=a*s,p=o*s;this.trend&&(this.trend.update({width:s,height:h}),this.get("updateAutoRender")||this.trend.render()),t.attr("x",d),t.attr("width",p-d);var f=Object(r["get"])(u,"width",w);e.attr("text",l),n.attr("text",c);var g=this._dodgeText([d,p],e,n),m=g[0],v=g[1];this.minHandler&&(this.minHandler.update({x:d-f/2}),this.get("updateAutoRender")||this.minHandler.render()),Object(r["each"])(m,(function(t,n){return e.attr(n,t)})),this.maxHandler&&(this.maxHandler.update({x:p-f/2}),this.get("updateAutoRender")||this.maxHandler.render()),Object(r["each"])(v,(function(t,e){return n.attr(e,t)}))},e.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var e=t.findById(this.getElementId("foreground"));e.on("mousedown",this.onMouseDown("foreground")),e.on("touchstart",this.onMouseDown("foreground"))},e.prototype.adjustOffsetRange=function(t){var e=this.cfg,n=e.start,i=e.end;switch(this.currentTarget){case"minHandler":var r=0-n,a=1-n;return Math.min(a,Math.max(r,t));case"maxHandler":r=0-i,a=1-i;return Math.min(a,Math.max(r,t));case"foreground":r=0-n,a=1-i;return Math.min(a,Math.max(r,t))}},e.prototype.updateStartEnd=function(t){var e=this.cfg,n=e.start,i=e.end;switch(this.currentTarget){case"minHandler":n+=t;break;case"maxHandler":i+=t;break;case"foreground":n+=t,i+=t;break}this.set("start",n),this.set("end",i)},e.prototype._dodgeText=function(t,e,n){var i,a,o=this.cfg,s=o.handlerStyle,l=o.width,c=2,u=Object(r["get"])(s,"width",w),h=t[0],d=t[1],p=!1;h>d&&(i=[d,h],h=i[0],d=i[1],a=[n,e],e=a[0],n=a[1],p=!0);var f=e.getBBox(),g=n.getBBox(),m=f.width>h-c?{x:h+u/2+c,textAlign:"left"}:{x:h-u/2-c,textAlign:"right"},v=g.width>l-d-c?{x:d-u/2-c,textAlign:"right"}:{x:d+u/2+c,textAlign:"left"};return p?[v,m]:[m,v]},e.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},e.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},e}(a["a"])},"7c86":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3NpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozMmMyNjgwOS1mOTMwLTQyYTEtYjBjZi1kNjYyNjY3MjFhYzEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDREODQ2QTAxMTgyMTFFNDk0QTg5MjZDRjBEOTA3RDkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDREODQ2OUYxMTgyMTFFNDk0QTg5MjZDRjBEOTA3RDkiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjY2N2Q2MDAtM2RkMS00ZWZhLTgyNTktZTA0MWUyYTkwOTZjIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjMyYzI2ODA5LWY5MzAtNDJhMS1iMGNmLWQ2NjI2NjcyMWFjMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpvwpEgAAAXeSURBVHjavJh7TJZ1FMd5X15AROQShCGJNISMRWktcmYspw0rVpYtrc2yGlJuteVmW5dRc6ykWisV5kz/KNtyWmu4soumZLGo7EKaaV6mIg4vKXF7ub59j32fdXZ63qurs332PL/7eX6Xc87v8QQCgbgYJAVMA1NABUgH+8Fh0Mz3QeDncwCMgL6oRxIFo2QGWA9OB/6WH8Aj4FLgiaG/kERT2QtWgp7AP1IVpo2H7WJW0BfhRMeDT8AspveBMtAFskEO8IBEMBVcBwpZ5uPSngG/gC/BtoiXO8IvaVaztoV5BeBdcAScBF2gLxCZSN0akBTLEtslWa06/gk8CHYw3QsGArFLO1gQjYIJ5qsqVWdD4GelUC14O8jAovhRcMqlrBscB8MqrzZSBbOMgj+qTobVqS0Br7kM/hmYYvr08eRvVfWawMOglWn56LpwCqaCXJWe46LAfpbVuZTdo9rOBSvAcvA4P0jy88DvrP8G815SK1QdSsFCMEGl640CZ5n/rMmXjktZ1hhivw1S6WKwjnkvs91tLD8IprkpKMswC+Sowj1mgFu4/FYquYSRygmwGHzPdAXHE8XO0QmkWQUncll8TBebTpuZ32DyN4BFMZzeAbX/ZCLGsP95TFdaQ30FGAOGmL7KmMsVfC4y+afBMy7mVfzueXAIHKU/vpK+WyQBXM33EnAHeA9sBpeDOeAL0OOlpZ8IMtQAl5kBPwVFIEnlHaQ3KbS2n4wCk6iAKFjN+gdcPmi2en8LdIJSSXjZ0QSQpSqNMx1IVJJr8pJBsctgHrrG0YxyJoOF/Mgstllj2sznDMfRfW7jql5QMJXTmqgaXGs6yOYsaMkEY6MInETZj8BSzuYrqkw+ZqVKfwU6QJqXimVwCZ1Yb7LLErS5zKAvhljyVXA/WAY+V/kSiNzE935wXHTxcvn8DECdgcebTp8EZ8GvQQZtBy9wv5XwvV2VS8A6rNL1fL5o+qlS750XtguOcjpYxSOfTxskct7EfmIHHw1iNmpc3FSNKu8AbabNfNbTY3SCDOYniuv10hycoNYV1FxkB/hWfdHr4Buw12UGN4XJE7Oyh6fbkYf41Kda9vStyhr0e02lp3iiB7hx16vG14DVYIP6iEhF9vhvYLvKK+Mh7TB1S5Qt9TsK7mTEKwdlLmjkl3zMk+fIzWAB+Job2ZF7XZSyeX+C78zFaxyV1OLsf9mzg84plAPwPlhME3CY+aLkXcbElNIA/8FQ36s29yalXJUZ+BToVek+ti9wMUeuIb9EMv3KoTubVsrKXQ7GCAkEKRs2eRKMzFTpVkYxOtoReUcfNj29x0Ad33PVppV92ASmc9a0x/C4LG03L1XDxszsMuZrq3KTu9WW0ebpX+v/PPeXFgkQlvBCnsPTfM5FMVnCjWAd3WeCKmukAuUq7wh4gAduC/ek4+ND3uqSGTlbsfeGHMZw5QxYp4KlvG/Y0CqVbbqYJ3V28n0JeIzvZxg4h724Z6p4TctuhuVFNKiZDOMXgu1B9qNzuX/aXKpEWlj2IdMbo/2z0BDiEPh5QxsJEZjOYz9lLmVyNxkLRqn79J3hFBT3Em/yZBl3RRkxy+U+m+3vdimXmZvE8mXM20xlQyqYTF8cH+Sn0T41SA+vpbI8H4A1vF84g4w3fyQceVP9HMihnz4AbnRbRXuK+2iU8xjvaREzcT1YRT85mnGinOgWhuhiZJ/jSWxTEZIja8ETdGNxdAryvpx+PuJ/M5eA6YxgslzK8/lLpDuKZa83fczmn4pqt6V18IT4gSl2bAYvNyfp/sQA95h6cn+5gYZ8JqPxeFNHZrVWpYuYbqIj6A2mhCeCP6zOLauSxvQYHf8hboksLm05I54kY4zvM0FCAY3/Xvr/oVCDR6JgHD1DPkP/2/kPMM0o40gP92MD3Zn+x1jEy5GsRquJDy9KQatsHpc0nYclhbPaQvymjY8RUDLjwt5IB4tFwVg+KEVd5qMa0Bf334uHe9UfrXL/1wxelPwlwADs4pvH5P8anQAAAABJRU5ErkJggg=="},"7c8a":function(t,e,n){"use strict";function i(t,e,n){if(t){if("function"===typeof t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if("function"===typeof t.attachEvent)return t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}}}var r,a,o,s;function l(){r=document.createElement("table"),a=document.createElement("tr"),o=/^\s*<(\w+|!)[^>]*>/,s={tr:document.createElement("tbody"),tbody:r,thead:r,tfoot:r,td:a,th:a,"*":document.createElement("div")}}function c(t){r||l();var e=o.test(t)&&RegExp.$1;e&&e in s||(e="*");var n=s[e];t="string"===typeof t?t.replace(/(^\s*)|(\s*$)/g,""):t,n.innerHTML=""+t;var i=n.childNodes[0];return i&&n.contains(i)&&n.removeChild(i),i}function u(t,e,n){var i;try{i=window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.style[e]}catch(r){}finally{i=void 0===i?n:i}return i}function h(t,e){var n=u(t,"height",e);return"auto"===n&&(n=t.offsetHeight),parseFloat(n)}function d(t,e){var n=h(t,e),i=parseFloat(u(t,"borderTopWidth"))||0,r=parseFloat(u(t,"paddingTop"))||0,a=parseFloat(u(t,"paddingBottom"))||0,o=parseFloat(u(t,"borderBottomWidth"))||0,s=parseFloat(u(t,"marginTop"))||0,l=parseFloat(u(t,"marginBottom"))||0;return n+i+o+r+a+s+l}function p(t,e){var n=u(t,"width",e);return"auto"===n&&(n=t.offsetWidth),parseFloat(n)}function f(t,e){var n=p(t,e),i=parseFloat(u(t,"borderLeftWidth"))||0,r=parseFloat(u(t,"paddingLeft"))||0,a=parseFloat(u(t,"paddingRight"))||0,o=parseFloat(u(t,"borderRightWidth"))||0,s=parseFloat(u(t,"marginRight"))||0,l=parseFloat(u(t,"marginLeft"))||0;return n+i+o+r+a+l+s}function g(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return g}))},"7c8a6":function(t,e,n){"use strict";n("6d5e")},"7cfd":function(t,e,n){"use strict";n.r(e),n.d(e,"Line",(function(){return V})),n.d(e,"Circle",(function(){return z})),n.d(e,"Base",(function(){return g}));var i={};n.r(i),n.d(i,"getDefault",(function(){return y})),n.d(i,"ellipsisHead",(function(){return b})),n.d(i,"ellipsisTail",(function(){return x})),n.d(i,"ellipsisMiddle",(function(){return _}));var r={};n.r(r),n.d(r,"getDefault",(function(){return T})),n.d(r,"reserveFirst",(function(){return k})),n.d(r,"reserveLast",(function(){return L})),n.d(r,"reserveBoth",(function(){return j})),n.d(r,"equidistance",(function(){return I})),n.d(r,"equidistanceWithReverseBoth",(function(){return E}));var a={};n.r(a),n.d(a,"getDefault",(function(){return D})),n.d(a,"fixedAngle",(function(){return F})),n.d(a,"unfixedAngle",(function(){return N}));var o={};n.r(o),n.d(o,"autoHide",(function(){return r})),n.d(o,"autoRotate",(function(){return a})),n.d(o,"autoEllipsis",(function(){return i}));var s=n("9ab4"),l=n("e897"),c=n("8937"),u=n("31e6"),h=n("8ea8"),d=n("9778"),p=n("2f5e"),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(s["__assign"])(Object(s["__assign"])({},e),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:p["a"].lineColor}},tickLine:{style:{lineWidth:1,stroke:p["a"].lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:p["a"].lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:p["a"].textColor,fontFamily:p["a"].fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:p["a"].textColor,textBaseline:"middle",fontFamily:p["a"].fontFamily,textAlign:"center"},iconStyle:{fill:p["a"].descriptionIconFill,stroke:p["a"].descriptionIconStroke},description:""},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:p["a"].uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},e.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("ticks")},e.prototype.setItems=function(t){this.update({ticks:t})},e.prototype.updateItem=function(t,e){Object(c["mix"])(t,e),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},e.prototype.setItemState=function(t,e,n){t[e]=n,this.updateTickStates(t)},e.prototype.hasState=function(t,e){return!!t[e]},e.prototype.getItemStates=function(t){var e=this.get("tickStates"),n=[];return Object(c["each"])(e,(function(e,i){t[i]&&n.push(i)})),n},e.prototype.clearItemsState=function(t){var e=this,n=this.getItemsByState(t);Object(c["each"])(n,(function(n){e.setItemState(n,t,!1)}))},e.prototype.getItemsByState=function(t){var e=this,n=this.getItems();return Object(c["filter"])(n,(function(n){return e.hasState(n,t)}))},e.prototype.getSidePoint=function(t,e){var n=this,i=n.getSideVector(e,t);return{x:t.x+i[0],y:t.y+i[1]}},e.prototype.getTextAnchor=function(t){var e;return Object(c["isNumberEqual"])(t[0],0)?e="center":t[0]>0?e="start":t[0]<0&&(e="end"),e},e.prototype.getTextBaseline=function(t){var e;return Object(c["isNumberEqual"])(t[1],0)?e="middle":t[1]>0?e="top":t[1]<0&&(e="bottom"),e},e.prototype.processOverlap=function(t){},e.prototype.drawLine=function(t){var e=this.getLinePath(),n=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:Object(c["mix"])({path:e},n.style)})},e.prototype.getTickLineItems=function(t){var e=this,n=[],i=this.get("tickLine"),r=i.alignTick,a=i.length,o=1,s=t.length;return s>=2&&(o=t[1].value-t[0].value),Object(c["each"])(t,(function(t){var i=t.point;r||(i=e.getTickPoint(t.value-o/2));var s=e.getSidePoint(i,a);n.push({startPoint:i,tickValue:t.value,endPoint:s,tickId:t.id,id:"tickline-"+t.id})})),n},e.prototype.getSubTickLineItems=function(t){var e=[],n=this.get("subTickLine"),i=n.count,r=t.length;if(r>=2)for(var a=0;a<r-1;a++)for(var o=t[a],s=t[a+1],l=0;l<i;l++){var c=(l+1)/(i+1),u=(1-c)*o.tickValue+c*s.tickValue,h=this.getTickPoint(u),d=this.getSidePoint(h,n.length);e.push({startPoint:h,endPoint:d,tickValue:u,id:"sub-"+o.id+"-"+l})}return e},e.prototype.getTickLineAttrs=function(t,e,n,i){var r=this.get(e).style,a={points:[t.startPoint,t.endPoint]},o=Object(c["get"])(this.get("theme"),["tickLine","style"],{});r=Object(c["isFunction"])(r)?Object(c["mix"])({},o,r(a,n,i)):r;var l=t.startPoint,u=t.endPoint;return Object(s["__assign"])({x1:l.x,y1:l.y,x2:u.x,y2:u.y},r)},e.prototype.drawTick=function(t,e,n,i,r){this.addShape(e,{type:"line",id:this.getElementId(t.id),name:"axis-"+n,attrs:this.getTickLineAttrs(t,n,i,r)})},e.prototype.drawTickLines=function(t){var e=this,n=this.get("ticks"),i=this.get("subTickLine"),r=this.getTickLineItems(n),a=this.addGroup(t,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),o=this.get("tickLine");if(Object(c["each"])(r,(function(n,i){if(o.displayWithLabel){var s=e.getElementId("label-"+n.tickId);t.findById(s)&&e.drawTick(n,a,"tickLine",i,r)}else e.drawTick(n,a,"tickLine",i,r)})),i){var s=this.getSubTickLineItems(r);Object(c["each"])(s,(function(t,n){e.drawTick(t,a,"subTickLine",n,s)}))}},e.prototype.processTicks=function(){var t=this,e=this.get("ticks");Object(c["each"])(e,(function(e){e.point=t.getTickPoint(e.value),Object(c["isNil"])(e.id)&&(e.id=e.name)}))},e.prototype.drawTicks=function(t){var e=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(t),this.get("tickLine")&&this.drawTickLines(t);var n=this.get("ticks");Object(c["each"])(n,(function(n){e.applyTickStates(n,t)}))},e.prototype.optimizeTicks=function(){var t=this.get("optimize"),e=this.get("ticks");if(t&&t.enable&&t.threshold>0){var n=Object(c["size"])(e);if(n>t.threshold){var i=Math.ceil(n/t.threshold),r=e.filter((function(t,e){return e%i===0}));this.set("ticks",r),this.set("originalTicks",e)}}},e.prototype.getLabelAttrs=function(t,e,n){var i=this.get("label"),r=i.offset,a=i.offsetX,o=i.offsetY,s=i.rotate,l=i.formatter,u=this.getSidePoint(t.point,r),d=this.getSideVector(r,u),p=l?l(t.name,t,e):t.name,f=i.style;f=Object(c["isFunction"])(f)?Object(c["get"])(this.get("theme"),["label","style"],{}):f;var g=Object(c["mix"])({x:u.x+a,y:u.y+o,text:p,textAlign:this.getTextAnchor(d),textBaseline:this.getTextBaseline(d)},f);return s&&(g.matrix=Object(h["e"])(u,s)),g},e.prototype.drawLabels=function(t){var e=this,n=this.get("ticks"),i=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});Object(c["each"])(n,(function(t,r){e.addShape(i,{type:"text",name:"axis-label",id:e.getElementId("label-"+t.id),attrs:e.getLabelAttrs(t,r,n),delegateObject:{tick:t,item:t,index:r}})})),this.processOverlap(i);var r=i.getChildren(),a=Object(c["get"])(this.get("theme"),["label","style"],{}),o=this.get("label"),s=o.style,l=o.formatter;if(Object(c["isFunction"])(s)){var u=r.map((function(t){return Object(c["get"])(t.get("delegateObject"),"tick")}));Object(c["each"])(r,(function(t,e){var n=t.get("delegateObject").tick,i=l?l(n.name,n,e):n.name,r=Object(c["mix"])({},a,s(i,e,u));t.attr(r)}))}},e.prototype.getTitleAttrs=function(){var t=this.get("title"),e=t.style,n=t.position,i=t.offset,r=t.spacing,a=void 0===r?0:r,o=t.autoRotate,s=e.fontSize,u=.5;"start"===n?u=0:"end"===n&&(u=1);var d=this.getTickPoint(u),p=this.getSidePoint(d,i||a+s/2),f=Object(c["mix"])({x:p.x,y:p.y,text:t.text},e),g=t.rotate,m=g;if(Object(c["isNil"])(g)&&o){var v=this.getAxisVector(d),y=[1,0];m=l["ext"].angleTo(v,y,!0)}if(m){var b=Object(h["e"])(p,m);f.matrix=b}return f},e.prototype.drawTitle=function(t){var e,n=this.getTitleAttrs(),i=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:n});(null===(e=this.get("title"))||void 0===e?void 0:e.description)&&this.drawDescriptionIcon(t,i,n.matrix)},e.prototype.drawDescriptionIcon=function(t,e,n){var i=this.addGroup(t,{name:"axis-description",id:this.getElementById("description")}),r=e.getBBox(),a=r.maxX,o=r.maxY,l=r.height,c=this.get("title").iconStyle,u=4,h=l/2,d=h/6,p=a+u,f=o-l/2,g=[p+h,f-h],m=g[0],v=g[1],y=[m+h,v+h],b=y[0],x=y[1],_=[m,x+h],w=_[0],S=_[1],O=[p,v+h],C=O[0],A=O[1],M=[p+h,f-l/4],T=M[0],k=M[1],L=[T,k+d],j=L[0],I=L[1],E=[j,I+d],P=E[0],R=E[1],D=[P,R+3*h/4],F=D[0],N=D[1];this.addShape(i,{type:"path",id:this.getElementId("title-description-icon"),name:"axis-title-description-icon",attrs:Object(s["__assign"])({path:[["M",m,v],["A",h,h,0,0,1,b,x],["A",h,h,0,0,1,w,S],["A",h,h,0,0,1,C,A],["A",h,h,0,0,1,m,v],["M",T,k],["L",j,I],["M",P,R],["L",F,N]],lineWidth:d,matrix:n},c)}),this.addShape(i,{type:"rect",id:this.getElementId("title-description-rect"),name:"axis-title-description-rect",attrs:{x:p,y:f-l/2,width:l,height:l,stroke:"#000",fill:"#000",opacity:0,matrix:n,cursor:"pointer"}})},e.prototype.applyTickStates=function(t,e){var n=this.getItemStates(t);if(n.length){var i=this.get("tickStates"),r=this.getElementId("label-"+t.id),a=e.findById(r);if(a){var o=Object(d["a"])(t,"label",i);o&&a.attr(o)}var s=this.getElementId("tickline-"+t.id),l=e.findById(s);if(l){var c=Object(d["a"])(t,"tickLine",i);c&&l.attr(c)}}},e.prototype.updateTickStates=function(t){var e=this.getItemStates(t),n=this.get("tickStates"),i=this.get("label"),r=this.getElementByLocalId("label-"+t.id),a=this.get("tickLine"),o=this.getElementByLocalId("tickline-"+t.id);if(e.length){if(r){var s=Object(d["a"])(t,"label",n);s&&r.attr(s)}if(o){var l=Object(d["a"])(t,"tickLine",n);l&&o.attr(l)}}else r&&r.attr(i.style),o&&o.attr(a.style)},e}(u["a"]),g=f,m=n("060b");function v(t,e,n,i){var r=e.getChildren(),a=!1;return Object(c["each"])(r,(function(e){var r=Object(m["a"])(t,e,n,i);a=a||r})),a}function y(){return x}function b(t,e,n){return v(t,e,n,"head")}function x(t,e,n){return v(t,e,n,"tail")}function _(t,e,n){return v(t,e,n,"middle")}var w=n("e546");function S(t){var e=t.attr("matrix");return e&&1!==e[0]}function O(t){var e=S(t)?Object(h["d"])(t.attr("matrix")):0;return e%360}function C(t,e,n,i){var r=!1,a=O(e),o=t?Math.abs(n.attr("y")-e.attr("y")):Math.abs(n.attr("x")-e.attr("x")),s=(t?n.attr("y")>e.attr("y"):n.attr("x")>e.attr("x"))?e.getBBox():n.getBBox();if(t){var l=Math.abs(Math.cos(a));r=Object(w["i"])(l,0,Math.PI/180)?s.width+i>o:s.height/l+i>o}else{l=Math.abs(Math.sin(a));r=Object(w["i"])(l,0,Math.PI/180)?s.width+i>o:s.height/l+i>o}return r}function A(t,e,n,i){var r=(null===i||void 0===i?void 0:i.minGap)||0,a=e.getChildren().slice().filter((function(t){return t.get("visible")}));if(!a.length)return!1;var o=!1;n&&a.reverse();for(var s=a.length,l=a[0],c=l,u=1;u<s;u++){var h=a[u],d=(h.getBBox(),C(t,c,h,r));d?(h.hide(),o=!0):c=h}return o}function M(t,e,n){var i=(null===n||void 0===n?void 0:n.minGap)||0,r=e.getChildren().slice();if(r.length<2)return!1;var a=!1,o=r[0],s=o.getBBox(),l=r[1],c=r.length,u=O(o),h=t?Math.abs(l.attr("y")-o.attr("y")):Math.abs(l.attr("x")-o.attr("x")),d=0;if(t){var p=Math.abs(Math.cos(u));if(Object(w["i"])(p,0,Math.PI/180)){var f=Object(m["b"])(r);d=(f+i)/h}else d=(s.height/p+i)/h}else{p=Math.abs(Math.sin(u));if(Object(w["i"])(p,0,Math.PI/180)){f=Object(m["b"])(r);d=(f+i)/h}else d=(s.height/p+i)/h}if(d>1){d=Math.ceil(d);for(var g=0;g<c;g++)g%d!==0&&(r[g].hide(),a=!0)}return a}function T(){return I}function k(t,e,n,i){return A(t,e,!1,i)}function L(t,e,n,i){return A(t,e,!0,i)}function j(t,e,n,i){var r=(null===i||void 0===i?void 0:i.minGap)||0,a=e.getChildren().slice();if(a.length<=2)return!1;for(var o=!1,s=a.length,l=a[0],c=a[s-1],u=l,h=1;h<s-1;h++){var d=a[h],p=(d.getBBox(),C(t,u,d,r));p?(d.hide(),o=!0):u=d}var f=C(t,u,c,r);return f&&(u.hide(),o=!0),o}function I(t,e,n,i){var r=M(t,e,i);return A(t,e,!1)&&(r=!0),r}function E(t,e,n,i){var r=e.getChildren().slice(),a=M(t,e,i);if(r.length>2){var o=r[0],s=r[r.length-1];o.get("visible")||(o.show(),A(t,e,!1,i)&&(a=!0)),s.get("visible")||(s.show(),A(t,e,!0,i)&&(a=!0))}return a}function P(t,e){Object(c["each"])(t,(function(t){var n=t.attr("x"),i=t.attr("y"),r=Object(h["e"])({x:n,y:i},e);t.attr("matrix",r)}))}function R(t,e,n,i){var r=e.getChildren();if(!r.length)return!1;if(!t&&r.length<2)return!1;var a=Object(m["b"])(r),o=!1;if(t)o=!!n&&a>n;else{var s=Math.abs(r[1].attr("x")-r[0].attr("x"));o=a>s}if(o){var l=i(n,a);P(r,l)}return o}function D(){return F}function F(t,e,n,i){return R(t,e,n,(function(){return Object(c["isNumber"])(i)?i:t?p["a"].verticalAxisRotate:p["a"].horizontalAxisRotate}))}function N(t,e,n){return R(t,e,n,(function(e,n){if(!e)return t?p["a"].verticalAxisRotate:p["a"].horizontalAxisRotate;if(t)return-Math.acos(e/n);var i=0;return e>n?i=Math.PI/4:(i=Math.asin(e/n),i>Math.PI/4&&(i=Math.PI/4)),i}))}var B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(s["__assign"])(Object(s["__assign"])({},e),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getLinePath=function(){var t=this.get("start"),e=this.get("end"),n=[];return n.push(["M",t.x,t.y]),n.push(["L",e.x,e.y]),n},e.prototype.getInnerLayoutBBox=function(){var e=this.get("start"),n=this.get("end"),i=t.prototype.getInnerLayoutBBox.call(this),r=Math.min(e.x,n.x,i.x),a=Math.min(e.y,n.y,i.y),o=Math.max(e.x,n.x,i.maxX),s=Math.max(e.y,n.y,i.maxY);return{x:r,y:a,minX:r,minY:a,maxX:o,maxY:s,width:o-r,height:s-a}},e.prototype.isVertical=function(){var t=this.get("start"),e=this.get("end");return Object(c["isNumberEqual"])(t.x,e.x)},e.prototype.isHorizontal=function(){var t=this.get("start"),e=this.get("end");return Object(c["isNumberEqual"])(t.y,e.y)},e.prototype.getTickPoint=function(t){var e=this,n=e.get("start"),i=e.get("end"),r=i.x-n.x,a=i.y-n.y;return{x:n.x+r*t,y:n.y+a*t}},e.prototype.getSideVector=function(t){var e=this.getAxisVector(),n=l["vec2"].normalize([0,0],e),i=this.get("verticalFactor"),r=[n[1],-1*n[0]];return l["vec2"].scale([0,0],r,t*i)},e.prototype.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},e.prototype.processOverlap=function(t){var e=this,n=this.isVertical(),i=this.isHorizontal();if(n||i){var r=this.get("label"),a=this.get("title"),o=this.get("verticalLimitLength"),s=r.offset,l=o,u=0,h=0;a&&(u=a.style.fontSize,h=a.spacing),l&&(l=l-s-h-u);var d=this.get("overlapOrder");if(Object(c["each"])(d,(function(n){r[n]&&e.canProcessOverlap(n)&&e.autoProcessOverlap(n,r[n],t,l)})),a&&Object(c["isNil"])(a.offset)){var p=t.getCanvasBBox(),f=n?p.width:p.height;a.offset=s+f+h+u/2}}},e.prototype.canProcessOverlap=function(t){var e=this.get("label");return"autoRotate"!==t||Object(c["isNil"])(e.rotate)},e.prototype.autoProcessOverlap=function(t,e,n,i){var r=this,a=this.isVertical(),s=!1,l=o[t];if(!0===e){this.get("label");s=l.getDefault()(a,n,i)}else if(Object(c["isFunction"])(e))s=e(a,n,i);else if(Object(c["isObject"])(e)){var u=e;l[u.type]&&(s=l[u.type](a,n,i,u.cfg))}else l[e]&&(s=l[e](a,n,i));if("autoRotate"===t){if(s){var h=n.getChildren(),d=this.get("verticalFactor");Object(c["each"])(h,(function(t){var e=t.attr("textAlign");if("center"===e){var n=d>0?"end":"start";t.attr("textAlign",n)}}))}}else if("autoHide"===t){var p=n.getChildren().slice(0);Object(c["each"])(p,(function(t){t.get("visible")||(r.get("isRegister")&&r.unregisterElement(t),t.remove())}))}},e}(g),V=B,G=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(s["__assign"])(Object(s["__assign"])({},e),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},e.prototype.getLinePath=function(){var t=this.get("center"),e=t.x,n=t.y,i=this.get("radius"),r=i,a=this.get("startAngle"),o=this.get("endAngle"),s=[];if(Math.abs(o-a)===2*Math.PI)s=[["M",e,n-r],["A",i,r,0,1,1,e,n+r],["A",i,r,0,1,1,e,n-r],["Z"]];else{var l=this.getCirclePoint(a),c=this.getCirclePoint(o),u=Math.abs(o-a)>Math.PI?1:0,h=a>o?0:1;s=[["M",e,n],["L",l.x,l.y],["A",i,r,0,u,h,c.x,c.y],["L",e,n]]}return s},e.prototype.getTickPoint=function(t){var e=this.get("startAngle"),n=this.get("endAngle"),i=e+(n-e)*t;return this.getCirclePoint(i)},e.prototype.getSideVector=function(t,e){var n=this.get("center"),i=[e.x-n.x,e.y-n.y],r=this.get("verticalFactor"),a=l["vec2"].length(i);return l["vec2"].scale(i,i,r*t/a),i},e.prototype.getAxisVector=function(t){var e=this.get("center"),n=[t.x-e.x,t.y-e.y];return[n[1],-1*n[0]]},e.prototype.getCirclePoint=function(t,e){var n=this.get("center");return e=e||this.get("radius"),{x:n.x+Math.cos(t)*e,y:n.y+Math.sin(t)*e}},e.prototype.canProcessOverlap=function(t){var e=this.get("label");return"autoRotate"!==t||Object(c["isNil"])(e.rotate)},e.prototype.processOverlap=function(t){var e=this,n=this.get("label"),i=this.get("title"),r=this.get("verticalLimitLength"),a=n.offset,o=r,s=0,l=0;i&&(s=i.style.fontSize,l=i.spacing),o&&(o=o-a-l-s);var u=this.get("overlapOrder");if(Object(c["each"])(u,(function(i){n[i]&&e.canProcessOverlap(i)&&e.autoProcessOverlap(i,n[i],t,o)})),i&&Object(c["isNil"])(i.offset)){var h=t.getCanvasBBox().height;i.offset=a+h+l+s/2}},e.prototype.autoProcessOverlap=function(t,e,n,i){var r=this,a=!1,s=o[t];if(i>0)if(!0===e)a=s.getDefault()(!1,n,i);else if(Object(c["isFunction"])(e))a=e(!1,n,i);else if(Object(c["isObject"])(e)){var l=e;s[l.type]&&(a=s[l.type](!1,n,i,l.cfg))}else s[e]&&(a=s[e](!1,n,i));if("autoRotate"===t){if(a){var u=n.getChildren(),h=this.get("verticalFactor");Object(c["each"])(u,(function(t){var e=t.attr("textAlign");if("center"===e){var n=h>0?"end":"start";t.attr("textAlign",n)}}))}}else if("autoHide"===t){var d=n.getChildren().slice(0);Object(c["each"])(d,(function(t){t.get("visible")||(r.get("isRegister")&&r.unregisterElement(t),t.remove())}))}},e}(g),z=G},"7d5f":function(t,e,n){},"7fa2":function(t,e,n){"use strict";var i="*",r=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0)},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var a=this._events[t]||[],o=this._events[i]||[],s=function(i){for(var r=i.length,a=0;a<r;a++)if(i[a]){var o=i[a],s=o.callback,l=o.once;l&&(i.splice(a,1),0===i.length&&delete e._events[t],r--,a--),s.apply(e,n)}};s(a),s(o)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],i=n.length,r=0;r<i;r++)n[r].callback===e&&(n.splice(r,1),i--,r--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}();e["a"]=r},"7fc2":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAQCAYAAAGthlVmAAAACXBIWXMAACxKAAAsSgF3enRNAAABIUlEQVQYlXWRPUtCcRTGf/7v/9LVEN8wlepWSi/0cinCMChwKXBpaajP0NIS9AFa2psahL5GSxg0Sd+gpiicwiEwzeJpKAvJnu2c5/Cc3+EgCTxry3jWxilVqnIkcVn3ZcKuWwYISQKAte0zxTP5TWOcCF4keWLoSRKpscX7YONIkrBh1y0vb50XAHL5Yu139Fv2tdutTS3tAPDWfrlCEp61k5K+AkuVqtJ+cGpSo/PXALHk3HFooXSgaGIVAOPYyE9i34q+wsF09jrtp3Tz+baDpB7vfraw/pjMzTZ6PQuQmVgJojH/IuvvDgEkctMPzcadbwBcL3bTMwBmgsPxRKZQN2HXLadGitE+CieCN5xs/bn+X9SB5sd7a6D5+5oB+gSc+l4haE5rKwAAAABJRU5ErkJggg=="},"7fd1":function(t,e,n){"use strict";(function(t){function i(){const e='const e="GENERATE_POLYGON_BUFFERS",t="GENERATE_POINT_BUFFERS",n="GENERATE_LINE_STRING_BUFFERS",r={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:\'`renderMode` must be `"hybrid"` or `"vector"`\',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class o extends Error{constructor(e){const t=r[e];super(t),this.code=e,this.name="AssertionError",this.message=t}}var i=o;function a(e,t){const n=t[0],r=t[1];return t[0]=e[0]*n+e[2]*r+e[4],t[1]=e[1]*n+e[3]*r+e[5],t}function s(e,t){const n=(r=t)[0]*r[3]-r[1]*r[2];var r;!function(e,t){if(!e)throw new i(t)}(0!==n,32);const o=t[0],a=t[1],s=t[2],u=t[3],f=t[4],x=t[5];return e[0]=u/n,e[1]=-a/n,e[2]=-s/n,e[3]=o/n,e[4]=(s*x-u*f)/n,e[5]=-(o*x-a*f)/n,e}function u(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}new Array(6);var f={exports:{}};function x(e,t,n){n=n||2;var r,o,i,a,s,u,f,x=t&&t.length,h=x?t[0]*n:e.length,v=l(e,0,h,n,!0),d=[];if(!v||v.next===v.prev)return d;if(x&&(v=function(e,t,n,r){var o,i,a,s=[];for(o=0,i=t.length;o<i;o++)(a=l(e,t[o]*r,o<i-1?t[o+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),s.push(A(a));for(s.sort(b),o=0;o<s.length;o++)n=g(s[o],n);return n}(e,t,v,n)),e.length>80*n){r=i=e[0],o=a=e[1];for(var y=n;y<h;y+=n)(s=e[y])<r&&(r=s),(u=e[y+1])<o&&(o=u),s>i&&(i=s),u>a&&(a=u);f=0!==(f=Math.max(i-r,a-o))?32767/f:0}return c(v,d,n,r,o,f,0),d}function l(e,t,n,r,o){var i,a;if(o===P(e,t,n,r)>0)for(i=t;i<n;i+=r)a=k(i,e[i],e[i+1],a);else for(i=n-r;i>=t;i-=r)a=k(i,e[i],e[i+1],a);return a&&F(a,a.next)&&(R(a),a=a.next),a}function h(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!F(r,r.next)&&0!==Z(r.prev,r,r.next))r=r.next;else{if(R(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function c(e,t,n,r,o,i,a){if(e){!a&&i&&function(e,t,n,r){var o=e;do{0===o.z&&(o.z=w(o.x,o.y,t,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,function(e){var t,n,r,o,i,a,s,u,f=1;do{for(n=e,e=null,i=null,a=0;n;){for(a++,r=n,s=0,t=0;t<f&&(s++,r=r.nextZ);t++);for(u=f;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(o=n,n=n.nextZ,s--):(o=r,r=r.nextZ,u--),i?i.nextZ=o:e=o,o.prevZ=i,i=o;n=r}i.nextZ=null,f*=2}while(a>1)}(o)}(e,r,o,i);for(var s,u,f=e;e.prev!==e.next;)if(s=e.prev,u=e.next,i?d(e,r,o,i):v(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(u.i/n|0),R(e),e=u.next,f=u.next;else if((e=u)===f){a?1===a?c(e=y(h(e),t,n),t,n,r,o,i,2):2===a&&p(e,t,n,r,o,i):c(h(e),t,n,r,o,i,1);break}}}function v(e){var t=e.prev,n=e,r=e.next;if(Z(t,n,r)>=0)return!1;for(var o=t.x,i=n.x,a=r.x,s=t.y,u=n.y,f=r.y,x=o<i?o<a?o:a:i<a?i:a,l=s<u?s<f?s:f:u<f?u:f,h=o>i?o>a?o:a:i>a?i:a,c=s>u?s>f?s:f:u>f?u:f,v=r.next;v!==t;){if(v.x>=x&&v.x<=h&&v.y>=l&&v.y<=c&&E(o,s,i,u,a,f,v.x,v.y)&&Z(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function d(e,t,n,r){var o=e.prev,i=e,a=e.next;if(Z(o,i,a)>=0)return!1;for(var s=o.x,u=i.x,f=a.x,x=o.y,l=i.y,h=a.y,c=s<u?s<f?s:f:u<f?u:f,v=x<l?x<h?x:h:l<h?l:h,d=s>u?s>f?s:f:u>f?u:f,y=x>l?x>h?x:h:l>h?l:h,p=w(c,v,t,n,r),b=w(d,y,t,n,r),g=e.prevZ,m=e.nextZ;g&&g.z>=p&&m&&m.z<=b;){if(g.x>=c&&g.x<=d&&g.y>=v&&g.y<=y&&g!==o&&g!==a&&E(s,x,u,l,f,h,g.x,g.y)&&Z(g.prev,g,g.next)>=0)return!1;if(g=g.prevZ,m.x>=c&&m.x<=d&&m.y>=v&&m.y<=y&&m!==o&&m!==a&&E(s,x,u,l,f,h,m.x,m.y)&&Z(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;g&&g.z>=p;){if(g.x>=c&&g.x<=d&&g.y>=v&&g.y<=y&&g!==o&&g!==a&&E(s,x,u,l,f,h,g.x,g.y)&&Z(g.prev,g,g.next)>=0)return!1;g=g.prevZ}for(;m&&m.z<=b;){if(m.x>=c&&m.x<=d&&m.y>=v&&m.y<=y&&m!==o&&m!==a&&E(s,x,u,l,f,h,m.x,m.y)&&Z(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function y(e,t,n){var r=e;do{var o=r.prev,i=r.next.next;!F(o,i)&&T(o,r,r.next,i)&&z(o,i)&&z(i,o)&&(t.push(o.i/n|0),t.push(r.i/n|0),t.push(i.i/n|0),R(r),R(r.next),r=e=i),r=r.next}while(r!==e);return h(r)}function p(e,t,n,r,o,i){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&M(a,s)){var u=U(a,s);return a=h(a,a.next),u=h(u,u.next),c(a,t,n,r,o,i,0),void c(u,t,n,r,o,i,0)}s=s.next}a=a.next}while(a!==e)}function b(e,t){return e.x-t.x}function g(e,t){var n=function(e,t){var n,r=t,o=e.x,i=e.y,a=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=o&&s>a&&(a=s,n=r.x<r.next.x?r:r.next,s===o))return n}r=r.next}while(r!==t);if(!n)return null;var u,f=n,x=n.x,l=n.y,h=1/0;r=n;do{o>=r.x&&r.x>=x&&o!==r.x&&E(i<l?o:a,i,x,l,i<l?a:o,i,r.x,r.y)&&(u=Math.abs(i-r.y)/(o-r.x),z(r,e)&&(u<h||u===h&&(r.x>n.x||r.x===n.x&&m(n,r)))&&(n=r,h=u)),r=r.next}while(r!==f);return n}(e,t);if(!n)return t;var r=U(n,e);return h(r,r.next),h(n,n.next)}function m(e,t){return Z(e.prev,e,t.prev)<0&&Z(t.next,e,e.next)<0}function w(e,t,n,r,o){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*o|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*o|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function A(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function E(e,t,n,r,o,i,a,s){return(o-a)*(t-s)>=(e-a)*(i-s)&&(e-a)*(r-s)>=(n-a)*(t-s)&&(n-a)*(i-s)>=(o-a)*(r-s)}function M(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&T(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(z(e,t)&&z(t,e)&&function(e,t){var n=e,r=!1,o=(e.x+t.x)/2,i=(e.y+t.y)/2;do{n.y>i!=n.next.y>i&&n.next.y!==n.y&&o<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Z(e.prev,e,t.prev)||Z(e,t.prev,t))||F(e,t)&&Z(e.prev,e,e.next)>0&&Z(t.prev,t,t.next)>0)}function Z(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function F(e,t){return e.x===t.x&&e.y===t.y}function T(e,t,n,r){var o=S(Z(e,t,n)),i=S(Z(e,t,r)),a=S(Z(n,r,e)),s=S(Z(n,r,t));return o!==i&&a!==s||(!(0!==o||!I(e,n,t))||(!(0!==i||!I(e,r,t))||(!(0!==a||!I(n,e,r))||!(0!==s||!I(n,t,r)))))}function I(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function S(e){return e>0?1:e<0?-1:0}function z(e,t){return Z(e.prev,e,e.next)<0?Z(e,t,e.next)>=0&&Z(e,e.prev,t)>=0:Z(e,t,e.prev)<0||Z(e,e.next,t)<0}function U(e,t){var n=new B(e.i,e.x,e.y),r=new B(t.i,t.x,t.y),o=e.next,i=t.prev;return e.next=t,t.prev=e,n.next=o,o.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function k(e,t,n,r){var o=new B(e,t,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function R(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function B(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P(e,t,n,r){for(var o=0,i=t,a=n-r;i<n;i+=r)o+=(e[a]-e[i])*(e[i+1]+e[a+1]),a=i;return o}f.exports=x,f.exports.default=x,x.deviation=function(e,t,n,r){var o=t&&t.length,i=o?t[0]*n:e.length,a=Math.abs(P(e,0,i,n));if(o)for(var s=0,u=t.length;s<u;s++){var f=t[s]*n,x=s<u-1?t[s+1]*n:e.length;a-=Math.abs(P(e,f,x,n))}var l=0;for(s=0;s<r.length;s+=3){var h=r[s]*n,c=r[s+1]*n,v=r[s+2]*n;l+=Math.abs((e[h]-e[v])*(e[c+1]-e[h+1])-(e[h]-e[c])*(e[v+1]-e[h+1]))}return 0===a&&0===l?0:Math.abs((l-a)/a)},x.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,o=0;o<e.length;o++){for(var i=0;i<e[o].length;i++)for(var a=0;a<t;a++)n.vertices.push(e[o][i][a]);o>0&&(r+=e[o-1].length,n.holes.push(r))}return n};var N=u(f.exports);const _=[],O={vertexPosition:0,indexPosition:0};function q(e,t,n,r,o){e[t+0]=n,e[t+1]=r,e[t+2]=o}function L(e,t,n,r,o,i){const a=3+o,s=e[t+0],u=e[t+1],f=_;f.length=o;for(let n=0;n<f.length;n++)f[n]=e[t+2+n];let x=i?i.vertexPosition:0,l=i?i.indexPosition:0;const h=x/a;return q(n,x,s,u,0),f.length&&n.set(f,x+3),x+=a,q(n,x,s,u,1),f.length&&n.set(f,x+3),x+=a,q(n,x,s,u,2),f.length&&n.set(f,x+3),x+=a,q(n,x,s,u,3),f.length&&n.set(f,x+3),x+=a,r[l++]=h,r[l++]=h+1,r[l++]=h+3,r[l++]=h+1,r[l++]=h+2,r[l++]=h+3,O.vertexPosition=x,O.indexPosition=l,O}function C(e,t,n,r,o,i,s,u,f,x){const l=5+u.length,h=i.length/l,c=[e[t+0],e[t+1]],v=[e[n],e[n+1]],d=a(x,[...c]),y=a(x,[...v]);function p(e,t,n){const r=1e4;return Math.round(1500*t)+Math.round(1500*n)*r+e*r*r}function b(e,t,n){const r=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),o=[(t[0]-e[0])/r,(t[1]-e[1])/r],i=[-o[1],o[0]],a=Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])),s=[(n[0]-e[0])/a,(n[1]-e[1])/a],u=0===r||0===a?0:Math.acos((f=s[0]*o[0]+s[1]*o[1],x=-1,l=1,Math.min(Math.max(f,x),l)));var f,x,l;return s[0]*i[0]+s[1]*i[1]>0?u:2*Math.PI-u}const g=null!==o;let m=0,w=0;if(null!==r){m=b(d,y,a(x,[...[e[r],e[r+1]]]))}if(g){w=b(y,d,a(x,[...[e[o],e[o+1]]]))}i.push(c[0],c[1],v[0],v[1],p(0,m,w)),i.push(...u),i.push(c[0],c[1],v[0],v[1],p(1,m,w)),i.push(...u),i.push(c[0],c[1],v[0],v[1],p(2,m,w)),i.push(...u),i.push(c[0],c[1],v[0],v[1],p(3,m,w)),i.push(...u),s.push(h,h+1,h+2,h+1,h+3,h+2)}function G(e,t,n,r,o){const i=2+o;let a=t;const s=e.slice(a,a+o);a+=o;const u=e[a++];let f=0;const x=new Array(u-1);for(let t=0;t<u;t++)f+=e[a++],t<u-1&&(x[t]=f);const l=e.slice(a,a+2*f),h=N(l,x,2);for(let e=0;e<h.length;e++)r.push(h[e]+n.length/i);for(let e=0;e<l.length;e+=2)n.push(l[e],l[e+1],...s);return a+2*f}const j=self;j.onmessage=r=>{const o=r.data;switch(o.type){case t:{const e=3,t=2,n=o.customAttributesSize,r=t+n,i=new Float32Array(o.renderInstructions),a=i.length/r,s=4*a*(n+e),u=new Uint32Array(6*a),f=new Float32Array(s);let x;for(let e=0;e<i.length;e+=r)x=L(i,e,f,u,n,x);const l=Object.assign({vertexBuffer:f.buffer,indexBuffer:u.buffer,renderInstructions:i.buffer},o);j.postMessage(l,[f.buffer,u.buffer,i.buffer]);break}case n:{const e=[],t=[],n=o.customAttributesSize,r=2,i=new Float32Array(o.renderInstructions);let a=0;const u=o.renderInstructionsTransform,f=[1,0,0,1,0,0];let x,l;for(s(f,u);a<i.length;){l=Array.from(i.slice(a,a+n)),a+=n,x=i[a++];for(let n=0;n<x-1;n++)C(i,a+n*r,a+(n+1)*r,n>0?a+(n-1)*r:null,n<x-2?a+(n+2)*r:null,e,t,l,0,f);a+=x*r}const h=Uint32Array.from(t),c=Float32Array.from(e),v=Object.assign({vertexBuffer:c.buffer,indexBuffer:h.buffer,renderInstructions:i.buffer},o);j.postMessage(v,[c.buffer,h.buffer,i.buffer]);break}case e:{const e=[],t=[],n=o.customAttributesSize,r=new Float32Array(o.renderInstructions);let i=0;for(;i<r.length;)i=G(r,i,e,t,n);const a=Uint32Array.from(t),s=Float32Array.from(e),u=Object.assign({vertexBuffer:s.buffer,indexBuffer:a.buffer,renderInstructions:r.buffer},o);j.postMessage(u,[s.buffer,a.buffer,r.buffer]);break}}};';return new Worker("undefined"===typeof Blob?"data:application/javascript;base64,"+t.from(e,"binary").toString("base64"):URL.createObjectURL(new Blob([e],{type:"application/javascript"})))}n.d(e,"a",(function(){return i}))}).call(this,n("b639").Buffer)},"7fdd":function(t,e,n){},"803f":function(t,e,n){},8197:function(t,e,n){},8258:function(t,e,n){},"850b":function(t,e,n){"use strict";n("1bb1d")},"852d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAnCAYAAAALkrgzAAACkUlEQVRIie2Xv2/TQBTHv44smU7NxIbIVMb2P6D8B2HrRgcQa/+EwF/AhiwbKZVQpXbBLCwMBNGG0ZctiVTJ6DogNS7p4oupxGPIXTiff8QJ6oDEk05553vvc3ff5zsrFhERbsEatwH9Dy4FHwJ4tAbjEMBjANeZpzS3iIiasinrUblFshERBUQEImrrAQq8L30F68h+RMVmjrfNeAVuyaasqY0RETE56VT2u3L8wFh1xwSDiHY1iL41BYGcUMmg50yNHKrzVhxo/hRApyK2qRwFbgGIpL8tAwINZib3pL8rf1V/ZxFlFKNr9Muk6Gg+SUkKizelitft5Pj4+8sXncs3npdq8QryyigkERHZcuGbcju6ng+Vc3r65e5MCCueTKDFb2rStE3t9eJtA/hk6AnOOWZCWAAghMB4NDJDngB4p02UAxfa17Mz5X4GABaGy1LqgRlbgPaN/vpgzjniOAaA967nR3c2Nj7GcQzO+d+BtW0HADAT4gjIyLMm+M+2e/oEo3GugPXBcTzBxXzLA9fzIwBwPX/qOM74gnPE8aQstRqsydDVn6dp+toYXxXMlBsYQwEA9Pv91cFJkmA813EhgzL5dpwvk6MQXFC0jM2EeAsAo/wpXAIu0VezwIhbDk6SBAPGAOCb6/ksnwK4ns8cx7kcMIYkSeqBtUvGLFrG0jQ9AsqPeA6sBVaCIWUqkyMHDsOQAFy7nt+rorqez2zbFgXXaB7MwlDdvctWCwCwrEYghChcdRZcXwYAwM3NzxMjrxg8HA5/YS5DLbDr+YFt26JyxZxz/Li6aqDkUJSZ4zgfhBC5O1p9TPU7duf5s6erwFsq/97eXh6ciARbWw8A4L5sK1kisgfFIvrH/tz8BgT53jhXaQMfAAAAAElFTkSuQmCC"},"85c6":function(t,e,n){},"85f6":function(t,e,n){"use strict";n("da66")},"86fa":function(t,e,n){"use strict";n("61f4")},"889d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAWCAYAAAAfD8YZAAAACXBIWXMAAAsSAAALEgHS3X78AAABWklEQVQ4jZ2TMU7DQBBF38RRUlnegiJSCizh0lIswQG2T5MjRJwgJRVQUqbgAOEGuUEaCqgIffqkQTJVJCMxNDY4tjdyeNIUu54/f9azi6riCsAe/X5EeGutVeD5JDFgjDFZmqaaF5ie6nxtjPkG3lw5XUqIyAww+TJM01SATxG5L6XNVTUFKDtNAW0Ri5qzqi5ExAA3wAuw5pA74AmYURJVz6qr1UqrjEYjHY/HD+XcTuXMIUAYhlQxxrDb7QblvU4lxylOkoT9fn9Z3jv423EcX3meVxMWzlmW+U7nfr8fG2NowlrLZrM5d4q3221krXU6VzkQ93q9QS0jJ0kSAETkr3qbMRUMh8MvYNI4Kld7BVEUdYGk1nbRTtFeE/kIw2JdHpXxff8DeHSJPc+bBEEQ/xrmbczzigHw7rSGM+ACeCW/+0vavaamYPJP4VxUFRFJ8iJtWavq8gdNm1yTF8a7kAAAAABJRU5ErkJggg=="},"88da":function(t,e,n){"use strict";n("14d9");var i=n("9a44"),r=n("5bc3"),a=n("9abc"),o=n("9769"),s=n("0af5"),l=n("abb7"),c=n("9f5e"),u=n("0a9d"),h=n("bb6c"),d=n("c560"),p=n("4d98"),f=n("b589");function g(t,e,n,i){const r=[];let a=Object(s["k"])();for(let o=0,l=n.length;o<l;++o){const l=n[o];a=Object(s["o"])(t,e,l[0],i),r.push((a[0]+a[2])/2,(a[1]+a[3])/2),e=l[l.length-1]}return r}var m=n("25f1"),v=n("1c48");class y extends a["a"]{constructor(t,e,n){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!n&&!Array.isArray(t[0])){let i=this.getLayout();const r=t,a=[],o=[];for(let t=0,e=r.length;t<e;++t){const e=r[t];0===t&&(i=e.getLayout());const n=a.length,s=e.getEnds();for(let t=0,i=s.length;t<i;++t)s[t]+=n;Object(c["e"])(a,e.getFlatCoordinates()),o.push(s)}e=i,t=a,n=o}void 0!==e&&n?(this.setFlatCoordinates(e,t),this.endss_=n):this.setCoordinates(t,e)}appendPolygon(t){let e;if(this.flatCoordinates){const n=this.flatCoordinates.length;Object(c["e"])(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(let t=0,i=e.length;t<i;++t)e[t]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()}clone(){const t=this.endss_.length,e=new Array(t);for(let i=0;i<t;++i)e[i]=this.endss_[i].slice();const n=new y(this.flatCoordinates.slice(),this.layout,e);return n.applyProperties(this),n}closestPointXY(t,e,n,i){return i<Object(s["f"])(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(o["f"])(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(o["c"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,i))}containsXY(t,e){return Object(m["d"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)}getArea(){return Object(f["c"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(p["d"])(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Object(h["c"])(e,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const t=g(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(u["b"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new i["a"](this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;Object(p["b"])(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(p["d"])(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=Object(v["d"])(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,n),new y(e,"XY",n)}getPolygon(t){if(t<0||this.endss_.length<=t)return null;let e;if(0===t)e=0;else{const n=this.endss_[t-1];e=n[n.length-1]}const n=this.endss_[t].slice(),i=n[n.length-1];if(0!==e)for(let r=0,a=n.length;r<a;++r)n[r]-=e;return new r["b"](this.flatCoordinates.slice(e,i),this.layout,n)}getPolygons(){const t=this.layout,e=this.flatCoordinates,n=this.endss_,i=[];let a=0;for(let o=0,s=n.length;o<s;++o){const s=n[o].slice(),l=s[s.length-1];if(0!==a)for(let t=0,e=s.length;t<e;++t)s[t]-=a;const c=new r["b"](e.slice(a,l),t,s);i.push(c),a=l}return i}getType(){return"MultiPolygon"}intersectsExtent(t){return Object(d["e"])(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);const n=Object(l["d"])(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{const t=n[n.length-1];this.flatCoordinates.length=0===t.length?0:t[t.length-1]}this.changed()}}e["a"]=y},"8b49":function(t,e,n){"use strict";n("729f")},"8c24":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAfCAYAAAAIjIbwAAAACXBIWXMAAAsSAAALEgHS3X78AAABwklEQVRIidWWMW7bMBhGnyoCXnuKdOwVCrS9SYPOvUlXRULrOVo0pauXqCPpKaWmADSQxQQyUTBAwR1iJbJNyXKjpf8iQoSevv8RpBRtt9stE9ebqYFnQZ1z00PnP39MC7V2zVIpjDHTQZWUAPy+vZ0OWpYlALrS00Cdc6x2ba+Mwdr166FKyXb4DV5UvA4qJXEcuyTNvgshHloV/wx1zrFUiqZpcgDv/fUYBYPQTuvF7joH0Hp4wQahldZt6wVAkmYqjmN3yutwUimJomjRvdc0Tb5UanDb9kKVlNR1jfc+P5gqYE/NGdBjnwAkaVacUtALrbRGCHGTpNnj4VzTNHk1sFhBqDEGa22o9bYWdV33boQgtHNwLHqgg16DUKUkQoi7JM3uQ/NJmj0KIW5GJ+20ftWTEgDvfV7XNSG3R9BK/2mHxeHcQT0pCKQ9gpZlyWw2q/pab2un4C7kdQ9q7ZqVMWw2m18nUgLgvb+y1h59ZvagnVbmY6D0KDiAKoQQD0maqTHEJM3uQwqeoc45qkrjvb8emRIIn7HiOeXL2z58vfyyOIP7Fp4UfPz0eR9q15aLi3cA789J2n2+rei/+UH7C05tE+Q/vvIOAAAAAElFTkSuQmCC"},"8e60":function(t,e,n){"use strict";n("c218")},"8ea8":function(t,e,n){"use strict";n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return h}));var i=n("e897"),r=[1,0,0,0,1,0,0,0,1];function a(t,e,n){if(void 0===n&&(n=r),!e)return null;var a=i["ext"].transform(n,[["t",-t.x,-t.y],["r",e],["t",t.x,t.y]]);return a}function o(t,e){return t.x||t.y?i["ext"].transform(e||r,[["t",t.x,t.y]]):null}function s(t){var e=[1,0,0],n=[0,0,0];return i["vec3"].transformMat3(n,e,t),Math.atan2(n[1],n[0])}function l(t,e){var n=[0,0];return i["vec2"].transformMat3(n,e,t),n}function c(t,e){var n=l(t,[e.minX,e.minY]),i=l(t,[e.maxX,e.minY]),r=l(t,[e.minX,e.maxY]),a=l(t,[e.maxX,e.maxY]),o=Math.min(n[0],i[0],r[0],a[0]),s=Math.max(n[0],i[0],r[0],a[0]),c=Math.min(n[1],i[1],r[1],a[1]),u=Math.max(n[1],i[1],r[1],a[1]);return{x:o,y:c,minX:o,minY:c,maxX:s,maxY:u,width:s-o,height:u-c}}function u(t,e,n,i){if(e){var r=a({x:n,y:i},e,t.getMatrix());t.setMatrix(r)}}function h(t,e,n){var i=o({x:e,y:n});t.attr("matrix",i)}},"902b":function(t,e,n){"use strict";n("e0e9")},"907a":function(t,e,n){"use strict";var i=n("ebb5"),r=n("07fa"),a=n("5926"),o=i.aTypedArray,s=i.exportTypedArrayMethod;s("at",(function(t){var e=o(this),n=r(e),i=a(t),s=i>=0?i:n+i;return s<0||s>=n?void 0:e[s]}))},9311:function(t,e,n){},"94e3":function(t,e,n){"use strict";var i=n("000e"),r=n("8937"),a=n("d177"),o=n("41c8"),s=function(t){function e(e){var n=t.call(this,e)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var i=e.marginRatio,r=void 0===i?a["d"]:i,o=e.dodgeRatio,s=void 0===o?a["b"]:o,l=e.dodgeBy,c=e.intervalPadding,u=e.dodgePadding,h=e.xDimensionLength,d=e.groupNum,p=e.defaultSize,f=e.maxColumnWidth,g=e.minColumnWidth,m=e.columnWidthRatio,v=e.customOffset;return n.marginRatio=r,n.dodgeRatio=s,n.dodgeBy=l,n.intervalPadding=c,n.dodgePadding=u,n.xDimensionLegenth=h,n.groupNum=d,n.defaultSize=p,n.maxColumnWidth=f,n.minColumnWidth=g,n.columnWidthRatio=m,n.customOffset=v,n}return Object(i["b"])(e,t),e.prototype.process=function(t){var e=r["clone"](t),n=r["flatten"](e),i=this.dodgeBy,a=i?r["group"](n,i):e;return this.cacheMap={},this.adjustDataArray=a,this.mergeData=n,this.adjustData(a,n),this.adjustDataArray=[],this.mergeData=[],e},e.prototype.adjustDim=function(t,e,n,i){var a=this,o=this.customOffset,s=this.getDistribution(t),l=this.groupData(n,t);return r["each"](l,(function(n,l){var c;c=1===e.length?{pre:e[0]-1,next:e[0]+1}:a.getAdjustRange(t,parseFloat(l),e),r["each"](n,(function(e){var n=e[t],l=s[n],u=l.indexOf(i);if(r["isNil"](o))e[t]=a.getDodgeOffset(c,u,l.length);else{var h=c.pre,d=c.next;e[t]=r["isFunction"](o)?o(e,c):(h+d)/2+o}}))})),[]},e.prototype.getDodgeOffset=function(t,e,n){var i,a=this,o=a.dodgeRatio,s=a.marginRatio,l=a.intervalPadding,c=a.dodgePadding,u=t.pre,h=t.next,d=h-u;if(!r["isNil"](l)&&r["isNil"](c)&&l>=0){var p=this.getIntervalOnlyOffset(n,e);i=u+p}else if(!r["isNil"](c)&&r["isNil"](l)&&c>=0){p=this.getDodgeOnlyOffset(n,e);i=u+p}else if(!r["isNil"](l)&&!r["isNil"](c)&&l>=0&&c>=0){p=this.getIntervalAndDodgeOffset(n,e);i=u+p}else{var f=d*o/n,g=s*f;p=.5*(d-n*f-(n-1)*g)+((e+1)*f+e*g)-.5*f-.5*d;i=(u+h)/2+p}return i},e.prototype.getIntervalOnlyOffset=function(t,e){var n=this,i=n.defaultSize,a=n.intervalPadding,o=n.xDimensionLegenth,s=n.groupNum,l=n.dodgeRatio,c=n.maxColumnWidth,u=n.minColumnWidth,h=n.columnWidthRatio,d=a/o,p=(1-(s-1)*d)/s*l/(t-1),f=((1-d*(s-1))/s-p*(t-1))/t;if(f=r["isNil"](h)?f:1/s/t*h,!r["isNil"](c)){var g=c/o;f=Math.min(f,g)}if(!r["isNil"](u)){var m=u/o;f=Math.max(f,m)}f=i?i/o:f,p=((1-(s-1)*d)/s-t*f)/(t-1);var v=((.5+e)*f+e*p+.5*d)*s-d/2;return v},e.prototype.getDodgeOnlyOffset=function(t,e){var n=this,i=n.defaultSize,a=n.dodgePadding,o=n.xDimensionLegenth,s=n.groupNum,l=n.marginRatio,c=n.maxColumnWidth,u=n.minColumnWidth,h=n.columnWidthRatio,d=a/o,p=1*l/(s-1),f=((1-p*(s-1))/s-d*(t-1))/t;if(f=h?1/s/t*h:f,!r["isNil"](c)){var g=c/o;f=Math.min(f,g)}if(!r["isNil"](u)){var m=u/o;f=Math.max(f,m)}f=i?i/o:f,p=(1-(f*t+d*(t-1))*s)/(s-1);var v=((.5+e)*f+e*d+.5*p)*s-p/2;return v},e.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this,i=n.intervalPadding,r=n.dodgePadding,a=n.xDimensionLegenth,o=n.groupNum,s=i/a,l=r/a,c=((1-s*(o-1))/o-l*(t-1))/t,u=((.5+e)*c+e*l+.5*s)*o-s/2;return u},e.prototype.getDistribution=function(t){var e=this.adjustDataArray,n=this.cacheMap,i=n[t];return i||(i={},r["each"](e,(function(e,n){var a=r["valuesOfKey"](e,t);a.length||a.push(0),r["each"](a,(function(t){i[t]||(i[t]=[]),i[t].push(n)}))})),n[t]=i),i},e}(o["a"]);e["a"]=s},"96de":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=null;function r(){if(!i){var t=document.createElement("canvas");t.width=1,t.height=1,i=t.getContext("2d")}return i}},"96e7":function(t,e,n){},"975e":function(t,e,n){"use strict";n("7d5f")},9778:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("8937");function r(t,e,n){var r=e+"Style",a=null;return Object(i["each"])(n,(function(e,n){t[n]&&e[r]&&(a||(a={}),Object(i["mix"])(a,e[r]))})),a}},"986a":function(t,e,n){"use strict";var i=n("ebb5"),r=n("a258").findLast,a=i.aTypedArray,o=i.exportTypedArrayMethod;o("findLast",(function(t){return r(a(this),t,arguments.length>1?arguments[1]:void 0)}))},"98d4":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAYAAAALpr0TAAAACXBIWXMAAAsSAAALEgHS3X78AAAAW0lEQVQYlYXPsRFAQBSE4dOBEhSkDs1IFSBUi0ymByMSCD+BMeNuzvlnNtt9+zZgRINQUnBzYEX3Z3yzYUpbcsaHqKWC8M9SunhiRvtVvWNAnfsxSn+t7tN0ThfFBBbzON03oQAAAABJRU5ErkJggg=="},"9a41":function(t,e,n){"use strict";n("85c6")},"9a44":function(t,e,n){"use strict";n("14d9");var i=n("f403"),r=n("9abc"),a=n("0af5"),o=n("abb7"),s=n("9f5e"),l=n("bb6c"),c=n("7fc9");class u extends r["a"]{constructor(t,e){super(),e&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}appendPoint(t){this.flatCoordinates?Object(s["e"])(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()}clone(){const t=new u(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,n,i){if(i<Object(a["f"])(this.getExtent(),t,e))return i;const r=this.flatCoordinates,o=this.stride;for(let a=0,s=r.length;a<s;a+=o){const s=Object(c["g"])(t,e,r[a],r[a+1]);if(s<i){i=s;for(let t=0;t<o;++t)n[t]=r[a+t];n.length=o}}return i}getCoordinates(){return Object(l["a"])(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(t){const e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new i["a"](this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)}getPoints(){const t=this.flatCoordinates,e=this.layout,n=this.stride,r=[];for(let a=0,o=t.length;a<o;a+=n){const o=new i["a"](t.slice(a,a+n),e);r.push(o)}return r}getType(){return"MultiPoint"}intersectsExtent(t){const e=this.flatCoordinates,n=this.stride;for(let i=0,r=e.length;i<r;i+=n){const n=e[i],r=e[i+1];if(Object(a["i"])(t,n,r))return!0}return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(o["b"])(this.flatCoordinates,0,t,this.stride),this.changed()}}e["a"]=u},"9b87":function(t,e,n){"use strict";n("44adc")},"9c29":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("7326");function r(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function a(t,e){return r(t)*r(e)?(t[0]*e[0]+t[1]*e[1])/(r(t)*r(e)):1}function o(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(a(t,e))}function s(t,e){var n=e[1],r=e[2],s=Object(i["m"])(Object(i["o"])(e[3]),2*Math.PI),l=e[4],c=e[5],u=t[0],h=t[1],d=e[6],p=e[7],f=Math.cos(s)*(u-d)/2+Math.sin(s)*(h-p)/2,g=-1*Math.sin(s)*(u-d)/2+Math.cos(s)*(h-p)/2,m=f*f/(n*n)+g*g/(r*r);m>1&&(n*=Math.sqrt(m),r*=Math.sqrt(m));var v=n*n*(g*g)+r*r*(f*f),y=v?Math.sqrt((n*n*(r*r)-v)/v):1;l===c&&(y*=-1),isNaN(y)&&(y=0);var b=r?y*n*g/r:0,x=n?y*-r*f/n:0,_=(u+d)/2+Math.cos(s)*b-Math.sin(s)*x,w=(h+p)/2+Math.sin(s)*b+Math.cos(s)*x,S=[(f-b)/n,(g-x)/r],O=[(-1*f-b)/n,(-1*g-x)/r],C=o([1,0],S),A=o(S,O);return a(S,O)<=-1&&(A=Math.PI),a(S,O)>=1&&(A=0),0===c&&A>0&&(A-=2*Math.PI),1===c&&A<0&&(A+=2*Math.PI),{cx:_,cy:w,rx:Object(i["j"])(t,[d,p])?0:n,ry:Object(i["j"])(t,[d,p])?0:r,startAngle:C,endAngle:C+A,xRotation:s,arcFlag:l,sweepFlag:c}}},"9c46":function(t,e,n){},"9f27":function(t,e,n){"use strict";n.d(e,"c",(function(){return h})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return p}));var i=n("9ab4"),r=n("4799"),a=Math.sin,o=Math.cos,s=Math.atan2,l=Math.PI;function c(t,e,n,i,c,u,h){var d=e.stroke,p=e.lineWidth,f=n-c,g=i-u,m=s(g,f),v=new r["Path"]({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*o(l/6)+","+10*a(l/6)+" L0,0 L"+10*o(l/6)+",-"+10*a(l/6),stroke:d,lineWidth:p}});v.translate(c,u),v.rotateAtPoint(c,u,m),t.set(h?"startArrowShape":"endArrowShape",v)}function u(t,e,n,l,c,u,h){var d=e.startArrow,p=e.endArrow,f=e.stroke,g=e.lineWidth,m=h?d:p,v=m.d,y=m.fill,b=m.stroke,x=m.lineWidth,_=Object(i["__rest"])(m,["d","fill","stroke","lineWidth"]),w=n-c,S=l-u,O=s(S,w);v&&(c-=o(O)*v,u-=a(O)*v);var C=new r["Path"]({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:Object(i["__assign"])(Object(i["__assign"])({},_),{stroke:b||f,lineWidth:x||g,fill:y})});C.translate(c,u),C.rotateAtPoint(c,u,O),t.set(h?"startArrowShape":"endArrowShape",C)}function h(t,e,n,i,r){var l=s(i-e,n-t);return{dx:o(l)*r,dy:a(l)*r}}function d(t,e,n,i,r,a){"object"===typeof e.startArrow?u(t,e,n,i,r,a,!0):e.startArrow?c(t,e,n,i,r,a,!0):t.set("startArrowShape",null)}function p(t,e,n,i,r,a){"object"===typeof e.endArrow?u(t,e,n,i,r,a,!1):e.endArrow?c(t,e,n,i,r,a,!1):t.set("startArrowShape",null)}},a068:function(t,e,n){"use strict";n.r(e);var i=n("f8db"),r=Promise.resolve();e["default"]=function(t){function e(t){return"object"===typeof t&&null!==t&&!0===t.__PDFDocumentLoadingTask}function n(e,n){var i;if("string"===typeof e)i={url:e};else if(e instanceof Uint8Array)i={data:e};else{if("object"!==typeof e||null===e)throw new TypeError("invalid src type");i=Object.assign({},e)}n&&n.withCredentials&&(i.withCredentials=n.withCredentials);var r=t.getDocument(i);return r.__PDFDocumentLoadingTask=!0,n&&n.onPassword&&(r.onPassword=n.onPassword),n&&n.onProgress&&(r.onProgress=n.onProgress),r}function a(a,o,s){var l=null,c=null,u=null,h=!1;function d(){a.getContext("2d").clearRect(0,0,a.width,a.height)}function p(){while(o.firstChild)o.removeChild(o.firstChild)}a.getContext("2d").save(),this.destroy=function(){null!==l&&(r=l.destroy(),l=null)},this.getResolutionScale=function(){return a.offsetWidth/a.width},this.printPage=function(t,e){if(null!==c){var n=void 0===t?150:t,i=n/72,r=96/72,a=document.createElement("iframe");new Promise((function(t,e){a.frameBorder="0",a.scrolling="no",a.width="0px;",a.height="0px;",a.style.cssText="position: absolute; top: 0; left: 0",a.onload=function(){t(this.contentWindow)},window.document.body.appendChild(a)})).then((function(t){return t.document.title="",l.getPage(1).then((function(e){var n=e.getViewport({scale:1});return t.document.head.appendChild(t.document.createElement("style")).textContent="@supports ((size:A4) and (size:1pt 1pt)) {@page { margin: 1pt; size: "+n.width*i/r+"pt "+n.height*i/r+"pt; }}@media print {body { margin: 0 }canvas { page-break-before: avoid; page-break-after: always; page-break-inside: avoid }}@media screen {body { margin: 0 }}",t}))})).then((function(t){for(var n=[],r=1;r<=l.numPages;++r)void 0!==e&&-1===e.indexOf(r)||n.push(l.getPage(r).then((function(e){var n=e.getViewport({scale:1}),r=t.document.body.appendChild(t.document.createElement("canvas"));return r.width=n.width*i,r.height=n.height*i,e.render({canvasContext:r.getContext("2d"),transform:[i,0,0,i,0,0],viewport:n,intent:"print"}).promise})));Promise.all(n).then((function(){t.focus(),t.document.queryCommandSupported("print")?t.document.execCommand("print",!1,null):t.print(),o()})).catch((function(t){o(),s("error",t)}))}))}function o(){a.parentNode.removeChild(a)}},this.renderPage=function(e){if(null!==u){if(h)return;return h=!0,void u.cancel().catch((function(t){s("error",t)}))}if(null!==c){var n=(void 0===c.rotate?0:c.rotate)+(void 0===e?0:e),d=a.offsetWidth/c.getViewport({scale:1}).width*(window.devicePixelRatio||1),f=c.getViewport({scale:d,rotation:n});s("page-size",f.width,f.height,d),a.width=f.width,a.height=f.height,u=c.render({canvasContext:a.getContext("2d"),viewport:f}),o.style.visibility="hidden",p();var g={scrollPageIntoView:function(t){s("link-clicked",t.pageNumber)}},m=new i["PDFLinkService"];m.setDocument(l),m.setViewer(g),r=r.then(function(){var n=c.getAnnotations({intent:"display"}).then((function(e){t.AnnotationLayer.render({viewport:f.clone({dontFlip:!0}),div:o,annotations:e,page:c,linkService:m,renderInteractiveForms:!1})})),i=u.promise.then((function(){o.style.visibility="",h=!1,u=null})).catch(function(n){if(u=null,n instanceof t.RenderingCancelledException)return h=!1,void this.renderPage(e);s("error",n)}.bind(this));return Promise.all([n,i])}.bind(this))}},this.forEachPage=function(t){var e=l.numPages;(function n(i){l.getPage(i).then(t).then((function(){++i<=e&&n(i)}))})(1)},this.loadPage=function(t,e){c=null,null!==l&&(r=r.then((function(){return l.getPage(t)})).then(function(t){c=t,this.renderPage(e),s("page-loaded",t.pageNumber)}.bind(this)).catch((function(t){d(),p(),s("error",t)})))},this.loadDocument=function(i){if(l=null,c=null,s("num-pages",void 0),!i)return a.removeAttribute("width"),a.removeAttribute("height"),void p();r=r.then((function(){var r;if(e(i)){if(i.destroyed)return void s("error",new Error("loadingTask has been destroyed"));r=i}else r=n(i,{onPassword:function(e,n){var i;switch(n){case t.PasswordResponses.NEED_PASSWORD:i="NEED_PASSWORD";break;case t.PasswordResponses.INCORRECT_PASSWORD:i="INCORRECT_PASSWORD";break}s("password",e,i)},onProgress:function(t){var e=t.loaded/t.total;s("progress",Math.min(e,1))}});return r.promise})).then((function(t){l=t,s("num-pages",t.numPages),s("loaded")})).catch((function(t){d(),p(),s("error",t)}))},o.style.transformOrigin="0 0"}return{createLoadingTask:n,PDFJSWrapper:a}}},a0d8:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAdFJREFUOE+tlL+KFEEQxr+aRQMTH8BcA/8hCj6DiZmLIBwI4p0iJxzbNbuKcIkO89WaKOJ5giAIghca+AoKioEGmpn4BpoodEkvM8vc7Nwie9vRVHfPr77+qroFSx6yZB6WAiyK4sxoNPqcxO0baGb3Yowr7r4+HA7f7QtI8g6A+wD6qrozV6GZnXf3EYBjAI4A+AvgO4D3qrpBcgigaML2BJZluSkiCXawVbQdVe2XZRlEhG1YJ5DkUwBrNSjLsnODweBTHZvZhrs/rOJJgmbSXR6STH4kX+rRjzH+yrLsgqquk7wNwAAcaOzZVtXVOp4CzeyEu39pZlNVIfkowczslrs/BpAUronI0a5TTIHj8fhsjPFjG5jisixvisgTEXkbQrhI8ltVrMl2ETkZQvg64yHJZwCuN/0xs1V33xIR6/V62zHGw63ED1T17syR6wmSb9J3MpvkNQDP3V3zPDeSlwBM1quxpao39ixKc8HMrrr7i2ruB4DfAI5X8R93L/I832y1VffVI7kC4CWAMYBT7n5aRA4B+JmaW0SKEMKHNmzGw6oAV0TkVVfTdgHmKjSzy+7+elHYLoUNw6cX/X8UzVWYoPWrsQis08NFQfV//wDBWMUVa7EAAQAAAABJRU5ErkJggg=="},a258:function(t,e,n){var i=n("0366"),r=n("44ad"),a=n("7b0b"),o=n("07fa"),s=function(t){var e=1==t;return function(n,s,l){var c,u,h=a(n),d=r(h),p=i(s,l),f=o(d);while(f-- >0)if(c=d[f],u=p(c,f,h),u)switch(t){case 0:return c;case 1:return f}return e?-1:void 0}};t.exports={findLast:s(0),findLastIndex:s(1)}},a2e1:function(t,e,n){"use strict";n("14d9"),n("d9e2");var i=n("4cdf"),r=n("d352"),a=n("1300"),o=n("256f");class s{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}getReadOptions(t,e){if(e){let n=e.dataProjection?Object(o["i"])(e.dataProjection):this.readProjection(t);e.extent&&n&&"tile-pixels"===n.getUnits()&&(n=Object(o["i"])(n),n.setWorldExtent(e.extent)),e={dataProjection:n,featureProjection:e.featureProjection}}return this.adaptOptions(e)}adaptOptions(t){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)}getType(){return Object(a["a"])()}readFeature(t,e){return Object(a["a"])()}readFeatures(t,e){return Object(a["a"])()}readGeometry(t,e){return Object(a["a"])()}readProjection(t){return Object(a["a"])()}writeFeature(t,e){return Object(a["a"])()}writeFeatures(t,e){return Object(a["a"])()}writeGeometry(t,e){return Object(a["a"])()}}var l=s;function c(t,e,n){const i=n?Object(o["i"])(n.featureProjection):null,r=n?Object(o["i"])(n.dataProjection):null;let a;if(a=i&&r&&!Object(o["d"])(i,r)?(e?t.clone():t).transform(e?i:r,e?r:i):t,e&&n&&void 0!==n.decimals){const e=Math.pow(10,n.decimals),i=function(t){for(let n=0,i=t.length;n<i;++n)t[n]=Math.round(t[n]*e)/e;return t};a===t&&(a=t.clone()),a.applyTransform(i)}return a}class u extends l{constructor(){super()}getType(){return"json"}readFeature(t,e){return this.readFeatureFromObject(h(t),this.getReadOptions(t,e))}readFeatures(t,e){return this.readFeaturesFromObject(h(t),this.getReadOptions(t,e))}readFeatureFromObject(t,e){return Object(a["a"])()}readFeaturesFromObject(t,e){return Object(a["a"])()}readGeometry(t,e){return this.readGeometryFromObject(h(t),this.getReadOptions(t,e))}readGeometryFromObject(t,e){return Object(a["a"])()}readProjection(t){return this.readProjectionFromObject(h(t))}readProjectionFromObject(t){return Object(a["a"])()}writeFeature(t,e){return JSON.stringify(this.writeFeatureObject(t,e))}writeFeatureObject(t,e){return Object(a["a"])()}writeFeatures(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))}writeFeaturesObject(t,e){return Object(a["a"])()}writeGeometry(t,e){return JSON.stringify(this.writeGeometryObject(t,e))}writeGeometryObject(t,e){return Object(a["a"])()}}function h(t){if("string"===typeof t){const e=JSON.parse(t);return e||null}return null!==t?t:null}var d=u,p=n("7a09"),f=n("47e4"),g=n("9a44"),m=n("88da"),v=n("f403"),y=n("5bc3"),b=n("92fa5"),x=n("38f3");class _ extends d{constructor(t){t=t||{},super(),this.dataProjection=Object(o["i"])(t.dataProjection?t.dataProjection:"EPSG:4326"),t.featureProjection&&(this.defaultFeatureProjection=Object(o["i"])(t.featureProjection)),this.geometryName_=t.geometryName,this.extractGeometryName_=t.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(t,e){let n=null;n="Feature"===t["type"]?t:{type:"Feature",geometry:t,properties:null};const r=w(n["geometry"],e),a=new i["a"];return this.geometryName_?a.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&a.setGeometryName(n["geometry_name"]),a.setGeometry(r),"id"in n&&a.setId(n["id"]),n["properties"]&&a.setProperties(n["properties"],!0),a}readFeaturesFromObject(t,e){const n=t;let i=null;if("FeatureCollection"===n["type"]){const n=t;i=[];const r=n["features"];for(let t=0,a=r.length;t<a;++t)i.push(this.readFeatureFromObject(r[t],e))}else i=[this.readFeatureFromObject(t,e)];return i}readGeometryFromObject(t,e){return w(t,e)}readProjectionFromObject(t){const e=t["crs"];let n;return e?"name"==e["type"]?n=Object(o["i"])(e["properties"]["name"]):"EPSG"===e["type"]?n=Object(o["i"])("EPSG:"+e["properties"]["code"]):Object(b["a"])(!1,36):n=this.dataProjection,n}writeFeatureObject(t,e){e=this.adaptOptions(e);const n={type:"Feature",geometry:null,properties:null},i=t.getId();if(void 0!==i&&(n.id=i),!t.hasProperties())return n;const r=t.getProperties(),a=t.getGeometry();return a&&(n.geometry=L(a,e),delete r[t.getGeometryName()]),Object(x["b"])(r)||(n.properties=r),n}writeFeaturesObject(t,e){e=this.adaptOptions(e);const n=[];for(let i=0,r=t.length;i<r;++i)n.push(this.writeFeatureObject(t[i],e));return{type:"FeatureCollection",features:n}}writeGeometryObject(t,e){return L(t,this.adaptOptions(e))}}function w(t,e){if(!t)return null;let n;switch(t["type"]){case"Point":n=O(t);break;case"LineString":n=C(t);break;case"Polygon":n=k(t);break;case"MultiPoint":n=M(t);break;case"MultiLineString":n=A(t);break;case"MultiPolygon":n=T(t);break;case"GeometryCollection":n=S(t);break;default:throw new Error("Unsupported GeoJSON type: "+t["type"])}return c(n,!1,e)}function S(t,e){const n=t["geometries"].map((function(t){return w(t,e)}));return new r["a"](n)}function O(t){return new v["a"](t["coordinates"])}function C(t){return new p["a"](t["coordinates"])}function A(t){return new f["a"](t["coordinates"])}function M(t){return new g["a"](t["coordinates"])}function T(t){return new m["a"](t["coordinates"])}function k(t){return new y["b"](t["coordinates"])}function L(t,e){t=c(t,!0,e);const n=t.getType();let i;switch(n){case"Point":i=D(t,e);break;case"LineString":i=I(t,e);break;case"Polygon":i=F(t,e);break;case"MultiPoint":i=P(t,e);break;case"MultiLineString":i=E(t,e);break;case"MultiPolygon":i=R(t,e);break;case"GeometryCollection":i=j(t,e);break;case"Circle":i={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+n)}return i}function j(t,e){e=Object.assign({},e),delete e.featureProjection;const n=t.getGeometriesArray().map((function(t){return L(t,e)}));return{type:"GeometryCollection",geometries:n}}function I(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function E(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function P(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function R(t,e){let n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}function D(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function F(t,e){let n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}e["a"]=_},a301:function(t,e,n){"use strict";n("03fe")},a37b4:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAApCAYAAADar2JAAAAACXBIWXMAAAsSAAALEgHS3X78AAACpUlEQVRIie2WTUsbURSGH0s23k0kupXaTV1G26Va/Qempu4jJoa2m0pbKG2ptVQpBKmbtkg0Tdd2ESH+AGm7NCbgIimERLI0kQyUyWbgdpEzMvlsLG4EXxgm5557Ht5z72Tu9GmtNZesG5cNvNrQZbkuqoY6J/QbsAlUJTaATBdQRuYgNZvAHkCfY/dvSbIIuIFxGT/qAHXmDWAEGAAKttOMwAICzABpmdhJIzInIzUBYWRsqN3ygNwTcvd1gdo5e65dW+119zPAfbm6rXNduq601hqtdaAp9knsk7jdWFrigB3bTr3U1yhBfdG9wAyty9LQpszxSk1CGF7bqdZaJ5qcVG0XxUIhvxRcfLsUXHxSLBTyjm6qTa4TWmvtfKQAVsXBR3ugUqmcvX+36jFNMwOglPK+frNyNjg46HHULUsHK9D4nLbIATwBxmQ4rZS62QZ8ro67b1lWbSMS8ZimaQC+reh2dSu6XQV8pmkaG5GIx7KsWs9Qy7JqH9bX+iuVsgHMbEW303ZOfs9UKmXjw/pafztwS/s2sFQqAYw7gU6FQ8Ex4Gh4eJgXL1/VXC5Xf0enO9GoFuBCJ6DD8UKpVGInGm0w1gDdTybzqdShEmC8E9ABjgMLqdSh2k8m822hJ8XiH+CgF2AT+EBqW6GXpWvoNfQa+i+FQ0FfOBTsdmSfy9UDbACIA7MS7wEBeWG3VVen4VAwABSVUrNzfr8x5/cbSqlZoCi53p2GQ8ERcTd9e3SUh48eG0opN8DUvWnjy+dP7t+53FcBt8DbQceoH27uB/Pz5YnJqSHq30oAKKXcT58959fPH+Xvu7vTpmnaL/JiN6jb4W6oU4sTk1ND43fu2q4bk46PCR2PxY5z2eypvqBy2expPBY7tuOu5/7/6ur8o/4C+e3l0DSeSd4AAAAASUVORK5CYII="},a3b3:function(t,e,n){"use strict";n("96e7")},a3dd:function(t,e,n){"use strict";n("8258")},a44c:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAABHNCSVQICAgIfAhkiAAAAfZJREFUOE+dVNFOE0EUvXcSCyYGhpA2VYquIZBoNLTR6KPlC8AvEP8Av6DlC4AvAL9A/oC+EX1pa+KD+LBrsGKzhLbxqdjO9cy0Sml2oXRe7k7unDPn3Ht3mK5Ynt/IC0mBmW2sIJbI0GbwcKYZB+O4xLzfWGeR3V5eiBhHEYipoohX4kgjCaFMd7vGB1iDo6qI9kQkC9I3iJZ858fC7EaUmEjCzLcwD9SBFURicrWlVMV+zh2F1vaytV9bTOZGJpw7Ol2Hkl17W9fQyq9HyZIj/BpWQLYM0lZtKalHJvTKDX1++08Ad9MABSDZY1ZZElnrl3Tn5HFqdMsWlP5SL6KGhV7J4PyiL612O+E1c9Gdju2yhsrErbat3YNBawC8qz9Jb994bCwg9bm+ZsR8sArdYq6GT9PZODJ35Kqkzc1Wf+5j/laZuMXSzYe5jOv4WAotSJd9rWgiwB9SPHt2L9bqvwvYAqiTeEWKelZEgubzzPtBBbp8gibcDa5z4yxPfzouYa48MAHA4BNqvZjPjwKOOsNTH49BIa9/v7y/Py7JII7vHH4vQmHhYtCGB+8Ge+K3rsv6wNedyX4Nx5QporIsVLg0NpOHvqc6tAXFuv9UkUFBFAZxOA7n4UOD7P/IOl1W6bmiDYNvhTcLo+KW2w/HiHzC0PZfMjPXB4JuroQAAAAASUVORK5CYII="},a49c:function(t,e,n){"use strict";n("ca3f")},a5e5:function(t,e,n){"use strict";n("e453")},a636:function(t,e,n){},a764:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAoCAYAAAACJPERAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RUYzMDg5N0IxQ0UxMTFFQUE4QjNGNEI5NzA1N0UxNDEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RUYzMDg5N0MxQ0UxMTFFQUE4QjNGNEI5NzA1N0UxNDEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFRjMwODk3OTFDRTExMUVBQThCM0Y0Qjk3MDU3RTE0MSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpFRjMwODk3QTFDRTExMUVBQThCM0Y0Qjk3MDU3RTE0MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnyIqRkAAAY5SURBVHjaxFd7bBRFGJ+dfV2vV0rb6/V6PVraQns8FCnyBgNCDnk28ohGQAxBQeQvExME/yDBRBI1SoSAiUFFNOUPQtJgahrAoAUqD0uwpdLC0V4fV+To63q95+463/b2sr3etlcu0Um+zMzuN99vvufMUJIkof+6YfQ/NCZRRuekousSRc/wMzrWrc/GqUEvywpBwRDySh1peQ5rf2tffptjfiKyqLHM+yTX0kO6dCyJFMwlCpNF4oi+y2BB5oFOFKC5S5YO58pnBiWAHgJmgHF/ujmEt25/ZN68JpXLn5Qteb1I5HmXt77xbuNXPxo891tnl3XdnChSWArQ/H1r+6NpmoIBNB41Fdiq3Tk5UmvBVKn95j2n2N0tjdYCgWDNuS37L8AaoNqSBce0ZMf96LAWHn9stkjV9l1CyP3UFwugCI5toih6zn/803HV/8RAO83mA215k32wyN/e6Y+nlRaoDBwI9NW8tOn2aMDRlCmY+TJDiPeyhvxG40y293Sln9VxfKw7nprNccfRIOG4CfMuVkghzIoCRSPHpOLvRuQpAaIIAThEJ84IenabaB9daDPrcFYWGvSL485DlmXmXDz4/be0JCBOEjdqFQcZ8Ja78Q5MuJIpErZa5R96HR6hWVZXl0xa2kJb/+ZCvbwBMaxvy7V8pAVKCQi1wiRzz64wwskVK0MqvxBMTHKY7sX0HWJNHbhQAaUUYpA0FT4al86hky11NMYWkuMITNxI65oVDHDlME3BmjAJC0jUCiDFrOqxlokJIB4STtEqjOEF30PRR6F3ewisRgMANWk1UZQ6lfF53cQnmqfMsqzS49D37j/IaWkZj+Jp6+tw3Un0aJMLsenCGUrq7U3Kp8639k5WZF7lDIFYUElNHsx87qd1YkvtvcFnBQwNDNw2NdS+AOMBTJ+IxaDyZywH59KRs5XZ4O81HBrodIVpFmU6HvpYnksZDyApc/1tU6aHU709mTAvM07PgNhUkYBVZoWIFQm65MNMJSOE0B/27bwgSr5xYHpOX3QdVgCJnAtq2Yr7RpiXRNrgNVZ/iNwQ+qfdv4Jvv/gK7+4POcZCE0Txxm+rdlxft73sU5iv2Fi5d3FmyQ4V2DDzRsugYmKohJhL42q7/nQxYogiBzO6Zt/TMfPIBw2FOboSjKk8whMkpmwPhsLXL52s8sw5svc9RgzLlgtjVlpgLssVg54g8KlMK8aCqn0LKcNWD7iqjf6e2cPyD64nZKFAbgg0ucKQrVNQedTNrcuosxty7RBTKlBB0VTtU7XtZQaycO0gqx8e7gSA1FMKtII+FpC4JQjrIvKEGH9KWnmqBhZ/N1jeAe0SacB3Jc36tnq9OoDiFQe1toJCH9Lcr49TshoSAQU+wn9ZvT5WS63LtgIcza21+uwNffyEUVOnRzfRB3wRoGGBM+IgSDcVjnpFjWwMdy5f0f1cx5OVhqBnBJMr3Yq+eW1zsDAv80HzI1e9KnhGaDmWpoq2oVdXzbObTLpP/jr8GQqRSjWs5JG56+QPaFP5mtTszAknXl+/eLUKcFyaUsrAvnSWMceYXlleXs6X2PJRDW9DxTd+iTJe3vcFmrVsKjJlZ6OCgnzK4XiwckqB+VRDc7tnvA+oaFDl5xl3L1q0KK24qAjxPIfmbVuMaudukZmghzl85zgWFRGepUuWpGWkp+6LZ9ZEXm0yKLl2rJtmsyGWYWTBKToeFR89gK4ufEPuYQ7f4T9D08hmKyXXK7xWCzChVxtFoVKTKRuJ8puHg6sHyiS3nPlfH4R/iIHNsCxiWBrRDI2ysoywrDSZp6JEEckUSXoGRzdBgGj5pg7/iCVkMNASE76QCIErR29Sj+K/u7ufkgKLZcEs0QrMyXFDfoQ5fIf/sKG+vj5Y40gWtLK5uZloQRFf0VGt2EgPc/iOZYtQqKmpCdb8nCzosZqamv6WlhZZEwU8SjLYECPwAC8ZfpkU6Ikz1f+QbufZs2clp9Mpa0PO06EN4CHtgFpbW1FFRQVE287IGu2L+BhlUG637j5snPt8cUN9ff1qEkC8Xq9HKSkpKBwOI7fbjerq6lBVVRUUg60E8NyYGRE5xBNq726zQz68D++jSFpAlDZFfHiUALoTkfOvAAMA9k1uKYp1qaMAAAAASUVORK5CYII="},a97c:function(t,e,n){"use strict";n("7727")},a9c5:function(t,e,n){"use strict";n("5fb1")},aaf2f:function(t,e,n){},ad8f:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAJ1SURBVDhPrZTdS1NxGMe/e3dNl6skM9CyLLIaLSqCrvRCYpLVhChyQRkEEd33F3RX0EVEZIGZhKHWwF7owruKkIqVRWbFBM1Yunf3fuz3POuc5lmbRn3Gj/3O8zy/L8/L+R3NvAD/kUUFp/0xXOl+xfvzJ3aiusrC+2KUFIxEU3j6zIcfgTg04nmFzYyWfXWosBhzAX+gqOCt/ncYGv6CbHYe5RYD26KxNHQ6DVqb6nGyfRvb1BQVdLTdxiqRUVaSIEdoRJo6rZYzfu1x54wqigruOtyDM0ftaNy4EumMxDaDXovR8Rlcv+vFyGAH29QUCH6eCIpyR/HizRT22Negbq0V6XSWfQaDDr7JMF56v2HvjhpR9lZsqK1kn0yBYOvpAc5omdmAlBAKRZKwlpvYF44msbzCBKMQnounOeOhGy72yWh//SvoRZDJpEcylUEglMQ5twOPuly8aE828lEMxaopsGjEzz8zB0fjajy/dwwN62xodvfx2iT2ZCMfxVCsmoKSmzr6MHj1oChZj84LTzAxFeEyCSq/tsaKrostiImSXWc9GO45wj6ZAkFn5wAa1tsw8nYaldYy7lM+1N9gOIHd26sx9jWAh6IV+SyI7r7/HkkxiHFfkN9BtRhBNvJ9EjEUS2fyUTLcf6qfpypPdKnQ5Gnqj2+287OSgkZcA3NZ7or9DXSGzsoogg+uHRK9SUKSFrS0JBRLZzzirIwiaDRo0XvJidlgQtzdxUUpZjaUQO9lp7hBv3ut7Ca/R/hDcKC5HiHx2YonMiUXxVBsNivxWRllKHc8H+D96OehmESTlwJNmYZi31yF421b2FbwHv4bwE9lYzYOvTf7WAAAAABJRU5ErkJggg=="},ae13:function(t,e,n){"use strict";n("5e87")},af40:function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return p}));var i=n("7326"),r=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,a=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,o=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,s=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function l(t,e){var n=t.match(s);Object(i["c"])(n,(function(t){var n=t.split(":");e.addColorStop(n[0],n[1])}))}function c(t,e,n){var i,a,o=r.exec(n),s=parseFloat(o[1])%360*(Math.PI/180),c=o[2],u=e.getBBox();s>=0&&s<.5*Math.PI?(i={x:u.minX,y:u.minY},a={x:u.maxX,y:u.maxY}):.5*Math.PI<=s&&s<Math.PI?(i={x:u.maxX,y:u.minY},a={x:u.minX,y:u.maxY}):Math.PI<=s&&s<1.5*Math.PI?(i={x:u.maxX,y:u.maxY},a={x:u.minX,y:u.minY}):(i={x:u.minX,y:u.maxY},a={x:u.maxX,y:u.minY});var h=Math.tan(s),d=h*h,p=(a.x-i.x+h*(a.y-i.y))/(d+1)+i.x,f=h*(a.x-i.x+h*(a.y-i.y))/(d+1)+i.y,g=t.createLinearGradient(i.x,i.y,p,f);return l(c,g),g}function u(t,e,n){var i=a.exec(n),r=parseFloat(i[1]),o=parseFloat(i[2]),c=parseFloat(i[3]),u=i[4];if(0===c){var h=u.match(s);return h[h.length-1].split(":")[1]}var d=e.getBBox(),p=d.maxX-d.minX,f=d.maxY-d.minY,g=Math.sqrt(p*p+f*f)/2,m=t.createRadialGradient(d.minX+p*r,d.minY+f*o,0,d.minX+p/2,d.minY+f/2,c*g);return l(u,m),m}function h(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===n)return e.get("pattern");var i,r,a=o.exec(n),s=a[1],l=a[2];function c(){i=t.createPattern(r,s),e.set("pattern",i),e.set("patternSource",n)}switch(s){case"a":s="repeat";break;case"x":s="repeat-x";break;case"y":s="repeat-y";break;case"n":s="no-repeat";break;default:s="no-repeat"}return r=new Image,l.match(/^data:/i)||(r.crossOrigin="Anonymous"),r.src=l,r.complete?c():(r.onload=c,r.src=r.src),i}function d(t,e,n){var r=e.getBBox();if(isNaN(r.x)||isNaN(r.y)||isNaN(r.width)||isNaN(r.height))return n;if(Object(i["k"])(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return c(t,e,n);if("r"===n[0])return u(t,e,n);if("p"===n[0])return h(t,e,n)}return n}return n instanceof CanvasPattern?n:void 0}function p(t){var e=0,n=0,r=0,a=0;return Object(i["g"])(t)?1===t.length?e=n=r=a=t[0]:2===t.length?(e=r=t[0],n=a=t[1]):3===t.length?(e=t[0],n=a=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],a=t[3]):e=n=r=a=t,[e,n,r,a]}},af69:function(t,e,n){},b09b:function(t,e,n){"use strict";n("3804")},b0a4:function(t,e,n){"use strict";n("5406d")},b182:function(t,e,n){"use strict";var i=n("9ab4"),r=n("6855");function a(t,e){if(e){var n=Object(r["invert"])(e);return Object(r["multiplyVec2"])(n,t)}return t}function o(t,e,n){var i=t.getTotalMatrix();if(i){var r=a([e,n,1],i),o=r[0],s=r[1];return[o,s]}return[e,n]}function s(t,e,n){if(t.isCanvas&&t.isCanvas())return!0;if(!Object(r["isAllowCapture"])(t)||!1===t.cfg.isInView)return!1;if(t.cfg.clipShape){var i=o(t,e,n),a=i[0],s=i[1];if(t.isClipped(a,s))return!1}var l=t.cfg.cacheCanvasBBox||t.getCanvasBBox();return e>=l.minX&&e<=l.maxX&&n>=l.minY&&n<=l.maxY}function l(t,e,n){if(!s(t,e,n))return null;for(var i=null,r=t.getChildren(),a=r.length,c=a-1;c>=0;c--){var u=r[c];if(u.isGroup())i=l(u,e,n);else if(s(u,e,n)){var h=u,d=o(u,e,n),p=d[0],f=d[1];h.isInShape(p,f)&&(i=u)}if(i)break}return i}var c=n("4799"),u=n("c2ad"),h=n("7326"),d=n("f5e5"),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e["renderer"]="canvas",e["autoDraw"]=!0,e["localRefresh"]=!0,e["refreshElements"]=[],e["clipView"]=!0,e["quickHit"]=!1,e},e.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return c},e.prototype.getGroupBase=function(){return u["a"]},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Object(h["d"])();return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},e.prototype.setDOMSize=function(e,n){t.prototype.setDOMSize.call(this,e,n);var i=this.get("context"),r=this.get("el"),a=this.getPixelRatio();r.width=a*e,r.height=a*n,a>1&&i.scale(a,a)},e.prototype.clear=function(){t.prototype.clear.call(this),this._clearFrame();var e=this.get("context"),n=this.get("el");e.clearRect(0,0,n.width,n.height)},e.prototype.getShape=function(e,n){var i;return i=this.get("quickHit")?l(this,e,n):t.prototype.getShape.call(this,e,n,null),i},e.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements"),n=this.getViewRange();if(e.length&&e[0]===this)t=n;else if(t=Object(d["f"])(e),t){t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),t.maxY+=1;var i=this.get("clipView");i&&(t=Object(d["g"])(t,n))}return t},e.prototype.refreshElement=function(t){var e=this.get("refreshElements");e.push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(Object(h["a"])(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),Object(d["a"])(t,this),Object(d["d"])(t,n),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),i=this._getRefreshRegion();i?(t.clearRect(i.minX,i.minY,i.maxX-i.minX,i.maxY-i.minY),t.save(),t.beginPath(),t.rect(i.minX,i.minY,i.maxX-i.minX,i.maxY-i.minY),t.clip(),Object(d["a"])(t,this),Object(d["b"])(this,n,i),Object(d["d"])(t,n,i),t.restore()):e.length&&Object(d["c"])(e),Object(h["c"])(e,(function(t){t.get("hasChanged")&&t.set("hasChanged",!1)})),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=Object(h["n"])((function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)})),this.set("drawFrame",e))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(r["AbstractCanvas"]);e["a"]=p},b1a2:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s}));n("14d9");var i=n("9f5e"),r=n("7fc9");function a(t,e,n,a,o,s,l){let c,u;const h=(n-e)/a;if(1===h)c=e;else if(2===h)c=e,u=o;else if(0!==h){let r=t[e],s=t[e+1],l=0;const h=[0];for(let i=e+a;i<n;i+=a){const e=t[i],n=t[i+1];l+=Math.sqrt((e-r)*(e-r)+(n-s)*(n-s)),h.push(l),r=e,s=n}const d=o*l,p=Object(i["b"])(h,d);p<0?(u=(d-h[-p-2])/(h[-p-1]-h[-p-2]),c=e+(-p-2)*a):c=e+p*a}l=l>1?l:2,s=s||new Array(l);for(let i=0;i<l;++i)s[i]=void 0===c?NaN:void 0===u?t[c+i]:Object(r["d"])(t[c+i],t[c+a+i],u);return s}function o(t,e,n,i,a,o){if(n==e)return null;let s;if(a<t[e+i-1])return o?(s=t.slice(e,e+i),s[i-1]=a,s):null;if(t[n-1]<a)return o?(s=t.slice(n-i,n),s[i-1]=a,s):null;if(a==t[e+i-1])return t.slice(e,e+i);let l=e/i,c=n/i;while(l<c){const e=l+c>>1;a<t[(e+1)*i-1]?c=e:l=e+1}const u=t[l*i-1];if(a==u)return t.slice((l-1)*i,(l-1)*i+i);const h=t[(l+1)*i-1],d=(a-u)/(h-u);s=[];for(let p=0;p<i-1;++p)s.push(Object(r["d"])(t[(l-1)*i+p],t[l*i+p],d));return s.push(a),s}function s(t,e,n,i,r,a,s){if(s)return o(t,e,n[n.length-1],i,r,a);let l;if(r<t[i-1])return a?(l=t.slice(0,i),l[i-1]=r,l):null;if(t[t.length-1]<r)return a?(l=t.slice(t.length-i),l[i-1]=r,l):null;for(let c=0,u=n.length;c<u;++c){const a=n[c];if(e!=a){if(r<t[e+i-1])return null;if(r<=t[a-1])return o(t,e,a,i,r,!1);e=a}}return null}},b22f:function(t,e,n){"use strict";n("8197")},b2c8:function(t,e,n){t.exports=n.p+"img/camera_bg_4.d27493d3.png"},b2cb:function(t,e,n){"use strict";n.d(e,"j",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"g",(function(){return o})),n.d(e,"b",(function(){return s}));var i=n("8937");function r(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}n.d(e,"e",(function(){return i["isNil"]})),n.d(e,"d",(function(){return i["isFunction"]})),n.d(e,"h",(function(){return i["isString"]})),n.d(e,"f",(function(){return i["isObject"]})),n.d(e,"i",(function(){return i["mix"]})),n.d(e,"a",(function(){return i["each"]})),n.d(e,"k",(function(){return i["upperFirst"]}));var a="undefined"!==typeof window&&"undefined"!==typeof window.document;function o(t,e){if(t.isCanvas())return!0;var n=e.getParent(),i=!1;while(n){if(n===t){i=!0;break}n=n.getParent()}return i}function s(t){return t.cfg.visible&&t.cfg.capture}},b34e:function(t,e,n){},b446:function(t,e,n){"use strict";n("9311")},b5d5:function(t,e){},b66c:function(t,e,n){"use strict";n("5ff4")},b6fb:function(t,e,n){"use strict";n.r(e),n.d(e,"catmullRomToBezier",(function(){return l})),n.d(e,"fillPath",(function(){return E})),n.d(e,"fillPathByDiff",(function(){return F})),n.d(e,"formatPath",(function(){return V})),n.d(e,"intersection",(function(){return k})),n.d(e,"parsePathArray",(function(){return m})),n.d(e,"parsePathString",(function(){return s})),n.d(e,"pathToAbsolute",(function(){return u})),n.d(e,"pathToCurve",(function(){return f})),n.d(e,"rectPath",(function(){return w}));var i=n("8937"),r="\t\n\v\f\r   ᠎             　\u2028\u2029",a=new RegExp("([a-z])["+r+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+r+"]*,?["+r+"]*)+)","ig"),o=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+r+"]*,?["+r+"]*","ig"),s=function(t){if(!t)return null;if(Object(i["isArray"])(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(a,(function(i,r,a){var s=[],l=r.toLowerCase();if(a.replace(o,(function(t,e){e&&s.push(+e)})),"m"===l&&s.length>2&&(n.push([r].concat(s.splice(0,2))),l="l",r="m"===r?"l":"L"),"o"===l&&1===s.length&&n.push([r,s[0]]),"r"===l)n.push([r].concat(s));else while(s.length>=e[l])if(n.push([r].concat(s.splice(0,e[l]))),!e[l])break;return t})),n},l=function(t,e){for(var n=[],i=0,r=t.length;r-2*!e>i;i+=2){var a=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4===i?a[3]={x:+t[0],y:+t[1]}:r-2===i&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[r-2],y:+t[r-1]}:r-4===i?a[3]=a[2]:i||(a[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return n},c=function(t,e,n,i,r){var a=[];if(null===r&&null===i&&(i=n),t=+t,e=+e,n=+n,i=+i,null!==r){var o=Math.PI/180,s=t+n*Math.cos(-i*o),l=t+n*Math.cos(-r*o),c=e+n*Math.sin(-i*o),u=e+n*Math.sin(-r*o);a=[["M",s,c],["A",n,n,0,+(r-i>180),0,l,u]]}else a=[["M",t,e],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]];return a},u=function(t){if(t=s(t),!t||!t.length)return[["M",0,0]];var e,n,i=[],r=0,a=0,o=0,u=0,h=0;"M"===t[0][0]&&(r=+t[0][1],a=+t[0][2],o=r,u=a,h++,i[0]=["M",r,a]);for(var d=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),p=void 0,f=void 0,g=h,m=t.length;g<m;g++){if(i.push(p=[]),f=t[g],e=f[0],e!==e.toUpperCase())switch(p[0]=e.toUpperCase(),p[0]){case"A":p[1]=f[1],p[2]=f[2],p[3]=f[3],p[4]=f[4],p[5]=f[5],p[6]=+f[6]+r,p[7]=+f[7]+a;break;case"V":p[1]=+f[1]+a;break;case"H":p[1]=+f[1]+r;break;case"R":n=[r,a].concat(f.slice(1));for(var v=2,y=n.length;v<y;v++)n[v]=+n[v]+r,n[++v]=+n[v]+a;i.pop(),i=i.concat(l(n,d));break;case"O":i.pop(),n=c(r,a,f[1],f[2]),n.push(n[0]),i=i.concat(n);break;case"U":i.pop(),i=i.concat(c(r,a,f[1],f[2],f[3])),p=["U"].concat(i[i.length-1].slice(-2));break;case"M":o=+f[1]+r,u=+f[2]+a;break;default:for(v=1,y=f.length;v<y;v++)p[v]=+f[v]+(v%2?r:a)}else if("R"===e)n=[r,a].concat(f.slice(1)),i.pop(),i=i.concat(l(n,d)),p=["R"].concat(f.slice(-2));else if("O"===e)i.pop(),n=c(r,a,f[1],f[2]),n.push(n[0]),i=i.concat(n);else if("U"===e)i.pop(),i=i.concat(c(r,a,f[1],f[2],f[3])),p=["U"].concat(i[i.length-1].slice(-2));else for(var b=0,x=f.length;b<x;b++)p[b]=f[b];if(e=e.toUpperCase(),"O"!==e)switch(p[0]){case"Z":r=+o,a=+u;break;case"H":r=p[1];break;case"V":a=p[1];break;case"M":o=p[p.length-2],u=p[p.length-1];break;default:r=p[p.length-2],a=p[p.length-1]}}return i},h=function(t,e,n,i){return[t,e,n,i,n,i]},d=function(t,e,n,i,r,a){var o=1/3,s=2/3;return[o*t+s*n,o*e+s*i,o*r+s*n,o*a+s*i,r,a]},p=function(t,e,n,i,r,a,o,s,l,c){n===i&&(n+=1);var u,h,d,f,g,m=120*Math.PI/180,v=Math.PI/180*(+r||0),y=[],b=function(t,e,n){var i=t*Math.cos(n)-e*Math.sin(n),r=t*Math.sin(n)+e*Math.cos(n);return{x:i,y:r}};if(c)h=c[0],d=c[1],f=c[2],g=c[3];else{u=b(t,e,-v),t=u.x,e=u.y,u=b(s,l,-v),s=u.x,l=u.y,t===s&&e===l&&(s+=1,l+=1);var x=(t-s)/2,_=(e-l)/2,w=x*x/(n*n)+_*_/(i*i);w>1&&(w=Math.sqrt(w),n*=w,i*=w);var S=n*n,O=i*i,C=(a===o?-1:1)*Math.sqrt(Math.abs((S*O-S*_*_-O*x*x)/(S*_*_+O*x*x)));f=C*n*_/i+(t+s)/2,g=C*-i*x/n+(e+l)/2,h=Math.asin(((e-g)/i).toFixed(9)),d=Math.asin(((l-g)/i).toFixed(9)),h=t<f?Math.PI-h:h,d=s<f?Math.PI-d:d,h<0&&(h=2*Math.PI+h),d<0&&(d=2*Math.PI+d),o&&h>d&&(h-=2*Math.PI),!o&&d>h&&(d-=2*Math.PI)}var A=d-h;if(Math.abs(A)>m){var M=d,T=s,k=l;d=h+m*(o&&d>h?1:-1),s=f+n*Math.cos(d),l=g+i*Math.sin(d),y=p(s,l,n,i,r,0,o,T,k,[d,M,f,g])}A=d-h;var L=Math.cos(h),j=Math.sin(h),I=Math.cos(d),E=Math.sin(d),P=Math.tan(A/4),R=4/3*n*P,D=4/3*i*P,F=[t,e],N=[t+R*j,e-D*L],B=[s+R*E,l-D*I],V=[s,l];if(N[0]=2*F[0]-N[0],N[1]=2*F[1]-N[1],c)return[N,B,V].concat(y);y=[N,B,V].concat(y).join().split(",");for(var G=[],z=0,U=y.length;z<U;z++)G[z]=z%2?b(y[z-1],y[z],v).y:b(y[z],y[z+1],v).x;return G},f=function(t,e){var n,i=u(t),r=e&&u(e),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],l=[],c="",f="",g=function(t,e,n){var i,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(p.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(i=2*e.x-e.bx,r=2*e.y-e.by):(i=e.x,r=e.y),t=["C",i,r].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(d(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(d(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(h(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(h(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(h(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(h(e.x,e.y,e.X,e.Y));break;default:break}return t},m=function(t,e){if(t[e].length>7){t[e].shift();var a=t[e];while(a.length)s[e]="A",r&&(l[e]="A"),t.splice(e++,0,["C"].concat(a.splice(0,6)));t.splice(e,1),n=Math.max(i.length,r&&r.length||0)}},v=function(t,e,a,o,s){t&&e&&"M"===t[s][0]&&"M"!==e[s][0]&&(e.splice(s,0,["M",o.x,o.y]),a.bx=0,a.by=0,a.x=t[s][1],a.y=t[s][2],n=Math.max(i.length,r&&r.length||0))};n=Math.max(i.length,r&&r.length||0);for(var y=0;y<n;y++){i[y]&&(c=i[y][0]),"C"!==c&&(s[y]=c,y&&(f=s[y-1])),i[y]=g(i[y],a,f),"A"!==s[y]&&"C"===c&&(s[y]="C"),m(i,y),r&&(r[y]&&(c=r[y][0]),"C"!==c&&(l[y]=c,y&&(f=l[y-1])),r[y]=g(r[y],o,f),"A"!==l[y]&&"C"===c&&(l[y]="C"),m(r,y)),v(i,r,a,o,y),v(r,i,o,a,y);var b=i[y],x=r&&r[y],_=b.length,w=r&&x.length;a.x=b[_-2],a.y=b[_-1],a.bx=parseFloat(b[_-4])||a.x,a.by=parseFloat(b[_-3])||a.y,o.bx=r&&(parseFloat(x[w-4])||o.x),o.by=r&&(parseFloat(x[w-3])||o.y),o.x=r&&x[w-2],o.y=r&&x[w-1]}return r?[i,r]:i},g=/,?([a-z]),?/gi,m=function(t){return t.join(",").replace(g,"$1")},v=function(t,e,n,i,r){var a=-3*e+9*n-9*i+3*r,o=t*a+6*e-12*n+6*i;return t*o-3*e+3*n},y=function(t,e,n,i,r,a,o,s,l){null===l&&(l=1),l=l>1?1:l<0?0:l;for(var c=l/2,u=12,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,f=0;f<u;f++){var g=c*h[f]+c,m=v(g,t,n,r,o),y=v(g,e,i,a,s),b=m*m+y*y;p+=d[f]*Math.sqrt(b)}return c*p},b=function(t,e,n,i,r,a,o,s){for(var l,c,u,h,d=[],p=[[],[]],f=0;f<2;++f)if(0===f?(c=6*t-12*n+6*r,l=-3*t+9*n-9*r+3*o,u=3*n-3*t):(c=6*e-12*i+6*a,l=-3*e+9*i-9*a+3*s,u=3*i-3*e),Math.abs(l)<1e-12){if(Math.abs(c)<1e-12)continue;h=-u/c,h>0&&h<1&&d.push(h)}else{var g=c*c-4*u*l,m=Math.sqrt(g);if(!(g<0)){var v=(-c+m)/(2*l);v>0&&v<1&&d.push(v);var y=(-c-m)/(2*l);y>0&&y<1&&d.push(y)}}var b,x=d.length,_=x;while(x--)h=d[x],b=1-h,p[0][x]=b*b*b*t+3*b*b*h*n+3*b*h*h*r+h*h*h*o,p[1][x]=b*b*b*e+3*b*b*h*i+3*b*h*h*a+h*h*h*s;return p[0][_]=t,p[1][_]=e,p[0][_+1]=o,p[1][_+1]=s,p[0].length=p[1].length=_+2,{min:{x:Math.min.apply(0,p[0]),y:Math.min.apply(0,p[1])},max:{x:Math.max.apply(0,p[0]),y:Math.max.apply(0,p[1])}}},x=function(t,e,n,i,r,a,o,s){if(!(Math.max(t,n)<Math.min(r,o)||Math.min(t,n)>Math.max(r,o)||Math.max(e,i)<Math.min(a,s)||Math.min(e,i)>Math.max(a,s))){var l=(t*i-e*n)*(r-o)-(t-n)*(r*s-a*o),c=(t*i-e*n)*(a-s)-(e-i)*(r*s-a*o),u=(t-n)*(a-s)-(e-i)*(r-o);if(u){var h=l/u,d=c/u,p=+h.toFixed(2),f=+d.toFixed(2);if(!(p<+Math.min(t,n).toFixed(2)||p>+Math.max(t,n).toFixed(2)||p<+Math.min(r,o).toFixed(2)||p>+Math.max(r,o).toFixed(2)||f<+Math.min(e,i).toFixed(2)||f>+Math.max(e,i).toFixed(2)||f<+Math.min(a,s).toFixed(2)||f>+Math.max(a,s).toFixed(2)))return{x:h,y:d}}}},_=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},w=function(t,e,n,i,r){if(r)return[["M",+t+ +r,e],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]];var a=[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]];return a.parsePathArray=m,a},S=function(t,e,n,i){return null===t&&(t=e=n=i=0),null===e&&(e=t.y,n=t.width,i=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:i,h:i,x2:t+n,y2:e+i,cx:t+n/2,cy:e+i/2,r1:Math.min(n,i)/2,r2:Math.max(n,i)/2,r0:Math.sqrt(n*n+i*i)/2,path:w(t,e,n,i),vb:[t,e,n,i].join(" ")}},O=function(t,e){return t=S(t),e=S(e),_(e,t.x,t.y)||_(e,t.x2,t.y)||_(e,t.x,t.y2)||_(e,t.x2,t.y2)||_(t,e.x,e.y)||_(t,e.x2,e.y)||_(t,e.x,e.y2)||_(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},C=function(t,e,n,r,a,o,s,l){Object(i["isArray"])(t)||(t=[t,e,n,r,a,o,s,l]);var c=b.apply(null,t);return S(c.min.x,c.min.y,c.max.x-c.min.x,c.max.y-c.min.y)},A=function(t,e,n,i,r,a,o,s,l){var c=1-l,u=Math.pow(c,3),h=Math.pow(c,2),d=l*l,p=d*l,f=u*t+3*h*l*n+3*c*l*l*r+p*o,g=u*e+3*h*l*i+3*c*l*l*a+p*s,m=t+2*l*(n-t)+d*(r-2*n+t),v=e+2*l*(i-e)+d*(a-2*i+e),y=n+2*l*(r-n)+d*(o-2*r+n),b=i+2*l*(a-i)+d*(s-2*a+i),x=c*t+l*n,_=c*e+l*i,w=c*r+l*o,S=c*a+l*s,O=90-180*Math.atan2(m-y,v-b)/Math.PI;return{x:f,y:g,m:{x:m,y:v},n:{x:y,y:b},start:{x:x,y:_},end:{x:w,y:S},alpha:O}},M=function(t,e,n){var i=C(t),r=C(e);if(!O(i,r))return n?0:[];for(var a=y.apply(0,t),o=y.apply(0,e),s=~~(a/8),l=~~(o/8),c=[],u=[],h={},d=n?0:[],p=0;p<s+1;p++){var f=A.apply(0,t.concat(p/s));c.push({x:f.x,y:f.y,t:p/s})}for(p=0;p<l+1;p++){f=A.apply(0,e.concat(p/l));u.push({x:f.x,y:f.y,t:p/l})}for(p=0;p<s;p++)for(var g=0;g<l;g++){var m=c[p],v=c[p+1],b=u[g],_=u[g+1],w=Math.abs(v.x-m.x)<.001?"y":"x",S=Math.abs(_.x-b.x)<.001?"y":"x",M=x(m.x,m.y,v.x,v.y,b.x,b.y,_.x,_.y);if(M){if(h[M.x.toFixed(4)]===M.y.toFixed(4))continue;h[M.x.toFixed(4)]=M.y.toFixed(4);var T=m.t+Math.abs((M[w]-m[w])/(v[w]-m[w]))*(v.t-m.t),k=b.t+Math.abs((M[S]-b[S])/(_[S]-b[S]))*(_.t-b.t);T>=0&&T<=1&&k>=0&&k<=1&&(n?d+=1:d.push({x:M.x,y:M.y,t1:T,t2:k}))}}return d},T=function(t,e,n){var i,r,a,o,s,l,c,u,h,d;t=f(t),e=f(e);for(var p=n?0:[],g=0,m=t.length;g<m;g++){var v=t[g];if("M"===v[0])i=s=v[1],r=l=v[2];else{"C"===v[0]?(h=[i,r].concat(v.slice(1)),i=h[6],r=h[7]):(h=[i,r,i,r,s,l,s,l],i=s,r=l);for(var y=0,b=e.length;y<b;y++){var x=e[y];if("M"===x[0])a=c=x[1],o=u=x[2];else{"C"===x[0]?(d=[a,o].concat(x.slice(1)),a=d[6],o=d[7]):(d=[a,o,a,o,c,u,c,u],a=c,o=u);var _=M(h,d,n);if(n)p+=_;else{for(var w=0,S=_.length;w<S;w++)_[w].segment1=g,_[w].segment2=y,_[w].bez1=h,_[w].bez2=d;p=p.concat(_)}}}}}return p},k=function(t,e){return T(t,e)};function L(t,e){var n=[],i=[];function r(t,e){if(1===t.length)n.push(t[0]),i.push(t[0]);else{for(var a=[],o=0;o<t.length-1;o++)0===o&&n.push(t[0]),o===t.length-2&&i.push(t[o+1]),a[o]=[(1-e)*t[o][0]+e*t[o+1][0],(1-e)*t[o][1]+e*t[o+1][1]];r(a,e)}}return t.length&&r(t,e),{left:n,right:i.reverse()}}function j(t,e,n){var i=[[t[1],t[2]]];n=n||2;var r=[];"A"===e[0]?(i.push(e[6]),i.push(e[7])):"C"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]]),i.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]])):i.push([e[1],e[2]]);for(var a=i,o=1/n,s=0;s<n-1;s++){var l=o/(1-o*s),c=L(a,l);r.push(c.left),a=c.right}r.push(a);var u=r.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1]),e}));return u}var I=function(t,e,n){if(1===n)return[[].concat(t)];var i=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])i=i.concat(j(t,e,n));else{var r=[].concat(t);"M"===r[0]&&(r[0]="L");for(var a=0;a<=n-1;a++)i.push(r)}return i},E=function(t,e){if(1===t.length)return t;var n=t.length-1,i=e.length-1,r=n/i,a=[];if(1===t.length&&"M"===t[0][0]){for(var o=0;o<i-n;o++)t.push(t[0]);return t}for(o=0;o<i;o++){var s=Math.floor(r*o);a[s]=(a[s]||0)+1}var l=a.reduce((function(e,i,r){return r===n?e.concat(t[n]):e.concat(I(t[r],t[r+1],i))}),[]);return l.unshift(t[0]),"Z"!==e[i]&&"z"!==e[i]||l.push("Z"),l},P=function(t,e){if(t.length!==e.length)return!1;var n=!0;return Object(i["each"])(t,(function(t,i){if(t!==e[i])return n=!1,!1})),n};function R(t,e,n){var i=null,r=n;return e<r&&(r=e,i="add"),t<r&&(r=t,i="del"),{type:i,min:r}}var D=function(t,e){var n,i,r=t.length,a=e.length,o=0;if(0===r||0===a)return null;for(var s=[],l=0;l<=r;l++)s[l]=[],s[l][0]={min:l};for(var c=0;c<=a;c++)s[0][c]={min:c};for(l=1;l<=r;l++){n=t[l-1];for(c=1;c<=a;c++){i=e[c-1],o=P(n,i)?0:1;var u=s[l-1][c].min+1,h=s[l][c-1].min+1,d=s[l-1][c-1].min+o;s[l][c]=R(u,h,d)}}return s},F=function(t,e){var n=D(t,e),i=t.length,r=e.length,a=[],o=1,s=1;if(n[i][r].min!==i){for(var l=1;l<=i;l++){var c=n[l][l].min;s=l;for(var u=o;u<=r;u++)n[l][u].min<c&&(c=n[l][u].min,s=u);o=s,n[l][o].type&&a.push({index:l-1,type:n[l][o].type})}for(l=a.length-1;l>=0;l--)o=a[l].index,"add"===a[l].type?t.splice(o,0,[].concat(t[o])):t.splice(o,1)}i=t.length;var h=r-i;if(i<r)for(l=0;l<h;l++)"z"===t[i-1][0]||"Z"===t[i-1][0]?t.splice(i-2,0,t[i-2]):t.push(t[i-1]),i+=1;return t};function N(t,e,n){for(var i,r=[].concat(t),a=1/(n+1),o=B(e)[0],s=1;s<=n;s++)a*=s,i=Math.floor(t.length*a),0===i?r.unshift([o[0]*a+t[i][0]*(1-a),o[1]*a+t[i][1]*(1-a)]):r.splice(i,0,[o[0]*a+t[i][0]*(1-a),o[1]*a+t[i][1]*(1-a)]);return r}function B(t){var e=[];switch(t[0]){case"M":e.push([t[1],t[2]]);break;case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":e.push([t[1],t[1]]);break;case"V":e.push([t[1],t[1]]);break;default:}return e}var V=function(t,e){if(t.length<=1)return t;for(var n,i=0;i<e.length;i++)if(t[i][0]!==e[i][0])switch(n=B(t[i]),e[i][0]){case"M":t[i]=["M"].concat(n[0]);break;case"L":t[i]=["L"].concat(n[0]);break;case"A":t[i]=[].concat(e[i]),t[i][6]=n[0][0],t[i][7]=n[0][1];break;case"Q":if(n.length<2){if(!(i>0)){t[i]=e[i];break}n=N(n,t[i-1],1)}t[i]=["Q"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[i]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(i>0)){t[i]=e[i];break}n=N(n,t[i-1],2)}t[i]=["C"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(n.length<2){if(!(i>0)){t[i]=e[i];break}n=N(n,t[i-1],1)}t[i]=["S"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[i]=e[i]}return t}},b7ef:function(t,e,n){"use strict";var i=n("23e7"),r=n("da84"),a=n("d066"),o=n("5c6c"),s=n("9bf2").f,l=n("1a2d"),c=n("19aa"),u=n("7156"),h=n("e391"),d=n("cf98"),p=n("0d26"),f=n("83ab"),g=n("c430"),m="DOMException",v=a("Error"),y=a(m),b=function(){c(this,x);var t=arguments.length,e=h(t<1?void 0:arguments[0]),n=h(t<2?void 0:arguments[1],"Error"),i=new y(e,n),r=v(e);return r.name=m,s(i,"stack",o(1,p(r.stack,1))),u(i,this,b),i},x=b.prototype=y.prototype,_="stack"in v(m),w="stack"in new y(1,2),S=y&&f&&Object.getOwnPropertyDescriptor(r,m),O=!!S&&!(S.writable&&S.configurable),C=_&&!O&&!w;i({global:!0,constructor:!0,forced:g||C},{DOMException:C?b:y});var A=a(m),M=A.prototype;if(M.constructor!==A)for(var T in g||s(M,"constructor",o(1,A)),d)if(l(d,T)){var k=d[T],L=k.s;l(A,L)||s(A,L,o(6,k.c))}},b825:function(t,e,n){"use strict";n.r(e),n.d(e,"Line",(function(){return d})),n.d(e,"Text",(function(){return f})),n.d(e,"Arc",(function(){return m})),n.d(e,"Region",(function(){return y})),n.d(e,"Image",(function(){return x})),n.d(e,"DataMarker",(function(){return w})),n.d(e,"DataRegion",(function(){return O})),n.d(e,"RegionFilter",(function(){return A})),n.d(e,"Shape",(function(){return T})),n.d(e,"Html",(function(){return I}));var i=n("9ab4"),r=n("8937"),a=n("31e6"),o=n("060b"),s=n("8ea8"),l=n("e546");function c(t,e){var n=e.x,a=e.y,c=e.content,u=e.style,h=e.id,d=e.name,p=e.rotate,f=e.maxLength,g=e.autoEllipsis,m=e.isVertical,v=e.ellipsisPosition,y=e.background,b=t.addGroup({id:h+"-group",name:d+"-group",attrs:{x:n,y:a}}),x=b.addShape({type:"text",id:h,name:d,attrs:Object(i["__assign"])({x:0,y:0,text:c},u)}),_=Object(l["c"])(Object(r["get"])(y,"padding",0));if(f&&g){var w=f-(_[1]+_[3]);Object(o["a"])(!m,x,w,v)}if(y){var S=Object(r["get"])(y,"style",{}),O=x.getCanvasBBox(),C=O.minX,A=O.minY,M=O.width,T=O.height,k=b.addShape("rect",{id:h+"-bg",name:h+"-bg",attrs:Object(i["__assign"])({x:C-_[3],y:A-_[0],width:M+_[1]+_[3],height:T+_[0]+_[2]},S)});k.toBack()}Object(s["c"])(b,n,a),Object(s["b"])(b,p,n,a)}var u=n("2f5e"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:u["a"].textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:u["a"].fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:u["a"].lineColor,lineWidth:1}}}})},e.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},e.prototype.renderLine=function(t){var e=this.get("start"),n=this.get("end"),r=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:Object(i["__assign"])({x1:e.x,y1:e.y,x2:n.x,y2:n.y},r)})},e.prototype.getLabelPoint=function(t,e,n){var i;return i="start"===n?0:"center"===n?.5:Object(r["isString"])(n)&&-1!==n.indexOf("%")?parseInt(n,10)/100:Object(r["isNumber"])(n)?n:1,(i>1||i<0)&&(i=1),{x:Object(l["g"])(t.x,e.x,i),y:Object(l["g"])(t.y,e.y,i)}},e.prototype.renderLabel=function(t){var e=this.get("text"),n=this.get("start"),i=this.get("end"),r=e.position,a=e.content,o=e.style,s=e.offsetX,l=e.offsetY,u=e.autoRotate,h=e.maxLength,d=e.autoEllipsis,p=e.ellipsisPosition,f=e.background,g=e.isVertical,m=void 0!==g&&g,v=this.getLabelPoint(n,i,r),y=v.x+s,b=v.y+l,x={id:this.getElementId("line-text"),name:"annotation-line-text",x:y,y:b,content:a,style:o,maxLength:h,autoEllipsis:d,ellipsisPosition:p,background:f,isVertical:m};if(u){var _=[i.x-n.x,i.y-n.y];x.rotate=Math.atan2(_[1],_[0])}c(t,x)},e}(a["a"]),d=h,p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:u["a"].textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:u["a"].fontFamily}}})},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.renderInner=function(t){var e=this.getLocation(),n=e.x,i=e.y,r=this.get("content"),a=this.get("style"),o=this.getElementId("text"),s=this.get("name")+"-text",l=this.get("maxLength"),u=this.get("autoEllipsis"),h=this.get("isVertical"),d=this.get("ellipsisPosition"),p=this.get("background"),f=this.get("rotate"),g={id:o,name:s,x:n,y:i,content:r,style:a,maxLength:l,autoEllipsis:u,isVertical:h,ellipsisPosition:d,background:p,rotate:f};c(t,g)},e.prototype.resetLocation=function(){var t=this.getElementByLocalId("text-group");if(t){var e=this.getLocation(),n=e.x,i=e.y,r=this.get("rotate");Object(s["c"])(t,n,i),Object(s["b"])(t,r,n,i)}},e}(a["a"]),f=p,g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,style:{stroke:"#999",lineWidth:1}})},e.prototype.renderInner=function(t){this.renderArc(t)},e.prototype.getArcPath=function(){var t=this.getLocation(),e=t.center,n=t.radius,i=t.startAngle,r=t.endAngle,a=Object(l["e"])(e,n,i),o=Object(l["e"])(e,n,r),s=r-i>Math.PI?1:0,c=[["M",a.x,a.y]];if(r-i===2*Math.PI){var u=Object(l["e"])(e,n,i+Math.PI);c.push(["A",n,n,0,s,1,u.x,u.y]),c.push(["A",n,n,0,s,1,o.x,o.y])}else c.push(["A",n,n,0,s,1,o.x,o.y]);return c},e.prototype.renderArc=function(t){var e=this.getArcPath(),n=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:Object(i["__assign"])({path:e},n)})},e}(a["a"]),m=g,v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:u["a"].regionColor,opacity:.4}}})},e.prototype.renderInner=function(t){this.renderRegion(t)},e.prototype.renderRegion=function(t){var e=this.get("start"),n=this.get("end"),r=this.get("style"),a=Object(l["k"])({start:e,end:n});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:Object(i["__assign"])({x:a.x,y:a.y,width:a.width,height:a.height},r)})},e}(a["a"]),y=v,b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},e.prototype.renderInner=function(t){this.renderImage(t)},e.prototype.getImageAttrs=function(){var t=this.get("start"),e=this.get("end"),n=this.get("style"),r=Object(l["k"])({start:t,end:e}),a=this.get("src");return Object(i["__assign"])({x:r.x,y:r.y,img:a,width:r.width,height:r.height},n)},e.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},e}(a["a"]),x=b,_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:u["a"].lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:u["a"].textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:u["a"].fontFamily}}}})},e.prototype.renderInner=function(t){Object(r["get"])(this.get("line"),"display")&&this.renderLine(t),Object(r["get"])(this.get("text"),"display")&&this.renderText(t),Object(r["get"])(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},e.prototype.renderPoint=function(t){var e=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:e})},e.prototype.renderLine=function(t){var e=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:e})},e.prototype.renderText=function(t){var e=this.getShapeAttrs().text,n=e.x,r=e.y,a=e.text,o=Object(i["__rest"])(e,["x","y","text"]),s=this.get("text"),l=s.background,u=s.maxLength,h=s.autoEllipsis,d=s.isVertival,p=s.ellipsisPosition,f={x:n,y:r,id:this.getElementId("text"),name:"annotation-text",content:a,style:o,background:l,maxLength:u,autoEllipsis:h,isVertival:d,ellipsisPosition:p};c(t,f)},e.prototype.autoAdjust=function(t){var e=this.get("direction"),n=this.get("x"),i=this.get("y"),a=Object(r["get"])(this.get("line"),"length",0),o=this.get("coordinateBBox"),l=t.getBBox(),c=l.minX,u=l.maxX,h=l.minY,d=l.maxY,p=t.findById(this.getElementId("text-group")),f=t.findById(this.getElementId("text")),g=t.findById(this.getElementId("line"));if(o){if(p){if(n+c<=o.minX){var m=o.minX-(n+c);Object(s["c"])(p,p.attr("x")+m,p.attr("y"))}if(n+u>=o.maxX){m=n+u-o.maxX;Object(s["c"])(p,p.attr("x")-m,p.attr("y"))}}if("upward"===e&&i+h<=o.minY||"upward"!==e&&i+d>=o.maxY){var v=void 0,y=void 0;"upward"===e&&i+h<=o.minY?(v="top",y=1):(v="bottom",y=-1),f.attr("textBaseline",v),g&&g.attr("path",[["M",0,0],["L",0,a*y]]),Object(s["c"])(p,p.attr("x"),(a+2)*y)}}},e.prototype.getShapeAttrs=function(){var t=Object(r["get"])(this.get("line"),"display"),e=Object(r["get"])(this.get("point"),"style",{}),n=Object(r["get"])(this.get("line"),"style",{}),a=Object(r["get"])(this.get("text"),"style",{}),o=this.get("direction"),s=t?Object(r["get"])(this.get("line"),"length",0):0,l="upward"===o?-1:1;return{point:Object(i["__assign"])({x:0,y:0},e),line:Object(i["__assign"])({path:[["M",0,0],["L",0,s*l]]},n),text:Object(i["__assign"])({x:0,y:(s+2)*l,text:Object(r["get"])(this.get("text"),"content",""),textBaseline:"upward"===o?"bottom":"top"},a)}},e}(a["a"]),w=_,S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:u["a"].regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:u["a"].textColor,fontFamily:u["a"].fontFamily}}}})},e.prototype.renderInner=function(t){var e=Object(r["get"])(this.get("region"),"style",{}),n=(Object(r["get"])(this.get("text"),"style",{}),this.get("lineLength")||0),a=this.get("points");if(a.length){var o=Object(l["j"])(a),s=[];s.push(["M",a[0].x,o.minY-n]),a.forEach((function(t){s.push(["L",t.x,t.y])})),s.push(["L",a[a.length-1].x,a[a.length-1].y-n]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:Object(i["__assign"])({path:s},e)});var u=Object(i["__assign"])({id:this.getElementId("text"),name:"annotation-text",x:(o.minX+o.maxX)/2,y:o.minY-n},this.get("text"));c(t,u)}},e}(a["a"]),O=S,C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},e.prototype.renderInner=function(t){var e=this,n=this.get("start"),i=this.get("end"),a=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});Object(r["each"])(this.get("shapes"),(function(t,n){var i=t.get("type"),o=Object(r["clone"])(t.attr());e.adjustShapeAttrs(o),e.addShape(a,{id:e.getElementId("shape-"+i+"-"+n),capture:!1,type:i,attrs:o})}));var o=Object(l["k"])({start:n,end:i});a.setClip({type:"rect",attrs:{x:o.minX,y:o.minY,width:o.width,height:o.height}})},e.prototype.adjustShapeAttrs=function(t){var e=this.get("color");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e},e}(a["a"]),A=C,M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{name:"annotation",type:"shape",draw:r["noop"]})},e.prototype.renderInner=function(t){var e=this.get("render");Object(r["isFunction"])(e)&&e(t)},e}(a["a"]),T=M,k=n("7c8a"),L=n("75ed"),j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation" style="position:absolute"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},e.prototype.render=function(){var t=this.getContainer(),e=this.get("html");Object(l["a"])(t);var n=Object(r["isFunction"])(e)?e(t):e;if(Object(r["isElement"])(n))t.appendChild(n);else if(Object(r["isString"])(n)||Object(r["isNumber"])(n)){var i=Object(k["b"])(""+n);i&&t.appendChild(i)}this.resetPosition()},e.prototype.resetPosition=function(){var t=this.getContainer(),e=this.getLocation(),n=e.x,i=e.y,r=this.get("alignX"),a=this.get("alignY"),o=this.get("offsetX"),s=this.get("offsetY"),l=Object(k["d"])(t),c=Object(k["c"])(t),u={x:n,y:i};"middle"===r?u.x-=Math.round(l/2):"right"===r&&(u.x-=Math.round(l)),"middle"===a?u.y-=Math.round(c/2):"bottom"===a&&(u.y-=Math.round(c)),o&&(u.x+=o),s&&(u.y+=s),Object(k["e"])(t,{position:"absolute",left:u.x+"px",top:u.y+"px",zIndex:this.get("zIndex")})},e}(L["a"]),I=j},b8a9:function(t,e,n){},b9bc:function(t,e,n){},baa1:function(t,e,n){},baab:function(t,e,n){},bb31:function(t,e){},bb94:function(t,e,n){},bbad:function(t,e,n){"use strict";n.r(e),n.d(e,"CONTAINER_CLASS",(function(){return i})),n.d(e,"TITLE_CLASS",(function(){return r})),n.d(e,"LIST_CLASS",(function(){return a})),n.d(e,"LIST_ITEM_CLASS",(function(){return o})),n.d(e,"MARKER_CLASS",(function(){return s})),n.d(e,"VALUE_CLASS",(function(){return l})),n.d(e,"NAME_CLASS",(function(){return c})),n.d(e,"CROSSHAIR_X",(function(){return u})),n.d(e,"CROSSHAIR_Y",(function(){return h}));var i="g2-tooltip",r="g2-tooltip-title",a="g2-tooltip-list",o="g2-tooltip-list-item",s="g2-tooltip-marker",l="g2-tooltip-value",c="g2-tooltip-name",u="g2-tooltip-crosshair-x",h="g2-tooltip-crosshair-y"},bc68:function(t,e,n){},bc88:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return l}));var i=n("b2cb"),r=n("96de");function a(t,e,n){var r=1;if(Object(i["h"])(t)&&(r=t.split("\n").length),r>1){var a=o(e,n);return e*r+a*(r-1)}return e}function o(t,e){return e?e-t:.14*t}function s(t,e){var n=Object(r["a"])(),a=0;if(Object(i["e"])(t)||""===t)return a;if(n.save(),n.font=e,Object(i["h"])(t)&&t.includes("\n")){var o=t.split("\n");Object(i["a"])(o,(function(t){var e=n.measureText(t).width;a<e&&(a=e)}))}else a=n.measureText(t).width;return n.restore(),a}function l(t){var e=t.fontSize,n=t.fontFamily,i=t.fontWeight,r=t.fontStyle,a=t.fontVariant;return[r,a,i,e+"px",n].join(" ").trim()}},bcbf:function(t,e,n){var i=n("f5df");t.exports=function(t){var e=i(t);return"BigInt64Array"==e||"BigUint64Array"==e}},be4e:function(t,e){},bec4:function(t,e,n){},bfb1:function(t,e,n){"use strict";n.r(e),n.d(e,"version",(function(){return l}));var i=n("68de");n.d(e,"Shape",(function(){return i}));var r=n("6855");for(var a in r)["default","Canvas","Group","Shape","version"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(a);var o=n("c029");n.d(e,"Canvas",(function(){return o["a"]}));var s=n("e73e");n.d(e,"Group",(function(){return s["a"]}));var l="0.5.6"},c029:function(t,e,n){"use strict";var i=n("9ab4"),r=n("6855"),a=n("22f9"),o=n("7349"),s=n("00f9"),l=n("73ec"),c=n("68de"),u=n("e73e"),h=n("8937"),d=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,p=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,f=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function g(t){var e=t.match(f);if(!e)return"";var n="";return e.sort((function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])})),Object(h["each"])(e,(function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'})),n}function m(t,e){var n,i,r=d.exec(t),a=Object(h["mod"])(Object(h["toRadian"])(parseFloat(r[1])),2*Math.PI),o=r[2];a>=0&&a<.5*Math.PI?(n={x:0,y:0},i={x:1,y:1}):.5*Math.PI<=a&&a<Math.PI?(n={x:1,y:0},i={x:0,y:1}):Math.PI<=a&&a<1.5*Math.PI?(n={x:1,y:1},i={x:0,y:0}):(n={x:0,y:1},i={x:1,y:0});var s=Math.tan(a),l=s*s,c=(i.x-n.x+s*(i.y-n.y))/(l+1)+n.x,u=s*(i.x-n.x+s*(i.y-n.y))/(l+1)+n.y;e.setAttribute("x1",n.x),e.setAttribute("y1",n.y),e.setAttribute("x2",c),e.setAttribute("y2",u),e.innerHTML=g(o)}function v(t,e){var n=p.exec(t),i=parseFloat(n[1]),r=parseFloat(n[2]),a=parseFloat(n[3]),o=n[4];e.setAttribute("cx",i),e.setAttribute("cy",r),e.setAttribute("r",a),e.innerHTML=g(o)}var y=function(){function t(t){this.cfg={};var e=null,n=Object(h["uniqueId"])("gradient_");return"l"===t.toLowerCase()[0]?(e=Object(l["b"])("linearGradient"),m(t,e)):(e=Object(l["b"])("radialGradient"),v(t,e)),e.setAttribute("id",n),this.el=e,this.id=n,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),b=y,x={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},_={x:"-40%",y:"-40%",width:"200%",height:"200%"},w=function(){function t(t){this.type="filter",this.cfg={},this.type="filter";var e=Object(l["b"])("filter");return Object(h["each"])(_,(function(t,n){e.setAttribute(n,t)})),this.el=e,this.id=Object(h["uniqueId"])("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}return t.prototype.match=function(t,e){if(this.type!==t)return!1;var n=!0,i=this.cfg;return Object(h["each"])(Object.keys(i),(function(t){if(i[t]!==e[t])return n=!1,!1})),n},t.prototype.update=function(t,e){var n=this.cfg;return n[x[t]]=e,this._parseShadow(n,this.el),this},t.prototype._parseShadow=function(t,e){var n='<feDropShadow\n      dx="'+(t.dx||0)+'"\n      dy="'+(t.dy||0)+'"\n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n},t}(),S=w,O=function(){function t(t,e){this.cfg={};var n=Object(l["b"])("marker"),i=Object(h["uniqueId"])("marker_");n.setAttribute("id",i);var r=Object(l["b"])("path");r.setAttribute("stroke",t.stroke||"none"),r.setAttribute("fill",t.fill||"none"),n.appendChild(r),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=r,this.id=i;var a=t["marker-start"===e?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",!0===a?this._setDefaultPath(e,r):(this.cfg=a,this._setMarker(t.lineWidth,r)),this}return t.prototype.match=function(){return!1},t.prototype._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},t.prototype._setMarker=function(t,e){var n=this.el,i=this.cfg.path,r=this.cfg.d;Object(h["isArray"])(i)&&(i=i.map((function(t){return t.join(" ")})).join("")),e.setAttribute("d",i),n.appendChild(e),r&&n.setAttribute("refX",""+r/t)},t.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}(),C=O,A=function(){function t(t){this.type="clip",this.cfg={};var e=Object(l["b"])("clipPath");this.el=e,this.id=Object(h["uniqueId"])("clip_"),e.id=this.id;var n=t.cfg.el;return e.appendChild(n),this.cfg=t,this}return t.prototype.match=function(){return!1},t.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}(),M=A,T=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,k=function(){function t(t){this.cfg={};var e=Object(l["b"])("pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=Object(l["b"])("image");e.appendChild(n);var i=Object(h["uniqueId"])("pattern_");e.id=i,this.el=e,this.id=i,this.cfg=t;var r=T.exec(t),a=r[2];n.setAttribute("href",a);var o=new Image;function s(){e.setAttribute("width",""+o.width),e.setAttribute("height",""+o.height)}return a.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=a,o.complete?s():(o.onload=s,o.src=o.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),L=k,j=function(){function t(t){var e=Object(l["b"])("defs"),n=Object(h["uniqueId"])("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}return t.prototype.find=function(t,e){for(var n=this.children,i=null,r=0;r<n.length;r++)if(n[r].match(t,e)){i=n[r].id;break}return i},t.prototype.findById=function(t){for(var e=this.children,n=null,i=0;i<e.length;i++)if(e[i].id===t){n=e[i];break}return n},t.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},t.prototype.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var i=new C(t,e);return this.defaultArrow[n]=i,this.el.appendChild(i.el),this.add(i),i.id},t.prototype.addGradient=function(t){var e=new b(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addArrow=function(t,e){var n=new C(t,e);return this.el.appendChild(n.el),this.add(n),n.id},t.prototype.addShadow=function(t){var e=new S(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addPattern=function(t){var e=new L(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addClip=function(t){var e=new M(t);return this.el.appendChild(e.el),this.add(e),e.id},t}(),I=j,E=function(t){function e(e){return t.call(this,Object(i["__assign"])(Object(i["__assign"])({},e),{autoDraw:!0,renderer:"svg"}))||this}return Object(i["__extends"])(e,t),e.prototype.getShapeBase=function(){return c},e.prototype.getGroupBase=function(){return u["a"]},e.prototype.getShape=function(t,e,n){var i=n.target||n.srcElement;if(!a["a"][i.tagName]){var r=i.parentNode;while(r&&!a["a"][r.tagName])r=r.parentNode;i=r}return this.find((function(t){return t.get("el")===i}))},e.prototype.createDom=function(){var t=Object(l["b"])("svg"),e=new I(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},e.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if("sort"===t){var i=this.get("children");i&&i.length&&Object(l["d"])(this,(function(t,e){return i.indexOf(t)-i.indexOf(e)?1:0}))}else if("clear"===t){if(n){n.innerHTML="";var r=e.el;r.innerHTML="",n.appendChild(r)}}else"matrix"===t?Object(s["c"])(this):"clip"===t?Object(s["a"])(this,e):"changeSize"===t&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();Object(s["a"])(this,t),e.length&&Object(o["a"])(t,e)},e}(r["AbstractCanvas"]);e["a"]=E},c068:function(t,e,n){"use strict";n("bb94")},c14b:function(t,e,n){t.exports=n.p+"img/video_icon_four.3433378a.svg"},c218:function(t,e,n){},c2ad:function(t,e,n){"use strict";var i=n("9ab4"),r=n("6855"),a=n("4799"),o=n("f5e5"),s=n("8937"),l=n("7326"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.onCanvasChange=function(t){Object(o["h"])(this,t)},e.prototype.getShapeBase=function(){return a},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,e){e&&(t.save(),Object(o["a"])(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,e=[],n=[];Object(s["each"])(t,(function(t){var i=t.cfg.cacheCanvasBBox;i&&t.cfg.isInView&&(e.push(i.minX,i.maxX),n.push(i.minY,i.maxY))}));var i=null;if(e.length){var r=Object(s["min"])(e),a=Object(s["max"])(e),o=Object(s["min"])(n),c=Object(s["max"])(n);i={minX:r,minY:o,x:r,y:o,maxX:a,maxY:c,width:a-r,height:c-o};var u=this.cfg.canvas;if(u){var h=u.getViewRange();this.set("isInView",Object(l["f"])(i,h))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",i)},e.prototype.draw=function(t,e){var n=this.cfg.children,i=!e||this.cfg.refresh;n.length&&i&&(t.save(),Object(o["a"])(t,this),this._applyClip(t,this.getClip()),Object(o["d"])(t,n,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(r["AbstractGroup"]);e["a"]=c},c2ff:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAQCAYAAADJViUEAAAABHNCSVQICAgIfAhkiAAAAPRJREFUKFPdU0sSwUAQ7UfYskwiixyBG3ACbsAR4gQ4gXIDbpAbKCeQQ5B1LFiYVFpPSEoRv1I2ejNT3fNe98y8ByqI2LZ7CXgKwGWmeWV/GCKKotujuE2wabqxUVoT8YoIgdQ9IfCr23BwB1aO5UuylhWYUQeoKYAA4EhWVyaoC5kmygMJZjg2LE86NAXQL7rCg9zEYOWnYyvHbBOVlu+CK5swxf0CnHSEV1+nK+O1Yhhjvc8me9pZF5VjC4BG1/t/Bl8/0scP9uq/v/nnnYBFrheRXMygtZtr/FF30foiM0nuKk2gyuidTVAcSCgwwlAbKY0TMq6Q8EpBc/gAAAAASUVORK5CYII="},c36f:function(t,e,n){"use strict";n("1fb0")},c695:function(t,e,n){},c6bf:function(t,e,n){"use strict";n("ce5d")},c6e3:function(t,e,n){n("4ea1")},c771:function(t,e,n){"use strict";n.r(e),n.d(e,"Base",(function(){return l})),n.d(e,"Circle",(function(){return h})),n.d(e,"Line",(function(){return p}));var i=n("9ab4"),r=n("8937"),a=n("31e6"),o=n("2f5e"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:o["a"].lineColor}}}})},e.prototype.getLineType=function(){var t=this.get("line")||this.get("defaultCfg").line;return t.type},e.prototype.renderInner=function(t){this.drawGrid(t)},e.prototype.getAlternatePath=function(t,e){var n=this.getGridPath(t),i=e.slice(0).reverse(),r=this.getGridPath(i,!0),a=this.get("closed");return a?n=n.concat(r):(r[0][0]="L",n=n.concat(r),n.push(["Z"])),n},e.prototype.getPathStyle=function(){return this.get("line").style},e.prototype.drawGrid=function(t){var e=this,n=this.get("line"),i=this.get("items"),a=this.get("alternateColor"),o=null;Object(r["each"])(i,(function(s,l){var c=s.id||l;if(n){var u=e.getPathStyle();u=Object(r["isFunction"])(u)?u(s,l,i):u;var h=e.getElementId("line-"+c),d=e.getGridPath(s.points);e.addShape(t,{type:"path",name:"grid-line",id:h,attrs:Object(r["mix"])({path:d},u)})}if(a&&l>0){var p=e.getElementId("region-"+c),f=l%2===0;if(Object(r["isString"])(a))f&&e.drawAlternateRegion(p,t,o.points,s.points,a);else{var g=f?a[1]:a[0];e.drawAlternateRegion(p,t,o.points,s.points,g)}}o=s}))},e.prototype.drawAlternateRegion=function(t,e,n,i,r){var a=this.getAlternatePath(n,i);this.addShape(e,{type:"path",id:t,name:"grid-region",attrs:{path:a,fill:r}})},e}(a["a"]),l=s;function c(t,e,n,i){var r=n-t,a=i-e;return Math.sqrt(r*r+a*a)}var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{type:"circle",center:null,closed:!0})},e.prototype.getGridPath=function(t,e){var n=this.getLineType(),i=this.get("closed"),a=[];if(t.length)if("circle"===n){var o=this.get("center"),s=t[0],l=c(o.x,o.y,s.x,s.y),u=e?0:1;i?(a.push(["M",o.x,o.y-l]),a.push(["A",l,l,0,0,u,o.x,o.y+l]),a.push(["A",l,l,0,0,u,o.x,o.y-l]),a.push(["Z"])):Object(r["each"])(t,(function(t,e){0===e?a.push(["M",t.x,t.y]):a.push(["A",l,l,0,0,u,t.x,t.y])}))}else Object(r["each"])(t,(function(t,e){0===e?a.push(["M",t.x,t.y]):a.push(["L",t.x,t.y])})),i&&a.push(["Z"]);return a},e}(l),h=u,d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{type:"line"})},e.prototype.getGridPath=function(t){var e=[];return Object(r["each"])(t,(function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])})),e},e}(l),p=d},c78d:function(t,e,n){},c8104:function(t,e,n){"use strict";var i=n("1af9");class r extends i["a"]{constructor(t){t=t||{},super(t)}}var a=r,o=n("39cf");class s extends a{constructor(t){super(t)}createRenderer(){return new o["a"](this)}getData(t){return super.getData(t)}}e["a"]=s},c91b:function(t,e,n){"use strict";n("ce29")},ca03:function(t,e,n){"use strict";n("28fe")},ca3f:function(t,e,n){},cc02:function(t,e,n){"use strict";n("aaf2f")},cc17:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAHHklEQVRIie2VWaxdVRnHf2vYwzn3jHdqob2F0kpLC0mhpMECEho0QSNDtBrRaEycYkh5wKCGoE8mEnggEqOG+AAkFlLSooQhJaCIIJQqUwvFSodbem9753PP2WfYe6/1+XBviwgYHnwy/N/2ztr7961v+H/wsf7fpQAOHT7B0bsyqv0x4/sigkKXYJ3hrFVQDh1zecD480LazjnvlpjKiMYalPNaOjMKVTE033C8eksLXegRlx2+UIalPdZ/pURhJKASOUXYk1Y3RQT0R47QQJZ4Rnd6mm8bOl0n3TnP8Ue6NP6SIJMpQRWUllC8FJSBaBjCuufk7jZTB3LpOQ+iUWgsANoTFoWoTyHyIWCtcF0hOQETD0OaJkRrTf/EHr166s9unY7N+vkxzkpn4qVGpOgr6p2K6BPHwvzA7MvZvvHH1f7VW+3kwFVRjmEBbJNgw9jr+bbmULovrkavKMu4LcmJqKqSQkjayQlskUo8qFeJyc8Z3ysbk0P2gsT41e3DdkU6bQI8GAVaGxSCONnYeiniCA4bB94My9TsnH9984j8rLiMNy3AyT/EZx9/0XyzPSkML83ExmraPW26Y/V8qq8/P9rtMdSZVcPZZLC8OevjRjvHEGJZqFUlVhRLCi/g8Wgt9BoacYpqWZN1lW6MMjwzlW/Z+P3oocpSO2kBsknmSiWdqUkCJkW1xQ5Sd8yO6eWSxBsKaAyGBEcQernsRj19xuWm2T6i1MS+rPra/d16r1eg3i/kGNIkJ9NeTNWTN7WK+xR511ONbeLn9YnuOzQsgFIW6WWE1uO0pbgMrvtjheahjF1XdwgyS9sL534h5/Lby6q2KhwEBk/V/5LbUp7c1mbiCUPBeBJn+MYboQpKmgc2duk0cmykIdNq4rGuadVR+tRUKaUg16SpcMV9EdWzApZfWeTCH1vGfcaa61M+t72f2qrwfY1X+0TINQ+WKV2aMuocm25V9J8XUx4J+cxDIUku0AOlPKYItrTYXEoLWgstFGdf7VnxyXd/vunmEnGtzdqtMTpQHzpuUcVw/fYSr93XY9PNfaffL98ccMblhuPPOOraoqxChYtgBEQgQph+TjHxtx6moJjeD2u2Rlx8U/m/zvgpVUYiLrs1wufCP7Z3qF9g6MxmNF5QlAhwIiCAPwUGvIfACGFu2XFJF1NxpA3LoSc6bP5pkdrK6CPB549nPH1jk0MPe6KqgqaiWBQyH4BfvCXqXedSSuGdQsWeKNaEzZBKKOz7nePAvW4hMV5oHcvJ2v40qD3pSCbeff77L9oceFhRiS1ByxJHBiKNz/2iQS/ofZYpHoJI0NUcilDIQlyWA/DqPQl3rmiwfesM4qHXdPzywmnuPrvB+EsdxAsTzxnKaIIYbBlUJIjjPdAPBC+cUCivMSgUsPdXOVnqiGsgeFZtKTJ3sEfjYMbKdQGdToZWmtZ0ypvP9ZDFL5UIyqsFyn948ekaiwgowWhPY07hvQVyKHQ4/zsBGsXaL5e47doiJtQ8cM08tX7PF3fX+XzTEZUNWctx6Xc1b+xImZlRaDSBVoRVjVYeJR8AVgq0gl7DsPZrjnBJRifRbPxeP0MXBMhiGW2scT3Pibe6+DMX8heVDQBBn+GqX9e5+Icpf/pJwpLzNbOvpIzvCEF5RPnTSHsq4VpD4mHJJmHLPVVMqPFe0FrRGsv56x3zXHl7FRsaTKTZtn9wIdpFdRs5z9zU4lN3lKmtDLn23hClIe96Hjw8z8kXFTWteE9XSw4iigBFdywjTRZyorXi2Atd7l/b5MW7FIefbJ0GmVBj/s1QDu5I2Huv4zcjM4y+0Dntib3E0zrmKLCwRNALu90CpA0t3gtxIHTHAx65ocOXHi/RncvYdVUXm3iWhAHP/qADqSIeNHjnyXueYtXgtWbvzzOGiWn2hF1Xdvn2UUthKOCxrzaRk44oDMg9uKZIegqslA9ElMkyRa0qzD/lePRbk7PumIqK7bhoBjzWe2S8yFNfT+m0FJ4cB6RASIcISxh3GRrAdaeM3nnddI8h5yZ2x319FJhyOWGALS4L4uqIDixAMNgrpYVcJ2h8wyAo/vnbQl0BUZjhmpZupnDiEQI8KcWiJSzRLK1ND/rEvr7sCvNSvNwfq21wR6Jluje9p7C5c0StqcQunN3jz7WxbM6yvFa5LK5XzzMlCzD0aZ5dX2DbxPPpBp2HI2mH/s5b2Zm5DSKjfMGJToNqb75a56g19uiZ1/mX5Z10f+OgvH3RneaI6dhsYL1ldlaQMKLUr+k/V96KCZkZNYztbqqgwEhyIFxDzb/dRmYtQDQQTS85J7/bz4g55wY9YJxfd+BH5pKk6mumj2GfSXPpRfnhgQuDR4/8Xh1c+dmIsZ0ZE3sc7XFYvUXjEIJhg6SaXstrpz3O5ZRXWM7YbP2hnfmoSxhVXrAfvuQ+1v9e/wJ/LVMqziACtAAAAABJRU5ErkJggg=="},cc88:function(t,e,n){},ccaf:function(t,e,n){"use strict";var i=n("9ab4"),r=n("8937"),a=n("e897"),o=n("b2cb"),s=n("6928"),l=n("2e60"),c=a["ext"].transform,u="matrix",h=["zIndex","capture","visible","type"],d=["repeat"],p=":",f="*";function g(t){for(var e=[],n=0;n<t.length;n++)Object(r["isArray"])(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}function m(t,e){var n={},i=e.attrs;for(var r in t)n[r]=i[r];return n}function v(t,e){var n={},i=e.attr();return Object(r["each"])(t,(function(t,e){-1!==d.indexOf(e)||Object(r["isEqual"])(i[e],t)||(n[e]=t)})),n}function y(t,e){if(e.onFrame)return t;var n=e.startTime,i=e.delay,a=e.duration,o=Object.prototype.hasOwnProperty;return Object(r["each"])(t,(function(t){n+i<t.startTime+t.delay+t.duration&&a>t.delay&&Object(r["each"])(e.toAttrs,(function(e,n){o.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])}))})),t}var b=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var i=n.getDefaultAttrs();return Object(r["mix"])(i,e.attrs),n.attrs=i,n.initAttrs(i),n.initAnimate(),n}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e[0],a=e[1];if(!i)return this.attrs;if(Object(r["isObject"])(i)){for(var o in i)this.setAttr(o,i[o]);return this.afterAttrsChange(i),this}return 2===e.length?(this.setAttr(i,a),this.afterAttrsChange((t={},t[i]=a,t)),this):this.attrs[i]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren(),n=(this.get("el"),e.indexOf(this));e.splice(n,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(Object(o["j"])(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(u,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(u)},e.prototype.setMatrix=function(t){this.attr(u,t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),n=this.cfg.parentMatrix;t=n&&e?Object(s["b"])(n,e):e||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null;n=t&&e?Object(s["b"])(t,e):e||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?Object(s["c"])(e,t):t},e.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){var n=Object(s["a"])(e);if(n)return Object(s["c"])(n,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),n=null;if(t){var i=this.getShapeBase(),a=Object(r["upperFirst"])(t.type),o=i[a];o&&(n=new o({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:e}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};Object(r["each"])(e,(function(t,i){Object(r["isArray"])(e[i])?n[i]=g(e[i]):n[i]=e[i]}));var i=this.constructor,a=new i({attrs:n});return Object(r["each"])(h,(function(e){a.set(e,t.get(e))})),a},e.prototype.destroy=function(){var e=this.destroyed;e||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var i=this.get("animations")||[];n.timer||n.initTimer();var a,o,s,l,c,u=t[0],h=t[1],d=t[2],p=void 0===d?"easeLinear":d,f=t[3],g=void 0===f?r["noop"]:f,b=t[4],x=void 0===b?0:b;Object(r["isFunction"])(u)?(a=u,u={}):Object(r["isObject"])(u)&&u.onFrame&&(a=u.onFrame,o=u.repeat),Object(r["isObject"])(h)?(c=h,h=c.duration,p=c.easing||"easeLinear",x=c.delay||0,o=c.repeat||o||!1,g=c.callback||r["noop"],s=c.pauseCallback||r["noop"],l=c.resumeCallback||r["noop"]):(Object(r["isNumber"])(g)&&(x=g,g=null),Object(r["isFunction"])(p)?(g=p,p="easeLinear"):p=p||"easeLinear");var _=v(u,this),w={fromAttrs:m(_,this),toAttrs:_,duration:h,easing:p,repeat:o,callback:g,pauseCallback:s,resumeCallback:l,delay:x,startTime:n.getTime(),id:Object(r["uniqueId"])(),onFrame:a,pathFormatted:!1};i.length>0?i=y(i,w):n.addAnimator(this),i.push(w),this.set("animations",i),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var n=this.get("animations");Object(r["each"])(n,(function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return Object(r["each"])(e,(function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline"),e=t.getTime(),n=this.get("animations"),i=this.get("_pause").pauseTime;return Object(r["each"])(n,(function(t){t.startTime=t.startTime+(e-i),t._paused=!1,t._pauseTime=null,t.resumeCallback&&t.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",n),this},e.prototype.emitDelegation=function(t,e){var n,i=this,a=e.propagationPath;this.getEvents();"mouseenter"===t?n=e.fromShape:"mouseleave"===t&&(n=e.toShape);for(var s=function(t){var s=a[t],c=s.get("name");if(c){if((s.isGroup()||s.isCanvas&&s.isCanvas())&&n&&Object(o["g"])(s,n))return"break";Object(r["isArray"])(c)?Object(r["each"])(c,(function(t){i.emitDelegateEvent(s,t,e)})):l.emitDelegateEvent(s,c,e)}},l=this,c=0;c<a.length;c++){var u=s(c);if("break"===u)break}},e.prototype.emitDelegateEvent=function(t,e,n){var i=this.getEvents(),r=e+p+n.type;(i[r]||i[f])&&(n.name=r,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(r,n))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),i=c(n,[["t",t,e]]);return this.setMatrix(i),this},e.prototype.move=function(t,e){var n=this.attr("x")||0,i=this.attr("y")||0;return this.translate(t-n,e-i),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),i=c(n,[["s",t,e||t]]);return this.setMatrix(i),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=c(e,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,i=e.y,r=this.getMatrix(),a=c(r,[["t",-n,-i],["r",t],["t",n,i]]);return this.setMatrix(a),this},e.prototype.rotateAtPoint=function(t,e,n){var i=this.getMatrix(),r=c(i,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(r),this},e}(l["a"]);e["a"]=b},ce29:function(t,e,n){},ce5d:function(t,e,n){},ce81:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAeCAYAAADD0FVVAAACeklEQVRIia3WzW/SYBwH8C8kC/EBMyNbFk02l128+Be4g/oPuIsad3InjYdNPJtl/g1GsxAvXBSP7KDTRCd9iaAMGN142eZcW8xgjB4gXTcibT3QIhsvK8I3aWjL0w+/39PCg03XdR19jt3qwGq1etR31P/2jdWh1lBVVRWWYc7JspztG7qZyeQAYGtrU+4bytD0JQBYfv9htC+opmmHsViUAKBEUXBVKpWDntGsKO4buzMAkExuFHtGWZYdBJAAwANYYmj6Ys/oauSHG4DPOAykkskRTdM63rCOqMDzvxRFAYCAcSoIAD+3tzs+Wh3RUOjbAP61DuM1QVHBof9GuQQ32lClGd9qJDLcaQraouVyeU+SimiBBgBgP5/nu0aDX1cAQACwduotHrUpGOwaDYfCl1tUWf/M7+Fw229XS1SW5azRuq/NdT5FUZDb29uwjKZTqT8ASmhu3cwaAIFlmQHL6KePyxNo37qZQDwWv2oJPT4+lrLZLKygklREq9/YJnSd40qotX4WGgRQYhmmdCbKssxIG3Dc2E5US1PUtY6oqqpKJp12GlU0Yj4Au8b2HMAFE5WkIhRF4dui5rJhVFrHCCEPnnie7tyfnhYIIQuo3f0ZY1wpk0mfWGltjeu+d3FRicWiEaPSBUII7ty9l7g+OTlhs9nOm9288/uPaCroBkABGB8bu+J+Nj/vakI1TTt8/OihEwAIIbg9NSXcuHlryG63O0/PGQAUCgXhtdfrFkXBBQAvXr46cDgcwwAA3Qi/u7vjmZvVV7585lVVlXWLWec40TM3q0ejqynzXB3N5XK/u8Eao6qqvBaP583jE3Par1j+29NN/gL39rGLCv6vogAAAABJRU5ErkJggg=="},cf26:function(t,e,n){"use strict";n("bec4")},cf98:function(t,e){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},cfc7:function(t,e,n){},d177:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o}));var i=0,r=.5,a=.5,o=.05},d212:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAfCAYAAAAMeVbNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6REY4QkJDODE0RjgwMTFFN0JCODNBNzdCOTEwRUJBRDAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6REY4QkJDODI0RjgwMTFFN0JCODNBNzdCOTEwRUJBRDAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpERjhCQkM3RjRGODAxMUU3QkI4M0E3N0I5MTBFQkFEMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpERjhCQkM4MDRGODAxMUU3QkI4M0E3N0I5MTBFQkFEMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqECbpEAAAWhSURBVHjalFYLbBRlEP7/3b1n7+jdFa7Q1j6AUhEskCIUjaUUhIjYRAXR+CBRMKAJRkEFaUyIz0KNgASICUpsTaQSRTGNSsFa5IQWkCKIRewdrxbb6+Puer27vX04/8/udu+AgnOZ+x87883szPyzP5c9YRZSCOtGhrCz5P0CxuR8CmNmJsI4Gx6lISR3I1m+KMtSoxTrreltXNsKspLCsoJBR6yAYx0zjuKKkZw9qwox3ELFEA+AHaDTAyIuMDQK9owUUBJq4kHf2sDRD7p0BigTcD0wC94Wspbh38Aya+Zd5nNL56R2jMs053Acm0G8ECXpSv9AzFN9sLvjs4bILITZIsC5LEb8j8BbnCIienAmCbg+L91o3fSc+1LWcNNoNATxfPzwqp0XPZ7z+GXAioCBOXoDbKo7j4CztglLnEbXnfVFY62uXSszBEcK50a3IJZlsx+c6pwk8f2VJ3xyGcNZH2LMrhq+qyVGwBk1eaZR09flphuzt74wUmQZbFEB3trVoYENRCV04WpMY3+fAOHHtuUL7ni1eIy8jSQdcCpUTI782SctdzOcYdl7T7sHjBy2EiCiTMjbJdB5iplF+48HUXVjMMH7uvW5xMCwTcty7p+xxnsKsYalgLcx1LLjXwpuTBu/aFq+1VyQadI83NMYoPPufpHOM9I49ORsF2XV+Irtg29lMHBFS0osm3Y18oUED7a2XQsLa5o9d7JNUgWtZgatetxNOc3G0lEFHYqeLUtLp2ULeFpYMGYnFo+zCErtorO+CKprCmmef1jbSecFWSa0+/BgWMa6DQngthTTDCSL5wieCo7h5x6RynKq0Phci/YGhEoKU5DbwaE/2qJo8X3D0IJ7U29cPQyTASf3F8yw+QRXqXHMCCKSEhIFnnf2CdqaJDSZmv8K04q5nmRZBYe51OYPCaL+cWBApN4SajwVppWSTGT/tDeirSVJboc+5AZsL1lTbVnkf23xRvMzXYMxJCXoOROm84UlqShnpAk1/B5CG/Z2o20/9tJ9kuwV5cM1nWgs3gz+lstC7AsVXIZj+23dcefz84vsSE2o08qgs5di6Jg3RmNOwEun2FHeKKMGNsJh0PJCqOZnvw+iYZKiPXsJLgUPntjsOWKv9P7dHhuRn2Gy/dPOo7lTbDRx33sCaMs+aIaElerR04vznFROEMXmTw6ES6FdeQPHP/Jo4FK0VxRjoR1rqjsrv1ydFQFh7fgTRbU6SPLC0URw8kayLAdf+/TSTzJi10l84A2CpzYuWutC8MKf0dTpi076ovb5RbY4FL8hOYEkBA4bl8BAoc/rO96uPcK/CY22PdSyfaU40BUnnZFReq8U72nlxWh35bHzUdPiqsvYH4y33epEQm9vWr3TV7nlh8h6iLWF6PP+MzH1o0H6uUlJrJEx2o2u0qoD8AGYgKH65xRaTi57wNGZl24exzA4kxxtCMFlPi78Vnuo27e5LlQCoSi7Vs7imZ6G1bMlPsTTFoCQwOm+fxI8EON9bRUGZ/7XcAzw/pbIZGCacwjsWd1n7lEYh8GZ1E4N0SP6ejxGt6BJCDRVHpXj4a8SAwBAmCmENyqlIwXWncf4QC3RU0Is6sHlJANSuLX2HaihLnQ7BHLh1t3v6vXVmOvBRZWjVw73xfvOV9wONpED+V69vh4c6QwIKgeaNtRLscCeoYAx37OPyCmAqq52f2F09wxJJ0TqNH63uOeoGfVLNwJ2mKA1fDy1/MLpg23AHYqeqL+7cEmekyuGAMJ+Zb+q+rvmjVsP2ZCgM8GBS68/bEm2JyTfvJgkAdV7jZ4pvwc/UYwThMh63ozchE1wKKroDzqhe6gPTwK98lgePnfVKze1yWjaaEzXN6sd3X3xOs9vSttfysPTxzB0HKowExIuy/JNrmq8bDQaMfoflDOxLGH9nwADAGAttWLua1V9AAAAAElFTkSuQmCC"},d23c:function(t,e,n){"use strict";n("bc68")},d2e1:function(t,e,n){},d306:function(t,e,n){},d352:function(t,e,n){"use strict";n("14d9");var i=n("01d4"),r=n("8f37"),a=n("0af5"),o=n("1e8d");class s extends r["a"]{constructor(t){super(),this.geometries_=t||null,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(o["c"]),this.changeEventsKeys_.length=0}listenGeometriesChange_(){if(this.geometries_)for(let t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push(Object(o["a"])(this.geometries_[t],i["a"].CHANGE,this.changed,this))}clone(){const t=new s(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t}closestPointXY(t,e,n,i){if(i<Object(a["f"])(this.getExtent(),t,e))return i;const r=this.geometries_;for(let a=0,o=r.length;a<o;++a)i=r[a].closestPointXY(t,e,n,i);return i}containsXY(t,e){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)if(n[i].containsXY(t,e))return!0;return!1}computeExtent(t){Object(a["m"])(t);const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)Object(a["q"])(t,e[n].getExtent());return t}getGeometries(){return l(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let t=[];const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)e[n].getType()===this.getType()?t=t.concat(e[n].getGeometriesArrayRecursive()):t.push(e[n]);return t}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=[],n=this.geometries_;let i=!1;for(let r=0,a=n.length;r<a;++r){const a=n[r],o=a.getSimplifiedGeometry(t);e.push(o),o!==a&&(i=!0)}if(i){const t=new s(null);return t.setGeometriesArray(e),t}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this}getType(){return"GeometryCollection"}intersectsExtent(t){const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)if(e[n].intersectsExtent(t))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(t,e){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)n[i].rotate(t,e);this.changed()}scale(t,e,n){n||(n=Object(a["x"])(this.getExtent()));const i=this.geometries_;for(let r=0,a=i.length;r<a;++r)i[r].scale(t,e,n);this.changed()}setGeometries(t){this.setGeometriesArray(l(t))}setGeometriesArray(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()}applyTransform(t){const e=this.geometries_;for(let n=0,i=e.length;n<i;++n)e[n].applyTransform(t);this.changed()}translate(t,e){const n=this.geometries_;for(let i=0,r=n.length;i<r;++i)n[i].translate(t,e);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function l(t){const e=[];for(let n=0,i=t.length;n<i;++n)e.push(t[n].clone());return e}e["a"]=s},d3ca:function(t,e,n){},d429:function(t,e,n){var i=n("07fa"),r=n("5926"),a=RangeError;t.exports=function(t,e,n,o){var s=i(t),l=r(n),c=l<0?s+l:l;if(c>=s||c<0)throw a("Incorrect index");for(var u=new e(s),h=0;h<s;h++)u[h]=h===c?o:t[h];return u}},d4ac:function(t,e,n){t.exports=n.p+"img/SateLayer.a2616712.png"},d4c65:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}));var i=new Map;function r(t,e){i.set(t,e)}function a(t){return i.get(t)}var o=function(t){var e=t.attr(),n=e.x,i=e.y,r=e.width,a=e.height;return{x:n,y:i,width:r,height:a}},s=function(t){var e=t.attr(),n=e.x,i=e.y,r=e.r;return{x:n-r,y:i-r,width:2*r,height:2*r}},l=n("1183");function c(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function u(t,e){var n=t.get("startArrowShape"),i=t.get("endArrowShape"),r=null,a=null;return n&&(r=n.getCanvasBBox(),e=c(e,r)),i&&(a=i.getCanvasBBox(),e=c(e,a)),e}var h=function(t){for(var e=t.attr(),n=e.points,i=[],r=[],a=0;a<n.length;a++){var o=n[a];i.push(o[0]),r.push(o[1])}var s=l["f"].getBBoxByArray(i,r),c=s.x,h=s.y,d=s.width,p=s.height,f={minX:c,minY:h,maxX:c+d,maxY:h+p};return f=u(t,f),{x:f.minX,y:f.minY,width:f.maxX-f.minX,height:f.maxY-f.minY}},d=function(t){for(var e=t.attr(),n=e.points,i=[],r=[],a=0;a<n.length;a++){var o=n[a];i.push(o[0]),r.push(o[1])}return l["f"].getBBoxByArray(i,r)},p=n("bc88"),f=function(t){var e=t.attr(),n=e.x,i=e.y,r=e.text,a=e.fontSize,o=e.lineHeight,s=e.font;s||(s=Object(p["a"])(e));var l,c=Object(p["c"])(r,s);if(c){var u=e.textAlign,h=e.textBaseline,d=Object(p["b"])(r,a,o),f={x:n,y:i-d};u&&("end"===u||"right"===u?f.x-=c:"center"===u&&(f.x-=c/2)),h&&("top"===h?f.y+=d:"middle"===h&&(f.y+=d/2)),l={x:f.x,y:f.y,width:c,height:d}}else l={x:n,y:i,width:0,height:0};return l},g=n("2ef1"),m=n("8937");function v(t,e){for(var n=[],i=[],r=[],a=0;a<t.length;a++){var o=t[a],s=o.currentPoint,c=o.params,u=o.prePoint,h=void 0;switch(o.command){case"Q":h=l["e"].box(u[0],u[1],c[1],c[2],c[3],c[4]);break;case"C":h=l["b"].box(u[0],u[1],c[1],c[2],c[3],c[4],c[5],c[6]);break;case"A":var d=o.arcParams;h=l["a"].box(d.cx,d.cy,d.rx,d.ry,d.xRotation,d.startAngle,d.endAngle);break;default:n.push(s[0]),i.push(s[1]);break}h&&(o.box=h,n.push(h.x,h.x+h.width),i.push(h.y,h.y+h.height)),e&&("L"===o.command||"M"===o.command)&&o.prePoint&&o.nextPoint&&r.push(o)}n=n.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0})),i=i.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0}));var p=Object(m["min"])(n),f=Object(m["min"])(i),g=Object(m["max"])(n),v=Object(m["max"])(i);if(0===r.length)return{x:p,y:f,width:g-p,height:v-f};for(a=0;a<r.length;a++){o=r[a],s=o.currentPoint;var b=void 0;s[0]===p?(b=y(o,e),p-=b.xExtra):s[0]===g&&(b=y(o,e),g+=b.xExtra),s[1]===f?(b=y(o,e),f-=b.yExtra):s[1]===v&&(b=y(o,e),v+=b.yExtra)}return{x:p,y:f,width:g-p,height:v-f}}function y(t,e){var n=t.prePoint,i=t.currentPoint,r=t.nextPoint,a=Math.pow(i[0]-n[0],2)+Math.pow(i[1]-n[1],2),o=Math.pow(i[0]-r[0],2)+Math.pow(i[1]-r[1],2),s=Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2),l=Math.acos((a+o-s)/(2*Math.sqrt(a)*Math.sqrt(o)));if(!l||0===Math.sin(l)||Object(m["isNumberEqual"])(l,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(r[1]-i[1],r[0]-i[0])),u=Math.abs(Math.atan2(r[0]-i[0],r[1]-i[1]));c=c>Math.PI/2?Math.PI-c:c,u=u>Math.PI/2?Math.PI-u:u;var h={xExtra:Math.cos(l/2-c)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(u-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0};return h}var b=function(t){var e=t.attr(),n=e.path,i=e.stroke,r=i?e.lineWidth:0,a=t.get("segments")||Object(g["path2Segments"])(n),o=v(a,r),s=o.x,l=o.y,c=o.width,h=o.height,d={minX:s,minY:l,maxX:s+c,maxY:l+h};return d=u(t,d),{x:d.minX,y:d.minY,width:d.maxX-d.minX,height:d.maxY-d.minY}},x=function(t){var e=t.attr(),n=e.x1,i=e.y1,r=e.x2,a=e.y2,o=Math.min(n,r),s=Math.max(n,r),l=Math.min(i,a),c=Math.max(i,a),h={minX:o,maxX:s,minY:l,maxY:c};return h=u(t,h),{x:h.minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}},_=function(t){var e=t.attr(),n=e.x,i=e.y,r=e.rx,a=e.ry;return{x:n-r,y:i-a,width:2*r,height:2*a}};r("rect",o),r("image",o),r("circle",s),r("marker",s),r("polyline",h),r("polygon",d),r("text",f),r("path",b),r("line",x),r("ellipse",_)},d5b4:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAUBJREFUOE/VlL1OwzAUhc8JDKwMsPAG/GxMqBJlY4AkFuINKjW8RfsGLCgholJ3JOKESiwMPAJL9y6ABFLFyEIuSlGqkFAU0jDg1b6fv2Nfm6h5sGYe/g5onoTHkHgjb2wAI+2pftkkU0PL0QLgLlso5CJFGqS0tav8MtAvQAE7+SJCGgCWBTKYCaQxjFzrMpnPG5aRKKwRyEvkqdXagAko9OyJXC2G/wBIDkPX2pwn8q2QN4gxMhiP8dmro0pAgXQjTxXaK736310K8bjwvrR95e8/pYAD53pt4B0+VAIK2Ytcq5UWm07QMYgt7aqjAtB0gmeCKz91NkVa+lz1kjW2EzRjoElwl5Au3nCv++p1GnnW55DdID07q63XQZxl5xhLqH11Otf3lURODEPP3itErvKIJ6YGdkLXvqgF+J3EB4dBgRVUqdSsAAAAAElFTkSuQmCC"},d7b4:function(t,e,n){"use strict";var i=n("b825");n.d(e,"Annotation",(function(){return i}));var r=n("7cfd");n.d(e,"Axis",(function(){return r}));var a=n("ff7f");n.d(e,"Crosshair",(function(){return a}));var o=n("c771");n.d(e,"Grid",(function(){return o}));var s=n("e5b1");n.d(e,"Legend",(function(){return s}));var l=n("0a1f");n.d(e,"Tooltip",(function(){return l}));n("3665"),n("31e6"),n("75ed");var c=n("7c50");n.d(e,"Slider",(function(){return c["a"]}));var u=n("deef");n.d(e,"Scrollbar",(function(){return u["a"]}));n("be4e"),n("bb31");var h=n("d7ff");n.d(e,"propagationDelegate",(function(){return h["a"]}));var d=n("bbad");n.d(e,"TOOLTIP_CSS_CONST",(function(){return d}))},d7ff:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("6855");function r(t,e,n){var r=new i["Event"](e,n);r.target=t,r.propagationPath.push(t),t.emitDelegation(e,r);var a=t.getParent();while(a)a.emitDelegation(e,r),r.propagationPath.push(a),a=a.getParent()}},da4b:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAeCAYAAADHJYVoAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTc2MTM1MUM0RjgwMTFFN0EwOENDMzhDNkI3ODczMzYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QTc2MTM1MUQ0RjgwMTFFN0EwOENDMzhDNkI3ODczMzYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBNzYxMzUxQTRGODAxMUU3QTA4Q0MzOEM2Qjc4NzMzNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBNzYxMzUxQjRGODAxMUU3QTA4Q0MzOEM2Qjc4NzMzNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Po+BNJMAAAWsSURBVHjajJZrbFRFFIDPzL273T62pQ+Xlpa2IlBqSwvUEiryaAEJIhBJDYIJ/rDgLwMiPgigJVpIgUQDolHjD3kEowIWCUhoAcujQhEQyhuRQh9AobvdPnf33hnPzO5d7hYCvcns7Mw9850z55w5c0lqViEEHmLqqWiHRvbL6G+hbyqETKAEUvFFPAd4wDjc0jmvvutjWwvPuK6gLAs0HmDIngTgxNTozuyYxMxIdb2FQHFAkRdXNnMOrYRAHE4k4ZxVAH0ctp7r0JbNudDWYlIgm4CbwQpam5MSpuzCQQrPfeEqf7W4WR2Ylqao6gBhhc5Yo6ez67hn/+5m275dhSqBPCQ1NHj013AX54SIGU57gStpUnIEvPvxbdWROAie8Hi9vmMdX609br94dhHSulHBZLMCJcbxrIArqwdFxY6JsVQqGVlxyrIyTbFHO+Apj6IoqbYx43JbNVYefv1SkV2l05OsytYqp9cj4NQI3owE63IlMTlVeW+5ThQlXLpg325gdf8EYXJcWxOigBASlTB7zpL2YTlfIygVOSsMpvzZOMTusCl0AV24uIuoFptc1dMN7MDvQAcPDYLEmF+qA33z97KxP6sMBdH2RcvGaUDO2SgpEbwgvCDG8jrNHG6jqekRQdCJ40CnzADe1CAh+o7tQEeMBjr5Fdl4ZwdARFAcLBY1r+flWQcxeDbBC8IjKEyi+S+yoKSw+uQxoBmZoO/f40/ce3ckkDfeAn7tspyj+QUhLgqbNrO/iLPgideq/KEkm2TlaoHclVZDhxv0H78F8lwGkJyRoE6YJAHap0uBt7eBZfWGRwIcFhlZ4OVwVfAMy/FcgIP0i1UNIYogddV6gKho6QISG4fuaQTtmy+kMmXWG6CtWRkSbJk9lA7Ak9uMUOFzogbgFDSdgVWhQZ+jn+noscBb7wOrqZZuoc/nYAFIAJqdC2TIMGCVe4F1dz3iHu4/RBIOOocbqtuVThIcciys1Ct+AmKPQZfkAS2a6rf+xjVgRw+Dtq9CKlbmLwiBMsabsA45sPb8J8YS1sP4Uev1y0MQ7k+tAcmgLi2VvRFgoRBi4/1AHOuHDsgebOFBuM/TU6sQmNml820GnN/2sIrMmiNv0zHjH8IwI6Q70FqSPcK/3bqz/pgIqwunhIDlsj/23MTkDGvyst+M2mLvb6XW6lFxtdbSdc/QlLQoESh+5SKWzHQggzOkS4L+FK65cgn4X9VA0Bhl2kz/6dX1Wu87c4FwnjD+jDP/rpd5BTxK7KAmL3ahY+DAcqV0fTdR1XDoyxNwC+fc3bZh7cbI86eWt/jYRwV/O78TWUuNGrz4Wsdm/U5jvf5lGeW63t0nuN8t7a69FZ9FnD+1BEH1H/7bsSVQchk1/pxw+7xNHlbOL9eFaaXvE+Zy3ngaG2v7SefGdeWRu7atwnQOF+uPuHwew2DhlrBAYK3xFmo9Niq2Ci+ALJH9PK/gLMwovmdJShlKKBGp40UXNGg+X01X1f6b1h1bxqvAi+TJ5XBh7GnnpAc+5hVyYkrALQZc1J/tWdEv5dstO013qtiaG3P3JvatOBmH92k69tHmc1Pb7ps994L7qMhIA05Nl6u8PVDghEvjv4TUbARh/ubgjiaKvhcY2jT+s1gXcLFuMIM+Nylga+o7P8dT29KXmAq51fWdZeb1hs/NcN1oO1o8rtPtvhV9gQs5lHea15vhYFKgGW3uRXcl5uyvTwKL90IuADTWBr9fqOk7g5mERFB8mPtlHg5NjwO3E8W90qluMmQD63Tzt4vay3JiwOvrDt7H/ja2ZM/COZyyhxcVpwrUjp4c/UNJyWGzwrTsIrW35SFVU2hHcJt50jlxeohQ68RpMLWkhPTeDa7TzGMaWuODOwh5EufNJ50Zw+V/0SfOe4s8IRT8cXD5ArXrj1vR74NPSPewHNlDH5//BRgAaeSg3B071HsAAAAASUVORK5CYII="},da66:function(t,e,n){},daa1:function(t,e,n){"use strict";n("5d0f")},dacc:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEUAAAARCAYAAACLkmHIAAAACXBIWXMAAAsSAAALEgHS3X78AAAEUElEQVRYheWYP2hbRxzHPyeDMdggpYXEhhIrKSYtxbWSLFah9iu0Q9XB7lTwkoc6dOwzXaNWRl06pNHcQVEWQzZ5qDJ0kRKw2iG2XJOhBIJUCnEztFawwbi1LsO9P/ek955e5nxB+O5+v/vd777vd/f7nYWUktcMJpACymEK4jUkpQGk7V8gfKQUzkQaKAKrQFLT2wJqpTFZjbNqNldJ2zYM1FcBaAPVVj3fjmPDh01hABnbVgNosyYPX9mOsrFrtz8HakFKLimFM2EBt0cYbQKrpbFwh7K5ShH4bpSNVj0fvalNkQIs+5cM0LgLWK9IThW4oflhBCkJKaWPkAmSZIXFJaH0D+mwI6t0ZNOZswcYQcRkcxV30anJca7NTzP39pscHZ3SbHU5eH7kqHYBo1XPdwJdV4Q0gAV3bHJW/T3u6po9wGBNxom+FPDvwNglYMgHcfN/L6SmxQJfJhpMuBHvYVuWud9fd7obpTFZ1OV6hCwtXqTwzRJTk+M+G/dqjyn/9JvT3WvV85lA9zdFG4eQt1bgehkm00p2egh/lGF/w9HuAekYEeP6p+Eu6uL1IYEKTyZIhhIC8IGweFesOF2rcCZcxWyu4oQ6S4sX+eHbj4cIAfhi9T1urn/odBeyucqQQ2wKE4eQxTuwVPMIARhPwXwRPnWuBpJEZBINw2upe29owwlbwEeJYighDnIJd+0k/vPoXszWV4uRNj77ZI6r89P6vEEUATi/DJfNcEPnMjDvfvgb9pELgwnMBownCYmUJMAMwZGsI0WaaeEec32CAXB1fpqZC1Mj7SxnXf8Mn0BtTAnfsUba4YpPJ2oDZoRsaKHE6JX9CImmNMC192di2Zi7/IbTHMwq3sbOG6MNjafgnPuRwiZkgOUIK7MMRKxLygnxMpuWhTracBtg5/dnsWw8efqP0+yFKv0XM9OeunphE2KEnF8ngUqxbMvRd9Wuv3ZraO0OwO7+AUfHpyPtNFtuWm34BGvS6//tFwXiuKOn6KC0nMKrS6KwjFbhJrBv7o5sRhLzTLap911Cm6Ux2dHEVadRuvUgcvWff3nC7v6B0w2qKLcA2C/qURCMR64/PR+hHuJEiYOi00jYpXsT4H5/nc3+KofayTjhkG1ZptI3OKGHQLwYXMyuTjcAHvz6J6UfHwZGzL3aY76//dDp7rXq+WqAc+rLHHdhxwon5pEFf2355wzDDBkPgpuenYp2qIJMMUtKpPU7BIF4IZHLpbHgCjKbq9SAFVAV7VJ2lpkLU0EVbQ/IRFS0ZeBrQFWyVyyVgkEdmadVeK5V2GsyKPOYwJ2BsS4qqju2fPACXgfKgw/CIuFvjSZgDhybIWRzFW9DwWgCZighDnRiom2thlSzDbxNb6HIGDyuadR+TdSeu0A68F8HhTNh4KW4NtAeRYYO+5Vs4k+TbaDWqucbce3Yr2MLO/o07AFl1kJf7RkUAVW8yIhCCnV8LKD4EjN0eXGAyu85AAAAAElFTkSuQmCC"},db81:function(t,e,n){"use strict";n("e874")},dd14:function(t,e,n){"use strict";n("baab")},dd3f:function(t,e,n){},dd9e:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAalJREFUSEu1lb8vJ1EUxT+n2Sh0qo1GTaHRSlYlCpXQ+Z3YlkSPZHX+AQoJCQWVKAiJH4VGp1h/wIroaBQk5MqV92RmvjPMjO++ZDKTmbxz7r3nzHkiscxsBlgFfktaS36r+6wMwQKw6JekpbqgyX3/n8DMhoHOBOt7BzWqP5d0lt0nM7MaYEVbziT1pUYUhP3ZhA58El3AiKTdiNc0Dcws1yCfEoRNg6Ga/c+cVZfA9YmCu3VTBZWx+FcdRIJHYAVokfScp3DdDuJcHXNd0rQ/mJnb2kVdlvQS3lXXIFZqZu2SbhPgO8Exe8CUpPu6HYwCP4AtSU+h8gj+N5Ace3YBY3kxU6gB0ArMhy6OgDkggl8Ck8AG0ANcAE7UkGNFBAfAQACPlcb7KTAh6Z+ZdQCbQC9wBXRng7KIwLFfgVngJFH5PjAu6SGhT5uPEOgP71JJXERwA8xIOsy45o8kJ04tM3OdtoGhsh1UPg/KuugX4DP2eX8EVoW0zUb9dcOvb2ZO4ERNWbnZknMIlSXLdnBXGF5lERNu+joqqoJWTtNvEnj4+Z+eOtHeADln9crl+fyQAAAAAElFTkSuQmCC"},deef:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("9ab4"),r=n("7c8a"),a=n("8937"),o=n("31e6"),s={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},l={default:s,hover:{thumbColor:"rgba(0,0,0,0.2)"}},c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clearEvents=a["noop"],e.onStartEvent=function(t){return function(n){e.isMobile=t,n.originalEvent.preventDefault();var i=t?Object(a["get"])(n.originalEvent,"touches.0.clientX"):n.clientX,r=t?Object(a["get"])(n.originalEvent,"touches.0.clientY"):n.clientY;e.startPos=e.cfg.isHorizontal?i:r,e.bindLaterEvent()}},e.bindLaterEvent=function(){var t=e.getContainerDOM(),n=[];n=e.isMobile?[Object(r["a"])(t,"touchmove",e.onMouseMove),Object(r["a"])(t,"touchend",e.onMouseUp),Object(r["a"])(t,"touchcancel",e.onMouseUp)]:[Object(r["a"])(t,"mousemove",e.onMouseMove),Object(r["a"])(t,"mouseup",e.onMouseUp),Object(r["a"])(t,"mouseleave",e.onMouseUp)],e.clearEvents=function(){n.forEach((function(t){t.remove()}))}},e.onMouseMove=function(t){var n=e.cfg,i=n.isHorizontal,r=n.thumbOffset;t.preventDefault();var o=e.isMobile?Object(a["get"])(t,"touches.0.clientX"):t.clientX,s=e.isMobile?Object(a["get"])(t,"touches.0.clientY"):t.clientY,l=i?o:s,c=l-e.startPos;e.startPos=l,e.updateThumbOffset(r+c)},e.onMouseUp=function(t){t.preventDefault(),e.clearEvents()},e.onTrackClick=function(t){var n=e.cfg,i=n.isHorizontal,r=n.x,a=n.y,o=n.thumbLen,s=e.getContainerDOM(),l=s.getBoundingClientRect(),c=t.clientX,u=t.clientY,h=i?c-l.left-r-o/2:u-l.top-a-o/2,d=e.validateRange(h);e.updateThumbOffset(d)},e.onThumbMouseOver=function(){var t=e.cfg.theme.hover.thumbColor;e.getElementByLocalId("thumb").attr("stroke",t),e.draw()},e.onThumbMouseOut=function(){var t=e.cfg.theme.default.thumbColor;e.getElementByLocalId("thumb").attr("stroke",t),e.draw()},e}return Object(i["__extends"])(e,t),e.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var n=this.getValue(),i=Object(a["clamp"])(n,t,e);n===i||this.get("isInit")||this.setValue(i)},e.prototype.getRange=function(){var t=this.get("minLimit")||0,e=this.get("maxLimit")||1;return{min:t,max:e}},e.prototype.setValue=function(t){var e=this.getRange(),n=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*Object(a["clamp"])(t,e.min,e.max)}),this.delegateEmit("valuechange",{originalValue:n,value:this.getValue()})},e.prototype.getValue=function(){return Object(a["clamp"])(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:l})},e.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.renderTrackShape=function(t){var e=this.cfg,n=e.trackLen,i=e.theme,r=void 0===i?{default:{}}:i,o=Object(a["deepMix"])({},l,r).default,s=o.lineCap,c=o.trackColor,u=o.size,h=Object(a["get"])(this.cfg,"size",u),d=this.get("isHorizontal")?{x1:0+h/2,y1:h/2,x2:n-h/2,y2:h/2,lineWidth:h,stroke:c,lineCap:s}:{x1:h/2,y1:0+h/2,x2:h/2,y2:n-h/2,lineWidth:h,stroke:c,lineCap:s};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:d})},e.prototype.renderThumbShape=function(t){var e=this.cfg,n=e.thumbOffset,i=e.thumbLen,r=e.theme,o=Object(a["deepMix"])({},l,r).default,s=o.size,c=o.lineCap,u=o.thumbColor,h=Object(a["get"])(this.cfg,"size",s),d=this.get("isHorizontal")?{x1:n+h/2,y1:h/2,x2:n+i-h/2,y2:h/2,lineWidth:h,stroke:u,lineCap:c,cursor:"default"}:{x1:h/2,y1:n+h/2,x2:h/2,y2:n+i-h/2,lineWidth:h,stroke:u,lineCap:c,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:d})},e.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp);var e=t.findById(this.getElementId("track"));e.on("click",this.onTrackClick);var n=t.findById(this.getElementId("thumb"));n.on("mouseover",this.onThumbMouseOver),n.on("mouseout",this.onThumbMouseOut)},e.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},e.prototype.validateRange=function(t){var e=this.cfg,n=e.thumbLen,i=e.trackLen,r=t;return t+n>i?r=i-n:t+n<n&&(r=0),r},e.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},e.prototype.updateThumbOffset=function(t){var e=this.cfg,n=e.thumbOffset,i=e.isHorizontal,r=e.thumbLen,a=e.size,o=this.validateRange(t);if(o!==n){var s=this.getElementByLocalId("thumb");i?s.attr({x1:o+a/2,x2:o+r-a/2}):s.attr({y1:o+a/2,y2:o+r-a/2}),this.emitOffsetChange(o)}},e.prototype.emitOffsetChange=function(t){var e=this.cfg,n=e.thumbOffset,i=e.trackLen,r=e.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:Object(a["clamp"])(t/(i-r),0,1)}),this.delegateEmit("valuechange",{originalValue:n,value:t})},e}(o["a"])},df7e:function(t,e,n){var i=n("07fa");t.exports=function(t,e){for(var n=i(t),r=new e(n),a=0;a<n;a++)r[a]=t[n-a-1];return r}},dfb9:function(t,e,n){var i=n("07fa");t.exports=function(t,e){var n=0,r=i(e),a=new t(r);while(r>n)a[n]=e[n++];return a}},e0e9:function(t,e,n){},e163:function(t,e,n){var i=n("1a2d"),r=n("1626"),a=n("7b0b"),o=n("f772"),s=n("e177"),l=o("IE_PROTO"),c=Object,u=c.prototype;t.exports=s?c.getPrototypeOf:function(t){var e=a(t);if(i(e,l))return e[l];var n=e.constructor;return r(n)&&e instanceof n?n.prototype:e instanceof c?u:null}},e177:function(t,e,n){var i=n("d039");t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e1c6:function(t,e){},e253:function(t,e,n){"use strict";n("dd3f")},e377:function(t,e,n){"use strict";n("3fec")},e453:function(t,e,n){},e537:function(t,e,n){t.exports=n.p+"img/ship-check.59935d92.png"},e546:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a})),n.d(e,"h",(function(){return o})),n.d(e,"k",(function(){return s})),n.d(e,"j",(function(){return l})),n.d(e,"b",(function(){return c})),n.d(e,"g",(function(){return u})),n.d(e,"e",(function(){return h})),n.d(e,"i",(function(){return p})),n.d(e,"d",(function(){return g})),n.d(e,"m",(function(){return m})),n.d(e,"l",(function(){return v})),n.d(e,"f",(function(){return y}));var i=n("8937");function r(t){var e=0,n=0,r=0,a=0;return Object(i["isNumber"])(t)?e=n=r=a=t:Object(i["isArray"])(t)&&(e=t[0],r=Object(i["isNil"])(t[1])?t[0]:t[1],a=Object(i["isNil"])(t[2])?t[0]:t[2],n=Object(i["isNil"])(t[3])?r:t[3]),[e,r,a,n]}function a(t){for(var e=t.childNodes,n=e.length,i=n-1;i>=0;i--)t.removeChild(e[i])}function o(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function s(t){var e=t.start,n=t.end,i=Math.min(e.x,n.x),r=Math.min(e.y,n.y),a=Math.max(e.x,n.x),o=Math.max(e.y,n.y);return{x:i,y:r,minX:i,minY:r,maxX:a,maxY:o,width:a-i,height:o-r}}function l(t){var e=t.map((function(t){return t.x})),n=t.map((function(t){return t.y})),i=Math.min.apply(Math,e),r=Math.min.apply(Math,n),a=Math.max.apply(Math,e),o=Math.max.apply(Math,n);return{x:i,y:r,minX:i,minY:r,maxX:a,maxY:o,width:a-i,height:o-r}}function c(t,e,n,i){var r=t+n,a=e+i;return{x:t,y:e,width:n,height:i,minX:t,minY:e,maxX:isNaN(r)?0:r,maxY:isNaN(a)?0:a}}function u(t,e,n){return(1-n)*t+e*n}function h(t,e,n){return{x:t.x+Math.cos(n)*e,y:t.y+Math.sin(n)*e}}function d(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}var p=function(t,e,n){return void 0===n&&(n=Math.pow(Number.EPSILON,.5)),[t,e].includes(1/0)?Math.abs(t)===Math.abs(e):Math.abs(t-e)<n};function f(t,e){var n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),a=Math.min(t.maxY,e.maxY);return c(n,i,r-n,a-i)}function g(t){var e,n=t.getClip(),r=n&&n.getBBox();if(t.isGroup()){var a=1/0,o=-1/0,s=1/0,l=-1/0,u=t.getChildren();u.length>0?Object(i["each"])(u,(function(t){if(t.get("visible")){if(t.isGroup()&&0===t.get("children").length)return!0;var e=g(t),n=t.applyToMatrix([e.minX,e.minY,1]),i=t.applyToMatrix([e.minX,e.maxY,1]),r=t.applyToMatrix([e.maxX,e.minY,1]),c=t.applyToMatrix([e.maxX,e.maxY,1]),u=Math.min(n[0],i[0],r[0],c[0]),h=Math.max(n[0],i[0],r[0],c[0]),d=Math.min(n[1],i[1],r[1],c[1]),p=Math.max(n[1],i[1],r[1],c[1]);u<a&&(a=u),h>o&&(o=h),d<s&&(s=d),p>l&&(l=p)}})):(a=0,o=0,s=0,l=0),e=c(a,s,o-a,l-s)}else e=t.getBBox();return r?f(e,r):e}function m(t,e){if(t.getClip()||e.getClip()){var n=e.getClip();if(n){var i={type:n.get("type"),attrs:n.attr()};t.setClip(i)}else t.setClip(null)}}function v(t){return t+"px"}function y(t,e,n,i){var r=d(t,e),a=i/r,o=0;return"start"===n?o=0-a:"end"===n&&(o=1+a),{x:u(t.x,e.x,o),y:u(t.y,e.y,o)}}},e54a:function(t,e,n){"use strict";n("4398")},e5b1:function(t,e,n){"use strict";n.r(e),n.d(e,"Category",(function(){return b})),n.d(e,"Continuous",(function(){return S})),n.d(e,"Base",(function(){return d}));var i=n("9ab4"),r=n("8937"),a=n("060b"),o=n("8ea8"),s=n("9778"),l=n("2f5e"),c=n("31e6"),u=n("e546"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},e.prototype.getLayoutBBox=function(){var e=t.prototype.getLayoutBBox.call(this),n=this.get("maxWidth"),i=this.get("maxHeight"),r=e.width,a=e.height;return n&&(r=Math.min(r,n)),i&&(a=Math.min(a,i)),Object(u["b"])(e.minX,e.minY,r,a)},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.resetLocation=function(){var t=this.get("x"),e=this.get("y"),n=this.get("offsetX"),i=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+n,y:e+i})},e.prototype.applyOffset=function(){this.resetLocation()},e.prototype.getDrawPoint=function(){return this.get("currentPoint")},e.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},e.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},e.prototype.drawBackground=function(t){var e=this.get("background"),n=t.getBBox(),r=Object(u["c"])(e.padding),a=Object(i["__assign"])({x:0,y:0,width:n.width+r[1]+r[3],height:n.height+r[0]+r[2]},e.style),o=this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:a});o.toBack()},e.prototype.drawTitle=function(t){var e=this.get("currentPoint"),n=this.get("title"),r=n.spacing,a=n.style,o=n.text,s=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:Object(i["__assign"])({text:o,x:e.x,y:e.y},a)}),l=s.getBBox();this.set("currentPoint",{x:e.x,y:l.maxY+r})},e.prototype.resetDraw=function(){var t=this.get("background"),e={x:0,y:0};if(t){var n=Object(u["c"])(t.padding);e.x=n[3],e.y=n[0]}this.set("currentPoint",e)},e}(c["a"]),d=h,p={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},f={fill:l["a"].textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:l["a"].fontFamily,fontWeight:"normal",lineHeight:12},g="navigation-arrow-right",m="navigation-arrow-left",v={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentPageIndex=1,e.totalPagesCnt=1,e.pageWidth=0,e.pageHeight=0,e.startX=0,e.startY=0,e.onNavigationBack=function(){var t=e.getElementByLocalId("item-group");if(e.currentPageIndex>1){e.currentPageIndex-=1,e.updateNavigation();var n=e.getCurrentNavigationMatrix();e.get("animate")?t.animate({matrix:n},100):t.attr({matrix:n})}},e.onNavigationAfter=function(){var t=e.getElementByLocalId("item-group");if(e.currentPageIndex<e.totalPagesCnt){e.currentPageIndex+=1,e.updateNavigation();var n=e.getCurrentNavigationMatrix();e.get("animate")?t.animate({matrix:n},100):t.attr({matrix:n})}},e}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:l["a"].textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:l["a"].lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:p,itemName:{spacing:16,style:f},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:f,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:l["a"].uncheckedColor},markerStyle:{fill:l["a"].uncheckedColor,stroke:l["a"].uncheckedColor}},inactive:{nameStyle:{fill:l["a"].uncheckedColor},markerStyle:{opacity:.2}}}}})},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("items")},e.prototype.setItems=function(t){this.update({items:t})},e.prototype.updateItem=function(t,e){Object(r["mix"])(t,e),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},e.prototype.setItemState=function(t,e,n){t[e]=n;var i=this.getElementByLocalId("item-"+t.id);if(i){var r=this.getItems(),a=r.indexOf(t),o=this.createOffScreenGroup(),s=this.drawItem(t,a,this.getItemHeight(),o);this.updateElements(s,i),this.clearUpdateStatus(i)}},e.prototype.hasState=function(t,e){return!!t[e]},e.prototype.getItemStates=function(t){var e=this.get("itemStates"),n=[];return Object(r["each"])(e,(function(e,i){t[i]&&n.push(i)})),n},e.prototype.clearItemsState=function(t){var e=this,n=this.getItemsByState(t);Object(r["each"])(n,(function(n){e.setItemState(n,t,!1)}))},e.prototype.getItemsByState=function(t){var e=this,n=this.getItems();return Object(r["filter"])(n,(function(n){return e.hasState(n,t)}))},e.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},e.prototype.processItems=function(){var t=this.get("items");Object(r["each"])(t,(function(t){t.id||(t.id=t.name)}))},e.prototype.drawItems=function(t){var e=this,n=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),i=this.addGroup(n,{id:this.getElementId("item-group"),name:"legend-item-group"}),a=this.getItemHeight(),o=this.get("itemWidth"),s=this.get("itemSpacing"),l=this.get("itemMarginBottom"),c=this.get("currentPoint"),u=c.x,h=c.y,d=this.get("layout"),p=this.get("items"),f=!1,g=0,m=this.get("maxWidth"),v=this.get("maxHeight");Object(r["each"])(p,(function(t,n){var r=e.drawItem(t,n,a,i),p=r.getBBox(),y=o||p.width;y>g&&(g=y),"horizontal"===d?(m&&m<c.x+y-u&&(f=!0,c.x=u,c.y+=a+l),e.moveElementTo(r,c),c.x+=y+s):(v&&v<c.y+a+l-h&&(f=!0,c.x+=g+s,c.y=h,g=0),e.moveElementTo(r,c),c.y+=a+l)})),f&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=u,this.startY=h,this.adjustNavigation(t,i))},e.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var e=(this.get("itemName")||{}).style;if(Object(r["isFunction"])(e)){var n=this.getItems();n.forEach((function(r,a){var o=Object(i["__assign"])(Object(i["__assign"])({},f),e(r,a,n)).fontSize;t<o&&(t=o)}))}else e&&(t=e.fontSize)}return t},e.prototype.drawMarker=function(t,e,n,a){var o=Object(i["__assign"])(Object(i["__assign"])(Object(i["__assign"])({x:0,y:a/2},e.style),{symbol:Object(r["get"])(n.marker,"symbol","circle")}),Object(r["get"])(n.marker,"style",{})),s=this.addShape(t,{type:"marker",id:this.getElementId("item-"+n.id+"-marker"),name:"legend-item-marker",attrs:o}),l=s.getBBox();s.attr("x",l.width/2);var c=s.attr(),u=c.stroke,h=c.fill;return u&&s.set("isStroke",!0),h&&s.set("isFill",!0),s},e.prototype.drawItemText=function(t,e,n,a,o,s,l){var c=n.formatter,u=n.style,h=Object(i["__assign"])(Object(i["__assign"])({x:s,y:o/2,text:c?c(a[e],a,l):a[e]},f),Object(r["isFunction"])(u)?u(a,l,this.getItems()):u);return this.addShape(t,{type:"text",id:this.getElementId("item-"+a.id+"-"+e),name:"legend-item-"+e,attrs:h})},e.prototype.drawRadio=function(t,e,n,r,a){var o,s,l=e.style||{},c=null!==(o=l.r)&&void 0!==o?o:r/2,u=3.6*c/8,h=[a+c,r/2-c],d=h[0],p=h[1],f=[d+c,p+c],g=f[0],m=f[1],v=[d,m+c],y=v[0],b=v[1],x=[a,p+c],_=x[0],w=x[1],S=n.showRadio,O=Object(i["__assign"])(Object(i["__assign"])({path:[["M",d,p],["A",c,c,0,0,1,g,m],["L",g-u,m],["L",g,m],["A",c,c,0,0,1,y,b],["L",y,b-u],["L",y,b],["A",c,c,0,0,1,_,w],["L",_+u,w],["L",_,w],["A",c,c,0,0,1,d,p],["L",d,p+u]],stroke:"#000000",fill:"#ffffff"},l),{opacity:S?null!==(s=null===l||void 0===l?void 0:l.opacity)&&void 0!==s?s:.45:0}),C=this.addShape(t,{type:"path",id:this.getElementId("item-"+n.id+"-radio"),name:"legend-item-radio",attrs:O});return C.set("tip",e.tip),C},e.prototype.drawItem=function(t,e,n,o){var s="item-"+t.id,l=this.addGroup(o,{name:"legend-item-container",id:this.getElementId("item-container-"+s),delegateObject:{item:t,index:e}}),c=this.addGroup(l,{name:"legend-item",id:this.getElementId(s),delegateObject:{item:t,index:e}}),u=this.get("marker"),h=this.get("itemName"),d=this.get("itemValue"),p=this.get("itemBackground"),f=this.get("radio"),g=this.getLimitItemWidth(),m=0;if(u){var v=this.drawMarker(c,u,t,n),y=u.spacing,b=Object(r["get"])(t,["marker","spacing"]);Object(r["isNumber"])(b)&&(y=b),m=v.getBBox().maxX+y}if(h){var x=this.drawItemText(c,"name",h,t,n,m,e);g&&Object(a["a"])(!0,x,Object(r["clamp"])(g-m,0,g)),m=x.getBBox().maxX+h.spacing}if(d){var _=this.drawItemText(c,"value",d,t,n,m,e);g&&(d.alignRight?(_.attr({textAlign:"right",x:g}),Object(a["a"])(!0,_,Object(r["clamp"])(g-m,0,g),"head")):Object(a["a"])(!0,_,Object(r["clamp"])(g-m,0,g))),m=_.getBBox().maxX+d.spacing}if(f&&this.drawRadio(c,f,t,n,m),p){var w=c.getBBox(),S=this.addShape(c,{type:"rect",name:"legend-item-background",id:this.getElementId(s+"-background"),attrs:Object(i["__assign"])({x:0,y:0,width:w.width,height:n},p.style)});S.toBack()}return this.applyItemStates(t,c),c},e.prototype.adjustNavigation=function(t,e){var n=this,i=this.startX,a=this.startY,o=this.get("layout"),s=e.findAll((function(t){return"legend-item"===t.get("name")})),l=this.get("maxWidth"),c=this.get("maxHeight"),u=this.get("itemWidth"),h=this.get("itemSpacing"),d=this.getItemHeight(),f=Object(r["deepMix"])({},p,this.get("pageNavigator")),g=this.drawNavigation(t,o,"00/00",f),m=g.getBBox(),v={x:i,y:a},y=1,b=0,x=0,_=0,w=this.get("itemMarginBottom");if("horizontal"===o){var S=this.get("maxRow")||1,O=d+(1===S?0:w);this.pageHeight=O*S,Object(r["each"])(s,(function(t){var e=t.getBBox(),r=u||e.width;(b&&b<v.x+r+h||l<v.x+r+h+m.width)&&(1===y&&(b=v.x+h,n.pageWidth=b,n.moveElementTo(g,{x:l-h-m.width-m.minX,y:v.y+d/2-m.height/2-m.minY})),y+=1,v.x=i,v.y+=O),n.moveElementTo(t,v),t.getParent().setClip({type:"rect",attrs:{x:v.x,y:v.y,width:r+h,height:d}}),v.x+=r+h}))}else{Object(r["each"])(s,(function(t){var e=t.getBBox();e.width>x&&(x=e.width)})),_=x,x+=h,l&&(x=Math.min(l,x),_=Math.min(l,_)),this.pageWidth=x,this.pageHeight=c-Math.max(m.height,d+w);var C=Math.floor(this.pageHeight/(d+w));Object(r["each"])(s,(function(t,e){0!==e&&e%C===0&&(y+=1,v.x+=x,v.y=a),n.moveElementTo(t,v),t.getParent().setClip({type:"rect",attrs:{x:v.x,y:v.y,width:x,height:d}}),v.y+=d+w})),this.totalPagesCnt=y,this.moveElementTo(g,{x:i+_/2-m.width/2-m.minX,y:c-m.height-m.minY})}this.pageHeight&&this.pageWidth&&e.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),"horizontal"===o&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(y/this.get("maxRow")):this.totalPagesCnt=y,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(g),e.attr("matrix",this.getCurrentNavigationMatrix())},e.prototype.drawNavigation=function(t,e,n,a){var o={x:0,y:0},s=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),l=Object(r["get"])(a.marker,"style",{}),c=l.size,u=void 0===c?12:c,h=Object(i["__rest"])(l,["size"]),d=this.drawArrow(s,o,m,"horizontal"===e?"up":"left",u,h);d.on("click",this.onNavigationBack);var p=d.getBBox();o.x+=p.width+2;var f=this.addShape(s,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:Object(i["__assign"])({x:o.x,y:o.y+u/2,text:n,textBaseline:"middle"},Object(r["get"])(a.text,"style"))}),v=f.getBBox();o.x+=v.width+2;var y=this.drawArrow(s,o,g,"horizontal"===e?"down":"right",u,h);return y.on("click",this.onNavigationAfter),s},e.prototype.updateNavigation=function(t){var e=Object(r["deepMix"])({},p,this.get("pageNavigator")),n=e.marker.style,i=n.fill,a=n.opacity,o=n.inactiveFill,s=n.inactiveOpacity,l=this.currentPageIndex+"/"+this.totalPagesCnt,c=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),u=t?t.findById(this.getElementId(m)):this.getElementByLocalId(m),h=t?t.findById(this.getElementId(g)):this.getElementByLocalId(g);c.attr("text",l),u.attr("opacity",1===this.currentPageIndex?s:a),u.attr("fill",1===this.currentPageIndex?o:i),u.attr("cursor",1===this.currentPageIndex?"not-allowed":"pointer"),h.attr("opacity",this.currentPageIndex===this.totalPagesCnt?s:a),h.attr("fill",this.currentPageIndex===this.totalPagesCnt?o:i),h.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var d=u.getBBox().maxX+2;c.attr("x",d),d+=c.getBBox().width+2,this.updateArrowPath(h,{x:d,y:0})},e.prototype.drawArrow=function(t,e,n,r,a,s){var l=e.x,c=e.y,u=this.addShape(t,{type:"path",id:this.getElementId(n),name:n,attrs:Object(i["__assign"])({size:a,direction:r,path:[["M",l+a/2,c],["L",l,c+a],["L",l+a,c+a],["Z"]],cursor:"pointer"},s)});return u.attr("matrix",Object(o["e"])({x:l+a/2,y:c+a/2},v[r])),u},e.prototype.updateArrowPath=function(t,e){var n=e.x,i=e.y,r=t.attr(),a=r.size,s=r.direction,l=Object(o["e"])({x:n+a/2,y:i+a/2},v[s]);t.attr("path",[["M",n+a/2,i],["L",n,i+a],["L",n+a,i+a],["Z"]]),t.attr("matrix",l)},e.prototype.getCurrentNavigationMatrix=function(){var t=this,e=t.currentPageIndex,n=t.pageWidth,i=t.pageHeight,r=this.get("layout"),a="horizontal"===r?{x:0,y:i*(1-e)}:{x:n*(1-e),y:0};return Object(o["f"])(a)},e.prototype.applyItemStates=function(t,e){var n=this.getItemStates(t),i=n.length>0;if(i){var a=e.getChildren(),o=this.get("itemStates");Object(r["each"])(a,(function(e){var n=e.get("name"),i=n.split("-")[2],r=Object(s["a"])(t,i,o);r&&(e.attr(r),"marker"!==i||e.get("isStroke")&&e.get("isFill")||(e.get("isStroke")&&e.attr("fill",null),e.get("isFill")&&e.attr("stroke",null)))}))}},e.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),e=this.get("maxItemWidth");return e?t&&(e=t<=e?t:e):t&&(e=t),e},e}(d),b=y,x=1.4,_=.4,w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:l["a"].textColor,textBaseline:"middle",fontFamily:l["a"].fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:l["a"].textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},e.prototype.isSlider=function(){return!0},e.prototype.getValue=function(){return this.getCurrentValue()},e.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},e.prototype.setRange=function(t,e){this.update({min:t,max:e})},e.prototype.setValue=function(t){var e=this.getValue();this.set("value",t);var n=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(n),this.delegateEmit("valuechanged",{originValue:e,value:t})},e.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},e.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},e.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},e.prototype.bindHandlersEvent=function(t){var e=this;t.on("legend-handler-min:drag",(function(t){var n=e.getValueByCanvasPoint(t.x,t.y),i=e.getCurrentValue(),r=i[1];r<n&&(r=n),e.setValue([n,r])})),t.on("legend-handler-max:drag",(function(t){var n=e.getValueByCanvasPoint(t.x,t.y),i=e.getCurrentValue(),r=i[0];r>n&&(r=n),e.setValue([r,n])}))},e.prototype.bindRailEvent=function(t){},e.prototype.bindTrackEvent=function(t){var e=this,n=null;t.on("legend-track:dragstart",(function(t){n={x:t.x,y:t.y}})),t.on("legend-track:drag",(function(t){if(n){var i=e.getValueByCanvasPoint(n.x,n.y),r=e.getValueByCanvasPoint(t.x,t.y),a=e.getCurrentValue(),o=a[1]-a[0],s=e.getRange(),l=r-i;l<0?a[0]+l>s.min?e.setValue([a[0]+l,a[1]+l]):e.setValue([s.min,s.min+o]):l>0&&(l>0&&a[1]+l<s.max?e.setValue([a[0]+l,a[1]+l]):e.setValue([s.max-o,s.max])),n={x:t.x,y:t.y}}})),t.on("legend-track:dragend",(function(t){n=null}))},e.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},e.prototype.drawLabel=function(t,e){var n=this.get("label"),a=n.style,o=n.align,s=n.formatter,l=this.get(t),c=this.getLabelAlignAttrs(t,o),u="label-"+t;this.addShape(e,{type:"text",id:this.getElementId(u),name:"legend-label-"+t,attrs:Object(i["__assign"])(Object(i["__assign"])({x:0,y:0,text:Object(r["isFunction"])(s)?s(l):l},a),c)})},e.prototype.getLabelAlignAttrs=function(t,e){var n=this.isVertical(),i="center",r="middle";return n?(i="start",r="rail"!==e?"min"===t?"top":"bottom":"top"):"rail"!==e?(r="top",i="min"===t?"start":"end"):(i="start",r="middle"),{textAlign:i,textBaseline:r}},e.prototype.getRailPath=function(t,e,n,i){var r=this.get("rail"),a=r.size,o=r.defaultLength,s=r.type,l=this.isVertical(),c=o,u=n,h=i;u||(u=l?a:c),h||(h=l?c:a);var d=[];return"color"===s?(d.push(["M",t,e]),d.push(["L",t+u,e]),d.push(["L",t+u,e+h]),d.push(["L",t,e+h]),d.push(["Z"])):(d.push(["M",t+u,e]),d.push(["L",t+u,e+h]),d.push(["L",t,e+h]),d.push(["Z"])),d},e.prototype.drawRail=function(t){var e=this.get("rail"),n=e.style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:Object(i["__assign"])({path:this.getRailPath(0,0)},n)})},e.prototype.getTrackColor=function(t){var e,n=t.length;if(!n)return null;if(1===n)return t[0];e=this.isVertical()?"l(90)":"l(0)";for(var i=0;i<n;i++){var r=i/(n-1);e+=" "+r+":"+t[i]}return e},e.prototype.getTrackPath=function(t){var e=this.getRailShape(t),n=e.attr("path");return Object(r["clone"])(n)},e.prototype.getClipTrackAttrs=function(t){var e,n,i,r,a=this.getCurrentValue(),o=a[0],s=a[1],l=this.getRailBBox(t),c=this.getPointByValue(o,t),u=this.getPointByValue(s,t),h=this.isVertical();return h?(e=l.minX,n=c.y,i=l.width,r=u.y-c.y):(e=c.x,n=l.minY,i=u.x-c.x,r=l.height),{x:e,y:n,width:i,height:r}},e.prototype.getTrackAttrs=function(t){var e=this.get("track"),n=this.get("colors"),i=this.getTrackPath(t);return Object(r["mix"])({path:i,fill:this.getTrackColor(n)},e.style)},e.prototype.resetTrackClip=function(t){var e=t||this.get("group"),n=this.getElementId("track"),i=e.findById(n),r=i.getClip(),a=this.getClipTrackAttrs(t);r?r.attr(a):i.setClip({type:"rect",attrs:a})},e.prototype.resetTrack=function(t){var e=this.getElementId("track"),n=t.findById(e),i=this.getTrackAttrs(t);n?n.attr(i):this.addShape(t,{type:"path",id:e,draggable:this.get("slidable"),name:"legend-track",attrs:i})},e.prototype.getPointByValue=function(t,e){var n=this.getRange(),i=n.min,r=n.max,a=(t-i)/(r-i),o=this.getRailBBox(e),s=this.isVertical(),l={x:0,y:0};return s?(l.x=o.minX+o.width/2,l.y=Object(u["g"])(o.minY,o.maxY,a)):(l.x=Object(u["g"])(o.minX,o.maxX,a),l.y=o.minY+o.height/2),l},e.prototype.getRailShape=function(t){var e=t||this.get("group");return e.findById(this.getElementId("rail"))},e.prototype.getRailBBox=function(t){var e=this.getRailShape(t),n=e.getBBox();return n},e.prototype.getRailCanvasBBox=function(){var t=this.get("group"),e=t.findById(this.getElementId("rail")),n=e.getCanvasBBox();return n},e.prototype.isVertical=function(){return"vertical"===this.get("layout")},e.prototype.getValueByCanvasPoint=function(t,e){var n,i=this.getRange(),r=i.min,a=i.max,o=this.getRailCanvasBBox(),s=this.isVertical(),l=this.get("step");n=s?(e-o.minY)/o.height:(t-o.minX)/o.width;var c=Object(u["g"])(r,a,n);if(l){var h=Math.round((c-r)/l);c=r+h*l}return c>a&&(c=a),c<r&&(c=r),c},e.prototype.getCurrentValue=function(){var t=this.get("value");if(!t){var e=this.get("values");return e?[Math.max(Math.min.apply(Math,Object(i["__spreadArrays"])(e,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,Object(i["__spreadArrays"])(e,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return t},e.prototype.resetHandlers=function(t){var e=this.getCurrentValue(),n=e[0],i=e[1];this.resetHandler(t,"min",n),this.resetHandler(t,"max",i)},e.prototype.getHandlerPath=function(t,e){var n=this.isVertical(),i=[],r=t.size,a=e.x,o=e.y,s=r*x,l=r/2,c=r/6;if(n){var u=a+s*_;i.push(["M",a,o]),i.push(["L",u,o+l]),i.push(["L",a+s,o+l]),i.push(["L",a+s,o-l]),i.push(["L",u,o-l]),i.push(["Z"]),i.push(["M",u,o+c]),i.push(["L",a+s-2,o+c]),i.push(["M",u,o-c]),i.push(["L",a+s-2,o-c])}else{var h=o+s*_;i.push(["M",a,o]),i.push(["L",a-l,h]),i.push(["L",a-l,o+s]),i.push(["L",a+l,o+s]),i.push(["L",a+l,h]),i.push(["Z"]),i.push(["M",a-c,h]),i.push(["L",a-c,o+s-2]),i.push(["M",a+c,h]),i.push(["L",a+c,o+s-2])}return i},e.prototype.resetHandler=function(t,e,n){var r=this.getPointByValue(n,t),a=this.get("handler"),o=this.getHandlerPath(a,r),s=this.getElementId("handler-"+e),l=t.findById(s),c=this.isVertical();l?l.attr("path",o):this.addShape(t,{type:"path",name:"legend-handler-"+e,draggable:!0,id:s,attrs:Object(i["__assign"])(Object(i["__assign"])({path:o},a.style),{cursor:c?"ns-resize":"ew-resize"})})},e.prototype.fixedElements=function(t){var e=t.findById(this.getElementId("rail")),n=t.findById(this.getElementId("label-min")),i=t.findById(this.getElementId("label-max")),r=this.getDrawPoint();this.isVertical()?this.fixedVertail(n,i,e,r):this.fixedHorizontal(n,i,e,r)},e.prototype.fitRailLength=function(t,e,n,i){var a=this.isVertical(),o=a?"height":"width",s=this.get("label"),l=s.align,c=s.spacing,u=this.get("max"+Object(r["upperFirst"])(o));if(u){var h="rail"===l?n[o]+t[o]+e[o]+2*c:n[o],d=h-u;d>0&&this.changeRailLength(i,o,n[o]-d)}},e.prototype.changeRailLength=function(t,e,n){var i,r=t.getBBox();i="height"===e?this.getRailPath(r.x,r.y,r.width,n):this.getRailPath(r.x,r.y,n,r.height),t.attr("path",i)},e.prototype.changeRailPosition=function(t,e,n){var i=t.getBBox(),r=this.getRailPath(e,n,i.width,i.height);t.attr("path",r)},e.prototype.fixedHorizontal=function(t,e,n,i){var r=this.get("label"),a=r.align,o=r.spacing,s=n.getBBox(),l=t.getBBox(),c=e.getBBox(),u=s.height;this.fitRailLength(l,c,s,n),s=n.getBBox(),"rail"===a?(t.attr({x:i.x,y:i.y+u/2}),this.changeRailPosition(n,i.x+l.width+o,i.y),e.attr({x:i.x+l.width+s.width+2*o,y:i.y+u/2})):"top"===a?(t.attr({x:i.x,y:i.y}),e.attr({x:i.x+s.width,y:i.y}),this.changeRailPosition(n,i.x,i.y+l.height+o)):(this.changeRailPosition(n,i.x,i.y),t.attr({x:i.x,y:i.y+s.height+o}),e.attr({x:i.x+s.width,y:i.y+s.height+o}))},e.prototype.fixedVertail=function(t,e,n,i){var r=this.get("label"),a=r.align,o=r.spacing,s=n.getBBox(),l=t.getBBox(),c=e.getBBox();if(this.fitRailLength(l,c,s,n),s=n.getBBox(),"rail"===a)t.attr({x:i.x,y:i.y}),this.changeRailPosition(n,i.x,i.y+l.height+o),e.attr({x:i.x,y:i.y+l.height+s.height+2*o});else if("right"===a)t.attr({x:i.x+s.width+o,y:i.y}),this.changeRailPosition(n,i.x,i.y),e.attr({x:i.x+s.width+o,y:i.y+s.height});else{var u=Math.max(l.width,c.width);t.attr({x:i.x,y:i.y}),this.changeRailPosition(n,i.x+u+o,i.y),e.attr({x:i.x,y:i.y+s.height})}},e}(d),S=w},e5e2:function(t,e,n){"use strict";var i=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){var t=this.type;return"[Event (type="+t+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}();e["a"]=i},e73e:function(t,e,n){"use strict";var i=n("9ab4"),r=n("6855"),a=n("8937"),o=n("68de"),s=n("7349"),l=n("00f9"),c=n("22f9"),u=n("73ec"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=Object(u["b"])("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var i=n.get("context");this.createPath(i,e)}},e.prototype.onCanvasChange=function(t){Object(s["b"])(this,t)},e.prototype.getShapeBase=function(){return o},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),Object(l["a"])(this,t),this.createPath(t),e.length&&Object(s["a"])(t,e))},e.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(a["each"])(e||n,(function(t,e){c["b"][e]&&i.setAttribute(c["b"][e],t)})),Object(l["c"])(this)},e}(r["AbstractGroup"]);e["a"]=h},e874:function(t,e,n){},e8c3:function(t,e,n){"use strict";n("79c0")},e945:function(t,e,n){"use strict";var i=n("8937"),r=/rgba?\(([\s.,0-9]+)\)/,a=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,o=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,s=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,l=function(t){return/^[r,R,L,l]{1}[\s]*\(/.test(t)},c=function(){var t=document.createElement("i");return t.title="Web Colour Picker",t.style.display="none",document.body.appendChild(t),t},u=function(t,e,n,i){return t[i]+(e[i]-t[i])*n};function h(t){return"#"+f(t[0])+f(t[1])+f(t[2])}var d,p=function(t){return[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)]},f=function(t){var e=Math.round(t).toString(16);return 1===e.length?"0"+e:e},g=function(t,e){var n=isNaN(Number(e))||e<0?0:e>1?1:Number(e),i=t.length-1,r=Math.floor(i*n),a=i*n-r,o=t[r],s=r===i?o:t[r+1];return h([u(o,s,a,0),u(o,s,a,1),u(o,s,a,2)])},m=function(t){if("#"===t[0]&&7===t.length)return t;d||(d=c()),d.style.color=t;var e=document.defaultView.getComputedStyle(d,"").getPropertyValue("color"),n=r.exec(e),i=n[1].split(/\s*,\s*/).map((function(t){return Number(t)}));return e=h(i),e},v=function(t){var e=Object(i["isString"])(t)?t.split("-"):t,n=Object(i["map"])(e,(function(t){return p(-1===t.indexOf("#")?m(t):t)}));return function(t){return g(n,t)}},y=function(t){if(l(t)){var e,n=void 0;if("l"===t[0]){var r=a.exec(t),c=+r[1]+90;n=r[2],e="linear-gradient("+c+"deg, "}else if("r"===t[0]){e="radial-gradient(";r=o.exec(t);n=r[4]}var u=n.match(s);return Object(i["each"])(u,(function(t,n){var i=t.split(":");e+=i[1]+" "+100*i[0]+"%",n!==u.length-1&&(e+=", ")})),e+=")",e}return t};e["a"]={rgb2arr:p,gradient:v,toRGB:Object(i["memoize"])(m),toCSSGradient:y}},e97c:function(t,e,n){"use strict";n("fe98")},ea53:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAMhJREFUSEu11jEKAjEQBdD/LyB4OXtPpI2F2ghiZeeyjaA3sBVbG2uxtYgEZkQXdLPZ/HRh4T9mk0xCiAfF+fgCQgg7AEMAC5LrEngTCB+hNYAJyUMf6B/guUsAU5LnHCgFiLmPWI1B9y5QKuCZF0PmqUhXwHOPBlVtUC7guRvbCKdfUF8g5j5jNVbRrQmVADzzakjE3qMk4KFbkiOfKIAVybECkP0i6SLLtqnsoMlahbTZydq15MLZAxgAmEmuzLbWm/Nd/qp4AYBJeBnetp1MAAAAAElFTkSuQmCC"},ebb5:function(t,e,n){"use strict";var i,r,a,o=n("4b11"),s=n("83ab"),l=n("da84"),c=n("1626"),u=n("861d"),h=n("1a2d"),d=n("f5df"),p=n("0d51"),f=n("9112"),g=n("cb2d"),m=n("edd0"),v=n("3a9bc"),y=n("e163"),b=n("d2bb"),x=n("b622"),_=n("90e3"),w=n("69f3"),S=w.enforce,O=w.get,C=l.Int8Array,A=C&&C.prototype,M=l.Uint8ClampedArray,T=M&&M.prototype,k=C&&y(C),L=A&&y(A),j=Object.prototype,I=l.TypeError,E=x("toStringTag"),P=_("TYPED_ARRAY_TAG"),R="TypedArrayConstructor",D=o&&!!b&&"Opera"!==d(l.opera),F=!1,N={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},V=function(t){if(!u(t))return!1;var e=d(t);return"DataView"===e||h(N,e)||h(B,e)},G=function(t){var e=y(t);if(u(e)){var n=O(e);return n&&h(n,R)?n[R]:G(e)}},z=function(t){if(!u(t))return!1;var e=d(t);return h(N,e)||h(B,e)},U=function(t){if(z(t))return t;throw I("Target is not a typed array")},H=function(t){if(c(t)&&(!b||v(k,t)))return t;throw I(p(t)+" is not a typed array constructor")},W=function(t,e,n,i){if(s){if(n)for(var r in N){var a=l[r];if(a&&h(a.prototype,t))try{delete a.prototype[t]}catch(o){try{a.prototype[t]=e}catch(c){}}}L[t]&&!n||g(L,t,n?e:D&&A[t]||e,i)}},Y=function(t,e,n){var i,r;if(s){if(b){if(n)for(i in N)if(r=l[i],r&&h(r,t))try{delete r[t]}catch(a){}if(k[t]&&!n)return;try{return g(k,t,n?e:D&&k[t]||e)}catch(a){}}for(i in N)r=l[i],!r||r[t]&&!n||g(r,t,e)}};for(i in N)r=l[i],a=r&&r.prototype,a?S(a)[R]=r:D=!1;for(i in B)r=l[i],a=r&&r.prototype,a&&(S(a)[R]=r);if((!D||!c(k)||k===Function.prototype)&&(k=function(){throw I("Incorrect invocation")},D))for(i in N)l[i]&&b(l[i],k);if((!D||!L||L===j)&&(L=k.prototype,D))for(i in N)l[i]&&b(l[i].prototype,L);if(D&&y(T)!==L&&b(T,L),s&&!h(L,E))for(i in F=!0,m(L,E,{configurable:!0,get:function(){return u(this)?this[P]:void 0}}),N)l[i]&&f(l[i],P,i);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_TAG:F&&P,aTypedArray:U,aTypedArrayConstructor:H,exportTypedArrayMethod:W,exportTypedArrayStaticMethod:Y,getTypedArrayConstructor:G,isView:V,isTypedArray:z,TypedArray:k,TypedArrayPrototype:L}},edd0:function(t,e,n){var i=n("13d2"),r=n("9bf2");t.exports=function(t,e,n){return n.get&&i(n.get,e,{getter:!0}),n.set&&i(n.set,e,{setter:!0}),r.f(t,e,n)}},ee10:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAHISURBVDhP7ZRNKERRFMf/8+bNMCaUiQWFzAIrG2sfY4GYWCuEkZQNIVEWysaIjWJhRVEUY6EmSbK2UZJ85SMUhsxgxsyb4d0zT/M8w0OWfnU659z3zv/dd++5V/Migj+Ek/ynnF16YOtdIWOxGqqC/kAQOwcuMharoSrIaQAdz5GxWA1VwZ/yLwjc3fvQ0OOUss+p73bC/fAsZRE+CJbbFnBy7oG1xUG5IVZHnvEWVzYvUk+WNi5QLueD4LS9HM9+AQGx50rq5rG9fwO9Tgu9XovtvRtYaucgBEP0ztRQmVQVIerR8/oEVLcuiU+BUPAFxrjwzB69AXCsGcUKx3iVOGOexuWQoHPjGFeuJ6SY4lBWkCk9Amo6lnHt8kYEnwJINhkwM1JBOUNZS7/sWD3AxOwWeTmsMC83GXduHxmL5WIMZS0JGmJ4GA068kqGewphLTbDajFTrERZ+25TeD76Ye205aOzKV/K3qOsoTVsH1zH7pEL8UY90lMTaBe/A6/lcHrhhufRj5wsE0b7isKCbQNr2D28FW8UDQThZ/ctmyGryTYnYazfEha0T26KzewmQTlM+m3kq88IQggZaYnoEpcmah/+HuAVzcG/0wj+pfMAAAAASUVORK5CYII="},eecd:function(t,e,n){"use strict";var i=n("147d");n.d(e,"getAdjust",(function(){return i["getAdjust"]}));n("41c8");var r=n("94e3"),a=n("29ab"),o=n("f05a"),s=n("f7a9");n("59b0");Object(i["registerAdjust"])("Dodge",r["a"]),Object(i["registerAdjust"])("Jitter",a["a"]),Object(i["registerAdjust"])("Stack",o["a"]),Object(i["registerAdjust"])("Symmetric",s["a"])},f05a:function(t,e,n){"use strict";var i=n("000e"),r=n("8937"),a=n("41c8"),o=r["Cache"],s=function(t){function e(e){var n=t.call(this,e)||this,i=e.adjustNames,r=void 0===i?["y"]:i,a=e.height,o=void 0===a?NaN:a,s=e.size,l=void 0===s?10:s,c=e.reverseOrder,u=void 0!==c&&c;return n.adjustNames=r,n.height=o,n.size=l,n.reverseOrder=u,n}return Object(i["b"])(e,t),e.prototype.process=function(t){var e=this,n=e.yField,i=e.reverseOrder,r=n?this.processStack(t):this.processOneDimStack(t);return i?this.reverse(r):r},e.prototype.reverse=function(t){return t.slice(0).reverse()},e.prototype.processStack=function(t){var e=this,n=e.xField,a=e.yField,s=e.reverseOrder,l=s?this.reverse(t):t,c=new o,u=new o;return l.map((function(t){return t.map((function(t){var e,o=r["get"](t,n,0),s=r["get"](t,[a]),l=o.toString();if(s=r["isArray"](s)?s[1]:s,!r["isNil"](s)){var h=s>=0?c:u;h.has(l)||h.set(l,0);var d=h.get(l),p=s+d;return h.set(l,p),Object(i["a"])(Object(i["a"])({},t),(e={},e[a]=[d,p],e))}return t}))}))},e.prototype.processOneDimStack=function(t){var e=this,n=this,r=n.xField,a=n.height,s=n.reverseOrder,l="y",c=s?this.reverse(t):t,u=new o;return c.map((function(t){return t.map((function(t){var n,o=e.size,s=t[r],c=2*o/a;u.has(s)||u.set(s,c/2);var h=u.get(s);return u.set(s,h+c),Object(i["a"])(Object(i["a"])({},t),(n={},n[l]=h,n))}))}))},e}(a["a"]);e["a"]=s},f0a4:function(t,e,n){},f170:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAUBJREFUOE/VlL1OwzAUhc8JDKwMsPAG/GxMqBJlY4AkFuINKjW8RfsGLCgholJ3JOKESiwMPAJL9y6ABFLFyEIuSlGqkFAU0jDg1b6fv2Nfm6h5sGYe/g5onoTHkHgjb2wAI+2pftkkU0PL0QLgLlso5CJFGqS0tav8MtAvQAE7+SJCGgCWBTKYCaQxjFzrMpnPG5aRKKwRyEvkqdXagAko9OyJXC2G/wBIDkPX2pwn8q2QN4gxMhiP8dmro0pAgXQjTxXaK736310K8bjwvrR95e8/pYAD53pt4B0+VAIK2Ytcq5UWm07QMYgt7aqjAtB0gmeCKz91NkVa+lz1kjW2EzRjoElwl5Au3nCv++p1GnnW55DdID07q63XQZxl5xhLqH11Otf3lURODEPP3itErvKIJ6YGdkLXvqgF+J3EB4dBgRVUqdSsAAAAAElFTkSuQmCC"},f245:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAkCAYAAACE7WrnAAAACXBIWXMAAAsSAAALEgHS3X78AAACEElEQVRIic3WT2/ScBzH8fd0ByUx2RKMcUqyy4y3aXwCevdhaDxpfAo+A68EDjyELlk8LdAN5ugYsBqXrTuQVhK10FFQ0jr5mXqgVFBghRrj59Z/r3w/v6a/dMHzPI/oeXTpLyAA/FPoFWBEhl6+eP7Ytu1vkSHXdR/0er0rkaFYLMb38/PoE91OJDBN83NkKGxCQY7rxCNBQgj3VNOwW63lSNDJ8bEFoBSLS5GgarUSBwzLsmJCiE9zQ5Vy+SqQATg6em/OBdVqtbrjOACvAfXN5uaNuaDdQj4ObCRT6TaQ0XX95rR6EyG/luQfSgCapn2YCbJbLcuvJQEkU2kdUJW9vYn1xkKynLsMqH6t4LSiFFc9z/saGirtl5bx39ZQMgCGYZyEgtrttnl2ZsGv9QEgmUofAkZ2a+t6KOigtA/9WvqY+yVFKa6Ggor9BZXG3BtM2WiY1amQ67p2vV4PHvg9yVRaBjqFfGH6RJXywQ/A8NdjUqT8zvb9qVAum41PmmYYchznj3oBJIRw/VqZaUoylZaAzjtVFWMhf+/pXFBrEDmXy90dC+XzOwkurjWIZDWb1xzH0UcgIYR7WK0yCwTwdrfQHIFONe0j/VqhIP8b3NiW5ZURqFw+WJlhmmCqRqNxa7BHLUKw9zx89vSJPAO0BP0teH39Hovdbre+tnanNXxxhqh2y/4CsPDf/bH9BJTgFYsvfeXKAAAAAElFTkSuQmCC"},f295:function(t,e,n){"use strict";n("baa1")},f2fb:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return lt})),n.d(e,"c",(function(){return St}));var i={};n.r(i),n.d(i,"default",(function(){return H})),n.d(i,"assign",(function(){return w})),n.d(i,"format",(function(){return G})),n.d(i,"parse",(function(){return z})),n.d(i,"defaultI18n",(function(){return M})),n.d(i,"setGlobalDateI18n",(function(){return k})),n.d(i,"setGlobalDateMasks",(function(){return V}));var r=n("8937"),a={};function o(t){return a[t]}function s(t,e){a[t]=e}var l=function(){function t(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}return t.prototype.translate=function(t){return t},t.prototype.change=function(t){Object(r["assign"])(this.__cfg__,t),this.init()},t.prototype.clone=function(){return this.constructor(this.__cfg__)},t.prototype.getTicks=function(){var t=this;return Object(r["map"])(this.ticks,(function(e,n){return Object(r["isObject"])(e)?e:{text:t.getText(e,n),tickValue:e,value:t.scale(e)}}))},t.prototype.getText=function(t,e){var n=this.formatter,i=n?n(t,e):t;return Object(r["isNil"])(i)||!Object(r["isFunction"])(i.toString)?"":i.toString()},t.prototype.getConfig=function(t){return this.__cfg__[t]},t.prototype.init=function(){Object(r["assign"])(this,this.__cfg__),this.setDomain(),Object(r["isEmpty"])(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},t.prototype.initCfg=function(){},t.prototype.setDomain=function(){},t.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if(Object(r["isString"])(t)){var n=o(t);if(!n)throw new Error("There is no method to to calculate ticks!");e=n(this)}else Object(r["isFunction"])(t)&&(e=t(this));return e},t.prototype.rangeMin=function(){return this.range[0]},t.prototype.rangeMax=function(){return this.range[1]},t.prototype.calcPercent=function(t,e,n){return Object(r["isNumber"])(t)?(t-e)/(n-e):NaN},t.prototype.calcValue=function(t,e,n){return e+t*(n-e)},t}(),c=l,u=n("9ab4"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cat",e.isCategory=!0,e}return Object(u["__extends"])(e,t),e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},e.prototype.translate=function(t){this.buildIndexMap();var e=this.translateIndexMap.get(t);return void 0===e&&(e=Object(r["isNumber"])(t)?t:NaN),e},e.prototype.scale=function(t){var e=this.translate(t),n=this.calcPercent(e,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var e=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),i=Math.round(e*n)+this.min;return i<this.min||i>this.max?NaN:this.values[i]},e.prototype.getText=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var a=e;return Object(r["isNumber"])(e)&&!this.values.includes(e)&&(a=this.values[a]),t.prototype.getText.apply(this,Object(u["__spreadArrays"])([a],n))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if(Object(r["isNil"])(this.getConfig("min"))&&(this.min=0),Object(r["isNil"])(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(c),d=h,p=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,f="\\d\\d?",g="\\d\\d",m="\\d{3}",v="\\d{4}",y="[^\\s]+",b=/\[([^]*?)\]/gm;function x(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n.push(t[i].substr(0,e));return n}var _=function(t){return function(e,n){var i=n[t].map((function(t){return t.toLowerCase()})),r=i.indexOf(e.toLowerCase());return r>-1?r:null}};function w(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,r=e;i<r.length;i++){var a=r[i];for(var o in a)t[o]=a[o]}return t}var S=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],O=["January","February","March","April","May","June","July","August","September","October","November","December"],C=x(O,3),A=x(S,3),M={dayNamesShort:A,dayNames:S,monthNamesShort:C,monthNames:O,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10?1:0)*t%10]}},T=w({},M),k=function(t){return T=w(T,t)},L=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},j=function(t,e){void 0===e&&(e=2),t=String(t);while(t.length<e)t="0"+t;return t},I={D:function(t){return String(t.getDate())},DD:function(t){return j(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return j(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return j(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return j(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return j(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return j(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return j(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return j(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return j(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return j(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return j(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+j(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+j(Math.floor(Math.abs(e)/60),2)+":"+j(Math.abs(e)%60,2)}},E=function(t){return+t-1},P=[null,f],R=[null,y],D=["isPm",y,function(t,e){var n=t.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],F=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var n=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?n:-n}return 0}],N={D:["day",f],DD:["day",g],Do:["day",f+y,function(t){return parseInt(t,10)}],M:["month",f,E],MM:["month",g,E],YY:["year",g,function(t){var e=new Date,n=+(""+e.getFullYear()).substr(0,2);return+(""+(+t>68?n-1:n)+t)}],h:["hour",f,void 0,"isPm"],hh:["hour",g,void 0,"isPm"],H:["hour",f],HH:["hour",g],m:["minute",f],mm:["minute",g],s:["second",f],ss:["second",g],YYYY:["year",v],S:["millisecond","\\d",function(t){return 100*+t}],SS:["millisecond",g,function(t){return 10*+t}],SSS:["millisecond",m],d:P,dd:P,ddd:R,dddd:R,MMM:["month",y,_("monthNamesShort")],MMMM:["month",y,_("monthNames")],a:D,A:D,ZZ:F,Z:F},B={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},V=function(t){return w(B,t)},G=function(t,e,n){if(void 0===e&&(e=B["default"]),void 0===n&&(n={}),"number"===typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");e=B[e]||e;var i=[];e=e.replace(b,(function(t,e){return i.push(e),"@@@"}));var r=w(w({},T),n);return e=e.replace(p,(function(e){return I[e](t,r)})),e.replace(/@@@/g,(function(){return i.shift()}))};function z(t,e,n){if(void 0===n&&(n={}),"string"!==typeof e)throw new Error("Invalid format in fecha parse");if(e=B[e]||e,t.length>1e3)return null;var i=new Date,r={year:i.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},a=[],o=[],s=e.replace(b,(function(t,e){return o.push(L(e)),"@@@"})),l={},c={};s=L(s).replace(p,(function(t){var e=N[t],n=e[0],i=e[1],r=e[3];if(l[n])throw new Error("Invalid format. "+n+" specified twice in format");return l[n]=!0,r&&(c[r]=!0),a.push(e),"("+i+")"})),Object.keys(c).forEach((function(t){if(!l[t])throw new Error("Invalid format. "+t+" is required in specified format")})),s=s.replace(/@@@/g,(function(){return o.shift()}));var u=t.match(new RegExp(s,"i"));if(!u)return null;for(var h,d=w(w({},T),n),f=1;f<u.length;f++){var g=a[f-1],m=g[0],v=g[2],y=v?v(u[f],d):+u[f];if(null==y)return null;r[m]=y}if(1===r.isPm&&null!=r.hour&&12!==+r.hour?r.hour=+r.hour+12:0===r.isPm&&12===+r.hour&&(r.hour=0),null==r.timezoneOffset){h=new Date(r.year,r.month,r.day,r.hour,r.minute,r.second,r.millisecond);for(var x=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],_=(f=0,x.length);f<_;f++)if(l[x[f][0]]&&r[x[f][0]]!==h[x[f][1]]())return null}else if(h=new Date(Date.UTC(r.year,r.month,r.day,r.hour,r.minute-r.timezoneOffset,r.second,r.millisecond)),r.month>11||r.month<0||r.day>31||r.day<1||r.hour>23||r.hour<0||r.minute>59||r.minute<0||r.second>59||r.second<0)return null;return h}var U={format:G,parse:z,defaultI18n:M,setGlobalDateI18n:k,setGlobalDateMasks:V},H=U,W=function(t){return function(e,n,i,a){var o=Object(r["isNil"])(i)?0:i,s=Object(r["isNil"])(a)?e.length:a;while(o<s){var l=o+s>>>1;t(e[l])>n?s=l:o=l+1}return o}},Y="format";function X(t,e){var n=i[Y]||H[Y];return n(t,e)}function q(t){return Object(r["isString"])(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),Object(r["isDate"])(t)&&(t=t.getTime()),t}var Z=1e3,Q=60*Z,J=60*Q,K=24*J,$=31*K,tt=365*K,et=[["HH:mm:ss",Z],["HH:mm:ss",10*Z],["HH:mm:ss",30*Z],["HH:mm",Q],["HH:mm",10*Q],["HH:mm",30*Q],["HH",J],["HH",6*J],["HH",12*J],["YYYY-MM-DD",K],["YYYY-MM-DD",4*K],["YYYY-WW",7*K],["YYYY-MM",$],["YYYY-MM",4*$],["YYYY-MM",6*$],["YYYY",380*K]];function nt(t,e,n){var i=(e-t)/n,a=W((function(t){return t[1]}))(et,i)-1,o=et[a];return a<0?o=et[0]:a>=et.length&&(o=Object(r["last"])(et)),o}var it=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="timeCat",e}return Object(u["__extends"])(e,t),e.prototype.translate=function(t){t=q(t);var e=this.values.indexOf(t);return-1===e&&(e=Object(r["isNumber"])(t)&&t<this.values.length?t:NaN),e},e.prototype.getText=function(t,e){var n=this.translate(t);if(n>-1){var i=this.values[n],r=this.formatter;return i=r?r(i,e):X(i,this.mask),i}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var e=this.values;Object(r["each"])(e,(function(t,n){e[n]=q(t)})),e.sort((function(t,e){return t-e})),t.prototype.setDomain.call(this)},e}(d),rt=it,at=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isContinuous=!0,e}return Object(u["__extends"])(e,t),e.prototype.scale=function(t){if(Object(r["isNil"])(t))return NaN;var e=this.rangeMin(),n=this.rangeMax(),i=this.max,a=this.min;if(i===a)return e;var o=this.getScalePercent(t);return e+o*(n-e)},e.prototype.init=function(){t.prototype.init.call(this);var e=this.ticks,n=Object(r["head"])(e),i=Object(r["last"])(e);n<this.min&&(this.min=n),i>this.max&&(this.max=i),Object(r["isNil"])(this.minLimit)||(this.min=n),Object(r["isNil"])(this.maxLimit)||(this.max=i)},e.prototype.setDomain=function(){var t=Object(r["getRange"])(this.values),e=t.min,n=t.max;Object(r["isNil"])(this.min)&&(this.min=e),Object(r["isNil"])(this.max)&&(this.max=n),this.min>this.max&&(this.min=e,this.max=n)},e.prototype.calculateTicks=function(){var e=this,n=t.prototype.calculateTicks.call(this);return this.nice||(n=Object(r["filter"])(n,(function(t){return t>=e.min&&t<=e.max}))),n},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;return(t-n)/(e-n)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(c),ot=at,st=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="linear",e.isLinear=!0,e}return Object(u["__extends"])(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(ot),lt=st;function ct(t,e){var n,i=Math.E;return n=e>=0?Math.pow(i,Math.log(e)/t):-1*Math.pow(i,Math.log(-e)/t),n}function ut(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function ht(t,e,n){Object(r["isNil"])(n)&&(n=Math.max.apply(null,t));var i=n;return Object(r["each"])(t,(function(t){t>0&&t<i&&(i=t)})),i===n&&(i=n/e),i>1&&(i=1),i}var dt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e}return Object(u["__extends"])(e,t),e.prototype.invert=function(t){var e,n=this.base,i=ut(n,this.max),r=this.rangeMin(),a=this.rangeMax()-r,o=this.positiveMin;if(o){if(0===t)return 0;e=ut(n,o/n);var s=1/(i-e)*a;if(t<s)return t/s*o}else e=ut(n,this.min);var l=(t-r)/a,c=l*(i-e)+e;return Math.pow(n,c)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){t.prototype.setDomain.call(this);var e=this.min;if(e<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===e&&(this.positiveMin=ht(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var i,r=this.base,a=this.positiveMin;return a&&(n=1*a/r),i=t<a?t/a/(ut(r,e)-ut(r,n)):(ut(r,t)-ut(r,n))/(ut(r,e)-ut(r,n)),i},e}(ot),pt=dt,ft=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="pow",e}return Object(u["__extends"])(e,t),e.prototype.invert=function(t){var e=this.getInvertPercent(t),n=this.exponent,i=ct(n,this.max),r=ct(n,this.min),a=e*(i-r)+r,o=a>=0?1:-1;return Math.pow(a,n)*o},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var i=this.exponent,r=(ct(i,t)-ct(i,n))/(ct(i,e)-ct(i,n));return r},e}(ot),gt=ft,mt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="time",e}return Object(u["__extends"])(e,t),e.prototype.getText=function(t,e){var n=this.translate(t),i=this.formatter;return i?i(n,e):X(n,this.mask)},e.prototype.scale=function(e){var n=e;return(Object(r["isString"])(n)||Object(r["isDate"])(n))&&(n=this.translate(n)),t.prototype.scale.call(this,n)},e.prototype.translate=function(t){return q(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,e=this.getConfig("min"),n=this.getConfig("max");if(Object(r["isNil"])(e)&&Object(r["isNumber"])(e)||(this.min=this.translate(this.min)),Object(r["isNil"])(n)&&Object(r["isNumber"])(n)||(this.max=this.translate(this.max)),t&&t.length){var i=[],a=1/0,o=a,s=0;Object(r["each"])(t,(function(t){var e=q(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t+" in time scale!");a>e?(o=a,a=e):o>e&&(o=e),s<e&&(s=e),i.push(e)})),t.length>1&&(this.minTickInterval=o-a),Object(r["isNil"])(e)&&(this.min=a),Object(r["isNil"])(n)&&(this.max=s)}},e}(lt),vt=mt,yt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantize",e}return Object(u["__extends"])(e,t),e.prototype.invert=function(t){var e=this.ticks,n=e.length,i=this.getInvertPercent(t),a=Math.floor(i*(n-1));if(a>=n-1)return Object(r["last"])(e);if(a<0)return Object(r["head"])(e);var o=e[a],s=e[a+1],l=a/(n-1),c=(a+1)/(n-1);return o+(i-l)/(c-l)*(s-o)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var e=t.prototype.calculateTicks.call(this);return this.nice||(Object(r["last"])(e)!==this.max&&e.push(this.max),Object(r["head"])(e)!==this.min&&e.unshift(this.min)),e},e.prototype.getScalePercent=function(t){var e=this.ticks;if(t<Object(r["head"])(e))return 0;if(t>Object(r["last"])(e))return 1;var n=0;return Object(r["each"])(e,(function(e,i){if(!(t>=e))return!1;n=i})),n/(e.length-1)},e}(ot),bt=yt,xt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="quantile",e}return Object(u["__extends"])(e,t),e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(bt),_t=xt,wt={};function St(t){return wt[t]}function Ot(t,e){if(St(t))throw new Error("type '"+t+"' existed.");wt[t]=e}var Ct=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="identity",e.isIdentity=!0,e}return Object(u["__extends"])(e,t),e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&Object(r["isNumber"])(t)?t:this.range[0]},e.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},e}(c),At=Ct;function Mt(t){var e=t.values,n=t.tickInterval,i=t.tickCount,a=t.showLast;if(Object(r["isNumber"])(n)){var o=Object(r["filter"])(e,(function(t,e){return e%n===0})),s=Object(r["last"])(e);return a&&Object(r["last"])(o)!==s&&o.push(s),o}var l=e.length,c=t.min,u=t.max;if(Object(r["isNil"])(c)&&(c=0),Object(r["isNil"])(u)&&(u=e.length-1),!Object(r["isNumber"])(i)||i>=l)return e.slice(c,u+1);if(i<=0||u<=0)return[];for(var h=1===i?l:Math.floor(l/(i-1)),d=[],p=c,f=0;f<i;f++){if(p>=u)break;p=Math.min(c+f*h,u),f===i-1&&a?d.push(e[u]):d.push(e[p])}return d}function Tt(t){var e=t.min,n=t.max,i=t.nice,r=t.tickCount,a=new Et;return a.domain([e,n]),i&&a.nice(r),a.ticks(r)}var kt=5,Lt=Math.sqrt(50),jt=Math.sqrt(10),It=Math.sqrt(2),Et=function(){function t(){this._domain=[0,1]}return t.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},t.prototype.nice=function(t){var e,n;void 0===t&&(t=kt);var i,r=this._domain.slice(),a=0,o=this._domain.length-1,s=this._domain[a],l=this._domain[o];return l<s&&(e=[l,s],s=e[0],l=e[1],n=[o,a],a=n[0],o=n[1]),i=Rt(s,l,t),i>0?(s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i,i=Rt(s,l,t)):i<0&&(s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i,i=Rt(s,l,t)),i>0?(r[a]=Math.floor(s/i)*i,r[o]=Math.ceil(l/i)*i,this.domain(r)):i<0&&(r[a]=Math.ceil(s*i)/i,r[o]=Math.floor(l*i)/i,this.domain(r)),this},t.prototype.ticks=function(t){return void 0===t&&(t=kt),Pt(this._domain[0],this._domain[this._domain.length-1],t||kt)},t}();function Pt(t,e,n){var i,r,a,o,s=-1;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(o=Rt(t,e,n))||!isFinite(o))return[];if(o>0){t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(r=Math.ceil(e-t+1));while(++s<r)a[s]=(t+s)*o}else{t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(r=Math.ceil(t-e+1));while(++s<r)a[s]=(t-s)/o}return i&&a.reverse(),a}function Rt(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),a=i/Math.pow(10,r);return r>=0?(a>=Lt?10:a>=jt?5:a>=It?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(a>=Lt?10:a>=jt?5:a>=It?2:1)}function Dt(t,e,n){var i;return i="ceil"===n?Math.ceil(t/e):"floor"===n?Math.floor(t/e):Math.round(t/e),i*e}function Ft(t,e,n){var i=Dt(t,n,"floor"),a=Dt(e,n,"ceil");i=Object(r["fixedBase"])(i,n),a=Object(r["fixedBase"])(a,n);for(var o=[],s=Math.max((a-i)/(Math.pow(2,12)-1),n),l=i;l<=a;l+=s){var c=Object(r["fixedBase"])(l,s);o.push(c)}return{min:i,max:a,ticks:o}}function Nt(t,e,n){var i,a=t.minLimit,o=t.maxLimit,s=t.min,l=t.max,c=t.tickCount,u=void 0===c?5:c,h=Object(r["isNil"])(a)?Object(r["isNil"])(e)?s:e:a,d=Object(r["isNil"])(o)?Object(r["isNil"])(n)?l:n:o;if(h>d&&(i=[h,d],d=i[0],h=i[1]),u<=2)return[h,d];for(var p=(d-h)/(u-1),f=[],g=0;g<u;g++)f.push(h+p*g);return f}function Bt(t){var e=t.min,n=t.max,i=t.tickInterval,a=t.minLimit,o=t.maxLimit,s=Tt(t);return Object(r["isNil"])(a)&&Object(r["isNil"])(o)?i?Ft(e,n,i).ticks:s:Nt(t,Object(r["head"])(s),Object(r["last"])(s))}function Vt(t){return Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}var Gt=[1,5,2,2.5,4,3],zt=100*Number.EPSILON;function Ut(t,e){return(t%e+e)%e}function Ht(t){return Math.round(1e12*t)/1e12}function Wt(t,e,n,i,a,o){var s=Object(r["size"])(e),l=Object(r["indexOf"])(e,t),c=0,u=Ut(i,o);return(u<zt||o-u<zt)&&i<=0&&a>=0&&(c=1),1-l/(s-1)-n+c}function Yt(t,e,n){var i=Object(r["size"])(e),a=Object(r["indexOf"])(e,t),o=1;return 1-a/(i-1)-n+o}function Xt(t,e,n,i,r,a){var o=(t-1)/(a-r),s=(e-1)/(Math.max(a,i)-Math.min(n,r));return 2-Math.max(o/s,s/o)}function qt(t,e){return t>=e?2-(t-1)/(e-1):1}function Zt(t,e,n,i){var r=e-t;return 1-.5*(Math.pow(e-i,2)+Math.pow(t-n,2))/Math.pow(.1*r,2)}function Qt(t,e,n){var i=e-t;if(n>i){var r=(n-i)/2;return 1-Math.pow(r,2)/Math.pow(.1*i,2)}return 1}function Jt(){return 1}function Kt(t,e,n,i,a,o){void 0===n&&(n=5),void 0===i&&(i=!0),void 0===a&&(a=Gt),void 0===o&&(o=[.25,.2,.5,.05]);var s=n<0?0:Math.round(n);if(Number.isNaN(t)||Number.isNaN(e)||"number"!==typeof t||"number"!==typeof e||!s)return{min:0,max:0,ticks:[]};if(e-t<1e-15||1===s)return{min:t,max:e,ticks:[t]};if(e-t>1e148){var l=n||5,c=(e-t)/l;return{min:t,max:e,ticks:Array(l).fill(null).map((function(e,n){return Vt(t+c*n)}))}}var u={score:-2,lmin:0,lmax:0,lstep:0},h=1;while(h<1/0){for(var d=0;d<a.length;d+=1){var p=a[d],f=Yt(p,a,h);if(o[0]*f+o[1]+o[2]+o[3]<u.score){h=1/0;break}var g=2;while(g<1/0){var m=qt(g,s);if(o[0]*f+o[1]+o[2]*m+o[3]<u.score)break;var v=(e-t)/(g+1)/h/p,y=Math.ceil(Math.log10(v));while(y<1/0){var b=h*p*Math.pow(10,y),x=Qt(t,e,b*(g-1));if(o[0]*f+o[1]*x+o[2]*m+o[3]<u.score)break;var _=Math.floor(e/b)*h-(g-1)*h,w=Math.ceil(t/b)*h;if(_<=w){l=w-_;for(var S=0;S<=l;S+=1){var O=_+S,C=O*(b/h),A=C+b*(g-1),M=b,T=Wt(p,a,h,C,A,M),k=Zt(t,e,C,A),L=Xt(g,s,t,e,C,A),j=Jt(),I=o[0]*T+o[1]*k+o[2]*L+o[3]*j;I>u.score&&(!i||C<=t&&A>=e)&&(u.lmin=C,u.lmax=A,u.lstep=M,u.score=I)}}y+=1}g+=1}}h+=1}var E=Vt(u.lmax),P=Vt(u.lmin),R=Vt(u.lstep),D=Math.floor(Ht((E-P)/R))+1,F=new Array(D);F[0]=Vt(P);for(d=1;d<D;d++)F[d]=Vt(F[d-1]+R);return{min:Math.min(t,Object(r["head"])(F)),max:Math.max(e,Object(r["last"])(F)),ticks:F}}function $t(t){var e=t.min,n=t.max,i=t.tickCount,a=t.nice,o=t.tickInterval,s=t.minLimit,l=t.maxLimit,c=Kt(e,n,i,a).ticks;return Object(r["isNil"])(s)&&Object(r["isNil"])(l)?o?Ft(e,n,o).ticks:c:Nt(t,Object(r["head"])(c),Object(r["last"])(c))}function te(t){var e,n=t.base,i=t.tickCount,r=t.min,a=t.max,o=t.values,s=ut(n,a);if(r>0)e=Math.floor(ut(n,r));else{var l=ht(o,n,a);e=Math.floor(ut(n,l))}for(var c=s-e,u=Math.ceil(c/i),h=[],d=e;d<s+u;d+=u)h.push(Math.pow(n,d));return r<=0&&h.unshift(0),h}function ee(t,e,n){if(void 0===n&&(n=5),t===e)return{max:e,min:t,ticks:[t]};var i=n<0?0:Math.round(n);if(0===i)return{max:e,min:t,ticks:[]};var r=1.5,a=.5+1.5*r,o=e-t,s=o/i,l=Math.pow(10,Math.floor(Math.log10(s))),c=l;2*l-s<r*(s-c)&&(c=2*l,5*l-s<a*(s-c)&&(c=5*l,10*l-s<r*(s-c)&&(c=10*l)));for(var u=Math.ceil(e/c),h=Math.floor(t/c),d=Math.max(u*c,e),p=Math.min(h*c,t),f=Math.floor((d-p)/c)+1,g=new Array(f),m=0;m<f;m++)g[m]=Vt(p+m*c);return{min:p,max:d,ticks:g}}function ne(t){var e=t.exponent,n=t.tickCount,i=Math.ceil(ct(e,t.max)),r=Math.floor(ct(e,t.min)),a=ee(r,i,n).ticks;return a.map((function(t){var n=t>=0?1:-1;return Math.pow(t,e)*n}))}function ie(t,e){var n=t.length*e;return 1===e?t[t.length-1]:0===e?t[0]:n%1!==0?t[Math.ceil(n)-1]:t.length%2===0?(t[n-1]+t[n])/2:t[n]}function re(t){var e=t.tickCount,n=t.values;if(!n||!n.length)return[];for(var i=n.slice().sort((function(t,e){return t-e})),r=[],a=0;a<e;a++){var o=a/(e-1);r.push(ie(i,o))}return r}function ae(t){var e=t.min,n=t.max,i=t.tickCount,a=t.tickInterval,o=t.minLimit,s=t.maxLimit,l=ee(e,n,i).ticks;return Object(r["isNil"])(o)&&Object(r["isNil"])(s)?a?Ft(e,n,a).ticks:l:Nt(t,Object(r["head"])(l),Object(r["last"])(l))}function oe(t){var e=t.min,n=t.max,i=t.minTickInterval,r=t.tickInterval,a=t.tickCount;if(r)a=Math.ceil((n-e)/r);else{r=nt(e,n,a)[1];var o=(n-e)/r,s=o/a;s>1&&(r*=Math.ceil(s)),i&&r<i&&(r=i)}r=Math.max(Math.floor((n-e)/(Math.pow(2,12)-1)),r);for(var l=[],c=e;c<n+r;c+=r)l.push(c);return l}function se(t){var e=Mt(Object(u["__assign"])({showLast:!0},t));return e}function le(t){return new Date(t).getFullYear()}function ce(t){return new Date(t,0,1).getTime()}function ue(t){return new Date(t).getMonth()}function he(t,e){var n=le(t),i=le(e),r=ue(t),a=ue(e);return 12*(i-n)+(a-r)%12}function de(t,e){return new Date(t,e,1).getTime()}function pe(t,e){return Math.ceil((e-t)/K)}function fe(t,e){return Math.ceil((e-t)/J)}function ge(t,e){return Math.ceil((e-t)/6e4)}function me(t){var e=t.min,n=t.max,i=t.minTickInterval,r=t.tickCount,a=t.tickInterval,o=[];a||(a=(n-e)/r,i&&a<i&&(a=i)),a=Math.max(Math.floor((n-e)/(Math.pow(2,12)-1)),a);var s=le(e);if(a>tt)for(var l=le(n),c=Math.ceil(a/tt),u=s;u<=l+c;u+=c)o.push(ce(u));else if(a>$){var h=Math.ceil(a/$),d=ue(e),p=he(e,n);for(u=0;u<=p+h;u+=h)o.push(de(s,u+d))}else if(a>K){var f=new Date(e),g=f.getFullYear(),m=f.getMonth(),v=f.getDate(),y=Math.ceil(a/K),b=pe(e,n);for(u=0;u<b+y;u+=y)o.push(new Date(g,m,v+u).getTime())}else if(a>J){f=new Date(e),g=f.getFullYear(),m=f.getMonth(),y=f.getDate();var x=f.getHours(),_=Math.ceil(a/J),w=fe(e,n);for(u=0;u<=w+_;u+=_)o.push(new Date(g,m,y,x+u).getTime())}else if(a>Q){var S=ge(e,n),O=Math.ceil(a/Q);for(u=0;u<=S+O;u+=O)o.push(e+u*Q)}else{var C=a;C<Z&&(C=Z);var A=Math.floor(e/Z)*Z,M=Math.ceil((n-e)/Z),T=Math.ceil(C/Z);for(u=0;u<M+T;u+=T)o.push(A+u*Z)}return o.length,o}s("cat",Mt),s("time-cat",se),s("wilkinson-extended",$t),s("r-pretty",ae),s("time",oe),s("time-pretty",me),s("log",te),s("pow",ne),s("quantile",re),s("d3-linear",Bt),Ot("cat",d),Ot("category",d),Ot("identity",At),Ot("linear",lt),Ot("log",pt),Ot("pow",gt),Ot("time",vt),Ot("timeCat",rt),Ot("quantize",bt),Ot("quantile",_t)},f495:function(t,e,n){var i=n("c04e"),r=TypeError;t.exports=function(t){var e=i(t,"number");if("number"==typeof e)throw r("Can't convert number to bigint");return BigInt(e)}},f5e5:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return p})),n.d(e,"e",(function(){return m})),n.d(e,"h",(function(){return v})),n.d(e,"f",(function(){return b})),n.d(e,"g",(function(){return x}));var i=n("8937"),r=n("af40"),a=n("9c29"),o=n("7326"),s=n("9f27"),l={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function c(t,e){var n=e.attr();for(var a in n){var o=n[a],s=l[a]?l[a]:a;"matrix"===s&&o?t.transform(o[0],o[1],o[3],o[4],o[6],o[7]):"lineDash"===s&&t.setLineDash?Object(i["isArray"])(o)&&t.setLineDash(o):("strokeStyle"===s||"fillStyle"===s?o=Object(r["b"])(t,e,o):"globalAlpha"===s&&(o*=t.globalAlpha),t[s]=o)}}function u(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];r.cfg.visible?r.draw(t,n):r.skipDraw()}}function h(t,e,n){var r=t.get("refreshElements");Object(i["each"])(r,(function(e){if(e!==t){var n=e.cfg.parent;while(n&&n!==t&&!n.cfg.refresh)n.cfg.refresh=!0,n=n.cfg.parent}})),r[0]===t?f(e,n):d(e,n)}function d(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.cfg.visible)if(i.cfg.hasChanged)i.cfg.refresh=!0,i.isGroup()&&f(i.cfg.children,e);else if(i.cfg.refresh)i.isGroup()&&d(i.cfg.children,e);else{var r=g(i,e);i.cfg.refresh=r,r&&i.isGroup()&&d(i.cfg.children,e)}}}function p(t){for(var e=0;e<t.length;e++){var n=t[e];n.cfg.hasChanged=!1,n.isGroup()&&!n.destroyed&&p(n.cfg.children)}}function f(t,e){for(var n=0;n<t.length;n++){var i=t[n];i.cfg.refresh=!0,i.isGroup()&&f(i.get("children"),e)}}function g(t,e){var n=t.cfg.cacheCanvasBBox,i=t.cfg.isInView&&n&&Object(o["f"])(n,e);return i}function m(t,e,n,i){var r=n.path,o=n.startArrow,l=n.endArrow;if(r){var c=[0,0],u=[0,0],h={dx:0,dy:0};e.beginPath();for(var d=0;d<r.length;d++){var p=r[d],f=p[0];if(0===d&&o&&o.d){var g=t.getStartTangent();h=s["c"](g[0][0],g[0][1],g[1][0],g[1][1],o.d)}else if(d===r.length-2&&"Z"===r[d+1][0]&&l&&l.d){var m=r[d+1];if("Z"===m[0]){g=t.getEndTangent();h=s["c"](g[0][0],g[0][1],g[1][0],g[1][1],l.d)}}else if(d===r.length-1&&l&&l.d&&"Z"!==r[0]){g=t.getEndTangent();h=s["c"](g[0][0],g[0][1],g[1][0],g[1][1],l.d)}var v=h.dx,y=h.dy;switch(f){case"M":e.moveTo(p[1]-v,p[2]-y),u=[p[1],p[2]];break;case"L":e.lineTo(p[1]-v,p[2]-y);break;case"Q":e.quadraticCurveTo(p[1],p[2],p[3]-v,p[4]-y);break;case"C":e.bezierCurveTo(p[1],p[2],p[3],p[4],p[5]-v,p[6]-y);break;case"A":var b=void 0;i?(b=i[d],b||(b=Object(a["a"])(c,p),i[d]=b)):b=Object(a["a"])(c,p);var x=b.cx,_=b.cy,w=b.rx,S=b.ry,O=b.startAngle,C=b.endAngle,A=b.xRotation,M=b.sweepFlag;if(e.ellipse)e.ellipse(x,_,w,S,A,O,C,1-M);else{var T=w>S?w:S,k=w>S?1:w/S,L=w>S?S/w:1;e.translate(x,_),e.rotate(A),e.scale(k,L),e.arc(0,0,T,O,C,1-M),e.scale(1/k,1/L),e.rotate(-A),e.translate(-x,-_)}break;case"Z":e.closePath();break;default:break}if("Z"===f)c=u;else{var j=p.length;c=[p[j-2],p[j-1]]}}}}function v(t,e){var n=t.get("canvas");n&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(t.set("hasChanged",!0),t.cfg.parent&&t.cfg.parent.get("hasChanged")||(n.refreshElement(t,e,n),n.get("autoDraw")&&n.draw())))}function y(t){var e;if(t.destroyed)e=t["_cacheCanvasBBox"];else{var n=t.get("cacheCanvasBBox"),i=n&&!(!n.width||!n.height),r=t.getCanvasBBox(),a=r&&!(!r.width||!r.height);i&&a?e=Object(o["l"])(n,r):i?e=n:a&&(e=r)}return e}function b(t){if(!t.length)return null;var e=[],n=[],r=[],a=[];return Object(i["each"])(t,(function(t){var i=y(t);i&&(e.push(i.minX),n.push(i.minY),r.push(i.maxX),a.push(i.maxY))})),{minX:Object(i["min"])(e),minY:Object(i["min"])(n),maxX:Object(i["max"])(r),maxY:Object(i["max"])(a)}}function x(t,e){return t&&e&&Object(o["f"])(t,e)?{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}:null}},f7a9:function(t,e,n){"use strict";var i=n("000e"),r=n("8937"),a=n("41c8"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["b"])(e,t),e.prototype.process=function(t){var e=r["flatten"](t),n=this,a=n.xField,o=n.yField,s=this.getXValuesMaxMap(e),l=Math.max.apply(Math,Object.keys(s).map((function(t){return s[t]})));return r["map"](t,(function(t){return r["map"](t,(function(t){var e,n,c=t[o],u=t[a];if(r["isArray"](c)){var h=(l-s[u])/2;return Object(i["a"])(Object(i["a"])({},t),(e={},e[o]=r["map"](c,(function(t){return h+t})),e))}var d=(l-c)/2;return Object(i["a"])(Object(i["a"])({},t),(n={},n[o]=[d,c+d],n))}))}))},e.prototype.getXValuesMaxMap=function(t){var e=this,n=this,i=n.xField,a=n.yField,o=r["groupBy"](t,(function(t){return t[i]}));return r["mapValues"](o,(function(t){return e.getDimMaxValue(t,a)}))},e.prototype.getDimMaxValue=function(t,e){var n=r["map"](t,(function(t){return r["get"](t,e,[])})),i=r["flatten"](n);return Math.max.apply(Math,i)},e}(a["a"]);e["a"]=o},f82f:function(t,e,n){"use strict";n("cfc7")},f83c:function(t,e,n){"use strict";var i=n("9ab4"),r=n("330d"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["__extends"])(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),i=0;i<n.length;i++){var r=n[i];e.add(r.clone())}return e},e}(r["a"]);e["a"]=a},f8cd:function(t,e,n){var i=n("5926"),r=RangeError;t.exports=function(t){var e=i(t);if(e<0)throw r("The argument can't be less than 0");return e}},f8db:function(t,e,n){(function(e,n){t.exports=n()})(0,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return i.AnnotationLayerBuilder}}),Object.defineProperty(e,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return i.DefaultAnnotationLayerFactory}}),Object.defineProperty(e,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return r.DefaultTextLayerFactory}}),Object.defineProperty(e,"TextLayerBuilder",{enumerable:!0,get:function(){return r.TextLayerBuilder}}),Object.defineProperty(e,"EventBus",{enumerable:!0,get:function(){return a.EventBus}}),Object.defineProperty(e,"NullL10n",{enumerable:!0,get:function(){return a.NullL10n}}),Object.defineProperty(e,"ProgressBar",{enumerable:!0,get:function(){return a.ProgressBar}}),Object.defineProperty(e,"PDFLinkService",{enumerable:!0,get:function(){return o.PDFLinkService}}),Object.defineProperty(e,"SimpleLinkService",{enumerable:!0,get:function(){return o.SimpleLinkService}}),Object.defineProperty(e,"DownloadManager",{enumerable:!0,get:function(){return s.DownloadManager}}),Object.defineProperty(e,"GenericL10n",{enumerable:!0,get:function(){return l.GenericL10n}}),Object.defineProperty(e,"PDFFindController",{enumerable:!0,get:function(){return c.PDFFindController}}),Object.defineProperty(e,"PDFHistory",{enumerable:!0,get:function(){return u.PDFHistory}}),Object.defineProperty(e,"PDFPageView",{enumerable:!0,get:function(){return h.PDFPageView}}),Object.defineProperty(e,"PDFSinglePageViewer",{enumerable:!0,get:function(){return d.PDFSinglePageViewer}}),Object.defineProperty(e,"PDFViewer",{enumerable:!0,get:function(){return p.PDFViewer}});var i=n(1),r=n(8),a=n(3),o=n(7),s=n(9),l=n(11),c=n(13),u=n(15),h=n(16),d=n(18),p=n(20)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultAnnotationLayerFactory=e.AnnotationLayerBuilder=void 0;var i=n(2),r=n(3),a=n(7);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}var c=function(){function t(e){var n=e.pageDiv,i=e.pdfPage,a=e.linkService,s=e.downloadManager,l=e.annotationStorage,c=void 0===l?null:l,u=e.imageResourcesPath,h=void 0===u?"":u,d=e.renderInteractiveForms,p=void 0===d||d,f=e.l10n,g=void 0===f?r.NullL10n:f;o(this,t),this.pageDiv=n,this.pdfPage=i,this.linkService=a,this.downloadManager=s,this.imageResourcesPath=h,this.renderInteractiveForms=p,this.l10n=g,this.annotationStorage=c,this.div=null,this._cancelled=!1}return l(t,[{key:"render",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display";return this.pdfPage.getAnnotations({intent:n}).then((function(n){if(!e._cancelled&&0!==n.length){var r={viewport:t.clone({dontFlip:!0}),div:e.div,annotations:n,page:e.pdfPage,imageResourcesPath:e.imageResourcesPath,renderInteractiveForms:e.renderInteractiveForms,linkService:e.linkService,downloadManager:e.downloadManager,annotationStorage:e.annotationStorage};e.div?i.AnnotationLayer.update(r):(e.div=document.createElement("div"),e.div.className="annotationLayer",e.pageDiv.appendChild(e.div),r.div=e.div,i.AnnotationLayer.render(r),e.l10n.translate(e.div))}}))}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&this.div.setAttribute("hidden","true")}}]),t}();e.AnnotationLayerBuilder=c;var u=function(){function t(){o(this,t)}return l(t,[{key:"createAnnotationLayerBuilder",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:r.NullL10n;return new c({pageDiv:t,pdfPage:e,imageResourcesPath:i,renderInteractiveForms:o,linkService:new a.SimpleLinkService,l10n:s,annotationStorage:n})}}]),t}();e.DefaultAnnotationLayerFactory=u},function(t,e,i){"use strict";var r;r="undefined"!==typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:n("4383"),t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isValidRotation=Z,e.isValidScrollMode=Q,e.isValidSpreadMode=J,e.isPortraitOrientation=K,e.clamp=it,e.getPDFFileNameFromURL=Y,e.noContextMenuHandler=H,e.parseQueryString=F,e.backtrackBeforeAllVisibleElements=z,e.getVisibleElements=U,e.roundToDivide=V,e.getPageSizeInches=G,e.approximateFraction=B,e.getOutputScale=P,e.scrollIntoView=R,e.watchScroll=D,e.binarySearchFirstItem=N,e.normalizeWheelEventDirection=X,e.normalizeWheelEventDelta=q,e.waitOnEventOrTimeout=tt,e.moveToEndOfArray=at,e.WaitOnType=e.animationStarted=e.ProgressBar=e.EventBus=e.NullL10n=e.SpreadMode=e.ScrollMode=e.TextLayerMode=e.RendererType=e.PresentationModeState=e.VERTICAL_PADDING=e.SCROLLBAR_PADDING=e.MAX_AUTO_SCALE=e.UNKNOWN_SCALE=e.MAX_SCALE=e.MIN_SCALE=e.DEFAULT_SCALE=e.DEFAULT_SCALE_VALUE=e.CSS_UNITS=e.AutoPrintRegExp=void 0;var i=r(n(4));function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function l(t){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e){return f(t)||p(t,e)||h(t,e)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(t,e){if(t){if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function p(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){r=!0,a=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(r)throw a}}return n}}function f(t){if(Array.isArray(t))return t}function g(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(i,r)}function m(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(t){g(a,i,r,o,s,"next",t)}function s(t){g(a,i,r,o,s,"throw",t)}o(void 0)}))}}var v=96/72;e.CSS_UNITS=v;var y="auto";e.DEFAULT_SCALE_VALUE=y;var b=1;e.DEFAULT_SCALE=b;var x=.1;e.MIN_SCALE=x;var _=10;e.MAX_SCALE=_;var w=0;e.UNKNOWN_SCALE=w;var S=1.25;e.MAX_AUTO_SCALE=S;var O=40;e.SCROLLBAR_PADDING=O;var C=5;e.VERTICAL_PADDING=C;var A={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};e.PresentationModeState=A;var M={CANVAS:"canvas",SVG:"svg"};e.RendererType=M;var T={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};e.TextLayerMode=T;var k={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};e.ScrollMode=k;var L={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};e.SpreadMode=L;var j=/\bprint\s*\(/;function I(t,e){return e?t.replace(/\{\{\s*(\w+)\s*\}\}/g,(function(t,n){return n in e?e[n]:"{{"+n+"}}"})):t}e.AutoPrintRegExp=j;var E={getLanguage:function(){return m(i["default"].mark((function t(){return i["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return","en-us");case 1:case"end":return t.stop()}}),t)})))()},getDirection:function(){return m(i["default"].mark((function t(){return i["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return","ltr");case 1:case"end":return t.stop()}}),t)})))()},get:function(t,e,n){return m(i["default"].mark((function t(){return i["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",I(n,e));case 1:case"end":return t.stop()}}),t)})))()},translate:function(t){return m(i["default"].mark((function t(){return i["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()}};function P(t){var e=window.devicePixelRatio||1,n=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,i=e/n;return{sx:i,sy:i,scaled:1!==i}}function R(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.offsetParent;if(i){var r=t.offsetTop+t.clientTop,a=t.offsetLeft+t.clientLeft;while(i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||n&&"hidden"===getComputedStyle(i).overflow)if(i.dataset._scaleY&&(r/=i.dataset._scaleY,a/=i.dataset._scaleX),r+=i.offsetTop,a+=i.offsetLeft,i=i.offsetParent,!i)return;e&&(void 0!==e.top&&(r+=e.top),void 0!==e.left&&(a+=e.left,i.scrollLeft=a)),i.scrollTop=r}}function D(t,e){var n=function(n){r||(r=window.requestAnimationFrame((function(){r=null;var n=t.scrollLeft,a=i.lastX;n!==a&&(i.right=n>a),i.lastX=n;var o=t.scrollTop,s=i.lastY;o!==s&&(i.down=o>s),i.lastY=o,e(i)})))},i={right:!0,down:!0,lastX:t.scrollLeft,lastY:t.scrollTop,_eventHandler:n},r=null;return t.addEventListener("scroll",n,!0),i}function F(t){for(var e=t.split("&"),n=Object.create(null),i=0,r=e.length;i<r;++i){var a=e[i].split("="),o=a[0].toLowerCase(),s=a.length>1?a[1]:null;n[decodeURIComponent(o)]=decodeURIComponent(s)}return n}function N(t,e){var n=0,i=t.length-1;if(i<0||!e(t[i]))return t.length;if(e(t[n]))return n;while(n<i){var r=n+i>>1,a=t[r];e(a)?i=r:n=r+1}return n}function B(t){if(Math.floor(t)===t)return[t,1];var e=1/t,n=8;if(e>n)return[1,n];if(Math.floor(e)===e)return[1,e];var i,r=t>1?e:t,a=0,o=1,s=1,l=1;while(1){var c=a+s,u=o+l;if(u>n)break;r<=c/u?(s=c,l=u):(a=c,o=u)}return i=r-a/o<s/l-r?r===t?[a,o]:[o,a]:r===t?[s,l]:[l,s],i}function V(t,e){var n=t%e;return 0===n?t:Math.round(t-n+e)}function G(t){var e=t.view,n=t.userUnit,i=t.rotate,r=c(e,4),a=r[0],o=r[1],s=r[2],l=r[3],u=i%180!==0,h=(s-a)/72*n,d=(l-o)/72*n;return{width:u?d:h,height:u?h:d}}function z(t,e,n){if(t<2)return t;var i=e[t].div,r=i.offsetTop+i.clientTop;r>=n&&(i=e[t-1].div,r=i.offsetTop+i.clientTop);for(var a=t-2;a>=0;--a){if(i=e[a].div,i.offsetTop+i.clientTop+i.clientHeight<=r)break;t=a}return t}function U(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=t.scrollTop,a=r+t.clientHeight,o=t.scrollLeft,s=o+t.clientWidth;function l(t){var e=t.div,n=e.offsetTop+e.clientTop+e.clientHeight;return n>r}function c(t){var e=t.div,n=e.offsetLeft+e.clientLeft+e.clientWidth;return n>o}var u=[],h=e.length,d=0===h?0:N(e,i?c:l);d>0&&d<h&&!i&&(d=z(d,e,r));for(var p=i?s:-1,f=d;f<h;f++){var g=e[f],m=g.div,v=m.offsetLeft+m.clientLeft,y=m.offsetTop+m.clientTop,b=m.clientWidth,x=m.clientHeight,_=v+b,w=y+x;if(-1===p)w>=a&&(p=w);else if((i?v:y)>p)break;if(!(w<=r||y>=a||_<=o||v>=s)){var S=Math.max(0,r-y)+Math.max(0,w-a),O=Math.max(0,o-v)+Math.max(0,_-s),C=(x-S)*(b-O)*100/x/b|0;u.push({id:g.id,x:v,y:y,view:g,percent:C})}}var A=u[0],M=u[u.length-1];return n&&u.sort((function(t,e){var n=t.percent-e.percent;return Math.abs(n)>.001?-n:t.id-e.id})),{first:A,last:M,views:u}}function H(t){t.preventDefault()}function W(t){var e=0,n=t.length;while(e<n&&""===t[e].trim())e++;return"data:"===t.substring(e,e+5).toLowerCase()}function Y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof t)return e;if(W(t))return e;var n=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=n.exec(t),a=i.exec(r[1])||i.exec(r[2])||i.exec(r[3]);if(a&&(a=a[0],a.includes("%")))try{a=i.exec(decodeURIComponent(a))[0]}catch(o){}return a||e}function X(t){var e=Math.sqrt(t.deltaX*t.deltaX+t.deltaY*t.deltaY),n=Math.atan2(t.deltaY,t.deltaX);return-.25*Math.PI<n&&n<.75*Math.PI&&(e=-e),e}function q(t){var e=X(t),n=0,i=1,r=30,a=30;return t.deltaMode===n?e/=r*a:t.deltaMode===i&&(e/=a),e}function Z(t){return Number.isInteger(t)&&t%90===0}function Q(t){return Number.isInteger(t)&&Object.values(k).includes(t)&&t!==k.UNKNOWN}function J(t){return Number.isInteger(t)&&Object.values(L).includes(t)&&t!==L.UNKNOWN}function K(t){return t.width<=t.height}e.NullL10n=E;var $={EVENT:"event",TIMEOUT:"timeout"};function tt(t){var e=t.target,n=t.name,i=t.delay,r=void 0===i?0:i;return new Promise((function(t,i){if("object"!==l(e)||!n||"string"!==typeof n||!(Number.isInteger(r)&&r>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function a(i){e instanceof nt?e._off(n,o):e.removeEventListener(n,o),c&&clearTimeout(c),t(i)}var o=a.bind(null,$.EVENT);e instanceof nt?e._on(n,o):e.addEventListener(n,o);var s=a.bind(null,$.TIMEOUT),c=setTimeout(s,r)}))}e.WaitOnType=$;var et=new Promise((function(t){window.requestAnimationFrame(t)}));e.animationStarted=et;var nt=function(){function t(e){a(this,t),this._listeners=Object.create(null)}return s(t,[{key:"on",value:function(t,e){this._on(t,e,{external:!0})}},{key:"off",value:function(t,e){this._off(t,e,{external:!0})}},{key:"dispatch",value:function(t){var e=this._listeners[t];if(e&&0!==e.length){var n,i=Array.prototype.slice.call(arguments,1);e.slice(0).forEach((function(t){var e=t.listener,r=t.external;if(r)return n||(n=[]),void n.push(e);e.apply(null,i)})),n&&(n.forEach((function(t){t.apply(null,i)})),n=null)}}},{key:"_on",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this._listeners[t];i||(this._listeners[t]=i=[]),i.push({listener:e,external:!0===(n&&n.external)})}},{key:"_off",value:function(t,e){var n=this._listeners[t];if(n)for(var i=0,r=n.length;i<r;i++)if(n[i].listener===e)return void n.splice(i,1)}}]),t}();function it(t,e,n){return Math.min(Math.max(t,e),n)}e.EventBus=nt;var rt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.height,r=n.width,o=n.units;a(this,t),this.visible=!0,this.div=document.querySelector(e+" .progress"),this.bar=this.div.parentNode,this.height=i||100,this.width=r||100,this.units=o||"%",this.div.style.height=this.height+this.units,this.percent=0}return s(t,[{key:"_updateBar",value:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate");var t=this.width*this._percent/100;this.div.style.width=t+this.units}},{key:"setWidth",value:function(t){if(t){var e=t.parentNode,n=e.offsetWidth-t.offsetWidth;n>0&&(this.bar.style.width="calc(100% - ".concat(n,"px)"))}}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},{key:"percent",get:function(){return this._percent},set:function(t){this._indeterminate=isNaN(t),this._percent=it(t,0,100),this._updateBar()}}]),t}();function at(t,e){for(var n=[],i=t.length,r=0,a=0;a<i;++a)e(t[a])?n.push(t[a]):(t[r]=t[a],++r);for(var o=0;r<i;++o,++r)t[r]=n[o]}e.ProgressBar=rt},function(t,e,n){"use strict";t.exports=n(5)},function(t,e,n){"use strict";(function(t){function e(t){return e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}var n=function(t){var n,i=Object.prototype,r=i.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(E){c=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var r=e&&e.prototype instanceof v?e:v,a=Object.create(r.prototype),o=new L(i||[]);return a._invoke=A(t,n,o),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(E){return{type:"throw",arg:E}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",g="completed",m={};function v(){}function y(){}function b(){}var x={};x[o]=function(){return this};var _=Object.getPrototypeOf,w=_&&_(_(j([])));w&&w!==i&&r.call(w,o)&&(x=w);var S=b.prototype=v.prototype=Object.create(x);function O(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,n){function i(a,o,s,l){var c=h(t[a],t,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"===e(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(t){i("next",t,s,l)}),(function(t){i("throw",t,s,l)})):n.resolve(d).then((function(t){u.value=t,s(u)}),(function(t){return i("throw",t,s,l)}))}l(c.arg)}var a;function o(t,e){function r(){return new n((function(n,r){i(t,e,n,r)}))}return a=a?a.then(r,r):r()}this._invoke=o}function A(t,e,n){var i=d;return function(r,a){if(i===f)throw new Error("Generator is already running");if(i===g){if("throw"===r)throw a;return I()}n.method=r,n.arg=a;while(1){var o=n.delegate;if(o){var s=M(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var l=h(t,e,n);if("normal"===l.type){if(i=n.done?g:p,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=g,n.method="throw",n.arg=l.arg)}}}function M(t,e){var i=t.iterator[e.method];if(i===n){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=n,M(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=h(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,m;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,m):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function e(){while(++i<t.length)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=n,e.done=!0,e};return a.next=a}}return{next:I}}function I(){return{value:n,done:!0}}return y.prototype=S.constructor=b,b.constructor=y,y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},O(C.prototype),C.prototype[s]=function(){return this},t.AsyncIterator=C,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new C(u(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},O(S),c(S,l,"Generator"),S[o]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=j,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,r){return s.type="throw",s.arg=t,e.next=i,r&&(e.method="next",e.arg=n),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:j(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=n),m}},t}("object"===e(t)?t.exports:{});try{regeneratorRuntime=n}catch(i){Function("r","regeneratorRuntime = r")(n)}}).call(this,n(6)(t))},function(t,e,n){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleLinkService=e.PDFLinkService=void 0;var i=n(3);function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}var l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.eventBus,i=e.externalLinkTarget,r=void 0===i?null:i,o=e.externalLinkRel,s=void 0===o?null:o,l=e.externalLinkEnabled,c=void 0===l||l,u=e.ignoreDestinationZoom,h=void 0!==u&&u;a(this,t),this.eventBus=n,this.externalLinkTarget=r,this.externalLinkRel=s,this.externalLinkEnabled=c,this._ignoreDestinationZoom=h,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}return s(t,[{key:"setDocument",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.baseUrl=e,this.pdfDocument=t,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(t){this.pdfViewer=t}},{key:"setHistory",value:function(t){this.pdfHistory=t}},{key:"navigateTo",value:function(t){var e=this,n=function t(n){var i,r=n.namedDest,a=n.explicitDest,o=a[0];if(o instanceof Object){if(i=e._cachedPageNumber(o),null===i)return void e.pdfDocument.getPageIndex(o).then((function(n){e.cachePageRef(n+1,o),t({namedDest:r,explicitDest:a})}))["catch"]((function(){}))}else{if(!Number.isInteger(o))return;i=o+1}!i||i<1||i>e.pagesCount||(e.pdfHistory&&(e.pdfHistory.pushCurrentPosition(),e.pdfHistory.push({namedDest:r,explicitDest:a,pageNumber:i})),e.pdfViewer.scrollPageIntoView({pageNumber:i,destArray:a,ignoreDestinationZoom:e._ignoreDestinationZoom}))};new Promise((function(n,i){"string"!==typeof t?n({namedDest:"",explicitDest:t}):e.pdfDocument.getDestination(t).then((function(e){n({namedDest:t,explicitDest:e})}))})).then((function(t){Array.isArray(t.explicitDest)&&n(t)}))}},{key:"getDestinationHash",value:function(t){if("string"===typeof t)return this.getAnchorUrl("#"+escape(t));if(Array.isArray(t)){var e=JSON.stringify(t);return this.getAnchorUrl("#"+escape(e))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(t){return(this.baseUrl||"")+t}},{key:"setHash",value:function(t){var e,n;if(t.includes("=")){var r=(0,i.parseQueryString)(t);if("search"in r&&this.eventBus.dispatch("findfromurlhash",{source:this,query:r.search.replace(/"/g,""),phraseSearch:"true"===r.phrase}),"page"in r&&(e=0|r.page||1),"zoom"in r){var a=r.zoom.split(","),o=a[0],s=parseFloat(o);o.includes("Fit")?"Fit"===o||"FitB"===o?n=[null,{name:o}]:"FitH"===o||"FitBH"===o||"FitV"===o||"FitBV"===o?n=[null,{name:o},a.length>1?0|a[1]:null]:"FitR"===o&&(5!==a.length||(n=[null,{name:o},0|a[1],0|a[2],0|a[3],0|a[4]])):n=[null,{name:"XYZ"},a.length>1?0|a[1]:null,a.length>2?0|a[2]:null,s?s/100:o]}n?this.pdfViewer.scrollPageIntoView({pageNumber:e||this.page,destArray:n,allowNegativeOffset:!0}):e&&(this.page=e),"pagemode"in r&&this.eventBus.dispatch("pagemode",{source:this,mode:r.pagemode}),"nameddest"in r&&this.navigateTo(r.nameddest)}else{n=unescape(t);try{n=JSON.parse(n),Array.isArray(n)||(n=n.toString())}catch(l){}if("string"===typeof n||c(n))return void this.navigateTo(n)}}},{key:"executeNamedAction",value:function(t){switch(t){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.page<this.pagesCount&&this.page++;break;case"PrevPage":this.page>1&&this.page--;break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break;default:break}this.eventBus.dispatch("namedaction",{source:this,action:t})}},{key:"cachePageRef",value:function(t,e){if(e){var n=0===e.gen?"".concat(e.num,"R"):"".concat(e.num,"R").concat(e.gen);this._pagesRefCache[n]=t}}},{key:"_cachedPageNumber",value:function(t){var e=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen);return this._pagesRefCache&&this._pagesRefCache[e]||null}},{key:"isPageVisible",value:function(t){return this.pdfViewer.isPageVisible(t)}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(t){this.pdfViewer.currentPageNumber=t}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(t){this.pdfViewer.pagesRotation=t}}]),t}();function c(t){if(!Array.isArray(t))return!1;var e=t.length;if(e<2)return!1;var n=t[0];if(("object"!==r(n)||!Number.isInteger(n.num)||!Number.isInteger(n.gen))&&!(Number.isInteger(n)&&n>=0))return!1;var i=t[1];if("object"!==r(i)||"string"!==typeof i.name)return!1;var a=!0;switch(i.name){case"XYZ":if(5!==e)return!1;break;case"Fit":case"FitB":return 2===e;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==e)return!1;break;case"FitR":if(6!==e)return!1;a=!1;break;default:return!1}for(var o=2;o<e;o++){var s=t[o];if(!("number"===typeof s||a&&null===s))return!1}return!0}e.PDFLinkService=l;var u=function(){function t(){a(this,t),this.externalLinkTarget=null,this.externalLinkRel=null,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=!1}return s(t,[{key:"navigateTo",value:function(t){}},{key:"getDestinationHash",value:function(t){return"#"}},{key:"getAnchorUrl",value:function(t){return"#"}},{key:"setHash",value:function(t){}},{key:"executeNamedAction",value:function(t){}},{key:"cachePageRef",value:function(t,e){}},{key:"isPageVisible",value:function(t){return!0}},{key:"pagesCount",get:function(){return 0}},{key:"page",get:function(){return 0},set:function(t){}},{key:"rotation",get:function(){return 0},set:function(t){}}]),t}();e.SimpleLinkService=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultTextLayerFactory=e.TextLayerBuilder=void 0;var i=n(2);function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}var s=300,l=function(){function t(e){var n=e.textLayerDiv,i=e.eventBus,a=e.pageIndex,o=e.viewport,s=e.findController,l=void 0===s?null:s,c=e.enhanceTextSelection,u=void 0!==c&&c;r(this,t),this.textLayerDiv=n,this.eventBus=i,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=a,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=o,this.textDivs=[],this.findController=l,this.textLayerRenderTask=null,this.enhanceTextSelection=u,this._onUpdateTextLayerMatches=null,this._bindMouse()}return o(t,[{key:"_finishRendering",value:function(){if(this.renderingDone=!0,!this.enhanceTextSelection){var t=document.createElement("div");t.className="endOfContent",this.textLayerDiv.appendChild(t)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel(),this.textDivs=[];var n=document.createDocumentFragment();this.textLayerRenderTask=(0,i.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:n,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:e,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then((function(){t.textLayerDiv.appendChild(n),t._finishRendering(),t._updateMatches()}),(function(t){})),this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=function(e){e.pageIndex!==t.pageIdx&&-1!==e.pageIndex||t._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches))}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null)}},{key:"setTextContentStream",value:function(t){this.cancel(),this.textContentStream=t}},{key:"setTextContent",value:function(t){this.cancel(),this.textContent=t}},{key:"_convertMatches",value:function(t,e){if(!t)return[];for(var n=this.findController,i=this.textContentItemsStr,r=0,a=0,o=i.length-1,s=n.state.query.length,l=[],c=0,u=t.length;c<u;c++){var h=t[c];while(r!==o&&h>=a+i[r].length)a+=i[r].length,r++;i.length;var d={begin:{divIdx:r,offset:h-a}};h+=e?e[c]:s;while(r!==o&&h>a+i[r].length)a+=i[r].length,r++;d.end={divIdx:r,offset:h-a},l.push(d)}return l}},{key:"_renderMatches",value:function(t){if(0!==t.length){var e=this.findController,n=this.pageIdx,i=this.textContentItemsStr,r=this.textDivs,a=n===e.selected.pageIdx,o=e.selected.matchIdx,s=e.state.highlightAll,l=null,c={divIdx:-1,offset:void 0},u=o,h=u+1;if(s)u=0,h=t.length;else if(!a)return;for(var d=u;d<h;d++){var p=t[d],f=p.begin,g=p.end,m=a&&d===o,v=m?" selected":"";if(m&&e.scrollMatchIntoView({element:r[f.divIdx],pageIndex:n,matchIndex:o}),l&&f.divIdx===l.divIdx?_(l.divIdx,l.offset,f.offset):(null!==l&&_(l.divIdx,l.offset,c.offset),x(f)),f.divIdx===g.divIdx)_(f.divIdx,f.offset,g.offset,"highlight"+v);else{_(f.divIdx,f.offset,c.offset,"highlight begin"+v);for(var y=f.divIdx+1,b=g.divIdx;y<b;y++)r[y].className="highlight middle"+v;x(g,"highlight end"+v)}l=g}l&&_(l.divIdx,l.offset,c.offset)}function x(t,e){var n=t.divIdx;r[n].textContent="",_(n,0,t.offset,e)}function _(t,e,n,a){var o=r[t],s=i[t].substring(e,n),l=document.createTextNode(s);if(a){var c=document.createElement("span");return c.className=a,c.appendChild(l),void o.appendChild(c)}o.appendChild(l)}}},{key:"_updateMatches",value:function(){if(this.renderingDone){for(var t=this.findController,e=this.matches,n=this.pageIdx,i=this.textContentItemsStr,r=this.textDivs,a=-1,o=0,s=e.length;o<s;o++){for(var l=e[o],c=Math.max(a,l.begin.divIdx),u=c,h=l.end.divIdx;u<=h;u++){var d=r[u];d.textContent=i[u],d.className=""}a=l.end.divIdx+1}if(t&&t.highlightMatches){var p=t.pageMatches[n]||null,f=t.pageMatchesLength[n]||null;this.matches=this._convertMatches(p,f),this._renderMatches(this.matches)}}}},{key:"_bindMouse",value:function(){var t=this,e=this.textLayerDiv,n=null;e.addEventListener("mousedown",(function(i){if(t.enhanceTextSelection&&t.textLayerRenderTask)return t.textLayerRenderTask.expandTextDivs(!0),void(n&&(clearTimeout(n),n=null));var r=e.querySelector(".endOfContent");if(r){var a=i.target!==e;if(a=a&&"none"!==window.getComputedStyle(r).getPropertyValue("-moz-user-select"),a){var o=e.getBoundingClientRect(),s=Math.max(0,(i.pageY-o.top)/o.height);r.style.top=(100*s).toFixed(2)+"%"}r.classList.add("active")}})),e.addEventListener("mouseup",(function(){if(t.enhanceTextSelection&&t.textLayerRenderTask)n=setTimeout((function(){t.textLayerRenderTask&&t.textLayerRenderTask.expandTextDivs(!1),n=null}),s);else{var i=e.querySelector(".endOfContent");i&&(i.style.top="",i.classList.remove("active"))}}))}}]),t}();e.TextLayerBuilder=l;var c=function(){function t(){r(this,t)}return o(t,[{key:"createTextLayerBuilder",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4?arguments[4]:void 0;return new l({textLayerDiv:t,pageIndex:e,viewport:n,enhanceTextSelection:i,eventBus:r})}}]),t}();e.DefaultTextLayerFactory=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DownloadManager=void 0;var i=n(2),r=n(10);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function l(t,e){var n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=t,n.target="_parent","download"in n&&(n.download=e),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}var c=function(){function t(){a(this,t)}return s(t,[{key:"downloadUrl",value:function(t,e){(0,i.createValidAbsoluteUrl)(t,"http://example.com")&&l(t+"#pdfjs.action=download",e)}},{key:"downloadData",value:function(t,e,n){if(navigator.msSaveBlob)navigator.msSaveBlob(new Blob([t],{type:n}),e);else{var a=(0,i.createObjectURL)(t,n,r.viewerCompatibilityParams.disableCreateObjectURL);l(a,e)}}},{key:"download",value:function(t,e,n){if(navigator.msSaveBlob)navigator.msSaveBlob(t,n)||this.downloadUrl(e,n);else if(r.viewerCompatibilityParams.disableCreateObjectURL)this.downloadUrl(e,n);else{var i=URL.createObjectURL(t);l(i,n)}}}]),t}();e.DownloadManager=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.viewerCompatibilityParams=void 0;var i=Object.create(null),r="undefined"!==typeof navigator&&navigator.userAgent||"",a="undefined"!==typeof navigator&&navigator.platform||"",o="undefined"!==typeof navigator&&navigator.maxTouchPoints||1,s=/Android/.test(r),l=/Trident/.test(r),c=/\b(iPad|iPhone|iPod)(?=;)/.test(r)||"MacIntel"===a&&o>1,u=/CriOS/.test(r);(function(){(l||u)&&(i.disableCreateObjectURL=!0)})(),function(){(c||s)&&(i.maxCanvasPixels=5242880)}();var h=Object.freeze(i);e.viewerCompatibilityParams=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GenericL10n=void 0;var i=r(n(4));function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(i,r)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function s(t){a(o,i,r,s,l,"next",t)}function l(t){a(o,i,r,s,l,"throw",t)}s(void 0)}))}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}n(12);var u=document.webL10n,h=function(){function t(e){s(this,t),this._lang=e,this._ready=new Promise((function(t,n){u.setLanguage(e,(function(){t(u)}))}))}return c(t,[{key:"getLanguage",value:function(){var t=o(i["default"].mark((function t(){var e;return i["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._ready;case 2:return e=t.sent,t.abrupt("return",e.getLanguage());case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getDirection",value:function(){var t=o(i["default"].mark((function t(){var e;return i["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._ready;case 2:return e=t.sent,t.abrupt("return",e.getDirection());case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"get",value:function(){var t=o(i["default"].mark((function t(e,n,r){var a;return i["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._ready;case 2:return a=t.sent,t.abrupt("return",a.get(e,n,r));case 4:case"end":return t.stop()}}),t,this)})));function e(e,n,i){return t.apply(this,arguments)}return e}()},{key:"translate",value:function(){var t=o(i["default"].mark((function t(e){var n;return i["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this._ready;case 2:return n=t.sent,t.abrupt("return",n.translate(e));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}();e.GenericL10n=h},function(t,e,n){"use strict";document.webL10n=function(t,e,n){var i={},r="",a="textContent",o="",s={},l="loading",c=!0;function u(){return e.querySelectorAll('link[type="application/l10n"]')}function h(){var t=e.querySelector('script[type="application/l10n"]');return t?JSON.parse(t.innerHTML):null}function d(t){return t?t.querySelectorAll("*[data-l10n-id]"):[]}function p(t){if(!t)return{};var e=t.getAttribute("data-l10n-id"),n=t.getAttribute("data-l10n-args"),i={};if(n)try{i=JSON.parse(n)}catch(r){}return{id:e,args:i}}function f(t,e,n){e=e||function(t){},n=n||function(){};var i=new XMLHttpRequest;i.open("GET",t,c),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=utf-8"),i.onreadystatechange=function(){4==i.readyState&&(200==i.status||0===i.status?e(i.responseText):n())},i.onerror=n,i.ontimeout=n;try{i.send(null)}catch(r){n()}}function g(t,e,n,o){var s=t.replace(/[^\/]*$/,"")||"./";function l(t){return t.lastIndexOf("\\")<0?t:t.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function c(t,n){var i={},r=/^\s*|\s*$/,a=/^\s*#|^\s*$/,o=/^\s*\[(.*)\]\s*$/,c=/^\s*@import\s+url\((.*)\)\s*$/i,u=/^([^=\s]*)\s*=\s*(.+)$/;function h(t,n,h){var p=t.replace(r,"").split(/[\r\n]+/),f="*",g=e.split("-",1)[0],m=!1,v="";function y(){while(1){if(!p.length)return void h();var t=p.shift();if(!a.test(t)){if(n){if(v=o.exec(t),v){f=v[1].toLowerCase(),m="*"!==f&&f!==e&&f!==g;continue}if(m)continue;if(v=c.exec(t),v)return void d(s+v[1],y)}var r=t.match(u);r&&3==r.length&&(i[r[1]]=l(r[2]))}}}y()}function d(t,e){f(t,(function(t){h(t,!1,e)}),(function(){e()}))}h(t,!0,(function(){n(i)}))}f(t,(function(t){r+=t,c(t,(function(t){for(var e in t){var r,o,s=e.lastIndexOf(".");s>0?(r=e.substring(0,s),o=e.substring(s+1)):(r=e,o=a),i[r]||(i[r]={}),i[r][o]=t[e]}n&&n()}))}),o)}function m(t,e){t&&(t=t.toLowerCase()),e=e||function(){},v(),o=t;var n=u(),r=n.length;if(0!==r){var a=null,s=0;a=function(){s++,s>=r&&(e(),l="complete")};for(var c=0;c<r;c++){var d=new y(n[c]);d.load(t,a)}}else{var p=h();if(p&&p.locales&&p.default_locale){if(i=p.locales[t],!i){var f=p.default_locale.toLowerCase();for(var m in p.locales){if(m=m.toLowerCase(),m===t){i=p.locales[t];break}m===f&&(i=p.locales[f])}}e()}l="complete"}function y(t){var e=t.href;this.load=function(t,n){g(e,t,n,(function(){o="",n()}))}}}function v(){i={},r="",o=""}function y(t){var e={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function n(t,e){return-1!==e.indexOf(t)}function i(t,e,n){return e<=t&&t<=n}var r={0:function(t){return"other"},1:function(t){return i(t%100,3,10)?"few":0===t?"zero":i(t%100,11,99)?"many":2==t?"two":1==t?"one":"other"},2:function(t){return 0!==t&&t%10===0?"many":2==t?"two":1==t?"one":"other"},3:function(t){return 1==t?"one":"other"},4:function(t){return i(t,0,1)?"one":"other"},5:function(t){return i(t,0,2)&&2!=t?"one":"other"},6:function(t){return 0===t?"zero":t%10==1&&t%100!=11?"one":"other"},7:function(t){return 2==t?"two":1==t?"one":"other"},8:function(t){return i(t,3,6)?"few":i(t,7,10)?"many":2==t?"two":1==t?"one":"other"},9:function(t){return 0===t||1!=t&&i(t%100,1,19)?"few":1==t?"one":"other"},10:function(t){return i(t%10,2,9)&&!i(t%100,11,19)?"few":t%10!=1||i(t%100,11,19)?"other":"one"},11:function(t){return i(t%10,2,4)&&!i(t%100,12,14)?"few":t%10===0||i(t%10,5,9)||i(t%100,11,14)?"many":t%10==1&&t%100!=11?"one":"other"},12:function(t){return i(t,2,4)?"few":1==t?"one":"other"},13:function(t){return i(t%10,2,4)&&!i(t%100,12,14)?"few":1!=t&&i(t%10,0,1)||i(t%10,5,9)||i(t%100,12,14)?"many":1==t?"one":"other"},14:function(t){return i(t%100,3,4)?"few":t%100==2?"two":t%100==1?"one":"other"},15:function(t){return 0===t||i(t%100,2,10)?"few":i(t%100,11,19)?"many":1==t?"one":"other"},16:function(t){return t%10==1&&11!=t?"one":"other"},17:function(t){return 3==t?"few":0===t?"zero":6==t?"many":2==t?"two":1==t?"one":"other"},18:function(t){return 0===t?"zero":i(t,0,2)&&0!==t&&2!=t?"one":"other"},19:function(t){return i(t,2,10)?"few":i(t,0,1)?"one":"other"},20:function(t){return!i(t%10,3,4)&&t%10!=9||i(t%100,10,19)||i(t%100,70,79)||i(t%100,90,99)?t%1e6===0&&0!==t?"many":t%10!=2||n(t%100,[12,72,92])?t%10!=1||n(t%100,[11,71,91])?"other":"one":"two":"few"},21:function(t){return 0===t?"zero":1==t?"one":"other"},22:function(t){return i(t,0,1)||i(t,11,99)?"one":"other"},23:function(t){return i(t%10,1,2)||t%20===0?"one":"other"},24:function(t){return i(t,3,10)||i(t,13,19)?"few":n(t,[2,12])?"two":n(t,[1,11])?"one":"other"}},a=e[t.replace(/-.*$/,"")];return a in r?r[a]:function(){return"other"}}function b(t,e,n){var r=i[t];if(!r){if(!n)return null;r=n}var a={};for(var o in r){var s=r[o];s=x(s,e,t,o),s=_(s,e,t),a[o]=s}return a}function x(t,e,n,r){var a=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,o=a.exec(t);if(!o||!o.length)return t;var l,c=o[1],u=o[2];if(e&&u in e?l=e[u]:u in i&&(l=i[u]),c in s){var h=s[c];t=h(t,l,n,r)}return t}function _(t,e,n){var r=/\{\{\s*(.+?)\s*\}\}/g;return t.replace(r,(function(t,n){return e&&n in e?e[n]:n in i?i[n]:t}))}function w(t){var n=p(t);if(n.id){var i=b(n.id,n.args);if(i){if(i[a]){if(0===S(t))t[a]=i[a];else{for(var r=t.childNodes,o=!1,s=0,l=r.length;s<l;s++)3===r[s].nodeType&&/\S/.test(r[s].nodeValue)&&(o?r[s].nodeValue="":(r[s].nodeValue=i[a],o=!0));if(!o){var c=e.createTextNode(i[a]);t.insertBefore(c,t.firstChild)}}delete i[a]}for(var u in i)t[u]=i[u]}}}function S(t){if(t.children)return t.children.length;if("undefined"!==typeof t.childElementCount)return t.childElementCount;for(var e=0,n=0;n<t.childNodes.length;n++)e+=1===t.nodeType?1:0;return e}function O(t){t=t||e.documentElement;for(var n=d(t),i=n.length,r=0;r<i;r++)w(n[r]);w(t)}return s.plural=function(t,e,n,r){var l=parseFloat(e);if(isNaN(l))return t;if(r!=a)return t;s._pluralRules||(s._pluralRules=y(o));var c="["+s._pluralRules(l)+"]";return 0===l&&n+"[zero]"in i?t=i[n+"[zero]"][r]:1==l&&n+"[one]"in i?t=i[n+"[one]"][r]:2==l&&n+"[two]"in i?t=i[n+"[two]"][r]:n+c in i?t=i[n+c][r]:n+"[other]"in i&&(t=i[n+"[other]"][r]),t},{get:function(t,e,n){var i,r=t.lastIndexOf("."),o=a;r>0&&(o=t.substring(r+1),t=t.substring(0,r)),n&&(i={},i[o]=n);var s=b(t,e,i);return s&&o in s?s[o]:"{{"+t+"}}"},getData:function(){return i},getText:function(){return r},getLanguage:function(){return o},setLanguage:function(t,e){m(t,(function(){e&&e()}))},getDirection:function(){var t=["ar","he","fa","ps","ur"],e=o.split("-",1)[0];return t.indexOf(e)>=0?"rtl":"ltr"},translate:O,getReadyState:function(){return l},ready:function(n){n&&("complete"==l||"interactive"==l?t.setTimeout((function(){n()})):e.addEventListener&&e.addEventListener("localized",(function t(){e.removeEventListener("localized",t),n()})))}}}(window,document)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFindController=e.FindState=void 0;var i=n(2),r=n(14),a=n(3);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}var c={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};e.FindState=c;var u=250,h=-50,d=-400,p={"‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"},f=null;function g(t){if(!f){var e=Object.keys(p).join("");f=new RegExp("[".concat(e,"]"),"g")}return t.replace(f,(function(t){return p[t]}))}var m=function(){function t(e){var n=e.linkService,i=e.eventBus;o(this,t),this._linkService=n,this._eventBus=i,this._reset(),i._on("findbarclose",this._onFindBarClose.bind(this))}return l(t,[{key:"setDocument",value:function(t){this._pdfDocument&&this._reset(),t&&(this._pdfDocument=t,this._firstPageCapability.resolve())}},{key:"executeCommand",value:function(t,e){var n=this;if(e){var i=this._pdfDocument;(null===this._state||this._shouldDirtyMatch(t,e))&&(this._dirtyMatch=!0),this._state=e,"findhighlightallchange"!==t&&this._updateUIState(c.PENDING),this._firstPageCapability.promise.then((function(){if(n._pdfDocument&&(!i||n._pdfDocument===i)){n._extractText();var e=!n._highlightMatches,r=!!n._findTimeout;n._findTimeout&&(clearTimeout(n._findTimeout),n._findTimeout=null),"find"===t?n._findTimeout=setTimeout((function(){n._nextMatch(),n._findTimeout=null}),u):n._dirtyMatch?n._nextMatch():"findagain"===t?(n._nextMatch(),e&&n._state.highlightAll&&n._updateAllPages()):"findhighlightallchange"===t?(r?n._nextMatch():n._highlightMatches=!0,n._updateAllPages()):n._nextMatch()}}))}}},{key:"scrollMatchIntoView",value:function(t){var e=t.element,n=void 0===e?null:e,i=t.pageIndex,r=void 0===i?-1:i,o=t.matchIndex,s=void 0===o?-1:o;if(this._scrollMatches&&n&&-1!==s&&s===this._selected.matchIdx&&-1!==r&&r===this._selected.pageIdx){this._scrollMatches=!1;var l={top:h,left:d};(0,a.scrollIntoView)(n,l,!0)}}},{key:"_reset",value:function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=Object.create(null),this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,i.createPromiseCapability)()}},{key:"_shouldDirtyMatch",value:function(t,e){if(e.query!==this._state.query)return!0;switch(t){case"findagain":var n=this._selected.pageIdx+1,i=this._linkService;return n>=1&&n<=i.pagesCount&&n!==i.page&&!i.isPageVisible(n);case"findhighlightallchange":return!1}return!0}},{key:"_prepareMatches",value:function(t,e,n){function i(e){var n=t[e],i=t[e+1];if(e<t.length-1&&n.match===i.match)return n.skipped=!0,!0;for(var r=e-1;r>=0;r--){var a=t[r];if(!a.skipped){if(a.match+a.matchLength<n.match)break;if(a.match+a.matchLength>=n.match+n.matchLength)return n.skipped=!0,!0}}return!1}t.sort((function(t,e){return t.match===e.match?t.matchLength-e.matchLength:t.match-e.match}));for(var r=0,a=t.length;r<a;r++)i(r)||(e.push(t[r].match),n.push(t[r].matchLength))}},{key:"_isEntireWord",value:function(t,e,n){if(e>0){var i=t.charCodeAt(e),a=t.charCodeAt(e-1);if((0,r.getCharacterType)(i)===(0,r.getCharacterType)(a))return!1}var o=e+n-1;if(o<t.length-1){var s=t.charCodeAt(o),l=t.charCodeAt(o+1);if((0,r.getCharacterType)(s)===(0,r.getCharacterType)(l))return!1}return!0}},{key:"_calculatePhraseMatch",value:function(t,e,n,i){var r=[],a=t.length,o=-a;while(1){if(o=n.indexOf(t,o+a),-1===o)break;i&&!this._isEntireWord(n,o,a)||r.push(o)}this._pageMatches[e]=r}},{key:"_calculateWordMatch",value:function(t,e,n,i){for(var r=[],a=t.match(/\S+/g),o=0,s=a.length;o<s;o++){var l=a[o],c=l.length,u=-c;while(1){if(u=n.indexOf(l,u+c),-1===u)break;i&&!this._isEntireWord(n,u,c)||r.push({match:u,matchLength:c,skipped:!1})}}this._pageMatchesLength[e]=[],this._pageMatches[e]=[],this._prepareMatches(r,this._pageMatches[e],this._pageMatchesLength[e])}},{key:"_calculateMatch",value:function(t){var e=this._pageContents[t],n=this._query,i=this._state,r=i.caseSensitive,a=i.entireWord,o=i.phraseSearch;if(0!==n.length){r||(e=e.toLowerCase(),n=n.toLowerCase()),o?this._calculatePhraseMatch(n,t,e,a):this._calculateWordMatch(n,t,e,a),this._state.highlightAll&&this._updatePage(t),this._resumePageIdx===t&&(this._resumePageIdx=null,this._nextPageMatch());var s=this._pageMatches[t].length;s>0&&(this._matchesCountTotal+=s,this._updateUIResultsCount())}}},{key:"_extractText",value:function(){var t=this;if(!(this._extractTextPromises.length>0))for(var e=Promise.resolve(),n=function(n,r){var a=(0,i.createPromiseCapability)();t._extractTextPromises[n]=a.promise,e=e.then((function(){return t._pdfDocument.getPage(n+1).then((function(t){return t.getTextContent({normalizeWhitespace:!0})})).then((function(e){for(var i=e.items,r=[],o=0,s=i.length;o<s;o++)r.push(i[o].str);t._pageContents[n]=g(r.join("")),a.resolve(n)}),(function(e){t._pageContents[n]="",a.resolve(n)}))}))},r=0,a=this._linkService.pagesCount;r<a;r++)n(r,a)}},{key:"_updatePage",value:function(t){this._scrollMatches&&this._selected.pageIdx===t&&(this._linkService.page=t+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:t})}},{key:"_updateAllPages",value:function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}},{key:"_nextMatch",value:function(){var t=this,e=this._state.findPrevious,n=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=n,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(var r=0;r<i;r++)!0!==this._pendingFindMatches[r]&&(this._pendingFindMatches[r]=!0,this._extractTextPromises[r].then((function(e){delete t._pendingFindMatches[e],t._calculateMatch(e)})))}if(""!==this._query){if(!this._resumePageIdx){var a=this._offset;if(this._pagesToSearch=i,null!==a.matchIdx){var o=this._pageMatches[a.pageIdx].length;if(!e&&a.matchIdx+1<o||e&&a.matchIdx>0)return a.matchIdx=e?a.matchIdx-1:a.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(e)}this._nextPageMatch()}}else this._updateUIState(c.FOUND)}},{key:"_matchesReady",value:function(t){var e=this._offset,n=t.length,i=this._state.findPrevious;return n?(e.matchIdx=i?n-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(i),!!(e.wrapped&&(e.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}},{key:"_nextPageMatch",value:function(){this._resumePageIdx;var t=null;do{var e=this._offset.pageIdx;if(t=this._pageMatches[e],!t){this._resumePageIdx=e;break}}while(!this._matchesReady(t))}},{key:"_advanceOffsetPage",value:function(t){var e=this._offset,n=this._linkService.pagesCount;e.pageIdx=t?e.pageIdx-1:e.pageIdx+1,e.matchIdx=null,this._pagesToSearch--,(e.pageIdx>=n||e.pageIdx<0)&&(e.pageIdx=t?n-1:0,e.wrapped=!0)}},{key:"_updateMatch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=c.NOT_FOUND,n=this._offset.wrapped;if(this._offset.wrapped=!1,t){var i=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,e=n?c.WRAPPED:c.FOUND,-1!==i&&i!==this._selected.pageIdx&&this._updatePage(i)}this._updateUIState(e,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}},{key:"_onFindBarClose",value:function(t){var e=this,n=this._pdfDocument;this._firstPageCapability.promise.then((function(){!e._pdfDocument||n&&e._pdfDocument!==n||(e._findTimeout&&(clearTimeout(e._findTimeout),e._findTimeout=null),e._resumePageIdx&&(e._resumePageIdx=null,e._dirtyMatch=!0),e._updateUIState(c.FOUND),e._highlightMatches=!1,e._updateAllPages())}))}},{key:"_requestMatchesCount",value:function(){var t=this._selected,e=t.pageIdx,n=t.matchIdx,i=0,r=this._matchesCountTotal;if(-1!==n){for(var a=0;a<e;a++)i+=this._pageMatches[a]&&this._pageMatches[a].length||0;i+=n+1}return(i<1||i>r)&&(i=r=0),{current:i,total:r}}},{key:"_updateUIResultsCount",value:function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function(t,e){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:t,previous:e,matchesCount:this._requestMatchesCount(),rawQuery:this._state?this._state.query:null})}},{key:"highlightMatches",get:function(){return this._highlightMatches}},{key:"pageMatches",get:function(){return this._pageMatches}},{key:"pageMatchesLength",get:function(){return this._pageMatchesLength}},{key:"selected",get:function(){return this._selected}},{key:"state",get:function(){return this._state}},{key:"_query",get:function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,this._normalizedQuery=g(this._state.query)),this._normalizedQuery}}]),t}();e.PDFFindController=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharacterType=f,e.CharacterType=void 0;var i={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function r(t){return t<11904}function a(t){return 0===(65408&t)}function o(t){return t>=97&&t<=122||t>=65&&t<=90}function s(t){return t>=48&&t<=57}function l(t){return 32===t||9===t||13===t||10===t}function c(t){return t>=13312&&t<=40959||t>=63744&&t<=64255}function u(t){return t>=12448&&t<=12543}function h(t){return t>=12352&&t<=12447}function d(t){return t>=65376&&t<=65439}function p(t){return 3584===(65408&t)}function f(t){return r(t)?a(t)?l(t)?i.SPACE:o(t)||s(t)||95===t?i.ALPHA_LETTER:i.PUNCT:p(t)?i.THAI_LETTER:160===t?i.SPACE:i.ALPHA_LETTER:c(t)?i.HAN_LETTER:u(t)?i.KATAKANA_LETTER:h(t)?i.HIRAGANA_LETTER:d(t)?i.HALFWIDTH_KATAKANA_LETTER:i.ALPHA_LETTER}e.CharacterType=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDestHashesEqual=b,e.isDestArraysEqual=x,e.PDFHistory=void 0;var i=n(3);function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function a(t,e){return u(t)||c(t,e)||s(t,e)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){if(t){if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function c(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(l){r=!0,a=l}finally{try{i||null==s["return"]||s["return"]()}finally{if(r)throw a}}return n}}function u(t){if(Array.isArray(t))return t}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}var f=1e3,g=50,m=1e3;function v(){return document.location.hash}var y=function(){function t(e){var n=this,i=e.linkService,r=e.eventBus;h(this,t),this.linkService=i,this.eventBus=r,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",(function(t){n._isViewerInPresentationMode=t.active||t.switchInProgress})),this.eventBus._on("pagesinit",(function(){n._isPagesLoaded=!1;var t=function t(e){n.eventBus._off("pagesloaded",t),n._isPagesLoaded=!!e.pagesCount};n.eventBus._on("pagesloaded",t)}))}return p(t,[{key:"initialize",value:function(t){var e=t.fingerprint,n=t.resetHistory,i=void 0!==n&&n,r=t.updateUrl,a=void 0!==r&&r;if(e&&"string"===typeof e){this._initialized&&this.reset();var o=""!==this._fingerprint&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=!0===a,this._initialized=!0,this._bindEvents();var s=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=v(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(s,!0)||i){var l=this._parseCurrentHash(!0),c=l.hash,u=l.page,h=l.rotation;return!c||o||i?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:c,page:u,rotation:h},!0)}var d=s.destination;this._updateInternalState(d,s.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),void 0!==d.rotation&&(this._initialRotation=d.rotation),d.dest?(this._initialBookmark=JSON.stringify(d.dest),this._destination.page=null):d.hash?this._initialBookmark=d.hash:d.page&&(this._initialBookmark="page=".concat(d.page))}}},{key:"reset",value:function(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}},{key:"push",value:function(t){var e=this,n=t.namedDest,i=void 0===n?null:n,r=t.explicitDest,a=t.pageNumber;if(this._initialized&&(!i||"string"===typeof i)&&Array.isArray(r)&&(Number.isInteger(a)&&a>0&&a<=this.linkService.pagesCount||null===a&&!this._destination)){var o=i||JSON.stringify(r);if(o){var s=!1;if(this._destination&&(b(this._destination.hash,o)||x(this._destination.dest,r))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(this._pushOrReplaceState({dest:r,hash:o,page:a,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then((function(){e._popStateInProgress=!1}))))}}}},{key:"pushCurrentPosition",value:function(){this._initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this._initialized&&!this._popStateInProgress){var t=window.history.state;this._isValidState(t)&&t.uid>0&&window.history.back()}}},{key:"forward",value:function(){if(this._initialized&&!this._popStateInProgress){var t=window.history.state;this._isValidState(t)&&t.uid<this._maxUid&&window.history.forward()}}},{key:"_pushOrReplaceState",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n||!this._destination,r={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:t};if(this._updateInternalState(t,r.uid),this._updateUrl&&t&&t.hash){var a=document.location.href.split("#")[0];a.startsWith("file://")||(e="".concat(a,"#").concat(t.hash))}i?window.history.replaceState(r,"",e):(this._maxUid=this._uid,window.history.pushState(r,"",e))}},{key:"_tryPushCurrentPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._position){var e=this._position;if(t&&(e=Object.assign(Object.create(null),this._position),e.temporary=!0),this._destination){if(this._destination.temporary)this._pushOrReplaceState(e,!0);else if(this._destination.hash!==e.hash&&(this._destination.page||!(g<=0||this._numPositionUpdates<=g))){var n=!1;if(this._destination.page>=e.first&&this._destination.page<=e.page){if(this._destination.dest||!this._destination.first)return;n=!0}this._pushOrReplaceState(e,n)}}else this._pushOrReplaceState(e)}}},{key:"_isValidState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return!1;if(t.fingerprint!==this._fingerprint){if(!e)return!1;if("string"!==typeof t.fingerprint||t.fingerprint.length!==this._fingerprint.length)return!1;var n=performance.getEntriesByType("navigation"),i=a(n,1),o=i[0];if(!o||"reload"!==o.type)return!1}return!(!Number.isInteger(t.uid)||t.uid<0)&&(null!==t.destination&&"object"===r(t.destination))}},{key:"_updateInternalState",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),n&&t&&t.temporary&&delete t.temporary,this._destination=t,this._uid=e,this._numPositionUpdates=0}},{key:"_parseCurrentHash",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=unescape(v()).substring(1),n=(0,i.parseQueryString)(e),r=n.nameddest||"",a=0|n.page;return Number.isInteger(a)&&a>0&&a<=this.linkService.pagesCount&&!(t&&r.length>0)||(a=null),{hash:e,page:a,rotation:this.linkService.rotation}}},{key:"_updateViewarea",value:function(t){var e=this,n=t.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?"page=".concat(n.pageNumber):n.pdfOpenParams.substring(1),page:this.linkService.page,first:n.pageNumber,rotation:n.rotation},this._popStateInProgress||(g>0&&this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,m>0&&(this._updateViewareaTimeout=setTimeout((function(){e._popStateInProgress||e._tryPushCurrentPosition(!0),e._updateViewareaTimeout=null}),m)))}},{key:"_popState",value:function(t){var e=this,n=t.state,r=v(),a=this._currentHash!==r;if(this._currentHash=r,n){if(this._isValidState(n)){this._popStateInProgress=!0,a&&(this._blockHashChange++,(0,i.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:f}).then((function(){e._blockHashChange--})));var o=n.destination;this._updateInternalState(o,n.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),(0,i.isValidRotation)(o.rotation)&&(this.linkService.rotation=o.rotation),o.dest?this.linkService.navigateTo(o.dest):o.hash?this.linkService.setHash(o.hash):o.page&&(this.linkService.page=o.page),Promise.resolve().then((function(){e._popStateInProgress=!1}))}}else{this._uid++;var s=this._parseCurrentHash(),l=s.hash,c=s.page,u=s.rotation;this._pushOrReplaceState({hash:l,page:c,rotation:u},!0)}}},{key:"_pageHide",value:function(){this._destination&&!this._destination.temporary||this._tryPushCurrentPosition()}},{key:"_bindEvents",value:function(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}},{key:"_unbindEvents",value:function(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}},{key:"popStateInProgress",get:function(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}},{key:"initialBookmark",get:function(){return this._initialized?this._initialBookmark:null}},{key:"initialRotation",get:function(){return this._initialized?this._initialRotation:null}}]),t}();function b(t,e){if("string"!==typeof t||"string"!==typeof e)return!1;if(t===e)return!0;var n=(0,i.parseQueryString)(t),r=n.nameddest;return r===e}function x(t,e){function n(t,e){if(r(t)!==r(e))return!1;if(Array.isArray(t)||Array.isArray(e))return!1;if(null!==t&&"object"===r(t)&&null!==e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var i in t)if(!n(t[i],e[i]))return!1;return!0}return t===e||Number.isNaN(t)&&Number.isNaN(e)}if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0,a=t.length;i<a;i++)if(!n(t[i],e[i]))return!1;return!0}e.PDFHistory=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFPageView=void 0;var i=l(n(4)),r=n(3),a=n(2),o=n(17),s=n(10);function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(i,r)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(t){c(a,i,r,o,s,"next",t)}function s(t){c(a,i,r,o,s,"throw",t)}o(void 0)}))}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}var f=s.viewerCompatibilityParams.maxCanvasPixels||16777216,g=function(){function t(e){h(this,t);var n=e.container,i=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||r.DEFAULT_SCALE,this.viewport=i,this.pdfPageRotate=i.rotation,this._annotationStorage=e.annotationStorage||null,this._optionalContentConfigPromise=e.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=Number.isInteger(e.textLayerMode)?e.textLayerMode:r.TextLayerMode.ENABLE,this.imageResourcesPath=e.imageResourcesPath||"",this.renderInteractiveForms="boolean"!==typeof e.renderInteractiveForms||e.renderInteractiveForms,this.useOnlyCssZoom=e.useOnlyCssZoom||!1,this.maxCanvasPixels=e.maxCanvasPixels||f,this.eventBus=e.eventBus,this.renderingQueue=e.renderingQueue,this.textLayerFactory=e.textLayerFactory,this.annotationLayerFactory=e.annotationLayerFactory,this.renderer=e.renderer||r.RendererType.CANVAS,this.enableWebGL=e.enableWebGL||!1,this.l10n=e.l10n||r.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=o.RenderingStates.INITIAL,this.resume=null,this.error=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null;var a=document.createElement("div");a.className="page",a.style.width=Math.floor(this.viewport.width)+"px",a.style.height=Math.floor(this.viewport.height)+"px",a.setAttribute("data-page-number",this.id),this.div=a,n.appendChild(a)}return p(t,[{key:"setPdfPage",value:function(t){this.pdfPage=t,this.pdfPageRotate=t.rotate;var e=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport({scale:this.scale*r.CSS_UNITS,rotation:e}),this.stats=t.stats,this.reset()}},{key:"destroy",value:function(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}},{key:"_renderAnnotationLayer",value:function(){var t=u(i["default"].mark((function t(){var e;return i["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=null,t.prev=1,t.next=4,this.annotationLayer.render(this.viewport,"display");case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),e=t.t0;case 9:return t.prev=9,this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:e}),t.finish(9);case 12:case"end":return t.stop()}}),t,this,[[1,6,9,12]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"_resetZoomLayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.zoomLayer){var e=this.zoomLayer.firstChild;this.paintedViewportMap["delete"](e),e.width=0,e.height=0,t&&this.zoomLayer.remove(),this.zoomLayer=null}}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.cancelRendering(e),this.renderingState=o.RenderingStates.INITIAL;var n=this.div;n.style.width=Math.floor(this.viewport.width)+"px",n.style.height=Math.floor(this.viewport.height)+"px";for(var i=n.childNodes,r=t&&this.zoomLayer||null,a=e&&this.annotationLayer&&this.annotationLayer.div||null,s=i.length-1;s>=0;s--){var l=i[s];r!==l&&a!==l&&n.removeChild(l)}n.removeAttribute("data-loaded"),a?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),r||(this.canvas&&(this.paintedViewportMap["delete"](this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap["delete"](this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",n.appendChild(this.loadingIconDiv)}},{key:"update",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.scale=t||this.scale,"undefined"!==typeof e&&(this.rotation=e),n instanceof Promise&&(this._optionalContentConfigPromise=n);var i=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*r.CSS_UNITS,rotation:i}),this.svg)return this.cssTransform(this.svg,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});var a=!1;if(this.canvas&&this.maxCanvasPixels>0){var o=this.outputScale;(Math.floor(this.viewport.width)*o.sx|0)*(Math.floor(this.viewport.height)*o.sy|0)>this.maxCanvasPixels&&(a=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&a)return this.cssTransform(this.canvas,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});this.zoomLayer||this.canvas.hasAttribute("hidden")||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0,!0)}},{key:"cancelRendering",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!t&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null)}},{key:"cssTransform",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.viewport.width,i=this.viewport.height,r=this.div;t.style.width=t.parentNode.style.width=r.style.width=Math.floor(n)+"px",t.style.height=t.parentNode.style.height=r.style.height=Math.floor(i)+"px";var a=this.viewport.rotation-this.paintedViewportMap.get(t).rotation,o=Math.abs(a),s=1,l=1;90!==o&&270!==o||(s=i/n,l=n/i);var c="rotate("+a+"deg) scale("+s+","+l+")";if(t.style.transform=c,this.textLayer){var u=this.textLayer.viewport,h=this.viewport.rotation-u.rotation,d=Math.abs(h),p=n/u.width;90!==d&&270!==d||(p=n/u.height);var f,g,m=this.textLayer.textLayerDiv;switch(d){case 0:f=g=0;break;case 90:f=0,g="-"+m.style.height;break;case 180:f="-"+m.style.width,g="-"+m.style.height;break;case 270:f="-"+m.style.width,g=0;break;default:break}m.style.transform="rotate("+d+"deg) scale("+p+", "+p+") translate("+f+", "+g+")",m.style.transformOrigin="0% 0%"}e&&this.annotationLayer&&this._renderAnnotationLayer()}},{key:"getPagePoint",value:function(t,e){return this.viewport.convertToPdfPoint(t,e)}},{key:"draw",value:function(){var t=this;this.renderingState!==o.RenderingStates.INITIAL&&this.reset();var e=this.div,n=this.pdfPage;if(!n)return this.renderingState=o.RenderingStates.FINISHED,this.loadingIconDiv&&(e.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=o.RenderingStates.RUNNING;var s=document.createElement("div");s.style.width=e.style.width,s.style.height=e.style.height,s.classList.add("canvasWrapper"),this.annotationLayer&&this.annotationLayer.div?e.insertBefore(s,this.annotationLayer.div):e.appendChild(s);var l=null;if(this.textLayerMode!==r.TextLayerMode.DISABLE&&this.textLayerFactory){var c=document.createElement("div");c.className="textLayer",c.style.width=s.style.width,c.style.height=s.style.height,this.annotationLayer&&this.annotationLayer.div?e.insertBefore(c,this.annotationLayer.div):e.appendChild(c),l=this.textLayerFactory.createTextLayerBuilder(c,this.id-1,this.viewport,this.textLayerMode===r.TextLayerMode.ENABLE_ENHANCE,this.eventBus)}this.textLayer=l;var h=null;this.renderingQueue&&(h=function(e){if(!t.renderingQueue.isHighestPriority(t))return t.renderingState=o.RenderingStates.PAUSED,void(t.resume=function(){t.renderingState=o.RenderingStates.RUNNING,e()});e()});var d=function(){var r=u(i["default"].mark((function r(s){return i["default"].wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(p===t.paintTask&&(t.paintTask=null),!(s instanceof a.RenderingCancelledException)){i.next=4;break}return t.error=null,i.abrupt("return");case 4:if(t.renderingState=o.RenderingStates.FINISHED,t.loadingIconDiv&&(e.removeChild(t.loadingIconDiv),delete t.loadingIconDiv),t._resetZoomLayer(!0),t.error=s,t.stats=n.stats,t.eventBus.dispatch("pagerendered",{source:t,pageNumber:t.id,cssTransform:!1,timestamp:performance.now()}),!s){i.next=12;break}throw s;case 12:case"end":return i.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}(),p=this.renderer===r.RendererType.SVG?this.paintOnSvg(s):this.paintOnCanvas(s);p.onRenderContinue=h,this.paintTask=p;var f=p.promise.then((function(){return d(null).then((function(){if(l){var t=n.streamTextContent({normalizeWhitespace:!0});l.setTextContentStream(t),l.render()}}))}),(function(t){return d(t)}));return this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(e,n,this._annotationStorage,this.imageResourcesPath,this.renderInteractiveForms,this.l10n)),this._renderAnnotationLayer()),e.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),f}},{key:"paintOnCanvas",value:function(t){var e=(0,a.createPromiseCapability)(),n={promise:e.promise,onRenderContinue:function(t){t()},cancel:function(){y.cancel()}},i=this.viewport,o=document.createElement("canvas");this.l10n.get("page_canvas",{page:this.id},"Page {{page}}").then((function(t){o.setAttribute("aria-label",t)})),o.setAttribute("hidden","hidden");var s=!0,l=function(){s&&(o.removeAttribute("hidden"),s=!1)};t.appendChild(o),this.canvas=o,o.mozOpaque=!0;var c=o.getContext("2d",{alpha:!1}),u=(0,r.getOutputScale)(c);if(this.outputScale=u,this.useOnlyCssZoom){var h=i.clone({scale:r.CSS_UNITS});u.sx*=h.width/i.width,u.sy*=h.height/i.height,u.scaled=!0}if(this.maxCanvasPixels>0){var d=i.width*i.height,p=Math.sqrt(this.maxCanvasPixels/d);u.sx>p||u.sy>p?(u.sx=p,u.sy=p,u.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}var f=(0,r.approximateFraction)(u.sx),g=(0,r.approximateFraction)(u.sy);o.width=(0,r.roundToDivide)(i.width*u.sx,f[0]),o.height=(0,r.roundToDivide)(i.height*u.sy,g[0]),o.style.width=(0,r.roundToDivide)(i.width,f[1])+"px",o.style.height=(0,r.roundToDivide)(i.height,g[1])+"px",this.paintedViewportMap.set(o,i);var m=u.scaled?[u.sx,0,0,u.sy,0,0]:null,v={canvasContext:c,transform:m,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms,optionalContentConfigPromise:this._optionalContentConfigPromise},y=this.pdfPage.render(v);return y.onContinue=function(t){l(),n.onRenderContinue?n.onRenderContinue(t):t()},y.promise.then((function(){l(),e.resolve(void 0)}),(function(t){l(),e.reject(t)})),n}},{key:"paintOnSvg",value:function(t){var e=this,n=!1,i=function(){if(n)throw new a.RenderingCancelledException("Rendering cancelled, page ".concat(e.id),"svg")},s=this.pdfPage,l=this.viewport.clone({scale:r.CSS_UNITS}),c=s.getOperatorList().then((function(n){i();var r=new a.SVGGraphics(s.commonObjs,s.objs);return r.getSVG(n,l).then((function(n){i(),e.svg=n,e.paintedViewportMap.set(n,l),n.style.width=t.style.width,n.style.height=t.style.height,e.renderingState=o.RenderingStates.FINISHED,t.appendChild(n)}))}));return{promise:c,onRenderContinue:function(t){t()},cancel:function(){n=!0}}}},{key:"setPageLabel",value:function(t){this.pageLabel="string"===typeof t?t:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}}]),t}();e.PDFPageView=g},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}Object.defineProperty(e,"__esModule",{value:!0}),e.PDFRenderingQueue=e.RenderingStates=void 0;var o=3e4,s={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};e.RenderingStates=s;var l=function(){function t(){i(this,t),this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}return a(t,[{key:"setViewer",value:function(t){this.pdfViewer=t}},{key:"setThumbnailViewer",value:function(t){this.pdfThumbnailViewer=t}},{key:"isHighestPriority",value:function(t){return this.highestPriorityPage===t.renderingId}},{key:"renderHighestPriority",value:function(t){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(t)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),o))}},{key:"getHighestPriority",value:function(t,e,n){var i=t.views,r=i.length;if(0===r)return null;for(var a=0;a<r;++a){var o=i[a].view;if(!this.isViewFinished(o))return o}if(n){var s=t.last.id;if(e[s]&&!this.isViewFinished(e[s]))return e[s]}else{var l=t.first.id-2;if(e[l]&&!this.isViewFinished(e[l]))return e[l]}return null}},{key:"isViewFinished",value:function(t){return t.renderingState===s.FINISHED}},{key:"renderView",value:function(t){var e=this;switch(t.renderingState){case s.FINISHED:return!1;case s.PAUSED:this.highestPriorityPage=t.renderingId,t.resume();break;case s.RUNNING:this.highestPriorityPage=t.renderingId;break;case s.INITIAL:this.highestPriorityPage=t.renderingId,t.draw()["finally"]((function(){e.renderHighestPriority()}))["catch"]((function(t){}));break}return!0}}]),t}();e.PDFRenderingQueue=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFSinglePageViewer=void 0;var i=n(19),r=n(2);function a(t){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function c(t,e,n){return c="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=u(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}},c(t,e,n||t)}function u(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=v(t),null===t)break;return t}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}function p(t){var e=m();return function(){var n,i=v(t);if(e){var r=v(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==a(e)&&"function"!==typeof e?g(t):e}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var y=function(t){h(n,t);var e=p(n);function n(t){var i;return o(this,n),i=e.call(this,t),i.eventBus._on("pagesinit",(function(t){i._ensurePageViewVisible()})),i}return l(n,[{key:"_resetView",value:function(){c(v(n.prototype),"_resetView",this).call(this),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment(),this._updateScrollDown=null}},{key:"_ensurePageViewVisible",value:function(){var t=this._pages[this._currentPageNumber-1],e=this._pages[this._previousPageNumber-1],n=this.viewer.childNodes;switch(n.length){case 0:this.viewer.appendChild(t.div);break;case 1:if(n[0]!==e.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(t===e)break;this._shadowViewer.appendChild(e.div),this.viewer.appendChild(t.div),this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown(),c(v(n.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(t){var e=this,i=t.pageDiv,r=t.pageSpot,a=void 0===r?null:r,o=t.pageNumber,s=void 0===o?null:o;s&&this._setCurrentPageNumber(s);var l=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible(),this.update(),c(v(n.prototype),"_scrollIntoView",this).call(this,{pageDiv:i,pageSpot:a,pageNumber:s}),this._updateScrollDown=function(){e.scroll.down=l,e._updateScrollDown=null}}},{key:"_getVisiblePages",value:function(){return this._getCurrentVisiblePage()}},{key:"_updateHelper",value:function(t){}},{key:"_updateScrollMode",value:function(){}},{key:"_updateSpreadMode",value:function(){}},{key:"_viewerElement",get:function(){return(0,r.shadow)(this,"_viewerElement",this._shadowViewer)}},{key:"_isScrollModeHorizontal",get:function(){return(0,r.shadow)(this,"_isScrollModeHorizontal",!1)}}]),n}(i.BaseViewer);e.PDFSinglePageViewer=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseViewer=void 0;var i=n(3),r=n(17),a=n(1),o=n(2),s=n(16),l=n(7),c=n(8);function u(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=h(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(s)throw a}}}}function h(t,e){if(t){if("string"===typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function g(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}var m=10;function v(t){var e=[];this.push=function(n){var i=e.indexOf(n);i>=0&&e.splice(i,1),e.push(n),e.length>t&&e.shift().destroy()},this.resize=function(n,r){if(t=n,r){for(var a=new Set,o=0,s=r.length;o<s;++o)a.add(r[o].id);(0,i.moveToEndOfArray)(e,(function(t){return a.has(t.id)}))}while(e.length>t)e.shift().destroy()}}function y(t,e){return e===t||Math.abs(e-t)<1e-15}var b=function(){function t(e){var n=this;if(p(this,t),this.constructor===t)throw new Error("Cannot initialize BaseViewer.");if(this._name=this.constructor.name,this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,!(this.container instanceof HTMLDivElement&&this.viewer instanceof HTMLDivElement))throw new Error("Invalid `container` and/or `viewer` option.");this.eventBus=e.eventBus,this.linkService=e.linkService||new l.SimpleLinkService,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,this.removePageBorders=e.removePageBorders||!1,this.textLayerMode=Number.isInteger(e.textLayerMode)?e.textLayerMode:i.TextLayerMode.ENABLE,this.imageResourcesPath=e.imageResourcesPath||"",this.renderInteractiveForms="boolean"!==typeof e.renderInteractiveForms||e.renderInteractiveForms,this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.renderer=e.renderer||i.RendererType.CANVAS,this.enableWebGL=e.enableWebGL||!1,this.useOnlyCssZoom=e.useOnlyCssZoom||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n||i.NullL10n,this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new r.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue,this.scroll=(0,i.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=i.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then((function(){n.eventBus.dispatch("baseviewerinit",{source:n})}))}return g(t,[{key:"getPageView",value:function(t){return this._pages[t]}},{key:"_setCurrentPageNumber",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._currentPageNumber===t?(e&&this._resetCurrentPageView(),!0):0<t&&t<=this.pagesCount&&(this._currentPageNumber=t,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:t,pageLabel:this._pageLabels&&this._pageLabels[t-1]}),e&&this._resetCurrentPageView(),!0)}},{key:"_onePageRenderedOrForceFetch",value:function(){return this.container.offsetParent&&0!==this._getVisiblePages().views.length?this._onePageRenderedCapability.promise:Promise.resolve()}},{key:"setDocument",value:function(t){var e=this;if(this.pdfDocument&&(this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null)),this.pdfDocument=t,t){var n=t.numPages,r=t.getPage(1),a=t.annotationStorage,o=t.getOptionalContentConfig();this._pagesCapability.promise.then((function(){e.eventBus.dispatch("pagesloaded",{source:e,pagesCount:n})})),this._onBeforeDraw=function(t){var n=e._pages[t.pageNumber-1];n&&e._buffer.push(n)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=function(t){t.cssTransform||e._onePageRenderedCapability.settled||(e._onePageRenderedCapability.resolve(),e.eventBus._off("pagerendered",e._onAfterDraw),e._onAfterDraw=null)},this.eventBus._on("pagerendered",this._onAfterDraw),r.then((function(r){e._firstPageCapability.resolve(r),e._optionalContentConfigPromise=o;for(var l=e.currentScale,c=r.getViewport({scale:l*i.CSS_UNITS}),u=e.textLayerMode!==i.TextLayerMode.DISABLE?e:null,h=1;h<=n;++h){var d=new s.PDFPageView({container:e._viewerElement,eventBus:e.eventBus,id:h,scale:l,defaultViewport:c.clone(),annotationStorage:a,optionalContentConfigPromise:o,renderingQueue:e.renderingQueue,textLayerFactory:u,textLayerMode:e.textLayerMode,annotationLayerFactory:e,imageResourcesPath:e.imageResourcesPath,renderInteractiveForms:e.renderInteractiveForms,renderer:e.renderer,enableWebGL:e.enableWebGL,useOnlyCssZoom:e.useOnlyCssZoom,maxCanvasPixels:e.maxCanvasPixels,l10n:e.l10n});e._pages.push(d)}var p=e._pages[0];p&&(p.setPdfPage(r),e.linkService.cachePageRef(1,r.ref)),e._spreadMode!==i.SpreadMode.NONE&&e._updateSpreadMode(),e._onePageRenderedOrForceFetch().then((function(){if(e.findController&&e.findController.setDocument(t),t.loadingParams.disableAutoFetch||n>7500)e._pagesCapability.resolve();else{var i=n-1;if(i<=0)e._pagesCapability.resolve();else for(var r=function(n){t.getPage(n).then((function(t){var r=e._pages[n-1];r.pdfPage||r.setPdfPage(t),e.linkService.cachePageRef(n,t.ref),0===--i&&e._pagesCapability.resolve()}),(function(t){0===--i&&e._pagesCapability.resolve()}))},a=2;a<=n;++a)r(a)}})),e.eventBus.dispatch("pagesinit",{source:e}),e.defaultRenderingQueue&&e.update()}))["catch"]((function(t){}))}}},{key:"setPageLabels",value:function(t){if(this.pdfDocument){t&&Array.isArray(t)&&this.pdfDocument.numPages===t.length?this._pageLabels=t:this._pageLabels=null;for(var e=0,n=this._pages.length;e<n;e++){var i=this._pages[e],r=this._pageLabels&&this._pageLabels[e];i.setPageLabel(r)}}}},{key:"_resetView",value:function(){this._pages=[],this._currentPageNumber=1,this._currentScale=i.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new v(m),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._pagesRequests=new WeakMap,this._firstPageCapability=(0,o.createPromiseCapability)(),this._onePageRenderedCapability=(0,o.createPromiseCapability)(),this._pagesCapability=(0,o.createPromiseCapability)(),this._scrollMode=i.ScrollMode.VERTICAL,this._spreadMode=i.SpreadMode.NONE,this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.viewer.textContent="",this._updateScrollMode()}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function(t){var e=t.pageDiv,n=t.pageSpot,r=void 0===n?null:n;t.pageNumber;(0,i.scrollIntoView)(e,r)}},{key:"_setScaleUpdatePages",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._currentScaleValue=e.toString(),y(this._currentScale,t))i&&this.eventBus.dispatch("scalechanging",{source:this,scale:t,presetValue:e});else{for(var r=0,a=this._pages.length;r<a;r++)this._pages[r].update(t);if(this._currentScale=t,!n){var o,s=this._currentPageNumber;!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(s=this._location.pageNumber,o=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:s,destArray:o,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:t,presetValue:i?e:void 0}),this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=parseFloat(t);if(n>0)this._setScaleUpdatePages(n,t,e,!1);else{var r=this._pages[this._currentPageNumber-1];if(!r)return;var a=this.isInPresentationMode||this.removePageBorders,o=a?0:i.SCROLLBAR_PADDING,s=a?0:i.VERTICAL_PADDING;if(!a&&this._isScrollModeHorizontal){var l=[s,o];o=l[0],s=l[1]}var c=(this.container.clientWidth-o)/r.width*r.scale,u=(this.container.clientHeight-s)/r.height*r.scale;switch(t){case"page-actual":n=1;break;case"page-width":n=c;break;case"page-height":n=u;break;case"page-fit":n=Math.min(c,u);break;case"auto":var h=(0,i.isPortraitOrientation)(r)?c:Math.min(u,c);n=Math.min(i.MAX_AUTO_SCALE,h);break;default:return}this._setScaleUpdatePages(n,t,e,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);var t=this._pages[this._currentPageNumber-1];this._scrollIntoView({pageDiv:t.div})}},{key:"scrollPageIntoView",value:function(t){var e=t.pageNumber,n=t.destArray,r=void 0===n?null:n,a=t.allowNegativeOffset,o=void 0!==a&&a,s=t.ignoreDestinationZoom,l=void 0!==s&&s;if(this.pdfDocument){var c=Number.isInteger(e)&&this._pages[e-1];if(c)if(!this.isInPresentationMode&&r){var u,h,d=0,p=0,f=0,g=0,m=c.rotation%180!==0,v=(m?c.height:c.width)/c.scale/i.CSS_UNITS,y=(m?c.width:c.height)/c.scale/i.CSS_UNITS,b=0;switch(r[1].name){case"XYZ":d=r[2],p=r[3],b=r[4],d=null!==d?d:0,p=null!==p?p:y;break;case"Fit":case"FitB":b="page-fit";break;case"FitH":case"FitBH":p=r[2],b="page-width",null===p&&this._location&&(d=this._location.left,p=this._location.top);break;case"FitV":case"FitBV":d=r[2],f=v,g=y,b="page-height";break;case"FitR":d=r[2],p=r[3],f=r[4]-d,g=r[5]-p;var x=this.removePageBorders?0:i.SCROLLBAR_PADDING,_=this.removePageBorders?0:i.VERTICAL_PADDING;u=(this.container.clientWidth-x)/f/i.CSS_UNITS,h=(this.container.clientHeight-_)/g/i.CSS_UNITS,b=Math.min(Math.abs(u),Math.abs(h));break;default:return}if(l||(b&&b!==this._currentScale?this.currentScaleValue=b:this._currentScale===i.UNKNOWN_SCALE&&(this.currentScaleValue=i.DEFAULT_SCALE_VALUE)),"page-fit"!==b||r[4]){var w=[c.viewport.convertToViewportPoint(d,p),c.viewport.convertToViewportPoint(d+f,p+g)],S=Math.min(w[0][0],w[1][0]),O=Math.min(w[0][1],w[1][1]);o||(S=Math.max(S,0),O=Math.max(O,0)),this._scrollIntoView({pageDiv:c.div,pageSpot:{left:S,top:O},pageNumber:e})}else this._scrollIntoView({pageDiv:c.div,pageNumber:e})}else this._setCurrentPageNumber(e,!0)}}},{key:"_updateLocation",value:function(t){var e=this._currentScale,n=this._currentScaleValue,i=parseFloat(n)===e?Math.round(1e4*e)/100:n,r=t.id,a="#page="+r;a+="&zoom="+i;var o=this._pages[r-1],s=this.container,l=o.getPagePoint(s.scrollLeft-t.x,s.scrollTop-t.y),c=Math.round(l[0]),u=Math.round(l[1]);a+=","+c+","+u,this._location={pageNumber:r,scale:i,top:u,left:c,rotation:this._pagesRotation,pdfOpenParams:a}}},{key:"_updateHelper",value:function(t){throw new Error("Not implemented: _updateHelper")}},{key:"update",value:function(){var t=this._getVisiblePages(),e=t.views,n=e.length;if(0!==n){var i=Math.max(m,2*n+1);this._buffer.resize(i,e),this.renderingQueue.renderHighestPriority(t),this._updateHelper(e),this._updateLocation(t.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function(t){return this.container.contains(t)}},{key:"focus",value:function(){this.container.focus()}},{key:"_getCurrentVisiblePage",value:function(){if(!this.pagesCount)return{views:[]};var t=this._pages[this._currentPageNumber-1],e=t.div,n={id:t.id,x:e.offsetLeft+e.clientLeft,y:e.offsetTop+e.clientTop,view:t};return{first:n,last:n,views:[n]}}},{key:"_getVisiblePages",value:function(){return(0,i.getVisibleElements)(this.container,this._pages,!0,this._isScrollModeHorizontal)}},{key:"isPageVisible",value:function(t){return!!this.pdfDocument&&(!(t<1||t>this.pagesCount)&&this._getVisiblePages().views.some((function(e){return e.id===t})))}},{key:"cleanup",value:function(){for(var t=0,e=this._pages.length;t<e;t++)this._pages[t]&&this._pages[t].renderingState!==r.RenderingStates.FINISHED&&this._pages[t].reset()}},{key:"_cancelRendering",value:function(){for(var t=0,e=this._pages.length;t<e;t++)this._pages[t]&&this._pages[t].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(t){var e=this;if(t.pdfPage)return Promise.resolve(t.pdfPage);if(this._pagesRequests.has(t))return this._pagesRequests.get(t);var n=this.pdfDocument.getPage(t.id).then((function(n){return t.pdfPage||t.setPdfPage(n),e._pagesRequests["delete"](t),n}))["catch"]((function(n){e._pagesRequests["delete"](t)}));return this._pagesRequests.set(t,n),n}},{key:"forceRendering",value:function(t){var e=this,n=t||this._getVisiblePages(),i=this._isScrollModeHorizontal?this.scroll.right:this.scroll.down,r=this.renderingQueue.getHighestPriority(n,this._pages,i);return!!r&&(this._ensurePdfPageLoaded(r).then((function(){e.renderingQueue.renderView(r)})),!0)}},{key:"createTextLayerBuilder",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4?arguments[4]:void 0;return new c.TextLayerBuilder({textLayerDiv:t,eventBus:r,pageIndex:e,viewport:n,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&i})}},{key:"createAnnotationLayerBuilder",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:i.NullL10n;return new a.AnnotationLayerBuilder({pageDiv:t,pdfPage:e,annotationStorage:n,imageResourcesPath:r,renderInteractiveForms:o,linkService:this.linkService,downloadManager:this.downloadManager,l10n:s})}},{key:"getPagesOverview",value:function(){var t=this._pages.map((function(t){var e=t.pdfPage.getViewport({scale:1});return{width:e.width,height:e.height,rotation:e.rotation}}));return this.enablePrintAutoRotate?t.map((function(t){return(0,i.isPortraitOrientation)(t)?t:{width:t.height,height:t.width,rotation:(t.rotation+90)%360}})):t}},{key:"_updateScrollMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this._scrollMode,n=this.viewer;n.classList.toggle("scrollHorizontal",e===i.ScrollMode.HORIZONTAL),n.classList.toggle("scrollWrapped",e===i.ScrollMode.WRAPPED),this.pdfDocument&&t&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(t,!0),this.update())}},{key:"_updateSpreadMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var e=this.viewer,n=this._pages;if(e.textContent="",this._spreadMode===i.SpreadMode.NONE)for(var r=0,a=n.length;r<a;++r)e.appendChild(n[r].div);else for(var o=this._spreadMode-1,s=null,l=0,c=n.length;l<c;++l)null===s?(s=document.createElement("div"),s.className="spread",e.appendChild(s)):l%2===o&&(s=s.cloneNode(!1),e.appendChild(s)),s.appendChild(n[l].div);t&&(this._setCurrentPageNumber(t,!0),this.update())}}},{key:"pagesCount",get:function(){return this._pages.length}},{key:"pageViewsReady",get:function(){return!!this._pagesCapability.settled&&this._pages.every((function(t){return t&&t.pdfPage}))}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(t){if(!Number.isInteger(t))throw new Error("Invalid page number.");this.pdfDocument&&this._setCurrentPageNumber(t,!0)}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(t){if(this.pdfDocument){var e=0|t;if(this._pageLabels){var n=this._pageLabels.indexOf(t);n>=0&&(e=n+1)}this._setCurrentPageNumber(e,!0)}}},{key:"currentScale",get:function(){return this._currentScale!==i.UNKNOWN_SCALE?this._currentScale:i.DEFAULT_SCALE},set:function(t){if(isNaN(t))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(t,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(t){this.pdfDocument&&this._setScale(t,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(t){if(!(0,i.isValidRotation)(t))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&this._pagesRotation!==t){this._pagesRotation=t;for(var e=this._currentPageNumber,n=0,r=this._pages.length;n<r;n++){var a=this._pages[n];a.update(a.scale,t)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:t,pageNumber:e}),this.defaultRenderingQueue&&this.update()}}},{key:"firstPagePromise",get:function(){return this.pdfDocument?this._firstPageCapability.promise:null}},{key:"onePageRendered",get:function(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}},{key:"pagesPromise",get:function(){return this.pdfDocument?this._pagesCapability.promise:null}},{key:"_viewerElement",get:function(){throw new Error("Not implemented: _viewerElement")}},{key:"_isScrollModeHorizontal",get:function(){return!this.isInPresentationMode&&this._scrollMode===i.ScrollMode.HORIZONTAL}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===i.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===i.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"hasEqualPageSizes",get:function(){for(var t=this._pages[0],e=1,n=this._pages.length;e<n;++e){var i=this._pages[e];if(i.width!==t.width||i.height!==t.height)return!1}return!0}},{key:"optionalContentConfigPromise",get:function(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)},set:function(t){if(!(t instanceof Promise))throw new Error("Invalid optionalContentConfigPromise: ".concat(t));if(this.pdfDocument&&this._optionalContentConfigPromise){this._optionalContentConfigPromise=t;var e,n=u(this._pages);try{for(n.s();!(e=n.n()).done;){var i=e.value;i.update(i.scale,i.rotation,t)}}catch(r){n.e(r)}finally{n.f()}this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:t})}}},{key:"scrollMode",get:function(){return this._scrollMode},set:function(t){if(this._scrollMode!==t){if(!(0,i.isValidScrollMode)(t))throw new Error("Invalid scroll mode: ".concat(t));this._scrollMode=t,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:t}),this._updateScrollMode(this._currentPageNumber)}}},{key:"spreadMode",get:function(){return this._spreadMode},set:function(t){if(this._spreadMode!==t){if(!(0,i.isValidSpreadMode)(t))throw new Error("Invalid spread mode: ".concat(t));this._spreadMode=t,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:t}),this._updateSpreadMode(this._currentPageNumber)}}}]),t}();e.BaseViewer=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFViewer=void 0;var i=n(19),r=n(2);function a(t){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function o(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){l=!0,a=t},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(l)throw a}}}}function s(t,e){if(t){if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}function d(t,e,n){return d="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=p(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}},d(t,e,n||t)}function p(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=x(t),null===t)break;return t}function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}function g(t,e){return g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},g(t,e)}function m(t){var e=b();return function(){var n,i=x(t);if(e){var r=x(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v(this,n)}}function v(t,e){return!e||"object"!==a(e)&&"function"!==typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}var _=function(t){f(n,t);var e=m(n);function n(){return c(this,n),e.apply(this,arguments)}return h(n,[{key:"_scrollIntoView",value:function(t){var e=t.pageDiv,i=t.pageSpot,r=void 0===i?null:i,a=t.pageNumber,o=void 0===a?null:a;if(!r&&!this.isInPresentationMode){var s=e.offsetLeft+e.clientLeft,l=s+e.clientWidth,c=this.container,u=c.scrollLeft,h=c.clientWidth;(this._isScrollModeHorizontal||s<u||l>u+h)&&(r={left:0,top:0})}d(x(n.prototype),"_scrollIntoView",this).call(this,{pageDiv:e,pageSpot:r,pageNumber:o})}},{key:"_getVisiblePages",value:function(){return this.isInPresentationMode?this._getCurrentVisiblePage():d(x(n.prototype),"_getVisiblePages",this).call(this)}},{key:"_updateHelper",value:function(t){if(!this.isInPresentationMode){var e,n=this._currentPageNumber,i=!1,r=o(t);try{for(r.s();!(e=r.n()).done;){var a=e.value;if(a.percent<100)break;if(a.id===n){i=!0;break}}}catch(s){r.e(s)}finally{r.f()}i||(n=t[0].id),this._setCurrentPageNumber(n)}}},{key:"_viewerElement",get:function(){return(0,r.shadow)(this,"_viewerElement",this.viewer)}}]),n}(i.BaseViewer);e.PDFViewer=_}])}))},f997:function(t,e,n){"use strict";n("3c50")},fa77:function(t,e,n){},fb6c:function(t,e,n){"use strict";n("d3ca")},fdad:function(t,e,n){},fdb4:function(t,e,n){},fdcf:function(t,e,n){},fddea:function(t,e,n){},fde6:function(t,e,n){"use strict";n("c695")},fe98:function(t,e,n){},ff7f:function(t,e,n){"use strict";n.r(e),n.d(e,"Line",(function(){return p})),n.d(e,"Circle",(function(){return g})),n.d(e,"Base",(function(){return h})),n.d(e,"Html",(function(){return S}));var i,r=n("9ab4"),a=n("e546"),o=n("8937"),s=n("31e6"),l=n("8ea8"),c=n("2f5e"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r["__assign"])(Object(r["__assign"])({},e),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:c["a"].lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:c["a"].textColor,textAlign:"center",textBaseline:"middle",fontFamily:c["a"].fontFamily}},textBackground:{padding:5,style:{stroke:c["a"].lineColor}}}})},e.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},e.prototype.renderText=function(t){var e=this.get("text"),n=e.style,i=e.autoRotate,a=e.content;if(!Object(o["isNil"])(a)){var s=this.getTextPoint(),c=null;if(i){var u=this.getRotateAngle();c=Object(l["e"])(s,u)}this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:Object(r["__assign"])(Object(r["__assign"])(Object(r["__assign"])({},s),{text:a,matrix:c}),n)})}},e.prototype.renderLine=function(t){var e=this.getLinePath(),n=this.get("line"),i=n.style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:Object(r["__assign"])({path:e},i)})},e.prototype.renderBackground=function(t){var e=this.getElementId("text"),n=t.findById(e),i=this.get("textBackground");if(i&&n){var o=n.getBBox(),s=Object(a["c"])(i.padding),l=i.style,c=this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:Object(r["__assign"])({x:o.x-s[3],y:o.y-s[0],width:o.width+s[1]+s[3],height:o.height+s[0]+s[2],matrix:n.attr("matrix")},l)});c.toBack()}},e}(s["a"]),h=u,d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r["__assign"])(Object(r["__assign"])({},e),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.start,n=t.end,i=this.get("text").position,r=Math.atan2(n.y-e.y,n.x-e.x),a="start"===i?r-Math.PI/2:r+Math.PI/2;return a},e.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,n=t.end,i=this.get("text"),r=i.position,o=i.offset;return Object(a["f"])(e,n,r,o)},e.prototype.getLinePath=function(){var t=this.getLocation(),e=t.start,n=t.end;return[["M",e.x,e.y],["L",n.x,n.y]]},e}(h),p=d,f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r["__assign"])(Object(r["__assign"])({},e),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.startAngle,n=t.endAngle,i=this.get("text").position,r="start"===i?e+Math.PI/2:n-Math.PI/2;return r},e.prototype.getTextPoint=function(){var t=this.get("text"),e=t.position,n=t.offset,i=this.getLocation(),r=i.center,o=i.radius,s=i.startAngle,l=i.endAngle,c="start"===e?s:l,u=this.getRotateAngle()-Math.PI,h=Object(a["e"])(r,o,c),d=Math.cos(u)*n,p=Math.sin(u)*n;return{x:h.x+d,y:h.y+p}},e.prototype.getLinePath=function(){var t=this.getLocation(),e=t.center,n=t.radius,i=t.startAngle,r=t.endAngle,o=null;if(r-i===2*Math.PI){var s=e.x,l=e.y;o=[["M",s,l-n],["A",n,n,0,1,1,s,l+n],["A",n,n,0,1,1,s,l-n],["Z"]]}else{var c=Object(a["e"])(e,n,i),u=Object(a["e"])(e,n,r),h=Math.abs(r-i)>Math.PI?1:0,d=i>r?0:1;o=[["M",c.x,c.y],["A",n,n,0,h,d,u.x,u.y]]}return o},e}(h),g=f,m=n("7c8a"),v=n("75ed"),y="g2-crosshair",b=y+"-line",x=y+"-text",_=(i={},i[""+y]={position:"relative"},i[""+b]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},i[""+x]={position:"absolute",color:c["a"].textColor,fontFamily:c["a"].fontFamily},i),w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return Object(r["__assign"])(Object(r["__assign"])({},e),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+y+'"></div>',crosshairTpl:'<div class="'+b+'"></div>',textTpl:'<span class="'+x+'">{content}</span>',domStyles:null,containerClassName:y,defaultStyles:_,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},e.prototype.render=function(){this.resetText(),this.resetPosition()},e.prototype.initCrossHair=function(){var t=this.getContainer(),e=this.get("crosshairTpl"),n=Object(m["b"])(e);t.appendChild(n),this.applyStyle(b,n),this.set("crosshairEl",n)},e.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,n=t.end,i=this.get("text"),r=i.position,o=i.offset;return Object(a["f"])(e,n,r,o)},e.prototype.resetText=function(){var t=this.get("text"),e=this.get("textEl");if(t){var n=t.content;if(!e){var i=this.getContainer(),r=Object(o["substitute"])(this.get("textTpl"),t);e=Object(m["b"])(r),i.appendChild(e),this.applyStyle(x,e),this.set("textEl",e)}e.innerHTML=n}else e&&e.remove()},e.prototype.isVertical=function(t,e){return t.x===e.x},e.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var e=this.get("start"),n=this.get("end"),i=Math.min(e.x,n.x),r=Math.min(e.y,n.y);this.isVertical(e,n)?Object(m["e"])(t,{width:"1px",height:Object(a["l"])(Math.abs(n.y-e.y))}):Object(m["e"])(t,{height:"1px",width:Object(a["l"])(Math.abs(n.x-e.x))}),Object(m["e"])(t,{top:Object(a["l"])(r),left:Object(a["l"])(i)}),this.alignText()},e.prototype.alignText=function(){var t=this.get("textEl");if(t){var e=this.get("text").align,n=t.clientWidth,i=this.getTextPoint();switch(e){case"center":i.x=i.x-n/2;break;case"right":i.x=i.x-n;case"left":break}Object(m["e"])(t,{top:Object(a["l"])(i.y),left:Object(a["l"])(i.x)})}},e.prototype.updateInner=function(e){Object(o["hasKey"])(e,"text")&&this.resetText(),t.prototype.updateInner.call(this,e)},e}(v["a"]),S=w}}]);