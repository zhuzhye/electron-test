(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ea6fad4"],{"0bf4":function(e,t,n){},"29b4":function(e,t,n){"use strict";n("0bf4")},6288:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("div",{staticClass:"content"},[t("h1",[e._v(e._s(e.item.title))]),t("iframe",{ref:"iframe",staticClass:"iframe",staticStyle:{width:"100%","min-height":"50vh"},attrs:{frameborder:"0",srcdoc:e.item.details},on:{load:e.adjustIframeHeight}}),t("div",{staticClass:"time"},[t("span",[e._v(e._s(e.item.companyName))]),t("span",[e._v(e._s(this.$moment(e.item.updateTime).format("YYYY-MM-DD")))])]),e.item.companyAnnouncementFiles.length?t("div",{staticClass:"file"},[t("p",{staticClass:"file-title"},[e._v("附件下载")]),e._l(e.item.companyAnnouncementFiles,(function(i){return t("p",{key:i.id},[t("img",{attrs:{src:n("15bb"),alt:""}}),t("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.downloadPDF(i)}}},[e._v(e._s(i.fileName))])])}))],2):e._e()])])},s=[],a={data(){return{item:{}}},mounted(){document.title="公司公告",this.getInfo()},methods:{getInfo(){this.$axios.get("/company/companyAnnouncement/getOneWithoutToken",{params:{id:this.$route.query.id}}).then(e=>{200==e.code&&(this.item=e.result)}).catch(e=>{this.$message.warning("查询公告失败，请稍后重试！")})},downloadPDF(e){const t=new XMLHttpRequest;t.open("GET",e.filePath,!0),t.responseType="blob",t.addEventListener("load",()=>{if(200===t.status)if(window.navigator.z)window.navigator.msSaveBlob(t.response,e.fileName);else{const n=document.createElement("a"),i=document.querySelector("body");n.href=window.URL.createObjectURL(t.response),n.download=e.fileName,n.style.display="none",i.appendChild(n),n.click(),i.removeChild(n),window.URL.revokeObjectURL(n.href)}}),t.send()},adjustIframeHeight(){const e=this.$refs.iframe;if(e){const t=e.contentWindow.document.documentElement.scrollHeight;e.style.height=t+"px"}}}},o=a,c=(n("29b4"),n("2877")),r=Object(c["a"])(o,i,s,!1,null,"fd0d420c",null);t["default"]=r.exports}}]);