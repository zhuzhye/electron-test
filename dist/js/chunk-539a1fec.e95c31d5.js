(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-539a1fec"],{"500a":function(e,s,r){"use strict";r("ab1a")},7803:function(e,s,r){"use strict";r.r(s);var t=function(){var e=this,s=e._self._c;return s("div",{staticClass:"register"},[s("header",{staticClass:"header"},[e._v(e._s(e.$store.state.company))]),s("h3",{staticClass:"title"},[e._v("欢迎注册"+e._s(e.$store.state.company)+"账号")]),s("div",{staticClass:"register-pancel"},[s("a-form",{staticClass:"register-form",attrs:{form:e.registerForm,layout:"horizontal"}},[s("a-form-item",[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"用户名不能为空"},{validator:e.check}]}],expression:"[\n            'username',\n            {\n              rules: [\n                {\n                  required: true,\n                  message: '用户名不能为空',\n                },\n                { validator: check },\n              ],\n            },\n          ]"}],attrs:{placeholder:"账号"}})],1),s("a-form-item",[s("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[e.formRules.ispassword]}],expression:"['password', { rules: [formRules.ispassword] }]"}],attrs:{placeholder:"输入密码"}})],1),s("a-form-item",[s("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["reEnterPassword",{rules:[e.formRules.init({form:e.registerForm}).password]}],expression:"[\n            'reEnterPassword',\n            { rules: [formRules.init({ form: registerForm }).password] },\n          ]"}],attrs:{placeholder:"确认密码"}})],1),s("a-form-item",[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["realname",{rules:[e.formRules.registerName]}],expression:"['realname', { rules: [formRules.registerName] }]"}],attrs:{placeholder:"真实姓名"}})],1),s("a-form-item",[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{rules:[e.formRules.email]}],expression:"['email', { rules: [formRules.email] }]"}],attrs:{placeholder:"邮箱"}})],1),s("a-form-item",{staticClass:"tel"},[s("span",{staticClass:"prefix"},[e._v("+86(中国)")]),s("div",{staticClass:"vertical-bar"}),s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mobile",{rules:[e.formRules.mobile]}],expression:"['mobile', { rules: [formRules.mobile] }]"}],attrs:{placeholder:"手机号"}})],1),s("a-form-item",{staticClass:"verify"},[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["msgCode",{rules:[e.formRules.verify]}],expression:"['msgCode', { rules: [formRules.verify] }]"}],attrs:{placeholder:"请输入验证码"}}),s("a-button",{class:["send-verify",e.showCountDown?"count-down":""],attrs:{disabled:e.showCountDown},on:{click:e.getPhoneCode}},[e._v(e._s(e.showCountDown?e.seconds+"秒":"获取验证码"))])],1)],1),s("a-button",{staticClass:"register-btn",attrs:{loading:e.registerLoading},on:{click:e.register}},[e._v(" 注册 ")]),s("div",{staticClass:"login"},[s("span",[e._v("已有账号？")]),s("a",{attrs:{href:"javascript:;"},on:{click:e.goLogin}},[e._v("立即登录")])])],1)])},a=[],o=(r("14d9"),r("4328")),i=r.n(o),n=r("ec50"),l=r("7d92"),d=r("b047"),c=r.n(d),m={name:"register",data(){return{registerForm:this.$form.createForm(this),formRules:n["a"],showCountDown:!1,seconds:59,registerLoading:!1}},methods:{register(){this.registerForm.validateFields((e,s)=>{e||(this.registerLoading=!0,delete s.reEnterPassword,s.password=Object(l["a"])(s.password),this.$axios({method:"post",url:"/intertion/user/registerUser",data:i.a.stringify(s),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{this.registerLoading=!1,e&&200===(null===e||void 0===e?void 0:e.code)?(this.$notify.success({message:e.message}),setTimeout(()=>{this.goLogin()},1500)):this.$notify.warning({message:e.message})}).catch(e=>{this.registerLoading=!1,this.$notify.error({message:"注册服务不可用！"})}))})},getPhoneCode(){this.registerForm.validateFields(["mobile"],(e,s)=>{e||this.$axios({method:"get",url:"/intertion/user/sendMsgCode",params:s}).then(e=>{if(e&&200===e.code){this.showCountDown=!0;let e=setInterval(()=>{this.seconds--,this.seconds<=0&&(this.showCountDown=!1,this.seconds=59,clearInterval(e))},1e3);this.$notify.success({message:"验证码发送成功!"})}}).catch(e=>{this.$notify.error({message:"验证码发送失败"})})})},check:c()((function(e,s,r){s||r(),this.$axios({method:"post",url:"/intertion/user/getCheckUser",data:i.a.stringify({username:s}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{e&&!1===(null===e||void 0===e?void 0:e.result)?r("用户名已存在"):r()})}),500),goLogin(){this.$router.push("/login")}}},u=m,h=(r("500a"),r("2877")),g=Object(h["a"])(u,t,a,!1,null,"89ab6c42",null);s["default"]=g.exports},ab1a:function(e,s,r){}}]);